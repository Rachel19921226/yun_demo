/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LightPlay=t():e.LightPlay=t()}(this,(function(){return function(){var __webpack_modules__={85270:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0},94180:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},11232:function(e,t,r){var n=r(85270);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},38111:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},52954:function(e){function t(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function s(e){t(a,o,i,s,u,"next",e)}function u(e){t(a,o,i,s,u,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},50085:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},15198:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},81260:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0},83772:function(e,t,r){var n=r(96458);function o(t,r,i){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=o=function(e,t,r){var o=n(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(r):i.value}},e.exports.default=e.exports,e.exports.__esModule=!0),o(t,r,i||t)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},2588:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},60270:function(e,t,r){var n=r(40742);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},14859:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},91557:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},981:function(e){e.exports=function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}},e.exports.default=e.exports,e.exports.__esModule=!0},37365:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},11359:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},36983:function(e,t,r){var n=r(58921).default,o=r(38111);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},40742:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(r,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},51068:function(e,t,r){var n=r(94180),o=r(981),i=r(6487),a=r(37365);e.exports=function(e,t){return n(e)||o(e,t)||i(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},96458:function(e,t,r){var n=r(2588);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0},75182:function(e,t,r){var n=r(11232),o=r(91557),i=r(6487),a=r(11359);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},58921:function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},6487:function(e,t,r){var n=r(85270);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},46781:function(e){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,o=2,i=!0;for(;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}},87026:function(e,t){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),o=new Array(123),i=0;i<64;)o[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var o,i=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=n[c>>2],o=(3&c)<<4,u=1;break;case 1:a[s++]=n[o|c>>4],o=(15&c)<<2,u=2;break;case 2:a[s++]=n[o|c>>6],a[s++]=n[63&c],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=n[o],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";r.decode=function(e,t,r){for(var n,i=r,s=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=o[c]))throw Error(a);switch(s){case 0:n=c,s=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[r++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(a);return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},1706:function(e){"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function o(e){if("string"!=typeof e){var r=i();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var a=Object.keys(e),s=new Array(a.length+1),u=new Array(a.length),c=0;c<a.length;)s[c]=a[c],u[c]=e[a[c++]];return s[c]=r,Function.apply(null,s).apply(null,u)}return Function(r)()}for(var l=new Array(arguments.length-1),f=0;f<l.length;)l[f]=arguments[++f];if(f=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=l[f++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),f!==l.length)throw Error("parameter count mismatch");return n.push(e),o}function i(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return o.toString=i,o}e.exports=t,t.verbose=!1},15570:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},64641:function(e,t,r){"use strict";e.exports=i;var n=r(46781),o=r(36116)("fs");function i(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&o&&o.readFile?o.readFile(e,(function(n,o){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,r):n?r(n):r(null,t.binary?o:o.toString("utf8"))})):i.xhr(e,t,r):n(i,this,e,t)}i.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var o=0;o<n.responseText.length;++o)e.push(255&n.responseText.charCodeAt(o))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},5298:function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function a(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=a.bind(null,o),e.readFloatBE=a.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function a(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=a.bind(null,o,0,4),e.readDoubleBE=a.bind(null,i,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},36116:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},82659:function(e,t){"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),o="";r&&(o=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return o+t.join("/")};r.resolve=function(e,t,r){return r||(t=o(t)),n(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},90804:function(e){"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},57958:function(e,t){"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},r.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},89644:function(e,t,r){e.exports=r(25644)},70353:function(e,t,r){"use strict";var n=r(93044),o=r(86955),i=r(92233),a=r(68030),s=r(97948),u=r(51875),c=r(60842),l=r(88618);e.exports=function(e){return new Promise((function(t,r){var f=e.data,d=e.headers,h=e.responseType;n.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(v+":"+y)}var g=s(e.baseURL,e.url);function m(){if(p){var n="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,i={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};o(t,r,i),p=null}}if(p.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(r(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=(e.withCredentials||c(g))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&n.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),f||(f=null),p.send(f)}))}},25644:function(e,t,r){"use strict";var n=r(93044),o=r(73644),i=r(62215),a=r(92937);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=s(r(1439));u.Axios=i,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=r(26714),u.CancelToken=r(34089),u.isCancel=r(98041),u.all=function(e){return Promise.all(e)},u.spread=r(70783),u.isAxiosError=r(65587),e.exports=u,e.exports.default=u},26714:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},34089:function(e,t,r){"use strict";var n=r(26714);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},98041:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},62215:function(e,t,r){"use strict";var n=r(93044),o=r(68030),i=r(946),a=r(6895),s=r(92937),u=r(23455),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!n){var l=[a,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(i),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var f=e;r.length;){var d=r.shift(),h=r.shift();try{f=d(f)}catch(e){h(e);break}}try{o=a(f)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=l},946:function(e,t,r){"use strict";var n=r(93044);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},97948:function(e,t,r){"use strict";var n=r(99192),o=r(48762);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},88618:function(e,t,r){"use strict";var n=r(11935);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},6895:function(e,t,r){"use strict";var n=r(93044),o=r(38556),i=r(98041),a=r(1439);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},11935:function(e){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},92937:function(e,t,r){"use strict";var n=r(93044);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=u(void 0,e[o])):r[o]=u(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=u(void 0,t[e]))})),n.forEach(i,c),n.forEach(a,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=u(void 0,e[o])):r[o]=u(void 0,t[o])})),n.forEach(s,(function(n){n in t?r[n]=u(e[n],t[n]):n in e&&(r[n]=u(void 0,e[n]))}));var l=o.concat(i).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(f,c),r}},86955:function(e,t,r){"use strict";var n=r(88618);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},38556:function(e,t,r){"use strict";var n=r(93044),o=r(1439);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},1439:function(e,t,r){"use strict";var n=r(93044),o=r(98868),i=r(11935),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=r(70353)),u),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(a)})),e.exports=c},73644:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},68030:function(e,t,r){"use strict";var n=r(93044);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},48762:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},92233:function(e,t,r){"use strict";var n=r(93044);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},99192:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},65587:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},60842:function(e,t,r){"use strict";var n=r(93044);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},98868:function(e,t,r){"use strict";var n=r(93044);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},51875:function(e,t,r){"use strict";var n=r(93044),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},70783:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},23455:function(e,t,r){"use strict";var n=r(44078),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={},a=n.version.split(".");function s(e,t){for(var r=t?t.split("."):a,n=e.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}o.transitional=function(e,t,r){var o=t&&s(t);function a(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(a(n," has been removed in "+t));return o&&!i[n]&&(i[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:o}},93044:function(e,t,r){"use strict";var n=r(73644),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},44078:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},93381:function(e,t,r){var n,o,i;e=r.nmd(e),r(95342),r(38695),r(74083),r(16781),r(43450),r(32501),r(26936),r(34769),r(58188),r(68995),r(77950),r(88233),r(48319),r(45794),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[r(58921)],void 0===(i="function"==typeof(n=function(t){"use strict";var n=r(14859);t=n(t);var o={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};o.localCName=o.generateIdentifier(),o.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},o.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},o.getDescription=function(e){var t=o.splitSections(e);return t&&t[0]},o.getMediaSections=function(e){var t=o.splitSections(e);return t.shift(),t},o.matchPrefix=function(e,t){return o.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},o.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:void 0===r[t[n]]&&(r[t[n]]=t[n+1])}return r},o.writeCandidate=function(e){var t=[];t.push(e.foundation);var r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},o.parseIceOptions=function(e){return e.substr(14).split(" ")},o.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},o.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},o.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},o.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},o.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<n.length;o++)r[(t=n[o].trim().split("="))[0].trim()]=t[1];return r},o.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},o.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},o.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},o.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},o.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},o.getMid=function(e){var t=o.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},o.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},o.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:o.matchPrefix(e+t,"a=fingerprint:").map(o.parseFingerprint)}},o.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},o.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},o.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===(0,t.default)(e.keyParams)?o.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},o.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},o.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},o.getCryptoParameters=function(e,t){return o.matchPrefix(e+t,"a=crypto:").map(o.parseCryptoLine)},o.getIceParameters=function(e,t){var r=o.matchPrefix(e+t,"a=ice-ufrag:")[0],n=o.matchPrefix(e+t,"a=ice-pwd:")[0];return r&&n?{usernameFragment:r.substr(12),password:n.substr(10)}:null},o.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},o.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=o.splitLines(e)[0].split(" "),n=3;n<r.length;n++){var i=r[n],a=o.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){var s=o.parseRtpMap(a),u=o.matchPrefix(e,"a=fmtp:"+i+" ");switch(s.parameters=u.length?o.parseFmtp(u[0]):{},s.rtcpFeedback=o.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(o.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return o.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(o.parseExtmap(e))})),t},o.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){r+=o.writeRtpMap(e),r+=o.writeFmtp(e),r+=o.writeRtcpFb(e)}));var n=0;return t.codecs.forEach((function(e){e.maxptime>n&&(n=e.maxptime)})),n>0&&(r+="a=maxptime:"+n+"\r\n"),t.headerExtensions&&t.headerExtensions.forEach((function(e){r+=o.writeExtmap(e)})),r},o.parseRtpEncodingParameters=function(e){var t,r=[],n=o.parseRtpParameters(e),i=-1!==n.fecMechanisms.indexOf("RED"),a=-1!==n.fecMechanisms.indexOf("ULPFEC"),s=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),u=s.length>0&&s[0].ssrc,c=o.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===u&&(t=c[0][1]),n.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&t&&(n.rtx={ssrc:t}),r.push(n),i&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:u,mechanism:a?"red+ulpfec":"red"},r.push(n))}})),0===r.length&&u&&r.push({ssrc:u});var l=o.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},o.parseRtcpParameters=function(e){var t={},r=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var n=o.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=n.length>0,t.compound=0===n.length;var i=o.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},o.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},o.parseMsid=function(e){var t,r=o.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substr(7).split(" "))[0],track:t[1]};var n=o.matchPrefix(e,"a=ssrc:").map((function(e){return o.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return n.length>0?{stream:(t=n[0].value.split(" "))[0],track:t[1]}:void 0},o.parseSctpDescription=function(e){var t,r=o.parseMLine(e),n=o.matchPrefix(e,"a=max-message-size:");n.length>0&&(t=parseInt(n[0].substr(19),10)),isNaN(t)&&(t=65536);var i=o.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substr(12),10),protocol:r.fmt,maxMessageSize:t};var a=o.matchPrefix(e,"a=sctpmap:");if(a.length>0){var s=a[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},o.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},o.generateSessionId=function(){return Math.random().toString().substr(2,21)},o.writeSessionBoilerplate=function(e,t,r){var n=void 0!==t?t:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||o.generateSessionId())+" "+n+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},o.getDirection=function(e,t){for(var r=o.splitLines(e),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return t?o.getDirection(t):"sendrecv"},o.getKind=function(e){return o.splitLines(e)[0].split(" ")[0].substr(2)},o.isRejected=function(e){return"0"===e.split(" ",2)[1]},o.parseMLine=function(e){var t=o.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},o.parseOLine=function(e){var t=o.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},o.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=o.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},"object"===(0,t.default)(e)&&(e.exports=o)})?n.apply(t,o):n)||(e.exports=i)},71120:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(27233),r(39529),r(74083),r(15735),r(43450),r(43108),r(32501),r(65388),r(72994),r(95206),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(13489),r(68995),r(73439),r(17368),r(77950),r(88233),r(31235),r(28673),r(85940),r(48319),r(52356),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(47868),r(96573),r(37959),r(35725),r(71334),r(58714),r(9892),r(29657),r(42891),r(96655),r(28079),r(71563),r(12469),r(86e3),r(77082),r(76485),r(67367),r(34551),r(95784)],n=function(e,t,n,o,i,s,u,c,l,f,d,h,p,v,y,g,m,b,w,T,_,k,E,C,S){"use strict";var A=r(14859);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=R(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function M(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=I(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function I(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(){x=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=T(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&r.call(g,o)&&(v=g);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function T(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.LightPlay=void 0,n=A(n),o=A(o),i=A(i),s=A(s),f=A(f),b=O(b),w=A(w),k=O(k);var N,G=r(60306),F=(document.currentScript&&document.currentScript.src||"").replace(/\/[^/]+(?!.*js)[\S]*/,"");function B(){"running"!==N.state&&N.resume()}function j(){"suspended"===N.state&&["touchstart","touchend","mousedown","keydown"].forEach((function(e){window.addEventListener(e,B,!0)}))}window.TextEncoder||(window.TextEncoder=h.TextEncoder),window.TextDecoder||(window.TextDecoder=h.TextDecoder);try{N=new(window.AudioContext||window.webkitAudioContext),j()}catch(e){}var U=function(){function e(t){var r=this;(0,o.default)(this,e),(0,s.default)(this,"qosReportTime",Date.now()),(0,s.default)(this,"_window",window),(0,s.default)(this,"frameNumber",0),(0,s.default)(this,"lastFrameNumber",0),(0,s.default)(this,"isRelaunching",!1),(0,s.default)(this,"isNetworkConnected",!0),(0,s.default)(this,"waterReportTimer",0),(0,s.default)(this,"fpsRenderReportTimer",0),(0,s.default)(this,"fpsReceiveReportTimer",0),(0,s.default)(this,"options",void 0),(0,s.default)(this,"TAG","lightplay"),(0,s.default)(this,"isResetResolution",!1),(0,s.default)(this,"readyRender2Timeout",null),(0,s.default)(this,"renderFrames",[]),(0,s.default)(this,"relaunchGameTimes",0),(0,s.default)(this,"relaunchGameTime",3e3),(0,s.default)(this,"interceptControl",!1),(0,s.default)(this,"bEnterGameSuccessed",!1),(0,s.default)(this,"sdkFlowId",(0,l.getRandomIDString)(16)),(0,s.default)(this,"unionHostArray",[]),(0,s.default)(this,"isShowMouse",void 0),(0,s.default)(this,"_isVibrationMobile",!0),(0,s.default)(this,"currentMouseHide",null),(0,s.default)(this,"gameWindowShowMode",0),(0,s.default)(this,"rightClickMouseRelativeMove",0),(0,s.default)(this,"defaultGamepadConfig",void 0),(0,s.default)(this,"browserNotifyConfig","qqbrowser|firefox"),(0,s.default)(this,"weakNetworkConfigs",[]),(0,s.default)(this,"lowerFpsConfig",{lowerBrowserFps:.7,lowerReceiveFps:.5,lowerRenderFps:.8,intervalTime:6e4,browerIntervalTime:2e4}),(0,s.default)(this,"weakNetworkConfig",{accessKey:"5104326c86f5b4363fccb6fee59a0497",intervalTime:2e4,lossRate:500,rtt:200}),(0,s.default)(this,"fileTranser",null),(0,s.default)(this,"bInitialized",!1),(0,s.default)(this,"isFirstControl",!0),(0,s.default)(this,"devId",""),(0,s.default)(this,"gamepadConfigProcess",null),(0,s.default)(this,"logger",y.LightplayLogger),(0,s.default)(this,"gamepadDriver",null),(0,s.default)(this,"connectionType",v.AVCConnection.ConnectType.WebrtcVideo),(0,s.default)(this,"playerType",u.VideoPlayer.PlayerType.Stream),(0,s.default)(this,"waterReport",null),(0,s.default)(this,"softeDecoderHtml",null),(0,s.default)(this,"sdkUi",null),(0,s.default)(this,"visibilityCallback",(function(){})),(0,s.default)(this,"controlCenter",null),(0,s.default)(this,"AudioCallback",(function(){})),(0,s.default)(this,"networkDetection",null),(0,s.default)(this,"allocResource",null),(0,s.default)(this,"audioRecorder",null),(0,s.default)(this,"avcConnection",null),(0,s.default)(this,"launchData",{imeType:0,lpMultichannel:0,keyboardType:0,flowId:"",gId:0,userId:"0",resolution:0,maxFps:0,showMouse:!1,videoLevel:0,aSessionId:"",vSessionId:"",cSessionId:"",devId:"",restartGame:0}),(0,s.default)(this,"waitRRTimer",null),(0,s.default)(this,"audioPlayer",null),(0,s.default)(this,"videoPlayer",null),(0,s.default)(this,"closeLoadingTimer",null),(0,s.default)(this,"_rr2",!1),(0,s.default)(this,"hasRenderFirstFrame",!1),(0,s.default)(this,"supportInputAudioMode",l.AudioInputMode.NoSupport),(0,s.default)(this,"waitSecondsAfterRR1",0),(0,s.default)(this,"controlPort",0),(0,s.default)(this,"audioPort",0),(0,s.default)(this,"videoPort",0),(0,s.default)(this,"webrtcSignalingPort",0),(0,s.default)(this,"_waitChangeMouse",null),(0,s.default)(this,"deviceFrameDelay",16.5),(0,s.default)(this,"lsVersion",0),(0,s.default)(this,"reStartAVCTimer",null),(0,s.default)(this,"offlineTimer",null),(0,s.default)(this,"localVolume",1),(0,s.default)(this,"chromeFps",0),(0,s.default)(this,"timeIndex",0),(0,s.default)(this,"serverCfg",{accessKey:"",bizType:0,bizID:"",appID:"",unionURL:"",logReportURL:"",waterURL:"",signatureURL:""}),(0,s.default)(this,"alwaysShowCursor",!1),(0,s.default)(this,"isGameCloseByTerminal",!1),(0,s.default)(this,"chromeFpsList",[]),(0,s.default)(this,"toSendgamedataList",[]),(0,s.default)(this,"onGameDataListener",(function(){})),(0,s.default)(this,"srTarWidth",1280),(0,s.default)(this,"srTarHeight",720),(0,s.default)(this,"capsLock",!1),(0,s.default)(this,"numLock",!1),(0,s.default)(this,"_exiting",!1),(0,s.default)(this,"yongjieSpecialDealDone",!1),(0,s.default)(this,"softeDecoderStyle",null),(0,s.default)(this,"firstConnected",!1),this.options=D({ticket:"",ticketNonce:"",timestamp:"",debugMode:!1,isPrepared:!1,appBizType:0,accessKey:"",useQuickControl:!1,accessKeySecret:"",userName:"",useLocalMouse:!0,localMouseIgnoreHide:!1,fps:60,keyboardType:0,resolution:3,videoLevel:2,crossGame:l.DF_GAMETYPE.STEAM,crossParams:"",debugKeyboard:!1,devIdentity:"",listenQos:function(){},listenFrame:function(){},handleRenderFrames:function(){},handleGameErrorCode:function(){},handleWindowBlurListener:function(){},onGameDataListener:function(){},handleMouseModeChangeListener:function(){},handleVideoTransform:function(){},handlerMouseChange:function(){},handleReleasedListener:function(){},handleGameStatusCode:function(){},handleFileDownloadListener:function(){},onConnectionChange:function(){},decoderScript:"",avcWasmFile:"",wasmPath:"",opusPath:"",useUnion:!0,tokenHost:"",serverHost:"",unionHost:"",reportUrl:"",logReportUrl:"",connectionType:null,playerType:null,showMouse:null,areaType:0,vmid:0,roomId:0,serverMethod:l.ServerMethod.Server,proData:"",rotation:l.GAME_SCREEN_RATATION.LANDSCAPE,viewDirection:0,isSSL:!0,debug_consoleOutput:!1,debug_aliLogOutput:!0,serverConfigUrl:"",appSessionId:"",wallPaperId:0,entryUuid:0,staticResources:{},entryArchiveName:"",allowChangeScreen:!0,allowHelp:!1,allowFight:!1,allowMeeting:!1,playWay:v.PLAY_WAY.default,instanceTagUuid:0,meetingId:"",rsetId:0,forceAudioDataChannel:null,fullScreenWileFirstClick:!1,fullScreenPlay:!1,directGamepadConfig:null,inBeta:!1,allowListenXboxGamepad:!0,openQualityReport:!0,isQualityReportDebug:!1,useDevQualityReport:!1,forceReportDetailQuality:!1,shouldShowSoftDecoder:!1,nativeFullScreen:!1,mobileGameNativeFullScreen:!0,useNativeKeyboard:!1,autoRegister:!1,autoRegisterUserId:"",queueLevel:0,interceptFirstControl:!1,isContainerPlay:!1,showCopyFailPrompt:!0,listenControlDelay:!1,wheelToTouchScale:!1,usePointerMove:!1,autoDownloadFile:!0,listenPermission:function(t,n){if(t===e.PermissionMap.ChooseImage)var o=(0,b.showConfirm)("本次行为需要打开您的相册，是否确认？",{container:r.options.container,cancelCallback:function(){o.destroy()},submitCallback:function(){n(),o.destroy()}})},loggerWorker:"".concat(F,"/default-logger.worker.js"),allocWorker:"".concat(F,"/alloc-resource.worker.js")},t),this.onGameDataListener=this.options.onGameDataListener,this.options.serverMethod="".concat(this.options.serverMethod),this.checkBackDoor(),this.options.instanceTagUuid=this.options.meetingId?parseInt(this.options.meetingId,10):this.options.instanceTagUuid,(0,l.ismobile)()?this.options.gameType=this.options.gameType||l.DF_DEVICE_TYPE.MOBILE_PC:this.options.gameType=this.options.gameType||l.DF_DEVICE_TYPE.PC_PC,this.isShowMouse=null===this.options.showMouse?!this.options.useLocalMouse:this.options.showMouse,this.unionHostArray=this.options.unionHost instanceof Array?this.options.unionHost:this.options.unionHost?[this.options.unionHost]:[],this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILE||this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILEMOUSE?this.defaultGamepadConfig=_.gamepadDefaultPC2MOBILE:(this.defaultGamepadConfig=_.gamepadDefault,this.options.gameType===l.DF_DEVICE_TYPE.MOBILE_PC&&(this.defaultGamepadConfig.default_mouse_enable=1)),this.options.gameType===l.DF_DEVICE_TYPE.MOBILE_MOBILE&&(this.options.nativeFullScreen=!0,!1===this.options.mobileGameNativeFullScreen&&(this.options.nativeFullScreen=!1)),this.options.openQualityReport&&k.default.quitQualityReport()}return(0,i.default)(e,[{key:"startGame",value:function(){var e=(0,n.default)(x().mark((function e(){var t,r,n,o,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.bInitialized=!0,this.isGameCloseByTerminal=!1,this.options.container){e.next=5;break}return this.options.handleGameErrorCode("container参数没有设置，请填写",T.ErrorCode.ERROR_AUTH_PARAMS,0),e.abrupt("return",this);case 5:if(this.options.gameId){e.next=8;break}return this.options.handleGameErrorCode("gameId参数没有设置，请填写",T.ErrorCode.ERROR_AUTH_PARAMS,0),e.abrupt("return",this);case 8:if(!this.options.accessKey||this.options.appId){e.next=21;break}if(!this.options.ticket){e.next=18;break}if(this.options.ticketNonce){e.next=13;break}return this.options.handleGameErrorCode("ticketNonce参数没有设置，请填写",T.ErrorCode.ERROR_AUTH_PARAMS,0),e.abrupt("return",this);case 13:if(this.options.timestamp){e.next=16;break}return this.options.handleGameErrorCode("timestamp参数没有设置，请填写",T.ErrorCode.ERROR_AUTH_PARAMS,0),e.abrupt("return",this);case 16:e.next=21;break;case 18:if(this.options.accessKeySecret){e.next=21;break}return this.options.handleGameErrorCode("accessKeySecret参数没有设置，请填写",T.ErrorCode.ERROR_AUTH_PARAMS,0),e.abrupt("return",this);case 21:return this.isFirstControl=!0,e.next=24,(0,l.checkDeviceFrameInterval)();case 24:if(this.deviceFrameDelay=e.sent,""!==this.devId){e.next=34;break}if(!localStorage.getItem("__DEVID__")){e.next=30;break}this.devId=localStorage.getItem("__DEVID__"),e.next=34;break;case 30:return e.next=32,(0,l.getFinger)();case 32:this.devId=e.sent,localStorage.setItem("__DEVID__",this.devId);case 34:return this.options.autoRegisterUserId||(this.options.autoRegisterUserId=this.devId),e.next=37,this._getServerConfig();case 37:return t=e.sent,this._initLogger({toConsole:this.options.debug_consoleOutput,toAli:this.options.debug_aliLogOutput}),this.gamepadConfigProcess=new _.GamepadConfigProcess({gameType:this.options.gameType,logger:this.logger,emit:this._gamepadConfigProcessEvent.bind(this)}),this.gamepadDriver=new _.VvGamepadDriver({sendControlMessage:this._sendGameControlMessage.bind(this),changeTouchTpye:this._changeTouchType.bind(this),dispatchPressMove:this._dispatchPressMove.bind(this),logger:this.logger}),e.next=43,this.initConnectType(this.options.connectionType||void 0);case 43:return e.next=45,this.checkPlayerLevel(this.options.playerType||void 0);case 45:if(this.connectionType===v.AVCConnection.ConnectType.WebrtcVideo&&(this.playerType=u.VideoPlayer.PlayerType.Stream),this.playerType===u.VideoPlayer.PlayerType.Stream&&(this.connectionType=v.AVCConnection.ConnectType.WebrtcVideo),this.logger.info(this.TAG,"avc type => ".concat(this.connectionType,", video type => ").concat(this.playerType)),this._initWaterReport(),t&&this.bInitialized||this.logger.info(this.TAG,"get config error"),/^netease/.test(this.options.appId)&&(this.options.shouldShowSoftDecoder=!0),(this.playerType!==u.VideoPlayer.PlayerType.Stream||this.browserNotifyConfig&&new RegExp(this.browserNotifyConfig).test(navigator.userAgent.toLowerCase()))&&(null===(r=this.waterReport)||void 0===r||r.report(T.ReportCode.NoWebrtcSupport)),e.prev=52,n=new TextEncoder,(o=n.encode("123"))&&o.byteLength){e.next=57;break}throw new Error("TextEncode error");case 57:if(new ArrayBuffer(0),this.connectionType===v.AVCConnection.ConnectType.WebrtcVideo||N){e.next=62;break}return this.logger.error(this.TAG,"audio context unsuppoort"),null===(i=this.waterReport)||void 0===i||i.report(T.ReportCode.HardIsLow),e.abrupt("return",this);case 62:e.next=68;break;case 64:e.prev=64,e.t0=e.catch(52),this.logger.error(this.TAG,"support error => ".concat(JSON.stringify(e.t0))),null===(a=this.waterReport)||void 0===a||a.report(T.ReportCode.HardIsLow);case 68:if(this._checkOptions()){e.next=70;break}return e.abrupt("return",this);case 70:return this._initSdkUi(),this.bEnterGameSuccessed=!1,this.options.userID&&this.changeLogCommonData({UID:this.options.userID}),this._limitVideoLevel(),e.next=76,this._linkStart();case 76:return e.abrupt("return",this);case 77:case"end":return e.stop()}}),e,this,[[52,64]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"stopGame",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._openDebugKeyboard(!1),this.bInitialized&&(window.onbeforeunload=null,this.logger.warn(this.TAG,"release(".concat(t,")")),null===(e=this.waterReport)||void 0===e||e.report(T.ReportCode.ReleaseGame,t),this.softeDecoderHtml&&(this.softeDecoderHtml.style.display="none"))}},{key:"setViewDirection",value:function(e){var t;this.logger.info(this.TAG,"Execute lightplay api setViewDirection, params:".concat(e)),null===(t=this.sdkUi)||void 0===t||t.setViewDirection(e)}},{key:"setControlDirection",value:function(e){this.logger.info(this.TAG,"Execute lightplay api setControlDirection, params:".concat(e)),this.options.viewDirection=e,this.controlCenter&&this.controlCenter.changeViewDirection(e)}},{key:"getAudioVolume",value:function(e){var t=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.Query,packetType:c.ControlMessage.Query.getVMStatus,mask:c.ControlMessage.QueryData.getAudio});t&&this._sendControlMessage(t),this.AudioCallback=e,this.logger.info(this.TAG,"Execute lightplay api getAudioVolume")}},{key:"getMouseSensitivity",value:function(){return this.logger.info(this.TAG,"Execute lightplay api getAudioVolume"),this.controlCenter?this.controlCenter.touchControl?this.controlCenter.touchControl.getMoveSensitivity():this.controlCenter.mouseControl?this.controlCenter.mouseControl.getMoveSensitivity():1:1}},{key:"openVideoQualityUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.ResolutionMap.P720;if(!u.VideoPlayer.isSupportSrVideo())return!1;this.playerType=u.VideoPlayer.PlayerType.SrVideo;var t=(0,l.getVideoQuality)(e);return this.logger.info(this.TAG,"open video qulity up to ".concat(JSON.stringify(t))),this.srTarWidth=t.width,this.srTarHeight=t.height,this._reAvc(),!0}},{key:"unInit",value:function(){if(this.bInitialized){this.bInitialized=!1;try{k.default.quitQualityReport(),this.visibilityCallback=function(){},this.networkDetection&&this.networkDetection.destroy(),this.allocResource&&this.allocResource.distory(),this.sdkUi&&(this.sdkUi.unInit(),this.sdkUi=null),this.gamepadConfigProcess&&(this.gamepadConfigProcess.stop(),this.gamepadConfigProcess=null),this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null)}catch(e){this.logger.error(this.TAG,"uninit exception error:".concat(e&&e.toString()))}}}},{key:"chromeFramerateTest",value:function(){var e=this,t=performance.now(),r=performance.now(),n=0;!function o(){var i=performance.now();if(n+=1,i>1e3+t){if(e.chromeFps=Math.round(1e3*n/(i-t)),!(i-r<=e.lowerFpsConfig.browerIntervalTime&&e.bInitialized)){var a,s=e.chromeFpsList.reduce((function(e,t){return e+t}))/e.chromeFpsList.length;return e.chromeFpsList=[],s<e.options.fps*e.lowerFpsConfig.lowerBrowserFps&&(null===(a=e.waterReport)||void 0===a||a.report(T.ReportCode.LowerBrowserFPS)),void window.cancelAnimationFrame(e.timeIndex)}e.chromeFpsList.push(e.chromeFps),n=0,t=i}e.timeIndex=window.requestAnimationFrame(o)}()}},{key:"sendGameData",value:function(e){var t,r;if(console.warn("sendGameData:::",e,null===(t=this.avcConnection)||void 0===t?void 0:t.getStatus()),(null===(r=this.avcConnection)||void 0===r?void 0:r.getStatus())!==v.AVCConnection.ConnectStatus.Connected&&this.toSendgamedataList.push(e),this.controlCenter){this.logger.info(this.TAG,"发送游戏透传消息sendDataMid:".concat(e.seq,";sendGameData：").concat(e.prodata,";sendDataType：").concat(e.type,";sendTime:").concat(e.time));var n=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.TransPackets,data:e});if(n&&!(n instanceof DataView))return this._sendControlMessage(n)}}},{key:"sendCopyText",value:function(e){if(""!==e){var t=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.KeyboardCopy,data:{copyText:e}});t&&this._sendControlMessage(t)}}},{key:"getNetworkDelayMS",value:function(){return 1e3*this.avcConnection.connection.connectQos.networkDelay}},{key:"isMobile",value:function(){return(0,l.ismobile)()}},{key:"setMouseSensitivity",value:function(e){e=parseFloat("".concat(e)),this.controlCenter&&(this.controlCenter.touchControl&&this.controlCenter.touchControl.setMoveSensitivity(e),this.controlCenter.mouseControl&&this.controlCenter.mouseControl.setMoveSensitivity(e)),this.logger.info(this.TAG,"Execute lightplay api setMouseSensitivity，params：".concat(e))}},{key:"setUltraLowDelay",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!(0,l.ismobile)()){this.logger.info(this.TAG,"setUltraLowDelay:  ".concat(e));var t=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.AdjustRTCSetting,packetType:c.ControlMessage.AdjustRTCSetting.UltraLowDelay,data:{status:e?1:0}});t&&this._sendControlMessage(t)}else this.logger.info(this.TAG,"setUltraLowDelay: 移动端跳过执行")}},{key:"setVideoLevel",value:function(e){this.playerType!==u.VideoPlayer.PlayerType.Canvas?(this.logger.info(this.TAG,"setVideoLevel:  ".concat(e,".")),this.setLsVideoSetting({videoLevel:e})):this.logger.info(this.TAG,"setVideoLevel => 软解暂不支持更改")}},{key:"setLsVideoSetting",value:function(e){if(this.playerType!==u.VideoPlayer.PlayerType.Canvas){var t=this._doLimitVideoLevel({fps:e.fps,resolution:e.videoQuality,videoLevel:e.videoLevel});e.videoLevel=t.videoLevel,e.fps=t.fps,e.videoQuality=t.resolution,this.logger.info(this.TAG,"change encoder tag => ".concat(JSON.stringify(e))),this._changeEncoderSetting(e);var r={};"number"==typeof e.videoQuality&&this.avcConnection&&(r=this.avcConnection.updateResolution(e.videoQuality));var n=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.AdjustEncoderSetting,packetType:c.ControlMessage.AdjustEncoderSetting.Total,data:D({videoLevel:e.videoLevel,fps:e.fps,cursor:"boolean"==typeof e.cursor?e.cursor?1:2:0},r)});n&&this._sendControlMessage(n)}else this.logger.info(this.TAG,"change encoder tag => 软解暂不支持更改")}},{key:"transformVideo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};this.controlCenter&&this.controlCenter.touchResizeControl&&this.controlCenter.touchResizeControl.customTransform(e,t),this.logger.info(this.TAG,"Execute lightplay api transformVideo，params：scale->".concat(e,",transform->").concat(JSON.stringify(t)))}},{key:"touchPcGameWithLongPressToRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!this.controlCenter)throw new Error("function should be called after 2040");this.controlCenter.touchPcGameWithLongPressToRight(e,t)}},{key:"gettWeakNetwork",value:function(){var e=(0,n.default)(x().mark((function e(){var t,r,n=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,l.isMigu)(this.options.appId)?"https://h5-config-zj.migufun.com:18116/v1/config/groove/32/h5":"https://api-cfg.yuntiancloud.com:18116/v1/config/groove/41/h5",r=null,e.prev=2,e.next=5,(0,l.Require)("".concat(t),{method:"get"});case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),r=null;case 11:if(!r||!r.body){e.next=18;break}return r.body.weak_network&&(this.weakNetworkConfigs=r.body.weak_network,this.weakNetworkConfigs.map((function(e){e.accessKey==n.options.accessKey&&(n.weakNetworkConfig=e)}))),r.body.lower_fps&&(this.lowerFpsConfig=r.body.lower_fps),r.body.browser_notify&&(this.browserNotifyConfig=r.body.browser_notify),e.abrupt("return",!0);case 18:return e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_downLoadNormalImage",value:function(){var e=(0,n.default)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fileTranser.fileDownload.loadImage("https://img0.baidu.com/it/u=1005754681,4283209109&fm=253&fmt=auto&app=138&f=JPEG?w=864&h=383",3);case 2:t=e.sent,this.fileTranser.fileDownload.saveImage(752,t.image);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFileDownloadUrl",value:function(e,t){return this.fileTranser?this.fileTranser.getUrl(e,t):""}},{key:"downloadLsImage",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){e()},n=arguments.length>2?arguments[2]:void 0;return!!this.fileTranser&&(this.logger.info(this.TAG,"Execute lightplay api downloadLsImage,params：name->".concat(e,"}")),this.fileTranser.downloadImage(e,n).then((function(n){r((function(){return!(!n.res||!t.fileTranser)&&t.fileTranser.saveImage(e,n.image)}))})),!0)}},{key:"downloadLsImageBase64",value:function(e,t,r){return!!this.fileTranser&&(this.fileTranser.downloadImage(e,r).then((function(e){var r=e.image,n=document.createElement("canvas");n.width=r.width,n.height=r.height;var o=n.getContext("2d");if(!o)return!1;o.drawImage(r,0,0,r.width,r.height);var i=n.toDataURL();t(i)})),!0)}},{key:"uploadImageToLs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){e()},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.fileTranser?(this.logger.info(this.TAG,"Execute lightplay api uploadImageToLs"),this.fileTranser.uploadImage(e,r).then((function(e){t(e.res,e.name,e.msg)}))):t(!1,"","need call after game start")}},{key:"startScreenshot",value:function(e){var t,r,n,o,i=null===(t=this.avcConnection)||void 0===t?void 0:t.getNowDomain(),a=null===(r=this.avcConnection)||void 0===r?void 0:r.getLaunchPort(),s=null===(n=this.avcConnection)||void 0===n?void 0:n.getAVCFlowId(),u=(0,l.getClientType)(this.options.bizId);if(!i||!a||!s)return!1;var c="https://".concat(i,":").concat(a,"/screenshot?flowId=").concat(s,"&clientType=").concat(u,"&deviceId=").concat(this.devId,"&sdkVersion=").concat(G.version);this.logger.info(this.TAG,"startScreenshot url => ".concat(c)),null===(o=this.fileTranser)||void 0===o||o.loadImage(c).then((function(t){var r=t.image,n=document.createElement("canvas");n.width=r.width,n.height=r.height;var o=n.getContext("2d");if(!o)return!1;o.drawImage(r,0,0,r.width,r.height);var i=n.toDataURL();e(i)})).catch((function(){e("截屏异常")}))}},{key:"reportCustomWater",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.waterReport?this.waterReport.customReport(e,t,r,n):this.logger.warn(this.TAG,"water report have not ready")}},{key:"setScalFactor",value:function(e){this.controlCenter&&this.controlCenter.setScalFactor(parseFloat("".concat(e)))}},{key:"updateGameInfo",value:function(){var e=(0,n.default)(x().mark((function e(t){var r,n,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.serverMethod!==l.ServerMethod.Direct&&(null===(r=this.allocResource)||void 0===r?void 0:r.getStatus())!==m.LightPlayAllocResource.playStatus.PS_AVC_PLAYING){e.next=5;break}return e.next=3,null===(n=this.avcConnection)||void 0===n?void 0:n.updateGameInfo(t);case 3:return o=e.sent,e.abrupt("return",o);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_changeEncoderSetting",value:function(e){var t;if("number"==typeof e.fps&&(null===(t=this.avcConnection)||void 0===t||t.setMaxFps(e.fps)),this.allocResource){var r={};"number"==typeof e.videoQuality&&(r.videoQuality=e.videoQuality),e.fps&&(r.fps=e.fps),"boolean"==typeof e.cursor&&(r.showMouse=e.cursor),"number"==typeof e.videoLevel&&(r.videoLevel=e.videoLevel),this.allocResource.updateEncordeDate(r),this.logger.info(this.TAG,"change encoder merge result => ".concat(JSON.stringify(r)))}else this.launchData.resolution="number"==typeof e.videoQuality?e.videoQuality:this.launchData.resolution,this.launchData.maxFps=e.fps||this.launchData.maxFps,this.launchData.showMouse="boolean"==typeof e.cursor?e.cursor:this.launchData.showMouse,this.launchData.videoLevel="number"==typeof e.videoLevel?e.videoLevel:this.launchData.videoLevel,this.logger.info(this.TAG,"change encoder merge result => ".concat(JSON.stringify({videoQuality:this.launchData.resolution,fps:this.launchData.maxFps,videoLevel:this.launchData.videoLevel,cursor:this.launchData.showMouse})))}},{key:"_reAvc",value:function(){var e=(0,n.default)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info(this.TAG,"re link avc"),this.waitRRTimer&&clearTimeout(this.waitRRTimer),this._quitAVC(),this.options.serverMethod!==l.ServerMethod.Server){e.next=9;break}if(!this.allocResource){e.next=7;break}return e.next=7,this._launchFun(this.allocResource.getLaunchData());case 7:e.next=11;break;case 9:return e.next=11,this._launchFun(this.launchData);case 11:null===(t=this.audioPlayer)||void 0===t||t.play();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateToken",value:function(e){this.logger.info(this.TAG,"Execute lightplay api updateToken，params:token->".concat(e)),this.allocResource&&this.allocResource.updateToken(e)}},{key:"getChargeId",value:function(){return this.allocResource?this.allocResource.chargeId:null}},{key:"changeMouseShow",value:function(e){var t;this.logger.info(this.TAG,"Execute lightplay api changeMouseShow:show->".concat(e)),this.isShowMouse=e,this.options.serverMethod===l.ServerMethod.Server?null===(t=this.allocResource)||void 0===t||t.updateEncordeDate({showMouse:this.isShowMouse}):this._createLaunchData(),this._reLaunchGame()}},{key:"dealGamePadEvent",value:function(e,t){var r;null===(r=this.gamepadDriver)||void 0===r||r.dealGamePadEvent(e,t),this.videoPlayer&&(this.videoPlayer.play(),this.videoPlayer.playAudio())}},{key:"setLockKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==e.capsLock&&(this.capsLock=e.capsLock),void 0!==e.numLock&&(this.numLock=e.numLock);var t=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.KeyBoardStatus,packetType:c.ControlMessage.KeyBoardStatus.setLockStatus,data:{capsLock:this.capsLock?1:0,numLock:this.numLock?1:0}});t&&this._sendControlMessage(t),this.logger.info(this.TAG,"set lock status => ".concat(JSON.stringify({capsLock:this.capsLock,numLock:this.numLock})))}},{key:"changeLogCommonData",value:function(e){this.logger.updateDefaultComposeData(D({},e))}},{key:"changeTouchPcMode",value:function(e,t){this.logger.info(this.TAG,"Execute lightplay api changeTouchPcMode:mode->".concat(e,",sensitivity->").concat(t)),this.controlCenter&&void 0!==e&&this.controlCenter.dispatch(f.default.InputType.Touch,{fun:"setTouchPcMode",arg:[e,t]})}},{key:"checkBackDoor",value:function(){void 0!==window.localStorage.debug_consoleOutput&&(this.options.debug_consoleOutput=!0),void 0!==window.localStorage.debug_connectionType&&(this.options.connectionType=window.localStorage.debug_connectionType),void 0!==window.localStorage.debug_playerType&&(this.options.playerType=window.localStorage.debug_playerType)}},{key:"setIsVibrationMobileForOneP",value:function(e){this._isVibrationMobile=e}},{key:"lockVideoToDrag",value:function(e,t){this.logger.info(this.TAG,"Execute lightplay api lockVideoToDrag:isLock->".concat(e,",isSlice->").concat(t)),this.controlCenter&&this.controlCenter.lockTouchToResize(e,t)}},{key:"resetHangUpTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.allocResource?(this.allocResource.resetHangUpTime(e,t,r),!0):(this.logger.warn(this.TAG,"allocResource have not create"),!1)}},{key:"setActiveState",value:function(){var e=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.MouseClick,data:{mouseAction:8,mouseButton:1,eventInx:0}});e&&(this.logger.info(this.TAG,"send mousedown to LS"),this._sendControlMessage(e))}},{key:"_checkOptions",value:function(){var e;return!(this.options.areaType<0&&(null===(e=this.waterReport)||void 0===e||e.report(T.ReportCode.AreaTypeError),1))}},{key:"_gamepadConfigProcessEvent",value:function(e,t){switch(e){case _.GamepadConfigProcess.EventType.ChangeTouchPcMode:var r=t.mode;void 0!==r&&this.changeTouchPcMode(r,t.sensitivity);break;case _.GamepadConfigProcess.EventType.GravityRocker:this.dealGamePadEvent(t.type,t.data);break;case _.GamepadConfigProcess.EventType.GravityTouch:var n;this.videoPlayer&&(null===(n=this.videoPlayer.getVideoTag())||void 0===n||n.dispatchEvent(new TouchEvent("touchmove",{changedTouches:[new Touch({identifier:0,pageX:(t.x+1)/2*document.documentElement.offsetWidth,pageY:(t.y+1)/2*document.documentElement.offsetHeight,target:this.videoPlayer.getVideoTag()||window})]})))}}},{key:"_changeTouchType",value:function(e){this.logger.info(this.TAG,"Execute lightplay api _changeTouchType:mouseType->".concat(e)),this.controlCenter&&this.controlCenter.dispatch(f.default.InputType.Touch,{fun:"setMouseType",arg:[e]})}},{key:"_dispatchPressMove",value:function(e,t){this.controlCenter&&"touchmove"===e&&(this.logger.info(this.TAG,"Execute lightplay api _dispatchPressMove:type->".concat(e,",changeVal->").concat(JSON.stringify(t))),this.controlCenter.dispatch(f.default.InputType.Touch,{fun:"_sendTouchReleativeChangeVal",arg:[t]}))}},{key:"_initLogger",value:function(t){this.logger.init({reportUrl:t.toAli?this.options.logReportUrl:"",toConsole:t.toConsole,uid:this.options.userID||0,flowId:"0_".concat((0,l.getRandomIDString)(12)),appId:this.options.appId,sdkVersion:e.getVersion(),ugid:this.options.gameId,allowLevel:4},this.options.loggerWorker)}},{key:"_getServerConfig",value:function(){var e=(0,n.default)(x().mark((function e(){var t,r,n,o,i,a,s,u,c=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="https://api-cfg.yuntiancloud.com:18116/v2/config/GetProjectAccessInfo",this.options.appId||!this.options.accessKey){e.next=29;break}if(null==(r=localStorage.getItem("accessKey_".concat(this.options.accessKey)))){e.next=7;break}this.serverCfg=JSON.parse(r),e.next=17;break;case 7:return e.next=9,(0,l.Require)("".concat(t,"?accessKey=").concat(this.options.accessKey),{method:"get"});case 9:if(!(n=e.sent)||!n.ret||-1==n.ret.code){e.next=15;break}this.serverCfg=n.body,localStorage.setItem("accessKey_".concat(this.options.accessKey),JSON.stringify(this.serverCfg)),e.next=17;break;case 15:return this.options.handleGameErrorCode("获取服务器配置失败，请联系技术支持",T.ErrorCode.ERROR_AUTH_SERVER,0),e.abrupt("return",!1);case 17:return(0,l.Require)("".concat(t,"?accessKey=").concat(this.options.accessKey),{method:"get"}).then((function(e){console.log("收到消息".concat(JSON.stringify(e))),e&&e.ret&&-1!=e.ret.code&&localStorage.setItem("accessKey_".concat(c.options.accessKey),JSON.stringify(e.body))})),this.options.autoRegister=!0,this.options.appId=this.serverCfg.appID,this.options.bizId=this.serverCfg.bizID,this.options.appBizType=this.serverCfg.bizType,this.options.useUnion=!0,(!this.unionHostArray||this.unionHostArray.length<=0)&&(this.options.unionHost=this.serverCfg.unionURL,this.unionHostArray=this.serverCfg.unionURL?[this.serverCfg.unionURL]:[]),this.options.reportUrl=this.serverCfg.waterURL,this.options.logReportUrl=this.serverCfg.logReportURL+"?name=H5",e.abrupt("return",!0);case 29:return t=(0,l.isMigu)(this.options.appId)?"https://h5-config-zj.migufun.com:18116/v1/config/groove/23/h5":"https://api-cfg.yuntiancloud.com:18116/v1/config/groove/19/h5",this.options.serverConfigUrl&&(t=this.options.serverConfigUrl),e.prev=31,e.next=34,(0,l.Require)("".concat(t,"/").concat(this.options.appId),{method:"get"});case 34:i=e.sent,o=i&&i.body&&i.body[this.options.appId]?i.body[this.options.appId]:l.serverConfigLocal[this.options.appId]||{},this.options.useUnion=this.options.useUnion||o.useUnion,this.options.tokenHost=this.options.tokenHost||o.tokenHost,this.options.serverHost=this.options.serverHost||o.serverHost||"",this.options.reportUrl=this.options.reportUrl||o.reportUrl,this.options.logReportUrl=this.options.logReportUrl||o.logReportUrl,e.next=51;break;case 43:e.prev=43,e.t0=e.catch(31),o=l.serverConfigLocal[this.options.appId]||{},this.options.useUnion=this.options.useUnion||o.useUnion,this.options.tokenHost=this.options.tokenHost||o.tokenHost,this.options.serverHost=this.options.serverHost||o.serverHost||"",this.options.reportUrl=this.options.reportUrl||o.reportUrl,this.options.logReportUrl=this.options.logReportUrl||o.logReportUrl;case 51:if((!this.unionHostArray||this.unionHostArray.length<=0)&&(this.options.unionHost=o.unionHost,this.unionHostArray=o.unionHost?[o.unionHost]:[],o.backup&&o.backup.length>0)){a=M(o.backup);try{for(a.s();!(s=a.n()).done;)(u=s.value).unionHost&&this.unionHostArray.push(u.unionHost)}catch(e){a.e(e)}finally{a.f()}}case 52:return e.next=54,this.gettWeakNetwork();case 54:return e.abrupt("return",!0);case 55:case"end":return e.stop()}}),e,this,[[31,43]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_initWaterReport",value:function(){this.logger.info(this.TAG,"init waterreporter"),this.waterReport=new T.WaterReportMgr({areaType:this.options.areaType,vmId:this.options.vmid,flowId:"",userId:this.options.userID,clientIP:"",bizId:this.options.bizId,devId:this.devId,reportURL:this.options.reportUrl,serverHost:this.options.serverHost,uuid:this.options.userID,ugid:this.options.gameId,gId:this.options.gameId,sdkVersion:e.getVersion(),appId:this.options.appId,roomid:this.options.roomId,eventCallback:this._waterReportEventCallback.bind(this),logger:this.logger,sdkFlowId:this.sdkFlowId,appSessionId:this.options.appSessionId,joinMethod:this.options.playWay,targetUUid:this.options.instanceTagUuid,gameType:this.options.gameType,resolution:this.options.resolution,inBeta:this.options.inBeta,changeLogCommonData:this.changeLogCommonData.bind(this),connectionType:this.connectionType===v.AVCConnection.ConnectType.WebrtcVideo?T.WaterReportMgr.ConnectionType.Webrtc:T.WaterReportMgr.ConnectionType.Websocket}),this.waterReport.report(T.ReportCode.InitStartSDK)}},{key:"_getBEFormatVersion",value:function(){var t=e.getVersion().split(".");return 1e6*parseInt(t[0],10)+1e3*parseInt(t[1],10)+parseInt(t[2],10)}},{key:"_dealGameStatusCode",value:function(e){-1!==[T.ErrorCode.STATUS_SERVER_GAME_KICKOFF,T.ErrorCode.STATUS_BALANCE_LOW_GAME_KILLED,T.ErrorCode.STATUS_IDLE_TIMEOUT_GAME_KILLED,T.ErrorCode.STATUS_HOLD_TIMEOUT_GAME_KILLED,T.ErrorCode.STATUS_GAME_UPDATING,T.ErrorCode.NETWORK_NONE,T.ErrorCode.STATUS_LINK_BE_ERROR_ONLINE,T.ErrorCode.STATUS_STREAM_ERROR_ONBACK,T.ErrorCode.ERROR_SAME_INSTANCE_PARAM,T.ErrorCode.STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER,T.ErrorCode.GAME_SAVE_ERROR,T.ErrorCode.STATUS_BE_CHAGNE_SCREEN,T.ErrorCode.ERROR_ENTER_VIEW,T.ErrorCode.STATUS_GAME_RELEASE_BY_AMDIN,T.ErrorCode.STATUS_FIGHT_GAME_END,T.ErrorCode.ERROR_ENTER_FIGHT,T.ErrorCode.STATUS_FIGHT_STOP,T.ErrorCode.ERROR_HELP_BY_TAG_CHAR,T.ErrorCode.ERROR_HELP,T.ErrorCode.NOTIFY_HELP_TO_EXIT,T.ErrorCode.ERROR_HELP_FOR_HAS_BE_HELP,T.ErrorCode.STATUS_HELP_STOP].indexOf(e.code)&&this._dealRealeaseListener(e.code,e.eventId,!1,e.msg)}},{key:"_dealRealeaseListener",value:function(e,t,r,n){this.options.onConnectionChange=function(){},this.options.handleReleasedListener(e,t,r,n)}},{key:"_waterReportEventCallback",value:function(){var e=(0,n.default)(x().mark((function e(t,r){var n,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===T.WaterReportMgr.EventType.ErrorToExit?3:e.t0===T.WaterReportMgr.EventType.GameStatusCode?22:e.t0===T.WaterReportMgr.EventType.ErrorCode?25:28;break;case 3:if(this.bEnterGameSuccessed||(r.isByUser?null===(n=this.waterReport)||void 0===n||n.report(T.ReportCode.StopStartGame):this.allocResource&&this.allocResource.getStatus()!==m.LightPlayAllocResource.playStatus.PS_DESTROY&&(null===(o=this.waterReport)||void 0===o||o.report(T.ReportCode.FirstRenderError))),this.waitRRTimer&&clearTimeout(this.waitRRTimer),this.closeLoadingTimer&&clearTimeout(this.closeLoadingTimer),this._rr2=!1,this.options.onConnectionChange=function(){},!this._exiting){e.next=10;break}return e.abrupt("return");case 10:if(this._exiting=!0,!r.shouldExitServer){e.next=20;break}return e.prev=12,e.next=15,this._quitServer();case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),this.logger.error(this.TAG,"quit server error => ".concat(e.t1.toString()));case 20:return this.unInit(),e.abrupt("break",29);case 22:return this.options.handleGameStatusCode(r.msg,r.code,r.eventId,r.value1,r.value2),this._dealGameStatusCode(r),e.abrupt("break",29);case 25:return this.options.handleGameErrorCode(r.msg,r.code,r.eventId,r.value1,r.value2),this._dealRealeaseListener(r.code,r.eventId,!0,r.msg),e.abrupt("break",29);case 28:return e.abrupt("break",29);case 29:case"end":return e.stop()}}),e,this,[[12,17]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_quitServer",value:function(){var e=(0,n.default)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info(this.TAG,"Execute lightplay api _quitServer"),e.prev=1,this._quitLS(),this._quitAVC(),e.next=6,this._releaseAlloc();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.logger.error(this.TAG,"quit error ".concat(e.t0.toString()));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_quitLS",value:function(){this.logger.info(this.TAG,"Execute lightplay api _quitLS"),this.avcConnection&&this.avcConnection.quitLS()}},{key:"_quitAVC",value:function(){this.logger.info(this.TAG,"Execute lightplay api _quitAVC"),this._rr2=!1;try{this.videoPlayer&&this.videoPlayer.close()}catch(e){this.logger.error(this.TAG,"sdk videoPlayer shutdown cause a error:".concat(e.toString(),"."))}try{this.controlCenter&&this.controlCenter.destroy()}catch(e){this.logger.error(this.TAG,"sdk controlCenter destroy cause a error:".concat(e.toString(),"."))}try{this.audioPlayer&&this.audioPlayer.shutdown()}catch(e){this.logger.error(this.TAG,"sdk audioPlayer shutdown cause a error:".concat(e.toString(),"."))}this.avcConnection&&this.avcConnection.close(),this.videoPlayer=null,this.audioPlayer=null}},{key:"_releaseAlloc",value:function(){var e=(0,n.default)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info(this.TAG,"Execute lightplay api _releaseAlloc"),this.options.serverMethod===l.ServerMethod.Server&&this.allocResource){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.allocResource.switchTo(m.LightPlayAllocResource.playStatus.PS_DESTROY);case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_initSdkUi",value:function(){var e=this;this.logger.info(this.TAG,"init sdk ui"),this.visibilityCallback=function(){},this.sdkUi=new b.default({viewContainer:this.options.container,rotation:this.options.rotation,viewDirection:this.options.viewDirection,isContainerPlay:this.options.isContainerPlay,onVisibilityChangedCallback:function(t){var r,n;t?null===(r=e.waterReport)||void 0===r||r.report(T.ReportCode.CheckoutToFront):null===(n=e.waterReport)||void 0===n||n.report(T.ReportCode.CheckoutToBack),e.visibilityCallback(t)},onWindowBlurCallback:function(){setTimeout((function(){e.controlCenter&&e.controlCenter.keyboardControl&&e.controlCenter.keyboardControl.clearKeyDownList(),e.controlCenter&&e.controlCenter.keyboard2TouchControl&&e.controlCenter.keyboard2TouchControl.clearKeyDownList(),e.controlCenter&&(e.controlCenter.mouseControl||e.controlCenter.mouse2TouchControl)&&e.controlCenter.clearMouseDownList(),e.options.handleWindowBlurListener()}))},onUnloadCallback:function(){},onGameViewChanged:function(){e.controlCenter&&e.controlCenter.resetControlComputeBase()},logger:this.logger}),this.sdkUi.updateViewDirection()}},{key:"initConnectType",value:function(){var e=(0,n.default)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.AVCConnection.checkConnectType();case 2:this.connectionType=e.sent,t&&(this.connectionType=t,this.logger.warn(this.TAG,"set debug connectionType=".concat(this.connectionType)));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkPlayerLevel",value:function(){var e=(0,n.default)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info(this.TAG,"force play type => ".concat(t)),e.next=3,u.VideoPlayer.checkSupportType(t);case 3:this.playerType=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_doLimitVideoLevel",value:function(e){return this.connectionType!==v.AVCConnection.ConnectType.Websocket?D({},e):this.playerType===u.VideoPlayer.PlayerType.Canvas?{fps:30,resolution:1,videoLevel:0}:(e.resolution&&e.resolution>2&&this.logger.info(this.TAG,"websocket video resolution must lower than 720P"),{fps:e.fps,resolution:e.resolution&&e.resolution>2?2:e.resolution,videoLevel:0})}},{key:"_limitVideoLevel",value:function(){this.logger.info(this.TAG,"Execute lightplay api _limitVideoLevel");var e=this._doLimitVideoLevel({fps:this.options.fps,resolution:this.options.resolution,videoLevel:this.options.videoLevel}),t=e.fps,r=e.resolution,n=e.videoLevel;void 0!==t&&(this.options.fps=t),void 0!==r&&(this.options.resolution=r),void 0!==n&&(this.options.videoLevel=n)}},{key:"_linkStart",value:function(){var t=(0,n.default)(x().mark((function t(){var r,n,o,i,a,s,c=this;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.logger.info(this.TAG,"Execute lightplay api _linkStart"),null!==(r=this.options.forceAudioDataChannel)){t.next=6;break}return t.next=5,v.AVCConnection.isAudioChannelError();case 5:r=t.sent;case 6:if(this.avcConnection=new v.AVCConnection({bizId:this.options.bizId,container:this.options.container,lpMultichannel:this.options.useQuickControl?1:0,listenControlDelay:this.options.listenControlDelay,useQuickControl:this.options.useQuickControl,eventCallback:this._avcEvent.bind(this),rotation:this.options.rotation,logger:this.logger,waterReport:this.waterReport||{report:function(){},setEventTcStartMs:function(){}},playerType:this.playerType,connectType:this.connectionType,gameType:this.options.gameType,nativeFullScreen:this.options.nativeFullScreen,fullScreenPlay:this.options.fullScreenPlay,serverMethod:this.options.serverMethod,isSSL:this.options.isSSL,requireRemoteIcon:this.options.useLocalMouse,devId:this.devId,version:e.getVersion(),forceAudioDataChannel:r,playWay:this.options.playWay,instanceTagUuid:this.options.instanceTagUuid,allowChangeScreen:this.options.allowChangeScreen,allowHelp:this.options.allowHelp,allowFight:this.options.allowFight,allowWatch:!1,allowMeeting:this.options.allowMeeting,setOptions:'{"debugControlInput":'.concat(this.options.debugKeyboard?1:0,"}")}),this.options.serverMethod!==l.ServerMethod.Server){t.next=35;break}if(n=null,o=null,this.playerType!==u.VideoPlayer.PlayerType.Canvas){t.next=15;break}n="raw.h264",o=[l.VideoCodecProfilesMap.baseline],t.next=25;break;case 15:if(n="mp4.h264",o=[l.VideoCodecProfilesMap.high,l.VideoCodecProfilesMap.baseline],this.connectionType===v.AVCConnection.ConnectType.Websocket){t.next=24;break}return t.next=20,p.WebrtcConnection.checkSupportStatus();case 20:i=t.sent,o=i.isSupportHighLevelProfile?[l.VideoCodecProfilesMap.high,l.VideoCodecProfilesMap.baseline]:[l.VideoCodecProfilesMap.baseline],t.next=25;break;case 24:o=[l.VideoCodecProfilesMap.high,l.VideoCodecProfilesMap.baseline];case 25:if(a=(0,v.getDesiredSize)({resolution:this.options.resolution,fullScreenPlay:this.options.fullScreenPlay,gameType:this.options.gameType,nativeFullScreen:this.options.nativeFullScreen,gId:this.options.gameId,container:this.options.container}),this.allocResource){t.next=33;break}return this.allocResource=new m.LightPlayAllocResource({imeType:this.options.useNativeKeyboard?1:0,keyboardType:this.options.keyboardType,eventCallback:this._allocEvent.bind(this),logger:this.logger,stepTimeNotify:function(e,t){if(c.waterReport){var r=c.waterReport.getEventTcMsMap().get(e);r&&(r.endTime=t)}},bizId:this.options.bizId,appBizType:this.options.appBizType,username:this.options.userName,userId:this.options.userID,token:this.options.token,tokenUrl:this.options.tokenHost,unionUrl:this.unionHostArray,useUnion:this.options.useUnion,serverHost:this.options.serverHost,crossGame:this.options.crossGame,crossParams:this.options.crossParams,devIdentity:this.options.devIdentity,gId:this.options.gameId,areaType:this.options.areaType,proData:this.options.proData,roomid:this.options.roomId,vmId:this.options.vmid,videoQuality:this.options.resolution,fps:this.options.fps||30,videoLevel:this.options.videoLevel,showMouse:this.isShowMouse,useLocalMouse:this.options.useLocalMouse,devId:this.devId,appSessionId:this.options.appSessionId,sdkVersion:this._getBEFormatVersion(),connectionType:this.connectionType,forceAudioDataChannel:r,wallPaperId:this.options.wallPaperId,entryUuid:this.options.entryUuid,entryArchiveName:this.options.entryArchiveName,playWay:this.options.playWay,meetingId:this.options.meetingId,instanceTagUuid:this.options.instanceTagUuid,allowChangeScreen:this.options.allowChangeScreen,allowHelp:this.options.allowHelp,allowFight:this.options.allowFight,allowWatch:!1,allowMeeting:this.options.allowMeeting,videoDataType:n,videoCodecProfile:o,gameType:this.options.gameType.toString(),nativeFullScreen:this.options.nativeFullScreen,fullScreenPlay:this.options.fullScreenPlay,autoRegister:this.options.autoRegister,autoRegisterUserId:this.options.autoRegisterUserId,accessKey:this.options.accessKey,accessKeySecret:this.options.accessKeySecret,queueLevel:this.options.queueLevel,deviceWidth:a.width,deviceHeight:a.height,deviceInfo:window.navigator.userAgent,osType:(0,l.getOSType)(),clientType:(0,l.getClientType)(this.options.bizId),networkType:(0,l.getNetworkType)(),debugMode:this.options.debugMode,rsetId:this.options.rsetId,customerType:0,lpMultichannel:this.options.useQuickControl?1:0,ticket:this.options.ticket,ticketNonce:this.options.ticketNonce,timestamp:this.options.timestamp}),t.next=30,this.allocResource.initAllocWorker(this.options.allocWorker);case 30:this.allocResource.listenServerHostChange((function(e){var t;null===(t=c.waterReport)||void 0===t||t.setServerHost(e)})),this.allocResource.listenDevIdChange((function(e){var t,r,n;c.devId=e,null===(t=c.allocResource)||void 0===t||t.updateDevId(e),null===(r=c.avcConnection)||void 0===r||r.updateDevId(e),null===(n=c.waterReport)||void 0===n||n.setDevId(e)})),this.allocResource.switchTo(m.LightPlayAllocResource.playStatus.PS_GETTOKEN);case 33:t.next=41;break;case 35:return this._afterGetGamePadConfig(this.options.directGamepadConfig||void 0),s=this.options.serverHost.split(":"),this.avcConnection.updateServerAddress([{domain:s[0],port:parseInt(s[1],10)||0,ipv4:"",ipv6:""}]),this._createLaunchData(),t.next=41,this._launchFun(this.launchData);case 41:case"end":return t.stop()}}),t,this)})));function r(){return t.apply(this,arguments)}return r}()},{key:"getGamePadConfig",value:function(){this.logger.info(this.TAG,"Execute lightplay api getGamePadConfig");var e=this.allocResource?this.allocResource.gamePadConfig:null;try{return this.options.serverMethod===l.ServerMethod.Direct?JSON.parse(JSON.stringify(this.options.directGamepadConfig||this.defaultGamepadConfig)):JSON.parse(JSON.stringify(e||this.defaultGamepadConfig))}catch(e){return null}}},{key:"_getGamepadConfigIn",value:function(){var e=this.allocResource?this.allocResource.gamePadConfig:null;return this.options.serverMethod===l.ServerMethod.Direct?this.options.directGamepadConfig||this.defaultGamepadConfig:e||this.defaultGamepadConfig}},{key:"changeMobileMouseMode",value:function(e){this.logger.info(this.TAG,"Execute lightplay api changeMobileMouseMode,params:mode->".concat(e));var t=this._getGamepadConfigIn();return t&&(t.default_mouse_mode=e),this._afterGetGamePadConfig(),this}},{key:"changeGravityMap",value:function(e){this.logger.info(this.TAG,"Execute lightplay api changeGravityMap,params:map->".concat(e));var t=this._getGamepadConfigIn();return t&&(t.gravity_mapping=e),this._afterGetGamePadConfig(),this}},{key:"_afterGetGamePadConfig",value:function(e){var t,r,n,o=e||this._getGamepadConfigIn();null===(t=this.gamepadConfigProcess)||void 0===t||t.stop(),o&&(null===(r=this.gamepadConfigProcess)||void 0===r||r.start(o),this.controlCenter&&(this.controlCenter.setKeyboard2TouchConfig((0,_.rebuildKeyboard2TouchConfig)(o)),this.gamepadConfigProcess&&(null===(n=this.controlCenter.mouseControl)||void 0===n||n.updateMouseWhellSensitivity(this.gamepadConfigProcess.getMouseWheelSensitivity()))))}},{key:"_addVisiableEvent",value:function(){var e=this;this.visibilityCallback=function(t){try{t?(0,l.isiOS)()&&(0,l.isWeixinMiniProgramWebview)()||e._reviewGame():(setTimeout((function(){e.audioPlayer&&e.audioPlayer.pause()}),0),setTimeout((function(){e.videoPlayer&&e.videoPlayer.pause()}))),k.default.setIsSystemToBackground(!t)}catch(t){e.logger.warn(e.TAG,"visibilityCallback => ".concat(t.toString()))}}}},{key:"_allocEvent",value:function(e,t,r){var n,o,i,a,s,u,c,l;if(this.allocResource)switch(this.logger.info(this.TAG,"Execute lightplay api _allocEvent,params:code->".concat(e,",msg->").concat(JSON.stringify(t),",extraData->").concat(JSON.stringify(r))),e===T.ReportCode.GameHasExit&&"string"==typeof t&&t.includes("heartbeat timeout")&&this.options.handleGameStatusCode("websocket心跳超时断开",T.ErrorCode.STATUS_STREAM_ERROR_ONBACK,0),e===T.ReportCode.ClosedByTerminal&&"string"==typeof t&&t.includes("game be terminated")&&(this.logger.info(this.TAG,"game be terminated"),this.isGameCloseByTerminal=!0),this.changeLogCommonData({UID:this.allocResource.unionUserId,FLOWID:this.allocResource.flowId}),null===(n=this.waterReport)||void 0===n||n.setFlowId(this.allocResource.flowId),null===(o=this.waterReport)||void 0===o||o.setUuId(this.allocResource.unionUserId),null===(i=this.waterReport)||void 0===i||i.setUserId(this.allocResource.userId),null===(a=this.waterReport)||void 0===a||a.setVmId(this.allocResource.vmId),null===(s=this.waterReport)||void 0===s||s.setUUId(this.allocResource.unionUserId),null===(u=this.waterReport)||void 0===u||u.setGameId(this.allocResource.gId),null===(c=this.waterReport)||void 0===c||c.setAreaType(this.allocResource.areaType),null===(l=this.waterReport)||void 0===l||l.setClientIP(this.allocResource.clientIP),e){case T.ReportCode.AllocSuccess:var f,d,h;null===(f=this.waterReport)||void 0===f||f.report(e),this.options.isPrepared||(null===(d=this.avcConnection)||void 0===d||d.updateServerAddress(r),null===(h=this.gamepadDriver)||void 0===h||h.setVpadInfo(this.allocResource.vpadInfo),this._addVisiableEvent(),this._launchFun(this.allocResource.getLaunchData()));break;case T.ReportCode.RankUpdate:var p,v=t;null===(p=this.waterReport)||void 0===p||p.report(e,JSON.stringify(v),"".concat(v&&v.desc?v.desc:"area","排队: 共 ").concat(v.total," 人排队,您在第 ").concat(v.rank," 位"),v.rank,v.total);break;case T.ReportCode.NotifyForNoMoney:var y;null===(y=this.waterReport)||void 0===y||y.report(e,"",void 0,t);break;case T.ReportCode.ShowGamepad:var g;null===(g=this.waterReport)||void 0===g||g.report(T.ReportCode.ShowGamepad),this._afterGetGamePadConfig();break;case T.ReportCode.SystemEventTerminated:var m;null===(m=this.waterReport)||void 0===m||m.report(e,"",void 0,t);break;case T.ReportCode.RequireAreaShouldPass:case T.ReportCode.NeedReAlloc:break;default:if(e){var b,w=t;null===(b=this.waterReport)||void 0===b||b.report(e,w&&w.desc?w.desc:"")}}}},{key:"_createLaunchData",value:function(){var e,t,r=this.options.userID||(this.options.userName&&this.options.userName.length>5?parseInt(this.options.userName.substr(this.options.userName.length-5,5),10):parseInt(this.options.userName,10));this.launchData.imeType=this.options.useNativeKeyboard?1:0,this.launchData.keyboardType=this.options.keyboardType,this.launchData.flowId="0_".concat((0,l.getRandomIDString)(12)),this.launchData.gId=parseInt("".concat(this.options.gameId),10),this.launchData.userId=r.toString(),this.launchData.resolution=this.options.resolution,this.launchData.maxFps=parseInt("".concat(this.options.fps),10),this.launchData.showMouse=this.isShowMouse,this.launchData.videoLevel=parseInt("".concat(this.options.videoLevel),10),this.launchData.devId=this.devId,this.launchData.lpMultichannel=this.options.useQuickControl?1:0,null===(e=this.waterReport)||void 0===e||e.setFlowId(this.launchData.flowId),null===(t=this.waterReport)||void 0===t||t.setUserId(parseInt(this.launchData.userId)),this.changeLogCommonData({UID:parseInt(this.launchData.userId),FLOWID:this.launchData.flowId,UAPP:this.options.appId})}},{key:"_launchFun",value:function(){var e=(0,n.default)(x().mark((function e(t){var r,n,o,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this._startVideo(),this._startAudio(),this._initAudioRecord()}catch(e){this.logger.error(this.TAG,"media start error => ".concat(e.toString())),this._showSoftDecoder(),null===(o=this.waterReport)||void 0===o||o.report(T.ReportCode.HardIsLow)}return e.next=3,null===(r=this.avcConnection)||void 0===r?void 0:r.launch(t);case 3:return i=e.sent,null===(n=this.avcConnection)||void 0===n||n.changeUseQuickControl(!(null==i||!i.lsMultichannel)),this.logger.info(this.TAG,"Execute lightplay api _launchFun, res => ".concat(JSON.stringify(i))),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_avcEvent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e!=v.AVCConnection.EventCode.Qos&&e!=v.AVCConnection.EventCode.AcceptData&&e!=v.AVCConnection.EventCode.IdrEvent&&this.logger.info(this.TAG,"Execute lightplay api _avcEvent, params:code-> ".concat(e,",data-> ").concat(JSON.stringify(t),",isConnectedBefore->").concat(r,"}")),e){case v.AVCConnection.EventCode.AcceptData:this._handlerAVCData(t);break;case v.AVCConnection.EventCode.AVCStateChange:this._handlerStateChange(t.data);break;case v.AVCConnection.EventCode.WssClose:break;case v.AVCConnection.EventCode.Launch:this._handlerLaunchEvent(t.data,r);break;case v.AVCConnection.EventCode.Qos:var n,o=D(D({},t.data),null===(n=this.videoPlayer)||void 0===n?void 0:n.getPlayerParams());if(k.default.sendRtt(),k.default.receiveRtt(1e3*o.networkDelay),k.default.notifyPacketLoss(o.packetsLost),k.default.notifyKbps(o.bitsPerSecond/1024),k.default.setVideoSize(o.frameWidth,o.frameHight),o.framePerSecond<o.framePerSecondSetting*this.lowerFpsConfig.lowerReceiveFps&&this.isNetworkConnected){var i,a=Date.now();(0==this.fpsReceiveReportTimer||a-this.fpsReceiveReportTimer>=this.lowerFpsConfig.intervalTime)&&(null===(i=this.waterReport)||void 0===i||i.report(T.ReportCode.LowerReceiveFPS),this.fpsReceiveReportTimer=a)}if(o.framePerSecondReal<o.framePerSecond*this.lowerFpsConfig.lowerRenderFps&&this.isNetworkConnected){var s,u=Date.now();(0==this.fpsRenderReportTimer||u-this.fpsRenderReportTimer>=this.lowerFpsConfig.intervalTime)&&(null===(s=this.waterReport)||void 0===s||s.report(T.ReportCode.LowerRenderFPS),this.fpsRenderReportTimer=u)}if(this.weakNetworkConfig.accessKey&&(this.weakNetworkConfig.rtt<=1e3*o.networkDelay||this.weakNetworkConfig.lossRate<=100*o.packetsLost)){var c,l=Date.now();(0==this.waterReportTimer||l-this.waterReportTimer>=this.weakNetworkConfig.intervalTime)&&(null===(c=this.waterReport)||void 0===c||c.report(T.ReportCode.NetworkBad),this.waterReportTimer=l)}this.options.listenQos(o);break;case v.AVCConnection.EventCode.IdrEvent:t.data.request?k.default.requireIdr():this.videoPlayer&&this.videoPlayer.notifyReceiveIdr(t.data.num);break;case v.AVCConnection.EventCode.RtcSupportError:var f,d=t.data.code;null===(f=this.waterReport)||void 0===f||f.report(d)}}},{key:"_reStartLightplay",value:function(){var e=(0,n.default)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info(this.TAG,"Execute lightplay api _reStartLightplay"),this.waterReport=null,e.prev=2,e.next=5,this._quitServer();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.logger.error(this.TAG,"restart lighptlay quit server error => ".concat(JSON.stringify(e.t0)));case 10:this.unInit(),this.startGame();case 12:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_handlerAVCData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"video"===e.mediaType&&e.data&&this.videoPlayer&&this.videoPlayer.appendSource(e.data),"audio"===e.mediaType&&e.data&&this.audioPlayer&&this.audioPlayer&&this.audioPlayer.appendBytes(e.data),"control"===e.mediaType&&e.data&&this._onControlMessageReceived(e.data)}},{key:"_afterAudioChannelSuccess",value:function(){var e;null===(e=this.waterReport)||void 0===e||e.report(T.ReportCode.AudioLinkSuccess)}},{key:"_afterAudioChannelFailed",value:function(){var e;null===(e=this.waterReport)||void 0===e||e.report(T.ReportCode.AudioLinkFailed)}},{key:"_handlerAfterAVCControlOpen",value:function(){this.controlCenter&&this.controlCenter.destroy(),this._startControl(),this._sendACK(),this.setLockKey({capsLock:!1,numLock:!0})}},{key:"_isApplyGamepadSuccess",value:function(e){return e===T.ReportCode.ApplyGamepadSuccess||e===T.ReportCode.AuthRemoteGamepadSuccess||e===T.ReportCode.ApplyRemoteGamepadSuccess}},{key:"_vpadEvent",value:function(){var e=(0,n.default)(x().mark((function e(t,r){var n,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._beSendFunc(t,r);case 2:n=e.sent,e.t0=t,e.next="AllocVPad"===e.t0?6:"FreeVPad"===e.t0?16:21;break;case 6:if(!(n&&n.ret&&n.payload)){e.next=13;break}if(this.logger.info(this.TAG,"apply gamepad result =>".concat(JSON.stringify(n.payload))),!this._isApplyGamepadSuccess(n.payload.result?n.payload.result.gerrcode:T.ReportCode.ApplyGamepadFailed)){e.next=11;break}return this.logger.info(this.TAG,"apply gamepad success"),e.abrupt("return",{dpadId:n.payload.dpadId,vpadId:n.payload.vpadId});case 11:e.next=14;break;case 13:this.logger.error(this.TAG,"apply gamepad failed =>".concat(n?n.msg:"network error"));case 14:return null===(o=this.waterReport)||void 0===o||o.report(n&&n.payload&&n.payload.result?n.payload.result.gerrcode:T.ReportCode.ApplyGamepadFailed),e.abrupt("return",null);case 16:if(!(n&&n.ret&&n.payload)){e.next=19;break}return this.logger.info(this.TAG,"release gamepad result =>".concat(JSON.stringify(n.payload))),e.abrupt("return",{dpadId:n.payload.dpadId,vpadId:n.payload.vpadId});case 19:return this.logger.error(this.TAG,"release gamepad failed =>".concat(n?n.msg:"network error")),e.abrupt("return",null);case 21:return e.abrupt("break",22);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_beSendFunc",value:function(){var e=(0,n.default)(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.allocResource){e.next=2;break}return e.abrupt("return",this.allocResource.sendBeMessage(t,r));case 2:return e.abrupt("return",null);case 3:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_isSameInstance",value:function(){return!!(this.options.allowChangeScreen||this.options.allowHelp||this.options.allowFight||this.options.allowMeeting||this.options.playWay!==v.PLAY_WAY.default)}},{key:"_initAudioRecord",value:function(){this.audioRecorder||(this.audioRecorder=new C.AudioRecord({logger:this.logger,opusEncoder:this.options.staticResources.opusEncoder,isSimple:!1}))}},{key:"doAudioRecord",value:function(){var e=(0,n.default)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info(this.TAG,"Execute lightplay api doAudioRecord,params:status->".concat(t)),this.supportInputAudioMode===l.AudioInputMode.Manual){e.next=3;break}return e.abrupt("return",!1);case 3:e.t0=t,e.next="start"===e.t0?6:"shutdown"===e.t0?11:16;break;case 6:if(!this.audioRecorder){e.next=10;break}return e.next=9,this.audioRecorder.start();case 9:case 14:return e.abrupt("return",!0);case 10:case 15:case 16:return e.abrupt("break",17);case 11:if(!this.audioRecorder){e.next=15;break}return e.next=14,this.audioRecorder.shutdown();case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_startControl",value:function(){var e,t,r,n;this.logger.info(this.TAG,"startControl");var o=null===(e=this.videoPlayer)||void 0===e?void 0:e.getVideoTag();if(o){var i,a,s,u,c=this._getGamepadConfigIn(),d=this.options.gameType===l.DF_DEVICE_TYPE.MOBILE_PC&&(null===(t=this.gamepadConfigProcess)||void 0===t?void 0:t.getIsMouseEnable())||this.options.gameType===l.DF_DEVICE_TYPE.MOBILE_MOBILE;if(this.controlCenter=new f.default({bizId:this.options.bizId,openDebugKeyboard:this._openDebugKeyboard.bind(this),rotation:this.options.rotation,viewDirection:this.options.viewDirection,videoTag:o,send:this._sendGameControlMessage.bind(this),vpadEvent:this._vpadEvent.bind(this),useLocalMouse:this.options.useLocalMouse,localMouseIgnoreHide:this.options.localMouseIgnoreHide,logger:this.logger,waterReport:this.waterReport||{report:function(){},setEventTcStartMs:function(){}},vpadInfo:this.allocResource&&this.allocResource.vpadInfo||[],touch:d,touchResize:d,mouse:this.options.gameType===l.DF_DEVICE_TYPE.PC_PC||this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILEMOUSE,mouse2Touch:this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILE,keyboard2Touch:this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILE||this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILEMOUSE,keyboard2TouchConfig:c?(0,_.rebuildKeyboard2TouchConfig)(c):void 0,gamepad:!0,getGamepadConfig:this.getGamePadConfig.bind(this),dealGamePadEvent:this.dealGamePadEvent.bind(this),allowMulGamepad:!this._isSameInstance(),keyboard:this.options.gameType===l.DF_DEVICE_TYPE.PC_PC,copy:!0,nativeChineseInput:this.options.useNativeKeyboard,fullScreenPlay:this.options.fullScreenPlay,enablePointermove:this.options.usePointerMove,rightClickMouseRelativeMove:!!this.rightClickMouseRelativeMove,allowListenXboxGamepad:this.options.allowListenXboxGamepad,onTransformChange:this.options.handleVideoTransform,eventCallback:this._controlCenterEvent.bind(this),isContainerPlay:this.options.isContainerPlay,wheelToTouchScale:this.options.wheelToTouchScale,minSendRepeatDelay:null===(r=this.gamepadConfigProcess)||void 0===r?void 0:r.getMinDelaySendKeyboardRepeat(),debugKeyboard:this.options.debugKeyboard||!1}),null===(n=this.audioRecorder)||void 0===n||n.setControlCenter(this._sendAudioData.bind(this)),this.gamepadConfigProcess&&(null===(i=this.controlCenter.mouseControl)||void 0===i||i.updateMouseWhellSensitivity(this.gamepadConfigProcess.getMouseWheelSensitivity())),this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILEMOUSE&&(this.gameWindowShowMode=0,this.controlCenter&&this.controlCenter.setGameWindowShowMode(this.gameWindowShowMode)),!(0,l.ismobile)()&&this.controlCenter&&this.controlCenter.keyboardControl){var h=this.controlCenter.keyboardControl.sendEsc.bind(this.controlCenter.keyboardControl);this.controlCenter.dispatch(f.default.InputType.Mouse,{fun:"setSendKeyboardEsc",arg:[h]})}this.allocResource&&(null===(a=this.gamepadConfigProcess)||void 0===a||a.stop(),null===(s=this.gamepadConfigProcess)||void 0===s||s.start((null===(u=this.allocResource)||void 0===u?void 0:u.gamePadConfig)||void 0)),(this.options.gameType===l.DF_DEVICE_TYPE.MOBILE_MOBILE||this.options.gameType===l.DF_DEVICE_TYPE.MOBILE_PC&&this.controlCenter&&this.controlCenter.touchControl&&this.controlCenter.touchControl.getTouchPcMode()===l.TouchPcMode.WindowsTouch)&&this._changeTouchType(null),this._waitChangeMouse&&this._waitChangeMouse(),this.alwaysShowCursor&&this.controlCenter&&this.controlCenter.setAlwaysShowCursor(this.alwaysShowCursor)}else this.logger.error(this.TAG,"videoTag is missing")}},{key:"_controlCenterEvent",value:function(e){}},{key:"_openDebugKeyboard",value:function(){var e=(0,n.default)(x().mark((function e(t){var r,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=this.avcConnection)||void 0===r?void 0:r.sendDebugKeyboard(t);case 2:n=e.sent,t?(this._window.debugKeyboard=!0,(0,b.toast)("日志debugger模式已打开",{container:this.options.container})):this._window.debugKeyboard=!1,this.logger.info(this.TAG,"send ls debugKeyboard resp：".concat(JSON.stringify(n)," "));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_sendGameControlMessage",value:function(e){if(this.interceptControl)this.logger.info(this.TAG,"按键被屏蔽了");else{var t;if(this.options.interceptFirstControl&&this.isFirstControl)return this.isFirstControl=!1,void(null===(t=this.waterReport)||void 0===t||t.report(T.ReportCode.InterceptFirstControl));this._sendControlMessage(e)}}},{key:"_sendControlMessage",value:function(e){try{var t;(null===(t=this.avcConnection)||void 0===t?void 0:t.getStatus())===v.AVCConnection.ConnectStatus.Connected&&(null==e?void 0:e.byteLength)>0&&this.avcConnection.sendControlBytes(e)}catch(t){var r;this.isNetworkConnected&&this.logger.info(this.TAG,"控制发送失败,状态：".concat(null===(r=this.avcConnection)||void 0===r?void 0:r.getStatus(),"；数据：").concat(JSON.stringify(null==e?void 0:e.byteLength)))}}},{key:"_sendACK",value:function(){var e=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.StartA}),t=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.StartB});e&&t?(this._sendControlMessage(e),this._sendControlMessage(t),this.logger.info(this.TAG,"send startA and startB")):this.logger.error(this.TAG,"encode startA and startB failed")}},{key:"_dealInputData",value:function(e){switch(null==e?void 0:e.childType){case c.ControlMessage.InputData.TransPackets:this.logger.info(this.TAG,"收到游戏透传消息：".concat(e.originalData.byte)),this.onGameDataListener(e.originalData);break;case c.ControlMessage.InputData.VibrateNotify:var t;this.controlCenter&&this.controlCenter.dispatch(f.default.InputType.Gamepad,{fun:"vibration",arg:[e.activeGamepadMask,e.leftMotorSpeed/255,e.rightMotorSpeed/255]}),this._isVibrationMobile?null===(t=this.gamepadDriver)||void 0===t||t.vibration(e.activeGamepadMask,e.leftMotorSpeed,e.rightMotorSpeed):this.logger.info(this.TAG,"phone vibration is close")}}},{key:"_onControlMessageReceived",value:function(e){if(e)switch(e.type){case c.ControlMessage.TransportHeaderTypes.NotifyType:this._dealNotifyMessage(e);break;case c.ControlMessage.TransportHeaderTypes.InputData:this._dealInputData(e);break;case c.ControlMessage.TransportHeaderTypes.Query:this.AudioCallback&&this.AudioCallback(e.volume)}}},{key:"_handlerMouseChange",value:function(e){var t,r=this;if(this.options.handlerMouseChange(!!e.isHide),this._triggerMouseModeChange(e),this.options.gameType===l.DF_DEVICE_TYPE.PC_PC)this.controlCenter?(this._waitChangeMouse=null,null===(t=this.controlCenter.mouseControl)||void 0===t||t.changeMouseCursor(D(D({},e),{},{isHide:!!e.isHide}))):this._waitChangeMouse=function(){var t,n;null===(t=r.controlCenter)||void 0===t||null===(n=t.mouseControl)||void 0===n||n.changeMouseCursor(D(D({},e),{},{isHide:!!e.isHide})),r.logger.info(r.TAG,"change mouse after create control center")};else if(this.options.gameType===l.DF_DEVICE_TYPE.MOBILE_PC){var n;null===(n=this.gamepadConfigProcess)||void 0===n||n.eventMouseChange(D(D({},e),{},{isHide:!!e.isHide}))}this._yongjieSpecalDeal(e)}},{key:"_triggerMouseModeChange",value:function(e){var t;this.currentMouseHide!==e.isHide&&(t=1088!==parseInt("".concat(this.options.gameId),10)&&1492!==parseInt("".concat(this.options.gameId),10)&&1443!==parseInt("".concat(this.options.gameId),10)&&1483!==parseInt("".concat(this.options.gameId),10)&&1444!==parseInt("".concat(this.options.gameId),10)&&1484!==parseInt("".concat(this.options.gameId),10)||1!==this.gameWindowShowMode?e.isHide:0,this.options.handleMouseModeChangeListener({isFps:t}),this.currentMouseHide=e.isHide)}},{key:"_yongjieSpecalDeal",value:function(e){var t=this;1088!==parseInt("".concat(this.options.gameId),10)&&1492!==parseInt("".concat(this.options.gameId),10)&&1443!==parseInt("".concat(this.options.gameId),10)&&1483!==parseInt("".concat(this.options.gameId),10)&&1444!==parseInt("".concat(this.options.gameId),10)&&1484!==parseInt("".concat(this.options.gameId),10)||16!==e.iconType||this.yongjieSpecialDealDone||(this.yongjieSpecialDealDone=!0,setTimeout((function(){var e;console.log("永劫无间偶现黑屏需手动点击触发"),null===(e=t.controlCenter)||void 0===e||e.triggerMouseDown(),setTimeout((function(){var e;null===(e=t.controlCenter)||void 0===e||e.triggerMouseUp()}),5)}),500))}},{key:"_yongjieSpecalDealStartShowMouse",value:function(){var e;1088!==parseInt("".concat(this.options.gameId),10)&&1492!==parseInt("".concat(this.options.gameId),10)&&1443!==parseInt("".concat(this.options.gameId),10)&&1483!==parseInt("".concat(this.options.gameId),10)&&1444!==parseInt("".concat(this.options.gameId),10)&&1484!==parseInt("".concat(this.options.gameId),10)||1!==this.currentMouseHide||null===(e=this.controlCenter)||void 0===e||e.triggerMouseMove(1,0)}},{key:"_afterReceiveReadyRender",value:function(){var e,t=this;this.waitRRTimer&&(this.logger.info(this.TAG,"clear waitRRTimer"),clearTimeout(this.waitRRTimer),this.waitRRTimer=null,null===(e=this.waterReport)||void 0===e||e.report(T.ReportCode.ControlGetReadyRender),this._rr2||(this.closeLoadingTimer&&clearTimeout(this.closeLoadingTimer),this.closeLoadingTimer=setTimeout((function(){var e;t._rr2=!0,null===(e=t.waterReport)||void 0===e||e.report(T.ReportCode.ReadyRender2AfterWaitTime),t._afterReceiveReadyRender2()}),1e3*this.waitSecondsAfterRR1||0)))}},{key:"_afterReceiveReadyRender2",value:function(){var e=(0,n.default)(x().mark((function e(){var t,r,n,o,i,a,s,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.waterReport)||void 0===t||t.report(T.ReportCode.GameStartRender),null===(r=this.waterReport)||void 0===r||r.report(T.ReportCode.GameViewShow),null===(n=this.waterReport)||void 0===n||n.report(T.ReportCode.FirstRenderSuccess),null===(o=this.audioPlayer)||void 0===o||o.play(),null===(i=this.videoPlayer)||void 0===i||i.play(),null===(a=this.videoPlayer)||void 0===a||a.playAudio(),this._yongjieSpecalDealStartShowMouse(),this.gamepadConfigProcess&&this.setScalFactor(this.gamepadConfigProcess.getScaleFactor()),this.options.openQualityReport&&(this.logger.info(this.TAG,"device frame delay is ".concat(this.deviceFrameDelay)),k.default.setLog(this.logger),k.default.setUseDevReportModule(this.options.useDevQualityReport),k.default.setInitOptions({ugid:this.options.gameId,appid:this.options.appId,uuid:parseInt("".concat(this.allocResource?this.allocResource.unionUserId:this.launchData.userId),10),flowId:this.allocResource?this.allocResource.flowId:this.launchData.flowId,vmid:this.allocResource?this.allocResource.vmId:0,areaType:this.allocResource?this.allocResource.areaType:0,sdkType:(0,l.ismobile)()?"web-phone":"web-pc",sdkVersion:G.version,lsVersion:this.lsVersion,resolution:this.options.resolution,clientAdress:this.allocResource?this.allocResource.clientAddress:"",clientIsp:this.allocResource?this.allocResource.clientIsp:"",clientProvince:this.allocResource?this.allocResource.clientProvince:"",clientCountry:this.allocResource?this.allocResource.clientCountry:"",clientCity:this.allocResource?this.allocResource.clientCity:"",model:window.navigator.userAgent,netType:(null===(s=this.networkDetection)||void 0===s?void 0:s.getType())||"",isMigu:(0,l.isMigu)(this.options.appId),fpsSetting:this.options.fps,bitrateLevel:parseInt("".concat(this.options.videoLevel),10),protocal:this.connectionType===v.AVCConnection.ConnectType.WebrtcVideo?(0,k.getReportEnum)().LsProtocal.Webrtc:(0,k.getReportEnum)().LsProtocal.Websocket,videoEncodeType:(0,k.getReportEnum)().VideoEncodeType.H264,isDebug:this.options.isQualityReportDebug,deviceFrameDelay:this.deviceFrameDelay>0?this.deviceFrameDelay:16.5,pingGameBeUrl:this.allocResource?this.allocResource.pingBeWssUrl:"",pingGameBeIdc:this.allocResource?this.allocResource.pingBeIdc:0},this.options.forceReportDetailQuality),k.default.loadReportScript(this.options.staticResources.qualityWorkerPath||l.OssSource.qualityPath)),this.avcConnection){e.next=12;break}return this.logger.error(this.TAG,"avcconnection is missing when create FileTransfer"),e.abrupt("return");case 12:u=this.avcConnection.getNowDomain()||"",this.fileTranser&&u===this.fileTranser.getDomain()||(this.fileTranser=new d.FileTransfer({logger:this.logger,domain:u,port:this.avcConnection.getLaunchPort(),flowId:this.avcConnection.getAVCFlowId(),clientType:(0,l.getClientType)(this.options.bizId),deviceId:this.devId,sdkVersion:G.version}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_dealNotifyMessage",value:function(e){var t=this;switch((null==e?void 0:e.childType)!=c.ControlMessage.NotifyType.mouseChange&&this.logger.info(this.TAG,"Execute lightplay api _dealNotifyMessage,params:data->".concat(JSON.stringify(e))),null==e?void 0:e.childType){case c.ControlMessage.NotifyType.readyRender:this._afterReceiveReadyRender();break;case c.ControlMessage.NotifyType.readyRender2:var r;if(this._rr2)return;this._rr2=!0,this.closeLoadingTimer&&clearTimeout(this.closeLoadingTimer),null===(r=this.waterReport)||void 0===r||r.report(T.ReportCode.ControlGetReadyRender2),this._afterReceiveReadyRender2();break;case c.ControlMessage.NotifyType.inputPadShow:var n,o,i,a;console.log("拉起软键盘"),null!==(n=this.controlCenter)&&void 0!==n&&n.keyboard2TouchControl&&this.controlCenter.keyboard2TouchControl.setInputMode(!0),null!==(o=this.controlCenter)&&void 0!==o&&o.nativeChineseInputControl&&(this.controlCenter.nativeChineseInputControl.setInputMode(!0),this.controlCenter.nativeChineseInputControl.show().focus()),null===(i=this.waterReport)||void 0===i||i.report(T.ReportCode.ShowKeyboard),null===(a=this.waterReport)||void 0===a||a.report(T.ReportCode.ShowKeyboard2025);break;case c.ControlMessage.NotifyType.inputPadHide:var s,u,f;console.log("隐藏软键盘"),null!==(s=this.controlCenter)&&void 0!==s&&s.keyboard2TouchControl&&this.controlCenter.keyboard2TouchControl.setInputMode(!1),null!==(u=this.controlCenter)&&void 0!==u&&u.nativeChineseInputControl&&(this.controlCenter.nativeChineseInputControl.setInputMode(!1),this.controlCenter.nativeChineseInputControl.hide()),null===(f=this.waterReport)||void 0===f||f.report(T.ReportCode.HideKeyboard);break;case c.ControlMessage.NotifyType.mouseChange:this._handlerMouseChange(e);break;case c.ControlMessage.NotifyType.orientationChange:var d,h;if(null===(d=this.controlCenter)||void 0===d||d.changeRotation(1===e.rotation?l.GAME_SCREEN_RATATION.PORTRAIT:l.GAME_SCREEN_RATATION.LANDSCAPE),this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILE||this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILEMOUSE)if(1===e.rotation)null===(h=this.sdkUi)||void 0===h||h.updateViewDirection(l.GAME_SCREEN_RATATION.PORTRAIT);else if(0===e.rotation){var p;null===(p=this.sdkUi)||void 0===p||p.updateViewDirection(l.GAME_SCREEN_RATATION.LANDSCAPE)}break;case c.ControlMessage.NotifyType.GameWindowReady:var v;null===(v=this.waterReport)||void 0===v||v.report(T.ReportCode.GameWindowReady);break;case c.ControlMessage.NotifyType.GameSpecialWindowShow:this.logger.info(this.TAG,"GameSpecialWindowShow mode: ".concat(e.mode)),this.options.gameType===l.DF_DEVICE_TYPE.PC_MOBILE?(this.gameWindowShowMode=e.mode,this.controlCenter&&this.controlCenter.setGameWindowShowMode(this.gameWindowShowMode)):1088!==parseInt("".concat(this.options.gameId),10)&&1492!==parseInt("".concat(this.options.gameId),10)&&1443!==parseInt("".concat(this.options.gameId),10)&&1483!==parseInt("".concat(this.options.gameId),10)&&1444!==parseInt("".concat(this.options.gameId),10)&&1484!==parseInt("".concat(this.options.gameId),10)||(this.gameWindowShowMode=e.mode,1===this.gameWindowShowMode&&this.options.handleMouseModeChangeListener({isFps:0}));break;case c.ControlMessage.NotifyType.BandwidthVideoLevel:var y;this.logger.info(this.TAG,"BandwidthVideoLevel: ".concat(JSON.stringify(e))),null===(y=this.waterReport)||void 0===y||y.report(T.ReportCode.RecommendVideoLevel,void 0,void 0,{videoLevel:e.videoLevel,bandwidth:e.bandwidth});break;case c.ControlMessage.NotifyType.PacketTypeQos:break;case c.ControlMessage.NotifyType.CopyMessage:this._handlerCopyRemoteMsg(e);break;case c.ControlMessage.NotifyType.OpenMicAndCamera:if(this.supportInputAudioMode===l.AudioInputMode.Auto)try{var g,m;e.mic?(null===(g=this.audioRecorder)||void 0===g||g.start(),this.logger.info(this.TAG,"start recorder at mode 2")):(null===(m=this.audioRecorder)||void 0===m||m.shutdown(),this.logger.info(this.TAG,"shutdown recorder at mode 2"))}catch(e){this.logger.info(this.TAG,"change mic status error => ".concat(JSON.stringify(e)))}break;case c.ControlMessage.NotifyType.ChangeVqLevel:this.logger.info(this.TAG,"ChangeVqLevel: ".concat(JSON.stringify(e))),this.options.handleGameStatusCode("切换挡位成功",T.ErrorCode.SUCCESS_CHANGE_VQ_LEVEL,0,e.videoLevel);break;case c.ControlMessage.NotifyType.OpenFileOrUrl:var w=e.mode,_=e.content;if(w===l.OpenFileOrUrlMode.File)var k=(0,b.showConfirm)("是否将截图保存到手机本地？",{container:this.options.container,cancelCallback:function(){k.destroy()},submitCallback:function(){if(k.destroy(),t.options.autoDownloadFile)t.downloadLsImage(_,(function(e){e()||t.logger.error(t.TAG,"download image failed")}));else{var e,r="";t.fileTranser&&(r=null===(e=t.fileTranser)||void 0===e?void 0:e.getUrl(_)),t.options.handleFileDownloadListener(_,r),t.dsAppDownload(r)}}});break;case c.ControlMessage.NotifyType.UploadImage:var E=function(){var e=null;t.uploadImageToLs((function(r){var n=(0,b.showWaitUploadImage)({container:t.options.container});e=n.destroy,r()}),(function(r,n,o){e&&e(),r||((0,b.toast)("图片上传失败，请稍后再试",{container:t.options.container}),t.logger.error(t.TAG,"upload image failed => ".concat(o)))}))};this.options.listenPermission(l.PermissionMap.ChooseImage,E.bind(this));break;case c.ControlMessage.NotifyType.CheckDevice:e.sensorType.includes(l.SensorTypeMap.GPS)&&navigator.geolocation.getCurrentPosition((function(e){var r=e.coords,n=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.DeviceInfo,data:{sensorType:l.SensorTypeMap.GPS,dataList:[r.longitude,r.latitude,r.altitude||0]}});n&&t._sendControlMessage(n)}),(function(e){t.logger.error(t.TAG,"ERROR("+e.code+"): "+e.message)}),{enableHighAccuracy:!0,timeout:6e4,maximumAge:0})}}},{key:"dsAppDownload",value:function(e){var t,r,n=this;null!==(t=this._window.ds)&&void 0!==t&&t.isGodlike&&(null===(r=this._window.ds)||void 0===r||r.callHandler("downloadImage",{url:e,isShowProgressTips:1}).then((function(e){var t=e.code,r=e.msg;200!==t?(0,b.toast)(r,{container:n.options.container}):(0,b.toast)("下载成功",{container:n.options.container})})))}},{key:"_handlerCopyRemoteMsg",value:function(){var e=(0,n.default)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.copyMsgSafe)(t.message);case 2:e.sent?this.logger.info(this.TAG,"copy remote data => ".concat(JSON.stringify(t)," success")):(this.logger.error(this.TAG,"copy remote data => ".concat(JSON.stringify(t)," failed")),this.options.showCopyFailPrompt&&prompt("复制到粘贴板失败，待复制内容：",t.message)&&(0,l.copyMsgSafe)(t.message));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_handlerStateChange",value:function(e){switch(this.logger.info(this.TAG,"Execute lightplay api _handlerStateChange,params:state->".concat(JSON.stringify(e))),e){case"connected":var t;this.isRelaunching=!1,null===(t=this.waterReport)||void 0===t||t.report(T.ReportCode.VideoLinkSuccess,"video stream on opened"),this.logger.info(this.TAG,"avc connected"),this._onAVCConnected(),this._afterAudioChannelSuccess(),this._handlerAfterAVCControlOpen();break;case"failed":var r;if(this.isRelaunching=!1,this.allocResource&&this.allocResource.getStatus()!==m.LightPlayAllocResource.playStatus.PS_DESTROY)this.logger.info(this.TAG,"avc failed"),this.isNetworkConnected&&(null===(r=this.waterReport)||void 0===r||r.report(T.ReportCode.ControlLinkFailed),this._afterAudioChannelFailed()),this.isGameCloseByTerminal||this._onAVCDisconnect();break;case"failedRetryOnce":var n;if(this.isRelaunching=!1,this.options.instanceTagUuid)return this.logger.info(this.TAG,"AVC连接失败了，同实例模式无需重新置换资源，最终报串流失败"),void(null===(n=this.waterReport)||void 0===n||n.report(T.ReportCode.ConnectAVCFail));this.logger.info(this.TAG,"AVC连接失败了，尝试重新置换资源");try{this._quitLS(),this._quitAVC(),this.allocResource&&(this.allocResource.updateIsReAlloc(!0),this.allocResource.switchTo(m.LightPlayAllocResource.playStatus.PS_ALLOCRESOURCE))}catch(e){var o;this.logger.info(this.TAG,"AVC连接失败了，尝试置换资源失败，最终报串流失败"),null===(o=this.waterReport)||void 0===o||o.report(T.ReportCode.ConnectAVCFail)}}}},{key:"_handlerLaunchEvent",value:function(e,t){var r=this;if(this.logger.info(this.TAG,"Execute lightplay api _handlerLaunchEvent,params:data->".concat(JSON.stringify(e),",isConnectedBefore->").concat(t)),this.bInitialized)switch(e.code){case 0:this.audioRecorder&&this.audioRecorder.updateAudioSimple(8008009-e.lsVersion>=0),this.lsVersion=e.lsVersion||0,this.rightClickMouseRelativeMove=e.rightClickMouseRelativeMove,this.webrtcSignalingPort=e.webrtcSignalingPort,this.videoPort=e.videoPort,this.audioPort=e.audioPort,this.controlPort=e.controlPort,this.waitSecondsAfterRR1=e.waitSecondsAfterRR1||0,this.supportInputAudioMode=e.supportInputAudioMode,this.hasRenderFirstFrame=!1,this.waitRRTimer&&clearTimeout(this.waitRRTimer),this.waitRRTimer=setTimeout((function(){var e;r.logger.info(r.TAG,"be ready render timeout, timer => ".concat(r.waitRRTimer)),null===(e=r.waterReport)||void 0===e||e.report(T.ReportCode.BeReadyRenderTimeout),r.waitRRTimer=null}),1e3*e.startupWaitSeconds),this._renderReady();break;case v.AVCConnection.ReportCode.QuitLSSuccess:var n;null===(n=this.waterReport)||void 0===n||n.report(T.ReportCode.QuitLSSuccess);break;case v.AVCConnection.ReportCode.QuitLSFailed:var o;null===(o=this.waterReport)||void 0===o||o.report(T.ReportCode.QuitLSFailed);break;default:var i,a,s;(null===(i=this.waterReport)||void 0===i?void 0:i.report(e.code))||(this.allocResource&&!this.options.instanceTagUuid?this.allocResource.isReAllocResource||t?null===(a=this.waterReport)||void 0===a||a.report(T.ReportCode.LaunchError,"code=".concat(e.code),"launch fail "):(this.allocResource.updateIsReAlloc(!0),this.allocResource.switchTo(m.LightPlayAllocResource.playStatus.PS_ALLOCRESOURCE)):null===(s=this.waterReport)||void 0===s||s.report(T.ReportCode.LaunchError,"code=".concat(e.code),"launch fail"))}}},{key:"_showSoftDecoder",value:function(){var e,t=this;this.options.shouldShowSoftDecoder&&(this.softeDecoderStyle||(this.softeDecoderStyle=document.createElement("style"),this.softeDecoderStyle.innerHTML=".sdk_warnning{position: absolute;left:0;top:0;z-index: 1000;width: 100%;height: 100%;background: rgba(0, 0, 0, 0.7);color: #fff;text-align: center;}.sdk_warnning_btn{cursor: pointer;text-align: center;background: #000;border-radius: 20px;border:1px solid #fff;color:#fff;padding:10px 20px;}.sdk_warnning_tips{position: absolute;top: 50%;left: 50%;transform: translate(-50%,-55%);}",document.head.appendChild(this.softeDecoderStyle)),this.softeDecoderHtml?this.softeDecoderHtml.style.display="block":(this.softeDecoderHtml=document.createElement("div"),this.softeDecoderHtml.innerHTML='\n            <div id="sdk_warnning" class="sdk_warnning">\n            <div class="sdk_warnning_tips">\n              <p>检测到您使用的浏览器性能不佳，可能会影响游戏体验。<br>\n              为了获得更好的云游戏体验效果，我们强烈建议您使用最新版 Chrome 浏览器。</p>\n              <button class="sdk_warnning_btn" id="resumeGameBtn">好的</button>\n            </div>\n          </div>',this.options.container.appendChild(this.softeDecoderHtml),null===(e=document.getElementById("resumeGameBtn"))||void 0===e||e.addEventListener("click",(function(){t.softeDecoderHtml&&(t.softeDecoderHtml.style.display="none")}),!1)))}},{key:"_onAVCConnected",value:function(){var e,t,r=this;setTimeout((function(){try{r.options.onConnectionChange(!0)}catch(e){}}),0),this.logger.info(this.TAG,"onAVCConnected"),this.allocResource&&this.allocResource.isReAllocResource?null===(e=this.waterReport)||void 0===e||e.report(T.ReportCode.ConnectAVCSuccessReAlloc):null===(t=this.waterReport)||void 0===t||t.report(T.ReportCode.ConnectAVCSuccess),this.reStartAVCTimer&&clearInterval(this.reStartAVCTimer),this.offlineTimer&&clearTimeout(this.offlineTimer),this.reStartAVCTimer=null,this._onEnterGameSuccessed(),this.toSendgamedataList.forEach((function(e){r.sendGameData(e)})),this.toSendgamedataList=[],this._isSameInstance()&&!this.firstConnected&&(this.firstConnected=!0,this.allocResource&&this.allocResource.notifyAVCConnecteStatus(!0))}},{key:"_onAVCDisconnect",value:function(){var e,t=this;setTimeout((function(){try{t.options.onConnectionChange(!1)}catch(e){}}),0),this.logger.info(this.TAG,"onAVCDisconnect, can relaunch immedite => ".concat(this.networkDetection&&this.networkDetection.getIsOnLine())),this._rr2=!1,this.isResetResolution||(null===(e=this.waterReport)||void 0===e||e.report(T.ReportCode.StreamDisconneted),this._reLaunchGame())}},{key:"_renderReady",value:function(){this.logger.info(this.TAG,"start renderReady");try{this._startAVC()}catch(e){this.logger.error(this.TAG,"startAVC exception:".concat(e.toString()))}}},{key:"_startAVC",value:function(){var e,t,r;this.allocResource&&this.allocResource.isReAllocResource?null===(t=this.waterReport)||void 0===t||t.setEventTcStartMs(T.ReportCode.ConnectAVCSuccessReAlloc,Date.now()):null===(r=this.waterReport)||void 0===r||r.setEventTcStartMs(T.ReportCode.ConnectAVCSuccess,Date.now()),null===(e=this.avcConnection)||void 0===e||e.start({signPort:this.webrtcSignalingPort,videoPort:this.videoPort,audioPort:this.audioPort,controlPort:this.controlPort})}},{key:"_onEnterGameSuccessed",value:function(){var e,t,r=this;null===(e=this.sdkUi)||void 0===e||e.updateViewDirection(),this.networkDetection||(this.networkDetection=new w.default({onNetworkChanged:function(e,t){if(r.bInitialized)if(r.allocResource&&r.allocResource.updateNetWorkType((0,l.getNetworkType)()),k.default.networkType(t),r.logger.info(r.TAG,"network change => ".concat(e)),e){var n,o;r.isNetworkConnected=!0,r.offlineTimer&&clearTimeout(r.offlineTimer),"wifi"===t?null===(n=r.waterReport)||void 0===n||n.report(T.ReportCode.ChangeToWifi):null===(o=r.waterReport)||void 0===o||o.report(T.ReportCode.ChangeTo4G),r._reLaunchGame()}else{var i;r.isNetworkConnected=!1,r.isRelaunching=!1,r.avcConnection&&(r.avcConnection.isLaunching=!1),r.offlineTimer&&clearTimeout(r.offlineTimer),r.offlineTimer=setTimeout((function(){var e;r.bInitialized&&(null===(e=r.waterReport)||void 0===e||e.report(T.ReportCode.GameStatusCloseByNetwork)),r.offlineTimer=null}),5e4),null===(i=r.waterReport)||void 0===i||i.report(T.ReportCode.ChangeToOffline)}},logger:this.logger}),this.chromeFramerateTest()),this.bEnterGameSuccessed=!0,this.playerType===u.VideoPlayer.PlayerType.Canvas&&(this._showSoftDecoder(),null===(t=this.waterReport)||void 0===t||t.report(T.ReportCode.IsWebsoketLink))}},{key:"triggerPlay",value:function(){this.audioPlayer&&this.audioPlayer.play(),this.videoPlayer&&this.videoPlayer.play()}},{key:"reviewGame",value:function(){this.bInitialized?this._reviewGame():this.options.handleGameErrorCode("恢复失败，游戏已结束",T.ErrorCode.ERROR_REVIEW_FAILED,T.ErrorCode.ERROR_REVIEW_FAILED)}},{key:"_reviewGame",value:function(){var e,t,r,n,o,i,a;if(this.logger.info(this.TAG,"visibility before connection => status: ".concat((null===(e=this.allocResource)||void 0===e?void 0:e.getStatus())===m.LightPlayAllocResource.playStatus.PS_AVC_PLAYING,". connected:").concat((null===(t=this.avcConnection)||void 0===t?void 0:t.getStatus())===v.AVCConnection.ConnectStatus.Connected,", online: ").concat(!window.navigator||window.navigator.onLine)),(null===(r=this.avcConnection)||void 0===r?void 0:r.getStatus())!==v.AVCConnection.ConnectStatus.Launching)if((null===(n=this.allocResource)||void 0===n?void 0:n.getStatus())!==m.LightPlayAllocResource.playStatus.PS_AVC_PLAYING||(null===(o=this.avcConnection)||void 0===o?void 0:o.getStatus())===v.AVCConnection.ConnectStatus.Connected||window.navigator&&!window.navigator.onLine){var s;if((0,l.iosGreaterThan10)())return this._quitAVC(),void(null===(s=this.allocResource)||void 0===s||s.switchTo(m.LightPlayAllocResource.playStatus.PS_ALLOCRESOURCE,{forceReconnectBE:!0}));null===(i=this.audioPlayer)||void 0===i||i.play(),null===(a=this.videoPlayer)||void 0===a||a.play();var u=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InvalidateRefFrames});u&&(this._sendControlMessage(u),k.default.requireIdr())}else{var f;(0,l.iosGreaterThan10)()?(this._quitAVC(),null===(f=this.allocResource)||void 0===f||f.switchTo(m.LightPlayAllocResource.playStatus.PS_ALLOCRESOURCE,{forceReconnectBE:!0})):this._reAvc()}}},{key:"_reLaunchGame",value:function(){var e=(0,n.default)(x().mark((function e(){var t,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isRelaunching){e.next=2;break}return e.abrupt("return");case 2:if(this.isNetworkConnected){e.next=4;break}return e.abrupt("return");case 4:if(this.bInitialized){e.next=6;break}return e.abrupt("return");case 6:if(this.waitRRTimer&&clearTimeout(this.waitRRTimer),this.isRelaunching=!0,this.logger.info(this.TAG,"reLaunchGame"),null===(t=this.waterReport)||void 0===t||t.report(T.ReportCode.RelaunchGame),this._quitAVC(),this.options.serverMethod!==l.ServerMethod.Server){e.next=15;break}null===(r=this.allocResource)||void 0===r||r.switchTo(m.LightPlayAllocResource.playStatus.PS_REAPPLY_RESOURCE),e.next=17;break;case 15:return e.next=17,this._launchFun(this.launchData);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_videoFrameDecoded",value:function(e){this.avcConnection&&this.avcConnection.changeDecodeDelay(e/1e3)}},{key:"_startVideo",value:function(){var e,t=this;this.frameNumber=0;var r=Date.now();this.qosReportTime=Date.now(),this.videoPlayer=new u.VideoPlayer({waterReport:this.waterReport||{report:function(){},setEventTcStartMs:function(){}},container:this.options.container,playBtn:null===(e=this.sdkUi)||void 0===e?void 0:e.getStartBtn(),playerType:this.playerType,handlerStateChange:this._handlerVideoSatusChange.bind(this),logger:this.logger,decoderScript:this.options.decoderScript||this.options.staticResources.decodeBlob,wasmFile:this.options.avcWasmFile||this.options.staticResources.avcWasmFile,audioContext:N,fullScreenWileFirstClick:this.options.fullScreenWileFirstClick,videoFps:this.options.fps,isContainerPlay:this.options.isContainerPlay,muteAudioFirst:!1,localVolume:this.localVolume,startDecodeFrame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isIdr:!1,bitSize:0};(0,k.getReportEnum)()&&(0,k.getReportEnum)().VideoFrameType&&k.default.toStartDecodeFrame(t.frameNumber,e.bitSize,e.isIdr?(0,k.getReportEnum)().VideoFrameType.ReceiveIdr:(0,k.getReportEnum)().VideoFrameType.Picdata)},onDecoded:function(){(0,k.getReportEnum)()&&(0,k.getReportEnum)().VideoFrameType&&k.default.startRenderFrame(t.frameNumber),t._videoFrameDecoded(Date.now())},afterRenderFrame:function(){var e;t.hasRenderFirstFrame||(t.hasRenderFirstFrame=!0,null===(e=t.waterReport)||void 0===e||e.report(T.ReportCode.RenderFirstFrames),setTimeout((function(){var e;null===(e=t.controlCenter)||void 0===e||e.resetControlComputeBase()}))),k.default.endRenderFrame(t.frameNumber),t.options.listenFrame(t.frameNumber),t.frameNumber++;var n=Date.now();t.renderFrames.push({time:n,frameNumber:t.frameNumber}),n-r>=5e3&&(t.options.handleRenderFrames(t.renderFrames),t.renderFrames=[],r=n)},srTargetWidth:this.srTarWidth,srTargetHeight:this.srTarHeight})}},{key:"_startAudio",value:function(){this.audioPlayer=new g.AudioPlayer({waterReport:this.waterReport||{report:function(){},setEventTcStartMs:function(){}},wasmPath:this.options.wasmPath||this.options.staticResources.wasmPath||"",opusPath:this.options.opusPath||this.options.staticResources.opusBlob||"",logger:this.logger,audioContext:N,localVolume:this.localVolume})}},{key:"_handlerVideoSatusChange",value:function(e){switch(e.state){case"play":case"error":default:break;case"pause":(0,l.isiOS)()&&(0,l.isWeixinMiniProgramWebview)()&&this.bInitialized&&(this.audioPlayer&&this.audioPlayer.play(),this.videoPlayer&&this.videoPlayer.play());break;case"autoplay-error":this.options.handleGameStatusCode("浏览器不支持自动播放",T.ErrorCode.STATUS_AUTO_PLAY_NOT_SUPPORT,0)}}},{key:"_sendAudioData",value:function(e){var t=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InputAudioData,packetType:c.ControlMessage.InputAudioDataSetting.InputAudioData,data:D(D({},e),{},{isSimple:this.lsVersion-8008009>0})});t&&this._sendControlMessage(t)}},{key:"restartGame",value:function(){this.avcConnection&&this.avcConnection._sendRestartGame()}},{key:"adjustAudioVolume",value:function(e){this.logger.info(this.TAG,"Execute lightplay api adjustAudioVolume,params:volume->".concat(JSON.stringify(e))),e<0&&(e=0),e>100&&(e=100);var t=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.AdjustEncoderSetting,packetType:c.ControlMessage.AdjustEncoderSetting.AudioVolume,data:{volume:e}});t&&this._sendControlMessage(t)}},{key:"adjustAudioVolumeLocal",value:function(e){this.logger.info(this.TAG,"Execute lightplay api adjustAudioVolumeLocal,params:volume->".concat(JSON.stringify(e))),e<0&&(e=0),e>100&&(e=100),this.localVolume=e/100,this.videoPlayer&&this.videoPlayer.setVolume(this.localVolume),this.audioPlayer&&this.audioPlayer.setVolume(this.localVolume)}},{key:"getClientIP",value:function(){return this.allocResource&&this.allocResource.clientIP?this.allocResource.clientIP:""}},{key:"setDevId",value:function(e){this.devId=e}},{key:"getDevId",value:function(){var e=(0,n.default)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.devId){e.next=9;break}if(!localStorage.getItem("__DEVID__")){e.next=5;break}this.devId=localStorage.getItem("__DEVID__"),e.next=9;break;case 5:return e.next=7,(0,l.getFinger)();case 7:this.devId=e.sent,localStorage.setItem("__DEVID__",this.devId);case 9:return e.abrupt("return",this.devId);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_keyButtonTouch",value:function(e,t,r){var n;null===(n=this.gamepadDriver)||void 0===n||n._keyButtonTouch(e,t,r)}},{key:"resumeGame",value:function(){this.logger.info(this.TAG,"resume"),this._reLaunchGame()}},{key:"changeKeyboardMode",value:function(e){this.logger.info(this.TAG,"Execute lightplay api changeKeyboardMode,params:mode->".concat(JSON.stringify(e)));var t=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.KeyClickMobile,data:{mode:e}});t&&this._sendControlMessage(t)}},{key:"resetResolution",value:function(){var e=(0,n.default)(x().mark((function e(t,r){var n,o,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isResetResolution=!0,this.logger.info(this.TAG,"reset resolution : ".concat(t,"*").concat(r)),this.waitRRTimer&&clearTimeout(this.waitRRTimer),this._quitAVC(),null===(n=this.waterReport)||void 0===n||n.report(T.ReportCode.RESET_RESOLUTION_DISCONNECTED),this.options.serverMethod===l.ServerMethod.Server&&this.allocResource&&(this.launchData=this.allocResource.getLaunchData(),this.launchData.restartGame=1,this.launchData.deviceHeight=r,this.launchData.deviceWidth=t),e.next=8,this._launchFun(this.launchData);case 8:this.isResetResolution=!1,null===(o=this.waterReport)||void 0===o||o.report(T.ReportCode.RESET_RESOLUTION_CONNECTED),null===(i=this.audioPlayer)||void 0===i||i.play();case 11:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"prepareResource",value:function(e,t){this.options.gameId=e,this.options.proData=t}},{key:"interruptControll",value:function(e){this.logger.info(this.TAG,"Execute lightplay api interruptControll,params:isLock->".concat(JSON.stringify(e))),this.interceptControl=e}},{key:"setGameParams",value:function(e,t){this.logger.info(this.TAG,"Execute lightplay api setGameParams,params:gameType->".concat(JSON.stringify(e),",params->").concat(JSON.stringify(t))),this.options.crossGame=e,this.options.crossParams=t}},{key:"setFillVideo",value:function(e){this.logger.info(this.TAG,"Execute lightplay api setFillVideo,params:isFill->".concat(JSON.stringify(e))),this.videoPlayer&&this.controlCenter&&(this.videoPlayer.setVideoIsFill(e),this.controlCenter.setIsVideoFill(e))}},{key:"setAlwaysShowCursor",value:function(e){this.logger.info(this.TAG,"Execute lightplay api setAlwaysShowCursor,params:alwaysShowCursor->".concat(JSON.stringify(e))),this.alwaysShowCursor=e,this.controlCenter&&this.controlCenter.setAlwaysShowCursor(e)}},{key:"doFullscreen",value:function(){this.logger.info(this.TAG,"Execute lightplay api doFullscreen"),(0,l.doFullscreen)()}},{key:"fullScreenEnabled",value:function(){return(0,l.fullScreenEnabled)()}},{key:"exitFullscreen",value:function(){this.logger.info(this.TAG,"Execute lightplay api exitFullscreen"),(0,l.exitFullscreen)()}}],[{key:"getVersion",value:function(){return G.version}},{key:"getBuildNo",value:function(){return G.version}},{key:"VrviuSpeedTest",value:function(){var e=(0,n.default)(x().mark((function e(t){var r,n,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=S.SpeedTest.instance(t),e.prev=1,e.next=4,r.getDownloadUrl();case 4:if(!((n=e.sent).speed_urls&&n.speed_urls.length>0)){e.next=12;break}return e.next=8,r.speedTestDowload(n.speed_urls[0]);case 8:return o=e.sent,e.abrupt("return",o);case 12:return e.abrupt("return",null);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();e.LightPlay=U,(0,s.default)(U,"DF_DEVICE_TYPE",l.DF_DEVICE_TYPE),(0,s.default)(U,"GAME_SCREEN_RATATION",l.GAME_SCREEN_RATATION),(0,s.default)(U,"PLAY_WAY",v.PLAY_WAY),(0,s.default)(U,"PermissionMap",l.PermissionMap),(0,s.default)(U,"LPMessageSDK",E.LPMessageSDK),(0,s.default)(U,"ResolutionMap",l.ResolutionMap)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},18125:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(71120)],void 0===(i="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LightPlay",{enumerable:!0,get:function(){return t.LightPlay}})})?n.apply(t,o):n)||(e.exports=i)},36908:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(89847)],void 0===(i="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=(0,t.adapterFactory)({window:"undefined"==typeof window?void 0:window});e.default=r})?n.apply(t,o):n)||(e.exports=i)},89847:function(e,t,r){var n,o,i;r(15735),r(95094),r(68625),r(58188),r(28673),r(52356),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(34721),r(97430),r(62225),r(32484),r(74864),r(93381)],n=function(e,t,r,n,o,i,s){"use strict";function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function l(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},u=t.log,c=t.detectBrowser(e),l={browserDetails:c,commonShim:i,extractVersion:t.extractVersion,disableLog:t.disableLog,disableWarnings:t.disableWarnings,sdp:s};switch(c.browser){case"chrome":if(!r||!r.shimPeerConnection||!a.shimChrome)return u("Chrome shim is not included in this adapter release."),l;if(null===c.version)return u("Chrome shim can not determine version, not shimming."),l;u("adapter.js shimming chrome."),l.browserShim=r,i.shimAddIceCandidateNullOrEmpty(e,c),i.shimParameterlessSetLocalDescription(e,c),r.shimGetUserMedia(e,c),r.shimMediaStream(e,c),r.shimPeerConnection(e,c),r.shimOnTrack(e,c),r.shimAddTrackRemoveTrack(e,c),r.shimGetSendersWithDtmf(e,c),r.shimGetStats(e,c),r.shimSenderReceiverGetStats(e,c),r.fixNegotiationNeeded(e,c),i.shimRTCIceCandidate(e,c),i.shimRTCIceCandidateRelayProtocol(e,c),i.shimConnectionState(e,c),i.shimMaxMessageSize(e,c),i.shimSendThrowTypeError(e,c),i.removeExtmapAllowMixed(e,c);break;case"firefox":if(!n||!n.shimPeerConnection||!a.shimFirefox)return u("Firefox shim is not included in this adapter release."),l;u("adapter.js shimming firefox."),l.browserShim=n,i.shimAddIceCandidateNullOrEmpty(e,c),i.shimParameterlessSetLocalDescription(e,c),n.shimGetUserMedia(e,c),n.shimPeerConnection(e,c),n.shimOnTrack(e,c),n.shimRemoveStream(e,c),n.shimSenderGetStats(e,c),n.shimReceiverGetStats(e,c),n.shimRTCDataChannel(e,c),n.shimAddTransceiver(e,c),n.shimGetParameters(e,c),n.shimCreateOffer(e,c),n.shimCreateAnswer(e,c),i.shimRTCIceCandidate(e,c),i.shimConnectionState(e,c),i.shimMaxMessageSize(e,c),i.shimSendThrowTypeError(e,c);break;case"safari":if(!o||!a.shimSafari)return u("Safari shim is not included in this adapter release."),l;u("adapter.js shimming safari."),l.browserShim=o,i.shimAddIceCandidateNullOrEmpty(e,c),i.shimParameterlessSetLocalDescription(e,c),o.shimRTCIceServerUrls(e,c),o.shimCreateOfferLegacy(e,c),o.shimCallbacksAPI(e,c),o.shimLocalStreamsAPI(e,c),o.shimRemoteStreamsAPI(e,c),o.shimTrackEventTransceiver(e,c),o.shimGetUserMedia(e,c),o.shimAudioContext(e,c),i.shimRTCIceCandidate(e,c),i.shimRTCIceCandidateRelayProtocol(e,c),i.shimMaxMessageSize(e,c),i.shimSendThrowTypeError(e,c),i.removeExtmapAllowMixed(e,c);break;default:u("Unsupported browser!")}return l}Object.defineProperty(e,"__esModule",{value:!0}),e.adapterFactory=l,t=c(t),r=c(r),n=c(n),o=c(o),i=c(i),s=c(s)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},97430:function(e,t,r){var n,o,i;r(18178),r(95342),r(49228),r(38695),r(74083),r(15735),r(43450),r(32501),r(99805),r(79321),r(95094),r(68625),r(34769),r(58188),r(73439),r(17368),r(77950),r(88233),r(28673),r(85940),r(52356),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(81260),r(58921),r(34721),r(26768),r(8406)],n=function(e,t,n,o,i,s){"use strict";var u=r(14859);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function f(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function d(e){if("object"===(0,n.default)(e)&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(n){var o;o=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.track.id})):{track:n.track};var i=new Event("track");i.track=n.track,i.receiver=o,i.transceiver={receiver:o},i.streams=[t.stream],r.dispatchEvent(i)})),t.stream.getTracks().forEach((function(n){var o;o=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(e){return e.track&&e.track.id===n.id})):{track:n};var i=new Event("track");i.track=n,i.receiver=o,i.transceiver={receiver:o},i.streams=[t.stream],r.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else o.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function h(e){if("object"===(0,n.default)(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};var o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){o.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){r._senders.push(t(r,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){var r=t._senders.find((function(t){return t.track===e}));r&&t._senders.splice(t._senders.indexOf(r),1)}))}}else if("object"===(0,n.default)(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=s.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function p(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,r=Array.prototype.slice.call(arguments),n=r[0],o=r[1],i=r[2];if(arguments.length>0&&"function"==typeof n)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof n))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){r[t]=e.stat(t)})),t[r.id]=r})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var u=function(e){o(s(a(e)))};return t.apply(this,[u,n])}return new Promise((function(r,n){t.apply(e,[function(e){r(s(a(e)))},n])})).then(o,i)}}}function v(e){if("object"===(0,n.default)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),o.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,o=arguments[0];return this.getSenders().forEach((function(e){e.track===o&&(t?n=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===o&&(r?n=!0:r=e),e.track===o})),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(this,arguments)}}}}function y(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=this.getSenders();r.apply(this,arguments);var o=this.getSenders().filter((function(e){return-1===n.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(o)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]})),o.apply(this,arguments)}}function g(e,r){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&r.version>=65)return y(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(r.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}o.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var o=[].slice.call(arguments,1);if(1!==o.length||!o[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var i=this._streams[r.id];if(i)i.addTrack(t),Promise.resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[r.id]=a,this._reverseStreams[a.id]=r,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(r){var n=e.RTCPeerConnection.prototype[r],o=(0,t.default)({},r,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(r){var n=u(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return u(e,t)}))}));e.RTCPeerConnection.prototype[r]=o[r]}));var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=c(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:u(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(n){r._streams[n].getTracks().find((function(t){return e.track===t}))&&(t=r._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function u(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}function c(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:r})}}function m(e,r){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(r){var n=e.RTCPeerConnection.prototype[r],o=(0,t.default)({},r,(function(){return arguments[0]=new("addIceCandidate"===r?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[r]=o[r]}))}function b(e,t){o.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){var r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}Object.defineProperty(e,"__esModule",{value:!0}),e.fixNegotiationNeeded=b,e.shimAddTrackRemoveTrack=g,e.shimAddTrackRemoveTrackWithNative=y,Object.defineProperty(e,"shimGetDisplayMedia",{enumerable:!0,get:function(){return s.shimGetDisplayMedia}}),e.shimGetSendersWithDtmf=h,e.shimGetStats=p,Object.defineProperty(e,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),e.shimMediaStream=f,e.shimOnTrack=d,e.shimPeerConnection=m,e.shimSenderReceiverGetStats=v,t=u(t),n=u(n),o=l(o)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},8406:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((function(t){var n=r.video&&r.video.width,o=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},n&&(r.video.mandatory.maxWidth=n),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=t})?n.apply(t,o):n)||(e.exports=i)},26768:function(e,t,r){var n,o,i;r(18178),r(95342),r(49228),r(38695),r(39529),r(15735),r(32501),r(67321),r(26936),r(95094),r(68625),r(34769),r(58188),r(73439),r(31235),r(28673),r(52356),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(58921),r(34721)],void 0===(i="function"==typeof(n=function(e,t,n){"use strict";var o=r(14859);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetUserMedia=c,t=o(t);var u=(n=s(n)).log;function c(e,r){var n=e&&e.navigator;if(n.mediaDevices){var o=function(e){if("object"!==(0,t.default)(e)||e.mandatory||e.optional)return e;var r={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var o="object"===(0,t.default)(e[n])?e[n]:{ideal:e[n]};void 0!==o.exact&&"number"==typeof o.exact&&(o.min=o.max=o.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==o.ideal){r.optional=r.optional||[];var a={};"number"==typeof o.ideal?(a[i("min",n)]=o.ideal,r.optional.push(a),(a={})[i("max",n)]=o.ideal,r.optional.push(a)):(a[i("",n)]=o.ideal,r.optional.push(a))}void 0!==o.exact&&"number"!=typeof o.exact?(r.mandatory=r.mandatory||{},r.mandatory[i("",n)]=o.exact):["min","max"].forEach((function(e){void 0!==o[e]&&(r.mandatory=r.mandatory||{},r.mandatory[i(e,n)]=o[e])}))}})),e.advanced&&(r.optional=(r.optional||[]).concat(e.advanced)),r},i=function(e,i){if(r.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===(0,t.default)(e.audio)){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=o(e.audio)}if(e&&"object"===(0,t.default)(e.video)){var s=e.video.facingMode;s=s&&("object"===(0,t.default)(s)?s:{ideal:s});var c,l=r.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||l)&&(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?c=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(c=["front"]),c))return n.mediaDevices.enumerateDevices().then((function(t){var r=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return c.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&c.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=s.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=o(e.video),u("chrome: "+JSON.stringify(e)),i(e)}));e.video=o(e.video)}return u("chrome: "+JSON.stringify(e)),i(e)},a=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,t,r){i(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(a(e))}))}))};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}))}}}}})?n.apply(t,o):n)||(e.exports=i)},74864:function(e,t,r){var n,o,i;r(95342),r(38695),r(74083),r(15735),r(16781),r(67321),r(94148),r(71245),r(43105),r(95094),r(68625),r(58188),r(68995),r(73439),r(77950),r(28673),r(74069),r(48319),r(45794),r(52356),r(6886),r(85371);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(58921),r(93381),r(34721)],n=function(e,t,n,o){"use strict";var i=r(14859);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function c(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var r=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(0,t.default)(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var o=new r(e),i=n.default.parseCandidate(e.candidate),a=Object.assign(o,i);return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new r(e)},e.RTCIceCandidate.prototype=r.prototype,o.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function l(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||o.wrapPeerConnectionEvent(e,"icecandidate",(function(e){if(e.candidate){var t=n.default.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function f(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=function(e){if(!e||!e.sdp)return!1;var t=n.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=n.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r},i=function(e){var r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r},a=function(e,r){var o=65536;"firefox"===t.browser&&57===t.version&&(o=65535);var i=n.default.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?o=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(o=2147483637),o},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76&&"plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}),r(arguments[0])){var e,n=o(arguments[0]),u=i(n),c=a(arguments[0],n);e=0===u&&0===c?Number.POSITIVE_INFINITY:0===u||0===c?Math.max(u,c):Math.min(u,c);var l={};Object.defineProperty(l,"maxMessageSize",{get:function(){return e}}),this._sctp=l}return s.apply(this,arguments)}}}function d(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},o.wrapPeerConnectionEvent(e,"datachannel",(function(e){return r(e.channel,e.target),e}))}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],o=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}function h(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}}function p(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var n=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return r.apply(this,arguments)}}}function v(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}function y(e,r){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this,r=arguments[0]||{};if("object"!==(0,t.default)(r)||r.type&&r.sdp)return n.apply(this,arguments);if(!(r={type:r.type,sdp:r.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer"}return r.sdp||"offer"!==r.type&&"answer"!==r.type?n.apply(this,[r]):("offer"===r.type?this.createOffer:this.createAnswer).apply(this).then((function(t){return n.apply(e,[t])}))})}}Object.defineProperty(e,"__esModule",{value:!0}),e.removeExtmapAllowMixed=p,e.shimAddIceCandidateNullOrEmpty=v,e.shimConnectionState=h,e.shimMaxMessageSize=f,e.shimParameterlessSetLocalDescription=y,e.shimRTCIceCandidate=c,e.shimRTCIceCandidateRelayProtocol=l,e.shimSendThrowTypeError=d,t=i(t),n=i(n),o=u(o)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},62225:function(e,t,r){var n,o,i;r(18178),r(38695),r(39529),r(15735),r(32501),r(26936),r(79321),r(43105),r(95094),r(68625),r(34769),r(58188),r(13489),r(73439),r(21515),r(31235),r(28673),r(52356),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(75182),r(81260),r(58921),r(34721),r(60747),r(22672)],n=function(e,t,n,o,i,s,u){"use strict";var c=r(14859);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function d(e){"object"===(0,o.default)(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function h(e,t){if("object"===(0,o.default)(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var r=e.RTCPeerConnection.prototype[t],o=(0,n.default)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=o[t]}));var r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],o=e[1],a=e[2];return i.apply(this,[n||null]).then((function(e){if(t.version<53&&!o)try{e.forEach((function(e){e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(o,a)}}}function p(e){if("object"===(0,o.default)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function v(e){if("object"===(0,o.default)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach((function(t){return t._pc=e})),r}),i.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function y(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;i.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)}))})}function g(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function m(e){if("object"===(0,o.default)(e)&&e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype.addTransceiver;r&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);var n=(e=(0,t.default)(e)).length>0;n&&e.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var o=r.apply(this,arguments);if(n){var i=o.sender,a=i.getParameters();(!("encodings"in a)||1===a.encodings.length&&0===Object.keys(a.encodings[0]).length)&&(a.encodings=e,i.sendEncodings=e,this.setParametersPromises.push(i.setParameters(a).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return o})}}function b(e){if("object"===(0,o.default)(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function w(e){if("object"===(0,o.default)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}function T(e){if("object"===(0,o.default)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,r=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(r,e)})).finally((function(){r.setParametersPromises=[]})):t.apply(this,arguments)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.shimAddTransceiver=m,e.shimCreateAnswer=T,e.shimCreateOffer=w,Object.defineProperty(e,"shimGetDisplayMedia",{enumerable:!0,get:function(){return u.shimGetDisplayMedia}}),e.shimGetParameters=b,Object.defineProperty(e,"shimGetUserMedia",{enumerable:!0,get:function(){return s.shimGetUserMedia}}),e.shimOnTrack=d,e.shimPeerConnection=h,e.shimRTCDataChannel=g,e.shimReceiverGetStats=v,e.shimRemoveStream=y,e.shimSenderGetStats=p,t=c(t),n=c(n),o=c(o),i=f(i)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},22672:function(e,t,r){var n,o,i;r(26936),r(95094),r(58188),r(73439),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=t})?n.apply(t,o):n)||(e.exports=i)},60747:function(e,t,r){var n,o,i;r(15735),r(95094),r(68625),r(58188),r(28673),r(52356),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(58921),r(34721)],n=function(e,t,n){"use strict";var o=r(14859);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function u(e,r){var o=e&&e.navigator,i=e&&e.MediaStreamTrack;if(o.getUserMedia=function(e,t,r){n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(e).then(t,r)},!(r.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},s=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(e){return"object"===(0,t.default)(e)&&"object"===(0,t.default)(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},i&&i.prototype.getSettings){var u=i.prototype.getSettings;i.prototype.getSettings=function(){var e=u.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var c=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(0,t.default)(e)&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[e])}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetUserMedia=u,t=o(t),n=s(n)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},32484:function(e,t,r){var n,o,i;r(49228),r(38695),r(39529),r(74083),r(15735),r(99805),r(43105),r(95094),r(68625),r(58188),r(73439),r(31235),r(28673),r(52356),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(58921),r(34721)],n=function(e,t,n){"use strict";var o=r(14859);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}function u(e){if("object"===(0,t.default)(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return r.call(t,n,e)})),e.getVideoTracks().forEach((function(n){return r.call(t,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o&&o.forEach((function(e){t._localStreams?t._localStreams.includes(e)||t._localStreams.push(e):t._localStreams=[e]})),r.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}}function c(e){if("object"===(0,t.default)(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),r.apply(e,arguments)}}}function l(e){if("object"===(0,t.default)(e)&&e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,n=r.createOffer,o=r.createAnswer,i=r.setLocalDescription,a=r.setRemoteDescription,s=r.addIceCandidate;r.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o},r.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],n=o.apply(this,[r]);return t?(n.then(e,t),Promise.resolve()):n};var u=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};r.setLocalDescription=u,u=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},r.setRemoteDescription=u,u=function(e,t,r){var n=s.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},r.addIceCandidate=u}}function f(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(d(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function d(e){return e&&void 0!==e.video?Object.assign({},e,{video:n.compactObject(e.video)}):e}function h(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var o=[],i=0;i<e.iceServers.length;i++){var a=e.iceServers[i];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,o.push(a)):o.push(e.iceServers[i])}e.iceServers=o}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function p(e){"object"===(0,t.default)(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function v(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function y(e){"object"!==(0,t.default)(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}Object.defineProperty(e,"__esModule",{value:!0}),e.shimAudioContext=y,e.shimCallbacksAPI=l,e.shimConstraints=d,e.shimCreateOfferLegacy=v,e.shimGetUserMedia=f,e.shimLocalStreamsAPI=u,e.shimRTCIceServerUrls=h,e.shimRemoteStreamsAPI=c,e.shimTrackEventTransceiver=p,t=o(t),n=s(n)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},34721:function(e,t,r){var n,o,i;r(38695),r(15735),r(43108),r(79321),r(43105),r(95094),r(34769),r(58188),r(68995),r(77950),r(88233),r(96708),r(28673),r(74069),r(1939),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(81260),r(58921)],n=function(e,t,n){"use strict";var o=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.compactObject=v,e.deprecated=d,e.detectBrowser=h,e.disableLog=c,e.disableWarnings=l,e.extractVersion=s,e.filterStats=g,e.log=f,e.walkStats=y,e.wrapPeerConnectionEvent=u,t=o(t),n=o(n);var i=!0,a=!0;function s(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function u(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);var i=function(e){var t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),o.apply(this,[e,i])};var i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);var n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function c(e){return"boolean"!=typeof e?new Error("Argument type: "+(0,n.default)(e)+". Please use a boolean."):(i=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function l(e){return"boolean"!=typeof e?new Error("Argument type: "+(0,n.default)(e)+". Please use a boolean."):(a=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function f(){if("object"===("undefined"==typeof window?"undefined":(0,n.default)(window))){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function d(e,t){a&&console.warn(e+" is deprecated, please use "+t+" instead.")}function h(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var r=e.navigator;if(r.mozGetUserMedia)t.browser="firefox",t.version=s(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=s(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=s(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function p(e){return"[object Object]"===Object.prototype.toString.call(e)}function v(e){return p(e)?Object.keys(e).reduce((function(r,n){var o=p(e[n]),i=o?v(e[n]):e[n],a=o&&!Object.keys(i).length;return void 0===i||a?r:Object.assign(r,(0,t.default)({},n,i))}),{}):e}function y(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((function(n){n.endsWith("Id")?y(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((function(t){y(e,e.get(t),r)}))})))}function g(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;var i=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((function(t){e.forEach((function(r){r.type===n&&r.trackId===t.id&&y(e,r,o)}))})),o}},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},97709:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(32501),r(94148),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886),r(85371);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(11168),r(37959),r(2503),r(96017),r(41029),r(21900),r(53162),r(86e3),r(31877)],n=function(e,t,n,o,i,s,u,c,l,f,d,h,p,v,y){"use strict";var g=r(14859);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(){w=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,o)&&(v=g);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=g(n),o=g(o),i=g(i),s=g(s),u=g(u),l=g(l),f=g(f),d=g(d),h=g(h),p=g(p);var T=u.default.Root.fromJSON(y.cloudgamePBJson),_=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{numberUpdate:function(e,t){},stringUpdate:function(e,t){},boolUpdate:function(e,t){},objectUpdate:function(e,t){},videoCodecProfileUpdate:function(e){},vpadInfoUpdate:function(e){}},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){};(0,o.default)(this,e),(0,s.default)(this,"vpadInfo",void 0),(0,s.default)(this,"videoCodecProfile",void 0),(0,s.default)(this,"PbGameStatusValues",void 0),(0,s.default)(this,"pb",T),(0,s.default)(this,"eventCallback",void 0),(0,s.default)(this,"status",c.playStatus.PS_IDLE),(0,s.default)(this,"curStatusInstance",null),(0,s.default)(this,"logger",void 0),(0,s.default)(this,"TAG","alloc-resource"),(0,s.default)(this,"beWebsocket",void 0),(0,s.default)(this,"waitBeOpenFunc",[]),(0,s.default)(this,"playStatusAllocResource",void 0),(0,s.default)(this,"playStatusGetToken",void 0),(0,s.default)(this,"playStatusPrepareResource",void 0),(0,s.default)(this,"playStatusQuit",void 0),(0,s.default)(this,"playStatusReApplyResource",void 0),(0,s.default)(this,"numberMember",void 0),(0,s.default)(this,"stringMember",void 0),(0,s.default)(this,"boolMember",void 0),(0,s.default)(this,"objectMember",void 0),(0,s.default)(this,"stepTimeNotify",void 0),(0,s.default)(this,"updateNotify",void 0),(0,s.default)(this,"statusChange",void 0),(0,s.default)(this,"beSpareAddress",[]),(0,s.default)(this,"nowUseAddressIndex",0),(0,s.default)(this,"lsSpareAddress",[]),(0,s.default)(this,"historyPingData",[]);var i=this.pb.lookup("GameStatus");this.PbGameStatusValues=i?i.toJSON().values:{},this.stepTimeNotify=t.stepTimeNotify,this.eventCallback=t.eventCallback,this.updateNotify=r,this.statusChange=n,this.logger=t.logger,this.playStatusAllocResource=new d.default({logger:this.logger,unionUrl:t.unionUrl}),this.playStatusGetToken=new l.default({logger:this.logger,unionUrl:t.unionUrl}),this.playStatusPrepareResource=new f.default({logger:this.logger,unionUrl:t.unionUrl}),this.playStatusQuit=new p.default({logger:this.logger,unionUrl:t.unionUrl}),this.playStatusReApplyResource=new h.default({logger:this.logger,unionUrl:t.unionUrl}),this.beWebsocket=new y.BeManager({logger:this.logger,eventCallback:this._handerBeManageEvent.bind(this),devId:t.devId}),this._bindBeWssEvent(),this.vpadInfo=null,this.videoCodecProfile=t.videoCodecProfile,this.numberMember={unionGId:t.gId,gId:t.gId,deviceWidth:t.deviceWidth,deviceHeight:t.deviceHeight,areaType:t.areaType,vmId:t.vmId,videoLevel:t.videoLevel,fps:t.fps,imeType:t.imeType,keyboardType:t.keyboardType,crossGame:t.crossGame,userId:t.userId,unionUserId:t.userId,appBizType:t.appBizType,osType:t.osType,wallPaperId:t.wallPaperId,entryUuid:t.entryUuid,instanceTagUuid:t.instanceTagUuid,queueLevel:t.queueLevel,roomid:t.roomid,playWay:t.playWay,networkType:t.networkType,videoQuality:t.videoQuality,rsetId:t.rsetId,sdkVersion:t.sdkVersion,pingBeIdc:0},this.stringMember={ticket:t.ticket,ticketNonce:t.ticketNonce,timestamp:t.timestamp,accessKey:t.accessKey,accessKeySecret:t.accessKeySecret,token:t.token,proData:t.proData,bizId:t.bizId,devIdentity:t.devIdentity,connectionType:t.connectionType,deviceInfo:t.deviceInfo,crossParams:t.crossParams,flowId:"0_".concat((0,c.getRandomIDString)(12)),chargeId:"",appSessionId:t.appSessionId,aSessionId:"",vSessionId:"",cSessionId:"",autoRegisterUserId:t.autoRegisterUserId,tokenUrl:t.tokenUrl,username:t.username,userToken:t.token,devId:t.devId,entryArchiveName:t.entryArchiveName,meetingId:t.meetingId,serverHost:t.serverHost,gamePadConfigUrl:"",clientType:t.clientType,videoDataType:t.videoDataType,clientIP:"",pingBeWssUrl:"",clientAddress:"",clientIsp:"",clientCountry:"",clientProvince:"",clientCity:""},this.boolMember={debugMode:t.debugMode,isReAllocResource:!1,isGameReady:!1,forceAudioDataChannel:t.forceAudioDataChannel,showMouse:t.showMouse,useLocalMouse:t.useLocalMouse,autoRegister:t.autoRegister,useUnion:t.useUnion,allowMeeting:t.allowMeeting||!1,allowWatch:t.allowWatch||!1,allowFight:t.allowFight||!1,allowHelp:t.allowHelp||!1,allowChangeScreen:t.allowChangeScreen||!1},this.objectMember={gameResource:null,gamePadConfig:null},t.historyPingData&&(this.historyPingData=t.historyPingData)}return(0,i.default)(e,[{key:"updateDevId",value:function(e){this.beWebsocket.updateDevId(e)}},{key:"updateNumberMember",value:function(e,t){this.numberMember[e]=t,this.updateNotify.numberUpdate(e,t)}},{key:"updateStringMember",value:function(e,t){this.stringMember[e]=t,this.updateNotify.stringUpdate(e,t)}},{key:"updateBoolMember",value:function(e,t){this.boolMember[e]=t,this.updateNotify.boolUpdate(e,t)}},{key:"updateObjectMember",value:function(e,t){this.objectMember[e]=t,this.updateNotify.objectUpdate(e,t)}},{key:"updateVideoCodecProfile",value:function(e){this.videoCodecProfile=e,this.updateNotify.videoCodecProfileUpdate(e)}},{key:"updateVpadInfo",value:function(e){this.vpadInfo=e,this.updateNotify.vpadInfoUpdate(e)}},{key:"getNumberMember",value:function(e){return this.numberMember[e]||0}},{key:"getStringMember",value:function(e){return this.stringMember[e]||""}},{key:"getBoolMember",value:function(e){return this.boolMember[e]}},{key:"getObjectMember",value:function(e){return this.objectMember[e]}},{key:"getVideoCodecProfile",value:function(){return this.videoCodecProfile}},{key:"getVpadInfo",value:function(){return this.vpadInfo}},{key:"handlerReceiveSpareAddress",value:function(e){e instanceof Array&&e.length>0&&(this.beSpareAddress=e,this.nowUseAddressIndex=-1,this.toNextServerHost())}},{key:"handlerReceiveLsSpareAddress",value:function(e){this.lsSpareAddress=e}},{key:"toNextServerHost",value:function(){this.nowUseAddressIndex++,this.nowUseAddressIndex>=this.beSpareAddress.length&&(this.nowUseAddressIndex=0);var e="".concat(this.beSpareAddress[this.nowUseAddressIndex].address,":").concat(this.beSpareAddress[this.nowUseAddressIndex].port);this.updateStringMember("serverHost",e),this.logger.info(this.TAG,"update be url to next => ".concat(e,", index=>").concat(this.nowUseAddressIndex,", total => ").concat(JSON.stringify(this.beSpareAddress)))}},{key:"switchTo",value:function(){var e=(0,n.default)(w().mark((function e(t){var r,n,o=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},t!==this.status||t===c.playStatus.PS_PREPAREAREA){e.next=3;break}return e.abrupt("return",0);case 3:if(this.status!==c.playStatus.PS_DESTROY){e.next=5;break}return e.abrupt("return",0);case 5:n=0,this.logger.info(this.TAG,"switch status to ".concat(t)),e.t0=t,e.next=e.t0===c.playStatus.PS_GETTOKEN?10:e.t0===c.playStatus.PS_PREPAREAREA?14:e.t0===c.playStatus.PS_ALLOCRESOURCE?19:e.t0===c.playStatus.PS_AVC_PLAYING?24:e.t0===c.playStatus.PS_REAPPLY_RESOURCE?29:e.t0===c.playStatus.PS_DESTROY?33:39;break;case 10:return e.next=12,this._switchToGetToken(t);case 12:case 17:case 22:case 31:return n=e.sent,e.abrupt("break",43);case 14:return this.stepTimeNotify(v.ReportCode.RequireAreaSuccess,Date.now()),e.next=17,this._switchToPrepareResource(t);case 19:return this.stepTimeNotify(v.ReportCode.FirstLinkBESuccess,Date.now()),e.next=22,this._switchToAllocResource(t,r);case 24:return this.curStatusInstance&&this.curStatusInstance.end(),this.setStatus(t),this.curStatusInstance=null,n=0,e.abrupt("break",43);case 29:return e.next=31,this._switchToReApplayResource(t);case 33:return this.stepTimeNotify(v.ReportCode.ReleaseAreaSuccess,Date.now()),e.next=36,this._switchToQuite(t);case 36:return n=e.sent,this.stepTimeNotify(v.ReportCode.ReleaseAreaSuccess,Date.now()),e.abrupt("break",43);case 39:return this.curStatusInstance&&this.curStatusInstance.end(),this.setStatus(t),this.curStatusInstance=null,e.abrupt("break",43);case 43:return this.eventDispatch(n,""),e.abrupt("return",n);case 45:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"eventDispatch",value:function(){var e=(0,n.default)(w().mark((function e(t,r){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:t===v.ReportCode.AllocSuccess?this.eventCallback(t,r,this.lsSpareAddress):this.eventCallback(t,r),e.t0=t,e.next=e.t0===v.ReportCode.AuthSuccess?6:e.t0===v.ReportCode.RequireAreaShouldPass||e.t0===v.ReportCode.RequireAreaSuccess?9:e.t0===v.ReportCode.AnotherGameLive||e.t0===v.ReportCode.NeedchangeDevIdAndReapply?13:e.t0===v.ReportCode.AllocSuccess?16:e.t0===v.ReportCode.NeedReAlloc?19:23;break;case 6:return e.next=8,this.switchTo(c.playStatus.PS_PREPAREAREA);case 8:case 12:case 15:case 18:case 22:case 23:return e.abrupt("break",24);case 9:return this.stepTimeNotify(v.ReportCode.RequireAreaSuccess,Date.now()),e.next=12,this.switchTo(c.playStatus.PS_ALLOCRESOURCE);case 13:return e.next=15,this.switchTo(c.playStatus.PS_PREPAREAREA);case 16:return e.next=18,this.switchTo(c.playStatus.PS_AVC_PLAYING);case 19:return this.updateBoolMember("isReAllocResource",!0),e.next=22,this.switchTo(c.playStatus.PS_ALLOCRESOURCE);case 24:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_handerBeManageEvent",value:function(e,t){this.eventDispatch(e,t||"")}},{key:"distory",value:function(){this.curStatusInstance&&(this.curStatusInstance.end(),this.curStatusInstance=null),this.beWebsocket.unInit()}},{key:"getHistoryPingData",value:function(){return this.historyPingData}},{key:"_bindBeWssEvent",value:function(){var e=this;this.beWebsocket.onOpenCallback=function(){var t;for(e.curStatusInstance&&(e.logger.info(e.TAG,"be wss open callback => ".concat(e.curStatusInstance.TAG)),e.curStatusInstance.onWssOpen(e)),e.logger.info(e.TAG,"wss open and wait func length => ".concat(e.waitBeOpenFunc.length));e.waitBeOpenFunc.length>0;){var r;null!==(r=t=e.waitBeOpenFunc.pop())&&void 0!==r&&r.func&&t.func.apply(e,t.args||[])}},this.beWebsocket.onMessageCallback=function(t,r){e._handlerBeMessage(t,r)},this.beWebsocket.onCloseCallback=function(){e.curStatusInstance&&(e.logger.info(e.TAG,"be wss close callback => ".concat(e.curStatusInstance.TAG)),e.curStatusInstance.onWssClose(e))},this.beWebsocket.onBeginReConnectCallback=function(t){t>=1&&(e.stepTimeNotify(v.ReportCode.ReLinkBESuccess,Date.now()),e.stepTimeNotify(v.ReportCode.NotFirstLinkBESuccess,Date.now()))},this.beWebsocket.onBeforeReconnect=function(t){t&&(e.toNextServerHost(),e.beWebsocket.updateDomain(e.getStringMember("serverHost")))}}},{key:"reApplyArea",value:function(){this.status!==c.playStatus.PS_AVC_PLAYING&&(this.logger.info(this.TAG,"to reapply area"),this.switchTo(c.playStatus.PS_PREPAREAREA))}},{key:"_handlerBeMessage",value:function(e,t){if(this.curStatusInstance){switch(this.logger.info(this.TAG,"be wss get message callback:".concat(e," ").concat(t?JSON.stringify(t):""," => ").concat(this.curStatusInstance.TAG)),e){case y.BeManager.CmdTypeValues.NtfSystem:if(t.type===y.BeManager.PbSystemEventValues.SystemEventReenter)return void this.reApplyArea();break;case y.BeManager.CmdTypeValues.RspLaunchGame:if(200025===t.result.gerrcode)return void this.reApplyArea();break;case y.BeManager.CmdTypeValues.RspRelaunchGame:if(1200022===t.result.gerrcode)return void this.reApplyArea()}this.curStatusInstance.onWssMessage(e,t,this)}}},{key:"_initBeWss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.beWebsocket)throw new Error("be websoket is need");if(!this.isBeWssOpen()||e){if(this.status===c.playStatus.PS_DESTROY)return this.logger.warn(this.TAG,"bewss can not init at this status: ".concat(this.status)),!1;this.beWebsocket.disconnect(),this.beWebsocket.init(this.getStringMember("serverHost"),this.getStringMember("token")),this._bindBeWssEvent(),this.beWebsocket.connect()}return!0}},{key:"isBeWssOpen",value:function(){return!!this.beWebsocket&&this.beWebsocket.isOpened()}},{key:"sendWssMsg",value:function(){var e=(0,n.default)(w().mark((function e(t){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beWebsocket.send(t.cmdType,t.payload);case 2:return r=e.sent,this.logger.info(this.TAG,"send ".concat(t.cmdType," result => ").concat(JSON.stringify(r))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setStatus",value:function(e){this.status=e,this.statusChange(e)}},{key:"getStatus",value:function(){return this.status}},{key:"_switchToGetToken",value:function(){var e=(0,n.default)(w().mark((function e(t){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.curStatusInstance&&this.curStatusInstance.end(),this.setStatus(t),this.curStatusInstance=this.playStatusGetToken,e.next=5,this.curStatusInstance.start(this);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isLogined",value:function(){return!!(this.getNumberMember("userId")&&this.getStringMember("userToken")||this.getBoolMember("autoRegister"))}},{key:"_switchToPrepareResource",value:function(){var e=(0,n.default)(w().mark((function e(t){var r,n,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLogined()){e.next=2;break}return e.abrupt("return",v.ReportCode.ErrorAuth);case 2:if(!this.getStringMember("crossParams")||!this.getNumberMember("crossGame")){e.next=15;break}if(!(n=(0,c.isJSON)(this.getStringMember("crossParams")))){e.next=14;break}if(this.getNumberMember("crossGame")!==c.DF_GAMETYPE.LEGEND){e.next=10;break}if(n.token){e.next=8;break}return e.abrupt("return",v.ReportCode.LegendCrossParamsInvalide);case 8:e.next=12;break;case 10:if(this.getNumberMember("crossGame")===c.DF_GAMETYPE.STEAM||this.getNumberMember("crossGame")===c.DF_GAMETYPE.NATIVECLOUD){e.next=12;break}return e.abrupt("return",v.ReportCode.CroosGameTypeInvalide);case 12:e.next=15;break;case 14:return e.abrupt("return",v.ReportCode.GameCrossParamsInvalide);case 15:return null===(r=this.curStatusInstance)||void 0===r||r.end(),this.setStatus(t),this.curStatusInstance=this.playStatusPrepareResource,e.next=20,this.curStatusInstance.start(this);case 20:return o=e.sent,e.abrupt("return",o);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_switchToAllocResource",value:function(){var e=(0,n.default)(w().mark((function e(t){var r,n,o=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},this._initBeWss(!!r.forceReconnectBE)){e.next=3;break}return e.abrupt("return",0);case 3:return this.curStatusInstance&&this.curStatusInstance.end(),this.setStatus(t),this.curStatusInstance=this.playStatusAllocResource,e.next=8,this.curStatusInstance.start(this);case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_switchToReApplayResource",value:function(){var e=(0,n.default)(w().mark((function e(t){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===c.playStatus.PS_AVC_PLAYING){e.next=2;break}return e.abrupt("return",0);case 2:if(this.logger.info(this.TAG,"reapply resource while wss => ".concat(this.isBeWssOpen())),this.isBeWssOpen()){e.next=6;break}return this.waitBeOpenFunc=[{func:this.switchTo.bind(this),args:[t]}],e.abrupt("return",0);case 6:return this.curStatusInstance&&this.curStatusInstance.end(),this.setStatus(t),this.curStatusInstance=this.playStatusReApplyResource,e.next=11,this.curStatusInstance.start(this);case 11:return r=e.sent,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_switchToQuite",value:function(){var e=(0,n.default)(w().mark((function e(t){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status!==c.playStatus.PS_DESTROY){e.next=2;break}return e.abrupt("return",0);case 2:if(this.setStatus(t),this.curStatusInstance&&this.curStatusInstance.end(),this.curStatusInstance=this.playStatusQuit,this.isBeWssOpen()){e.next=7;break}return e.abrupt("return",v.ReportCode.RequestQuitGameFailed);case 7:return e.next=9,this.curStatusInstance.start(this);case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateToken",value:function(e){this.beWebsocket.updateToken(e)}},{key:"resetHangUpTime",value:function(){var e=(0,n.default)(w().mark((function e(){var t,r,n,o,i,a=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,r=a.length>1&&void 0!==a[1]?a[1]:null,n=a.length>2&&void 0!==a[2]?a[2]:null,!this.beWebsocket||!this.beWebsocket.isOpened()||this.getStatus()!==c.playStatus.PS_AVC_PLAYING){e.next=13;break}return o={},t&&(o.heartbeatTimeout=t),r&&(o.inactiveAlert=r),n&&(o.inactiveTimeout=n),e.next=10,this.beWebsocket.send("SetSessionOption",{header:{token:this.getStringMember("token"),requestId:(0,c.getRandomIDString)(6)},sessionOption:o});case 10:return i=e.sent,this.logger.info(this.TAG,"reset hang up time ".concat(JSON.stringify(o),", res => ").concat(JSON.stringify(i))),e.abrupt("return");case 13:if(this.beWebsocket){e.next=16;break}return this.logger.warn(this.TAG,"be connected have not create"),e.abrupt("return");case 16:if(this.beWebsocket.isOpened()){e.next=19;break}return this.logger.warn(this.TAG,"be connected have not open"),e.abrupt("return");case 19:if(this.getStatus()===c.playStatus.PS_AVC_PLAYING){e.next=22;break}return this.logger.warn(this.TAG,"allocResource have not ready"),e.abrupt("return");case 22:return e.abrupt("return");case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendBeMessage",value:function(){var e=(0,n.default)(w().mark((function e(t){var r,n,o=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.beWebsocket.send(t,b({header:{token:this.getStringMember("token"),requestId:(0,c.getRandomIDString)(6)}},r));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyAVCConnecteStatus",value:function(e){this.beWebsocket.notifyAVCConnecteStatus(e)}}]),e}();e.default=_},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},28079:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(68995),r(73439),r(88233),r(28673),r(1939),r(6886),r(14121);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959),r(97709),r(76485)],n=function(e,t,n,o,i,s,u,c,l){"use strict";var f=r(14859);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,u(b,"constructor",v),u(v,"constructor",h),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.LightPlayAllocResource=void 0,n=f(n),o=f(o),i=f(i),s=f(s),c=f(c);var v=function(){function e(t){var r=this;(0,o.default)(this,e),(0,s.default)(this,"allocResource",void 0),(0,s.default)(this,"options",void 0),(0,s.default)(this,"TAG","LightPlayAllocResource"),(0,s.default)(this,"debugMode",!1),(0,s.default)(this,"videoCodecProfile",[]),(0,s.default)(this,"vpadInfo",null),(0,s.default)(this,"unionGId",0),(0,s.default)(this,"gId",0),(0,s.default)(this,"deviceWidth",0),(0,s.default)(this,"deviceHeight",0),(0,s.default)(this,"areaType",0),(0,s.default)(this,"vmId",0),(0,s.default)(this,"videoLevel",0),(0,s.default)(this,"fps",0),(0,s.default)(this,"imeType",0),(0,s.default)(this,"keyboardType",0),(0,s.default)(this,"crossGame",void 0),(0,s.default)(this,"userId",0),(0,s.default)(this,"unionUserId",0),(0,s.default)(this,"appBizType",0),(0,s.default)(this,"osType",0),(0,s.default)(this,"videoQuality",0),(0,s.default)(this,"wallPaperId",void 0),(0,s.default)(this,"entryUuid",void 0),(0,s.default)(this,"instanceTagUuid",0),(0,s.default)(this,"queueLevel",0),(0,s.default)(this,"roomid",0),(0,s.default)(this,"playWay",0),(0,s.default)(this,"accessKey",""),(0,s.default)(this,"accessKeySecret",""),(0,s.default)(this,"token",""),(0,s.default)(this,"proData",""),(0,s.default)(this,"bizId",""),(0,s.default)(this,"devIdentity",""),(0,s.default)(this,"connectionType",""),(0,s.default)(this,"deviceInfo",""),(0,s.default)(this,"crossParams",void 0),(0,s.default)(this,"flowId",""),(0,s.default)(this,"chargeId",""),(0,s.default)(this,"appSessionId",""),(0,s.default)(this,"aSessionId",""),(0,s.default)(this,"vSessionId",""),(0,s.default)(this,"cSessionId",""),(0,s.default)(this,"autoRegisterUserId",""),(0,s.default)(this,"tokenUrl",""),(0,s.default)(this,"username",""),(0,s.default)(this,"userToken",""),(0,s.default)(this,"devId",""),(0,s.default)(this,"sdkVersion",0),(0,s.default)(this,"entryArchiveName",""),(0,s.default)(this,"meetingId",""),(0,s.default)(this,"serverHost",""),(0,s.default)(this,"gamePadConfigUrl",""),(0,s.default)(this,"clientType",""),(0,s.default)(this,"networkType",0),(0,s.default)(this,"videoDataType",""),(0,s.default)(this,"isReAllocResource",!1),(0,s.default)(this,"isGameReady",!1),(0,s.default)(this,"forceAudioDataChannel",!1),(0,s.default)(this,"showMouse",!1),(0,s.default)(this,"useLocalMouse",!1),(0,s.default)(this,"autoRegister",!1),(0,s.default)(this,"useUnion",!1),(0,s.default)(this,"allowMeeting",!1),(0,s.default)(this,"allowWatch",!1),(0,s.default)(this,"allowFight",!1),(0,s.default)(this,"allowHelp",!1),(0,s.default)(this,"allowChangeScreen",!1),(0,s.default)(this,"rsetId",0),(0,s.default)(this,"gameResource",null),(0,s.default)(this,"gamePadConfig",null),(0,s.default)(this,"clientIP",""),(0,s.default)(this,"pingBeWssUrl",""),(0,s.default)(this,"clientAddress",""),(0,s.default)(this,"clientIsp",""),(0,s.default)(this,"clientCountry",""),(0,s.default)(this,"clientProvince",""),(0,s.default)(this,"clientCity",""),(0,s.default)(this,"pingBeIdc",0),(0,s.default)(this,"ticket",""),(0,s.default)(this,"ticketNonce",""),(0,s.default)(this,"timestamp",""),(0,s.default)(this,"status",u.playStatus.PS_IDLE),(0,s.default)(this,"customerType",void 0),(0,s.default)(this,"allocWorker",null),(0,s.default)(this,"workerTimer",null),(0,s.default)(this,"initResolve",null),(0,s.default)(this,"switchResolve",{}),(0,s.default)(this,"sendBeMsgResolve",{}),(0,s.default)(this,"serverHostChangeCallback",(function(){})),(0,s.default)(this,"devIdChangeCallback",(function(){})),(0,s.default)(this,"lpMultichannel",void 0),this.options=t,this.options.historyPingData||(this.options.historyPingData=(0,l.getHistoryTestPingData)()),this.allocResource=new c.default(t,{numberUpdate:function(e,t){r[e]=t},stringUpdate:function(e,t){r.handlerStringUpdate(e,t)},boolUpdate:function(e,t){r[e]=t},objectUpdate:function(e,t){r[e]=t},videoCodecProfileUpdate:function(e){r.videoCodecProfile=e},vpadInfoUpdate:function(e){r.vpadInfo=e}},(function(e){r.status=e})),this.unionGId=t.gId,this.gId=t.gId,this.deviceWidth=t.deviceWidth,this.deviceHeight=t.deviceHeight,this.areaType=t.areaType,this.vmId=t.vmId,this.videoLevel=t.videoLevel,this.fps=t.fps,this.imeType=t.imeType,this.keyboardType=t.keyboardType,this.crossGame=t.crossGame,this.userId=t.userId,this.unionUserId=t.userId,this.appBizType=t.appBizType,this.osType=t.osType,this.videoQuality=t.videoQuality,this.wallPaperId=t.wallPaperId,this.entryUuid=t.entryUuid,this.instanceTagUuid=t.instanceTagUuid,this.queueLevel=t.queueLevel,this.roomid=t.roomid,this.playWay=t.playWay,this.accessKey=t.accessKey,this.accessKeySecret=t.accessKeySecret,this.token=t.token,this.proData=t.proData,this.bizId=t.bizId,this.devIdentity=t.devIdentity,this.connectionType=t.connectionType,this.deviceInfo=t.deviceInfo,this.crossParams=t.crossParams,this.flowId="0_".concat((0,u.getRandomIDString)(12)),this.chargeId="",this.appSessionId=t.appSessionId,this.aSessionId="",this.vSessionId="",this.cSessionId="",this.autoRegisterUserId=t.autoRegisterUserId,this.tokenUrl=t.tokenUrl,this.username=t.username,this.userToken=t.token,this.devId=t.devId,this.sdkVersion=t.sdkVersion,this.entryArchiveName=t.entryArchiveName,this.meetingId=t.meetingId,this.serverHost=t.serverHost,this.gamePadConfigUrl="",this.clientType=t.clientType,this.networkType=t.networkType,this.videoDataType=t.videoDataType,this.isReAllocResource=!1,this.isGameReady=!1,this.forceAudioDataChannel=t.forceAudioDataChannel,this.showMouse=t.showMouse,this.useLocalMouse=t.useLocalMouse,this.autoRegister=t.autoRegister,this.useUnion=t.useUnion,this.allowMeeting=t.allowMeeting||!1,this.allowWatch=t.allowWatch||!1,this.allowFight=t.allowFight||!1,this.allowHelp=t.allowHelp||!1,this.allowChangeScreen=t.allowChangeScreen||!1,this.videoCodecProfile=t.videoCodecProfile,this.lpMultichannel=t.lpMultichannel,this.customerType=t.customerType,this.rsetId=t.rsetId,this.clientIP="",this.ticket=t.ticket||"",this.ticketNonce=t.ticketNonce||"",this.timestamp=t.timestamp||""}return(0,i.default)(e,[{key:"updateDevId",value:function(e){this.devId=e,this.allocWorker?this.allocWorker.postMessage({type:"updateDevId",res:!0,data:{devId:e}}):this.allocResource.updateDevId(e)}},{key:"initAllocWorker",value:function(){var e=(0,n.default)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.createWorker(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.options.logger.warn(this.TAG,"initAllocWorker error ".concat(JSON.stringify(e.t0)));case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createWorker",value:function(e){var t=this;return new Promise((function(n){if((0,u.isiOS)())n();else{if(t.initResolve=n,t.workerTimer=setTimeout((function(){t.options.logger.warn(t.TAG,"load worker timeout"),t.allocWorker=null,t.initResolve=null,n()}),5e3),e){var o=new Blob(['importScripts("'.concat(e,"?t=").concat(Date.now(),'")')],{type:"application/javascript"}),i=window.URL.createObjectURL(o);t.allocWorker=new Worker(i)}else t.allocWorker=new Worker(new URL(r.p+r.u(209),r.b));t.allocWorker.onmessage=function(e){t.dealWorkerMessage(e.data)},t.allocWorker.onerror=function(e){t.options.logger.warn(t.TAG,"load worker error=> ".concat(JSON.stringify(e))),t.workerTimer&&(clearTimeout(t.workerTimer),t.workerTimer=null),t.initResolve=null,n()}}}))}},{key:"dealWorkerMessage",value:function(e){var t;if(this.allocWorker)switch(e.type){case"ready":e.res?(this.workerTimer&&(clearTimeout(this.workerTimer),this.workerTimer=null),this.allocWorker.postMessage({type:"init",res:!0,data:{options:h(h({},this.options),{},{logger:null,stepTimeNotify:null,eventCallback:null})}})):this.allocWorker=null;break;case"init":e.res||(this.options.logger.warn(this.TAG,"init alloc worker failed"),this.allocWorker=null),this.initResolve&&this.initResolve();break;case"boolUpdate":var r,n;this[null===(r=e.data)||void 0===r?void 0:r.key]=null===(n=e.data)||void 0===n?void 0:n.value;break;case"numberUpdate":var o,i;this[null===(o=e.data)||void 0===o?void 0:o.key]=null===(i=e.data)||void 0===i?void 0:i.value;break;case"objectUpdate":var a,s;this[null===(a=e.data)||void 0===a?void 0:a.key]=null===(s=e.data)||void 0===s?void 0:s.value;break;case"stringUpdate":var u,c;this.handlerStringUpdate(null===(u=e.data)||void 0===u?void 0:u.key,null===(c=e.data)||void 0===c?void 0:c.value);break;case"videoCodecProfileUpdate":var l;this.videoCodecProfile=null===(l=e.data)||void 0===l?void 0:l.value;break;case"vpadInfoUpdate":var f;this.vpadInfo=null===(f=e.data)||void 0===f?void 0:f.value;break;case"eventCallback":var d,p,v;this.options.eventCallback(null===(d=e.data)||void 0===d?void 0:d.code,null===(p=e.data)||void 0===p?void 0:p.msg,null===(v=e.data)||void 0===v?void 0:v.extraData);break;case"stepTime":var y,g;this.options.stepTimeNotify(null===(y=e.data)||void 0===y?void 0:y.code,null===(g=e.data)||void 0===g?void 0:g.time);break;case"statusChange":var m;this.status=null===(m=e.data)||void 0===m?void 0:m.status;break;case"switchTo":var b,w,T=this.switchResolve[null===(b=e.data)||void 0===b?void 0:b.id];T&&T(null===(w=e.data)||void 0===w?void 0:w.res);break;case"sendBeMessage":var _,k,E=this.sendBeMsgResolve[null===(_=e.data)||void 0===_?void 0:_.id];E&&E(null===(k=e.data)||void 0===k?void 0:k.res);break;case"logger":switch(null===(t=e.data)||void 0===t?void 0:t.type){case"info":var C,S;this.options.logger.info(null===(C=e.data)||void 0===C?void 0:C.tag,null===(S=e.data)||void 0===S?void 0:S.msg);break;case"warn":var A,R;this.options.logger.warn(null===(A=e.data)||void 0===A?void 0:A.tag,null===(R=e.data)||void 0===R?void 0:R.msg);break;case"error":var O,M;this.options.logger.error(null===(O=e.data)||void 0===O?void 0:O.tag,null===(M=e.data)||void 0===M?void 0:M.msg);break;case"debug":var I,P;this.options.logger.debug(null===(I=e.data)||void 0===I?void 0:I.tag,null===(P=e.data)||void 0===P?void 0:P.msg)}}}},{key:"getStatus",value:function(){return this.status}},{key:"eventDispatch",value:function(){var e=(0,n.default)(p().mark((function e(t,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.allocWorker){e.next=4;break}this.allocWorker.postMessage({type:"eventDispatch",res:!0,data:{code:t,msg:r}}),e.next=6;break;case 4:return e.next=6,this.allocResource.eventDispatch(t,r);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"switchTo",value:function(){var e=(0,n.default)(p().mark((function e(t){var r,n,o=this,i=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},!this.allocWorker){e.next=5;break}return e.abrupt("return",new Promise((function(e){var n,i=(0,u.getRandomIDString)(8);o.switchResolve[i]=e,null===(n=o.allocWorker)||void 0===n||n.postMessage({type:"switchTo",res:!0,data:{id:i,status:t,params:r}})})));case 5:return e.next=7,this.allocResource.switchTo(t,r);case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"distory",value:function(){this.allocWorker?this.allocWorker.postMessage({type:"distory",res:!0}):this.allocResource.distory()}},{key:"getLaunchData",value:function(){return{imeType:this.imeType,keyboardType:this.keyboardType,devId:this.devId,flowId:this.flowId,gId:this.gId,userId:this.unionUserId.toString(),resolution:this.videoQuality,maxFps:parseInt("".concat(this.fps),10),showMouse:this.showMouse,deviceHeight:0,deviceWidth:0,restartGame:0,videoLevel:parseInt("".concat(this.videoLevel),10),customerType:this.customerType,aSessionId:this.aSessionId,vSessionId:this.vSessionId,cSessionId:this.cSessionId,forceVideoDataType:this.videoDataType,forceVideoCodecProfile:this.videoCodecProfile,lpMultichannel:this.lpMultichannel}}},{key:"updateNetWorkType",value:function(e){this.allocWorker?this.allocWorker.postMessage({type:"updateNetWorkType",res:!0,data:{type:e}}):this.allocResource.updateNumberMember("networkType",e)}},{key:"updateEncordeDate",value:function(e){this.allocWorker?this.allocWorker.postMessage({type:"updateEncordeDate",res:!0,data:e}):(void 0!==e.videoQuality&&this.allocResource.updateNumberMember("videoQuality",e.videoQuality),void 0!==e.fps&&this.allocResource.updateNumberMember("fps",e.fps),void 0!==e.showMouse&&this.allocResource.updateBoolMember("showMouse",e.showMouse),void 0!==e.videoLevel&&this.allocResource.updateNumberMember("videoLevel",e.videoLevel))}},{key:"updateIsReAlloc",value:function(e){this.allocWorker?this.allocWorker.postMessage({type:"updateIsReAlloc",res:!0,data:{isReAlloc:e}}):this.allocResource.updateBoolMember("isReAllocResource",e)}},{key:"updateToken",value:function(e){this.allocWorker?this.allocWorker.postMessage({type:"updateToken",res:!0,data:{token:e}}):this.allocResource.updateToken(e)}},{key:"resetHangUpTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.allocWorker?this.allocWorker.postMessage({type:"resetHangUpTime",res:!0,data:{heartTimeout:e,inactiveNotifyTime:t,inactiveTimeout:r}}):this.allocResource.resetHangUpTime(e,t,r)}},{key:"sendBeMessage",value:function(){var e=(0,n.default)(p().mark((function e(t){var r,n=this,o=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},!this.allocWorker){e.next=5;break}return e.abrupt("return",new Promise((function(e){var o,i=(0,u.getRandomIDString)(8);n.sendBeMsgResolve[i]=e,null===(o=n.allocWorker)||void 0===o||o.postMessage({type:"sendBeMessage",res:!0,data:{id:i,cmdType:t,payload:r}})})));case 5:return e.abrupt("return",this.allocResource.sendBeMessage(t,r));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"notifyAVCConnecteStatus",value:function(e){this.allocWorker?this.allocWorker.postMessage({type:"notifyAVCConnecteStatus",res:!0,data:{isConnected:e}}):this.allocResource.notifyAVCConnecteStatus(e)}},{key:"listenServerHostChange",value:function(e){this.serverHostChangeCallback=e}},{key:"listenDevIdChange",value:function(e){this.devIdChangeCallback=e}},{key:"handlerStringUpdate",value:function(e,t){this[e]=t,"serverHost"===e&&this.serverHostChangeCallback(t),"devId"===e&&this.devIdChangeCallback(t)}}]),e}();e.LightPlayAllocResource=v,(0,s.default)(v,"playStatus",u.playStatus)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},41029:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(38695),r(27233),r(15735),r(32501),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(68995),r(73439),r(88233),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(86e3),r(37959),r(31877)],n=function(e,t,n,o,i,s,u,c,l){"use strict";var f=r(14859);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=p.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(b,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=f(n),o=f(o),i=f(i),s=f(s);var y=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"TAG","PlayStatusAllocResource"),(0,s.default)(this,"live",!1),(0,s.default)(this,"startResolve",null),(0,s.default)(this,"launchResolve",(function(){})),(0,s.default)(this,"allocTimeOut",3e4),(0,s.default)(this,"minAllocRequireTime",4e3),(0,s.default)(this,"timeoutTimer",null),(0,s.default)(this,"reAllocTimer",null),(0,s.default)(this,"hasRequire",!1),(0,s.default)(this,"TIMEOUT_ALLOCRESOURCE_INTERVAL_MS",8e3),(0,s.default)(this,"rankTimer",null),(0,s.default)(this,"rankPeriod",8e3),(0,s.default)(this,"isReAllocResource",!1),(0,s.default)(this,"lastWssOpenTime",0),(0,s.default)(this,"isFirstLaunchSendSuccess",!1),this.options=t}return(0,i.default)(e,[{key:"start",value:function(){var e=(0,n.default)(v().mark((function e(t){var r=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options.logger.info(this.TAG,"start"),this.live=!0,this.hasRequire=!1,this.isReAllocResource=t.getBoolMember("isReAllocResource"),t.updateBoolMember("isGameReady",!1),e.abrupt("return",new Promise(function(){var e=(0,n.default)(v().mark((function e(n){var o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.startResolve=n,r.startAllocTimeout(),r.options.logger.info(r.TAG,"be wss open status => ".concat(t.isBeWssOpen())),!t.isBeWssOpen()){e.next=8;break}return e.next=6,r.requestAllocResource(t);case 6:-1!==(o=e.sent)&&(r.end(),n(o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startAllocTimeout",value:function(){var e=this;this.timeoutTimer=setTimeout((function(){e.end(),e.lastWssOpenTime?e.lastWssOpenTime<0||Date.now()-e.lastWssOpenTime<e.minAllocRequireTime?e.startResolve&&e.startResolve(u.ReportCode.AllocTimeoutBecauseNetwork):e.isFirstLaunchSendSuccess?e.isReAllocResource?e.startResolve&&e.startResolve(u.ReportCode.ReAllocTimeout):e.startResolve&&e.startResolve(u.ReportCode.AllocTimout):e.startResolve&&e.startResolve(u.ReportCode.BeLaunchGameSendFailed):e.startResolve&&e.startResolve(u.ReportCode.BeWssLinkFaildWhileAlloc)}),this.allocTimeOut)}},{key:"stopAllocTimeout",value:function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)}},{key:"end",value:function(){this.options.logger.info(this.TAG,"end"),this.live=!1,this.stopAllocTimeout(),this.reAllocTimer&&(clearInterval(this.reAllocTimer),this.reAllocTimer=null),this.rankTimer&&(clearInterval(this.rankTimer),this.rankTimer=null),this.launchResolve=function(){}}},{key:"onWssOpen",value:function(){var e=(0,n.default)(v().mark((function e(t){var r,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.logger.info(this.TAG,"be wss open"),!this.live){e.next=8;break}return e.next=4,new Promise((function(e){setTimeout((function(){e("")}),0)}));case 4:return e.next=6,this.requestAllocResource(t);case 6:-1!==(r=e.sent)&&(n=this.startResolve,this.end(),n&&n(r));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onWssClose",value:function(e){this.options.logger.info(this.TAG,"be wss close"),this.live&&(this.lastWssOpenTime?this.lastWssOpenTime=-1:this.lastWssOpenTime=0)}},{key:"onWssMessage",value:function(e,t,r){switch(e){case l.BeManager.CmdTypeValues.RspLaunchGame:this._recvedRspLaunchGameMsg(r,t);break;case l.BeManager.CmdTypeValues.RspRelaunchGame:this._recvedRspRelaunchGameMsg(r,t);break;case l.BeManager.CmdTypeValues.NtfGameStatus:this._recvedNtfGameStatusMsg(r,t);break;case l.BeManager.CmdTypeValues.RspLaunchRank:this._recvedRspLaunchRankMsg(r,t);break;default:this.options.logger.info(this.TAG,"receive ".concat(e))}}},{key:"requestAllocResource",value:function(){var e=(0,n.default)(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.lastWssOpenTime=Date.now(),!this.hasRequire){e.next=3;break}return e.abrupt("return",-1);case 3:if(this.hasRequire=!0,r=null,t.stepTimeNotify(u.ReportCode.AllocLoginSuccess,Date.now()),this.options.logger.info(this.TAG,"is realloc => ".concat(t.getBoolMember("isReAllocResource"))),!t.getBoolMember("isReAllocResource")){e.next=13;break}return e.next=10,this._relaunch(t);case 10:r=e.sent,e.next=17;break;case 13:return e.next=15,this._launch(t);case 15:r=e.sent,this.reAllocTimer&&(clearInterval(this.reAllocTimer),this.reAllocTimer=null);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_sendFirstLaunch",value:function(){var e=(0,n.default)(v().mark((function e(t){var r,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={header:{token:t.getStringMember("token"),requestId:(0,c.getRandomIDString)(6)},debugMode:t.getBoolMember("debugMode"),gameId:t.getNumberMember("gId"),vmid:t.getNumberMember("vmId"),resourceType:1,opaque:t.getStringMember("proData"),vpadId:65535,dpadId:0,streamInfo:JSON.stringify({clientType:(0,c.getClientType)(t.getStringMember("bizId")),dev_identity:t.getStringMember("devIdentity"),connectionType:t.getStringMember("connectionType"),forceAudioDataChannel:t.getBoolMember("forceAudioDataChannel")?1:0,videoDataType:t.getStringMember("videoDataType"),supportVideoCodecProfiles:t.getVideoCodecProfile(),videoLevel:parseInt("".concat(t.getNumberMember("videoLevel")),10),maxFps:parseInt("".concat(t.getNumberMember("fps")),10),gid:parseInt("".concat(t.getNumberMember("gId")),10),avgBitrateratio:100,clientSupportHevc:0,idrPeriod:60,packetSize:768,vibration:!0,desiredWidth:t.getNumberMember("deviceWidth"),desiredHeight:t.getNumberMember("deviceHeight"),clientNetworkType:t.getNumberMember("networkType"),withHWCursor:t.getBoolMember("showMouse"),requestUseServerCursorData:void 0===t.getBoolMember("useLocalMouse")?!t.getBoolMember("showMouse"):t.getBoolMember("useLocalMouse"),keyboardType:t.getNumberMember("keyboardType"),imeType:t.getNumberMember("imeType")}),deviceInfo:t.getStringMember("deviceInfo")},t.getStringMember("crossParams")&&(r.extraInfo=[{bizId:t.getNumberMember("crossGame"),bizParam:t.getStringMember("crossParams")}]),this.options.logger.info(this.TAG,"send alloc launch => ".concat(JSON.stringify(r))),e.next=5,t.sendWssMsg({cmdType:"LaunchGame",payload:r});case 5:return(n=e.sent)&&n.ret&&(this.isFirstLaunchSendSuccess=!0),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_launch",value:function(){var e=(0,n.default)(v().mark((function e(t){var r=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){r.launchResolve=e,r._sendFirstLaunch(t),r.reAllocTimer=setInterval((function(){r.live?r._sendFirstLaunch(t):r.reAllocTimer&&(clearInterval(r.reAllocTimer),r.reAllocTimer=null)}),r.TIMEOUT_ALLOCRESOURCE_INTERVAL_MS)})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_recvedRspLaunchGameMsg",value:function(e,t){this.options.logger.info(this.TAG,"receive LaunchGame:".concat(JSON.stringify(t)));var r=t.result.gerrcode;e.updateStringMember("flowId",t.flowId),e.eventDispatch(r,"launch response:".concat(JSON.stringify(t)))}},{key:"_relaunch",value:function(){var e=(0,n.default)(v().mark((function e(t){var r=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){r.launchResolve=e;var n={header:{token:t.getStringMember("token"),requestId:(0,c.getRandomIDString)(6)},gameId:t.getNumberMember("gId"),gameResource:t.getObjectMember("gameResource")};r.options.logger.info(r.TAG,"send ReqRelaunchGame,payload:".concat(JSON.stringify(n))),t.sendWssMsg({cmdType:"RelaunchGame",payload:n})})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_recvedRspRelaunchGameMsg",value:function(e,t){if(this.live){this.options.logger.info(this.TAG,"receive RelaunchGame:".concat(JSON.stringify(t)));var r=t.result.gerrcode;e.eventDispatch(r,"relaunch response:".concat(JSON.stringify(t))),r!==u.ReportCode.ReAllocSuccess&&this.launchResolve(u.ReportCode.ReAllocFailed)}}},{key:"_sendRankMsg",value:function(e){var t={header:{token:e.getStringMember("token"),requestId:(0,c.getRandomIDString)(6)},gameId:e.getNumberMember("gId")};this.options.logger.info(this.TAG,"send rank => ".concat(JSON.stringify(t))),e.sendWssMsg({cmdType:"LaunchRank",payload:t})}},{key:"_startRank",value:function(e){var t=this;this._sendRankMsg(e),this.rankTimer=setInterval((function(){t._sendRankMsg(e)}),this.rankPeriod)}},{key:"_recvedNtfGameStatusMsg",value:function(e,t){switch(this.options.logger.info(this.TAG,"_recvedNtfGameStatusMsg => ".concat(t.gameStatus)),t.gameStatus){case e.PbGameStatusValues.GameStatusAllocQueuing:this.stopAllocTimeout(),this.reAllocTimer&&(clearInterval(this.reAllocTimer),this.reAllocTimer=null),e.eventDispatch(u.ReportCode.ServerRank,""),this._startRank(e);break;case e.PbGameStatusValues.GameStatusAllocPrepare:this.rankTimer&&this.startAllocTimeout(),this.rankTimer&&(clearInterval(this.rankTimer),this.rankTimer=null),e.eventDispatch(u.ReportCode.PrepareStatus,t);break;case e.PbGameStatusValues.GameStatusStartSuccess:e.updateBoolMember("isGameReady",!0),this._onAllocResourceSuccessed(e,t);break;case e.PbGameStatusValues.GameStatusStartProcing:case e.PbGameStatusValues.GameStatusAllocSuccess:this._onAllocResourceSuccessed(e,t);break;case e.PbGameStatusValues.GameStatusReadyRender:e.updateBoolMember("isGameReady",!0)}}},{key:"_recvedRspLaunchRankMsg",value:function(e,t){var r=t.result.gerrcode,n=t.rank,o=t.total,i=t.period;this.options.logger.info(this.TAG,"receive rank,errcode:".concat(r,",body:").concat(n,"/").concat(o,"/").concat(i,", ").concat(JSON.stringify(t))),0===r||r===u.ReportCode.RankUpdate?n>=0&&e.eventDispatch(u.ReportCode.RankUpdate,t):(this.rankTimer&&(clearInterval(this.rankTimer),this.rankTimer=null),e.eventDispatch(r,t))}},{key:"_onAllocResourceSuccessed",value:function(e,t){if(this.options.logger.info(this.TAG,"receive NtfGameStatus:".concat(JSON.stringify(t))),this.live||this.launchResolve(-1),e.updateObjectMember("gameResource",t.gameResource),e.updateNumberMember("vmId",t.gameResource.vmid),e.updateStringMember("chargeId",t.gameResource.chargeId),e.updateStringMember("aSessionId",t.gameResource.aSessionId),e.updateStringMember("vSessionId",t.gameResource.vSessionId),e.updateStringMember("cSessionId",t.gameResource.cSessionId),t.gameResource.vpadInfo&&e.updateVpadInfo(t.gameResource.vpadInfo),t.gameResource.resourceDomain){var r=[{domain:t.gameResource.resourceDomain,port:parseInt("".concat(t.gameResource.resourceIpv4Portseg),10),ipv4:t.gameResource.resourceIpv4Address,ipv6:t.gameResource.resourceIpv6Address}];if(t.gameResource.spareResourceAddress)try{var n,o=d(t.gameResource.spareResourceAddress);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push({domain:i.resourceDomain,port:parseInt("".concat(i.resourceIpv4Portseg),10),ipv4:i.resourceIpv4Address,ipv6:i.resourceIpv6Address})}}catch(e){o.e(e)}finally{o.f()}}catch(e){}e.handlerReceiveLsSpareAddress(r),this.launchResolve(u.ReportCode.AllocSuccess)}else this.launchResolve(u.ReportCode.AllocWithoutDomain)}}]),e}();e.default=y},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},2503:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(73439),r(88233),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959),r(86e3)],n=function(e,t,n,o,i,s,u,c){"use strict";var l=r(14859);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=l(n),o=l(o),i=l(i),s=l(s);var d=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"TAG","PlayStatusGetToken"),(0,s.default)(this,"getTokenKey","GetToken"),(0,s.default)(this,"live",!1),this.options=t}return(0,i.default)(e,[{key:"onWssOpen",value:function(){var e=(0,n.default)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onWssClose",value:function(e){}},{key:"onWssMessage",value:function(e,t,r){}},{key:"start",value:function(){var e=(0,n.default)(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.logger.info(this.TAG,"start"),this.live=!0,!(t.getNumberMember("userId")&&t.getStringMember("userToken")||t.getBoolMember("autoRegister"))){e.next=5;break}return this.end(),e.abrupt("return",c.ReportCode.AuthSuccess);case 5:return e.next=7,this._getToken(t);case 7:return r=e.sent,this.end(),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"end",value:function(){this.live=!1,(0,u.CancelRequire)(this.getTokenKey),this.options.logger.info(this.TAG,"end")}},{key:"_getToken",value:function(){var e=(0,n.default)(f().mark((function e(t){var r,n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",n="get",t.getBoolMember("useUnion")?(r="".concat(t.getStringMember("tokenUrl"),"/v1/servo/usertoken"),n="post"):(r="".concat(t.getStringMember("tokenUrl"),"/v1/cloudgame/login?username=").concat(t.getStringMember("username")),n="get"),e.prev=3,this.options.logger.info(this.TAG,"req getToken url => ".concat(r,", data => {app_userid: ").concat(t.getStringMember("username"),"}")),e.next=7,(0,u.Require)(r,{cancelKey:this.getTokenKey,method:n,data:{app_biz_type:t.getNumberMember("appBizType"),app_userid:"".concat(t.getStringMember("username"))}});case 7:if(o=e.sent,this.live){e.next=10;break}return e.abrupt("return",0);case 10:if(this.options.logger.info(this.TAG,"resp getToken url => ".concat(r,", return => ").concat(JSON.stringify(o))),!o||!(o.ret&&0===o.ret.code||o.result&&0===o.result.errcode)){e.next=17;break}return t.updateStringMember("userToken",o.token_info&&o.token_info.token||o.header&&o.header.token),t.updateStringMember("token",o.token_info&&o.token_info.token||o.header&&o.header.token),t.updateNumberMember("unionUserId",o.token_info&&o.token_info.userid||o.user_id),t.updateNumberMember("userId",o.token_info&&o.token_info.userid||o.user_id),e.abrupt("return",c.ReportCode.AuthSuccess);case 17:return e.abrupt("return",c.ReportCode.WithoutUser);case 20:return e.prev=20,e.t0=e.catch(3),this.options.logger.warn(this.TAG,"get token from: ".concat(r," error => ").concat(e.t0.toString())),e.abrupt("return",c.ReportCode.GetTokenFailed);case 24:case"end":return e.stop()}}),e,this,[[3,20]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();e.default=d},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},96017:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(43450),r(32501),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(68995),r(73439),r(88233),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959),r(86e3)],n=function(e,t,n,o,i,s,u,c){"use strict";var l=r(14859);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=l(n),o=l(o),i=l(i),s=l(s);var p=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"live",!1),(0,s.default)(this,"TAG","PlayStatusPrepareResource"),(0,s.default)(this,"requireKey","apply"),(0,s.default)(this,"releaseKey","releasePrepare"),(0,s.default)(this,"rankKey","unionRank"),(0,s.default)(this,"retryMax",3),(0,s.default)(this,"retryTime",0),(0,s.default)(this,"retryWaitTime",2e3),(0,s.default)(this,"retryRankTime",2e3),(0,s.default)(this,"requireAreaCode",{GameLive:3400004,BanChangeScreen:3400018,NeedRank:3400034}),(0,s.default)(this,"nowUseUnionIndex",0),this.options=t}return(0,i.default)(e,[{key:"onWssOpen",value:function(){var e=(0,n.default)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onWssClose",value:function(e){}},{key:"onWssMessage",value:function(e,t,r){}},{key:"start",value:function(){var e=(0,n.default)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.logger.info(this.TAG,"start"),this.live=!0,this.retryTime=0,t.getBoolMember("useUnion")){e.next=5;break}return e.abrupt("return",c.ReportCode.RequireAreaShouldPass);case 5:return e.next=7,this._requestArea(t);case 7:return r=e.sent,this.end(),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"end",value:function(){this.live=!1,(0,u.CancelRequire)(this.requireKey),(0,u.CancelRequire)(this.releaseKey),(0,u.CancelRequire)(this.rankKey),this.options.logger.info(this.TAG,"end")}},{key:"_reRank",value:function(){var e=(0,n.default)(h().mark((function e(t){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((0,n.default)(h().mark((function n(){var o;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.live||e(null),n.next=3,r._checkRank(t);case 3:o=n.sent,r.live||e(null),e(o);case 6:case"end":return n.stop()}}),n)}))),r.retryRankTime)})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_checkRank",value:function(){var e=(0,n.default)(h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.options.logger.info(this.TAG,"check rank status"),e.next=4,(0,u.Require)("https://".concat(t.domain,"/v1/uqueue/get_rank_info?uuid=").concat(t.uuid,"&queue_session_id=").concat(t.sessionId),{cancelKey:this.rankKey,method:"get"});case 4:if(r=e.sent,this.live){e.next=7;break}return e.abrupt("return",null);case 7:if(0!==r.ret.code&&49e5!==r.ret.code){e.next=15;break}if(this.options.logger.info(this.TAG,"rank success"),t.context.eventDispatch(c.ReportCode.RankUpdate,{rank:r.body.rank,total:r.body.total,period:r.body.ewtime,desc:"union 排队"}),1!==r.body.queue_flag){e.next=12;break}return e.abrupt("return",{nextCheck:r.body.seg_interval,flowId:r.body.flow_id});case 12:this.options.logger.info(this.TAG,"need rerank => ".concat(JSON.stringify(r))),e.next=16;break;case 15:this.options.logger.error(this.TAG,"rank failed => ".concat(JSON.stringify(r)));case 16:this.retryRankTime=r.body.seg_interval?1e3*r.body.seg_interval:this.retryRankTime,e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(0),this.live){e.next=23;break}return e.abrupt("return",null);case 23:this.options.logger.error(this.TAG,"rank error => ".concat(e.t0.toString()));case 24:return e.next=26,this._reRank(t);case 26:return n=e.sent,e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,this,[[0,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_startRank",value:function(){var e=(0,n.default)(h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._checkRank({domain:t.domain,uuid:t.uuid,sessionId:t.sessionId,context:t.context});case 2:if(r=e.sent,this.options.logger.info(this.TAG,"get rank result => ".concat(r)),!r){e.next=11;break}return e.next=7,this._requestArea(t.context,{flowId:r.flowId,sessionId:t.sessionId});case 7:if(n=e.sent,this.live){e.next=10;break}return e.abrupt("return",0);case 10:return e.abrupt("return",n);case 11:return e.abrupt("return",0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNextUnion",value:function(e){return 0===this.options.unionUrl.length?(this.options.logger.error(this.TAG,"union url is missing"),""):("number"==typeof e?this.nowUseUnionIndex=e:this.nowUseUnionIndex++,(this.nowUseUnionIndex>=this.options.unionUrl.length||this.nowUseUnionIndex<0)&&(this.nowUseUnionIndex=0),this.options.unionUrl[this.nowUseUnionIndex])}},{key:"isLastUnion",value:function(){return this.nowUseUnionIndex>=this.options.unionUrl.length-1}},{key:"_requestArea",value:function(){var e=(0,n.default)(h().mark((function e(t){var r,n,o,i,a,s,l,f,p,v,y,g,m,b,w,T,_,k,E,C,S,A,R,O,M,I,P,x,L=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=L.length>1&&void 0!==L[1]?L[1]:{},n=r.flowId,o=void 0===n?"":n,i=r.sessionId,a=void 0===i?"":i,s=L.length>2&&void 0!==L[2]?L[2]:"",l=s||this.getNextUnion(0),f="".concat(l,"/v1/union/apply"),p=t.getHistoryPingData(),(v={debug_mode:t.getBoolMember("debugMode"),uuid:t.getBoolMember("autoRegister")?null:parseInt("".concat(t.getNumberMember("unionUserId")),10),ugid:parseInt("".concat(t.getNumberMember("unionGId")),10),dev_type:u.DF_BIZID_DEVTPYPE[t.getStringMember("bizId")]?u.DF_BIZID_DEVTPYPE[t.getStringMember("bizId")]:u.DF_BIZID_DEVTPYPE.lightplay_sdk_web,utoken:t.getBoolMember("autoRegister")?null:t.getStringMember("userToken").toString(),area_type:parseInt("".concat(t.getNumberMember("areaType")),10),opaque:t.getStringMember("proData"),dev_id:t.getStringMember("devId"),session_id:t.getStringMember("appSessionId"),os_type:t.getNumberMember("osType"),flow_id:o,queue_session_id:a,sdk_version:t.getNumberMember("sdkVersion"),wall_paper_id:t.getNumberMember("wallPaperId")?parseInt("".concat(t.getNumberMember("wallPaperId")),10):null,entry_uuid:t.getNumberMember("entryUuid")?parseInt("".concat(t.getNumberMember("entryUuid")),10):null,entry_archive_name:t.getStringMember("entryArchiveName"),join_method:t.getNumberMember("playWay"),meeting_id:t.getStringMember("meetingId"),target_uuid:parseInt("".concat(t.getNumberMember("instanceTagUuid")),10),queue_level:t.getNumberMember("queueLevel"),rset_id:t.getNumberMember("rsetId"),dialtest_history_data:p.map((function(e){return d(d({},e),{},{ts:parseInt(e.ts,10)})}))}).host_method=parseInt("".concat(t.getBoolMember("allowMeeting")?"1":"0").concat(t.getBoolMember("allowWatch")?"1":"0").concat(t.getBoolMember("allowFight")?"1":"0").concat(t.getBoolMember("allowHelp")?"1":"0").concat(t.getBoolMember("allowChangeScreen")?"0":"1"),2),t.getNumberMember("roomid")&&(v.roomid=parseInt("".concat(t.getNumberMember("roomid")),10)),t.getBoolMember("autoRegister")&&(f="".concat(l,"/v3/union/apply"),v.app_user_id=t.getStringMember("autoRegisterUserId"),f=(0,u.vrSign)({AccessKey:t.getStringMember("accessKey"),AccessKeySecret:t.getStringMember("accessKeySecret"),Ticket:t.getStringMember("ticket"),TicketNonce:t.getStringMember("ticketNonce"),Timestamp:t.getStringMember("timestamp"),url:f,body:JSON.stringify(v)})),e.prev=9,this.options.logger.info(this.TAG,"req requireArea, url => ".concat(f,", data => ").concat(JSON.stringify(v))),e.next=13,(0,u.Require)(f,{cancelKey:this.requireKey,data:v},!0);case 13:if(y=e.sent,g=y.data,(m=y.headers["x-request-client-ip"])||(m=""),this.live){e.next=19;break}return e.abrupt("return",0);case 19:if(this.options.logger.info(this.TAG,"resp requireArea, url => ".concat(f,", return => ").concat(JSON.stringify(g))),this.retryTime=0,!(0===g.ret.code||g.ret.code===c.ReportCode.TargetFlowNotSetup&&g.body.existing_dev_id)){e.next=41;break}return b=g.body,w=b.uid,T=b.uuid,_=b.gid,k=b.token,E=b.flow_id,C=b.access_info,S=b.game_info,A=b.dialpoint,R=b.client_info,t.updateNumberMember("areaType",C.area_type),t.updateNumberMember("unionUserId",T),t.updateNumberMember("userId",w),t.updateNumberMember("gId",_),t.updateStringMember("token",k),t.updateStringMember("flowId",E),t.updateStringMember("clientIP",m),t.updateStringMember("pingBeWssUrl",A?A.rtt_ws_url:""),t.updateStringMember("clientAddress",R?R.address:""),t.updateStringMember("clientIsp",R?R.isp:""),t.updateStringMember("clientCountry",R?R.country:""),t.updateStringMember("clientProvince",R?R.province:""),t.updateStringMember("clientCity",R?R.city:""),t.updateNumberMember("pingBeIdc",C.idc||0),C.spare_address&&C.spare_address instanceof Array?t.handlerReceiveSpareAddress([{address:C.access_ipv4_address,port:C.access_ipv4_port}].concat(C.spare_address.map((function(e){return{address:e.access_ipv4_address,port:e.access_ipv4_port}})))):t.handlerReceiveSpareAddress([{address:C.access_ipv4_address,port:C.access_ipv4_port}]),t.updateStringMember("gamePadConfigUrl",S&&S.control_info_url?S.control_info_url:""),this._pullGamePadConfig(t.getStringMember("gamePadConfigUrl")).then((function(e){t.updateObjectMember("gamePadConfig",e),t.eventDispatch(c.ReportCode.ShowGamepad,"")})),e.abrupt("return",c.ReportCode.RequireAreaSuccess);case 41:if(g.ret.code!==c.ReportCode.NeedchangeDevIdAndReapply||!g.body.existing_dev_id){e.next=47;break}if(!(O=g.body.existing_dev_id)){e.next=46;break}return t.updateStringMember("devId",O),e.abrupt("return",c.ReportCode.NeedchangeDevIdAndReapply);case 46:return e.abrupt("return",c.ReportCode.ApplyReturnDevIdNull);case 47:if(g.ret.code!==this.requireAreaCode.GameLive){e.next=57;break}return e.next=50,this._releaseArea(t,{flowId:g.body.flow_id,gId:g.body.ugid,uuId:g.body.uuid});case 50:if((M=e.sent)!==c.ReportCode.ReleaseAreaSuccess){e.next=56;break}return e.next=54,this._requestArea(t);case 54:return I=e.sent,e.abrupt("return",I);case 56:return e.abrupt("return",M);case 57:if(g.ret.code!==this.requireAreaCode.NeedRank||!g.body.queue_info){e.next=63;break}return t.eventDispatch(c.ReportCode.ServerRank,{rank:g.body.queue_info.rank,total:g.body.queue_info.total,period:g.body.queue_info.ewtime,desc:"union 排队"}),e.next=61,this._startRank({domain:"".concat(g.body.queue_info.address,":").concat(g.body.queue_info.port),uuid:parseInt("".concat(t.getNumberMember("userId")),10),sessionId:g.body.queue_info.session_id,context:t});case 61:return P=e.sent,e.abrupt("return",P);case 63:return g.ret.code===this.requireAreaCode.BanChangeScreen&&g.body.flow_id&&t.updateStringMember("flowId",g.body.flow_id),e.abrupt("return",g.ret.code);case 67:return e.prev=67,e.t0=e.catch(9),this.options.logger.error(this.TAG,"requireArea, error and retry => ".concat(e.t0.toString())),e.next=72,this._reTryRequire(t,s);case 72:return x=e.sent,e.abrupt("return",x);case 74:case"end":return e.stop()}}),e,this,[[9,67]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_releaseArea",value:function(){var e=(0,n.default)(h().mark((function e(t){var r,n,o,i,a,s,l,f,d,p,v,y,g,m=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:{},n=r.flowId,o=void 0===n?"":n,i=r.gId,a=void 0===i?0:i,s=r.uuId,l=void 0===s?0:s,f=m.length>2&&void 0!==m[2]?m[2]:"",d=f||this.getNextUnion(0),p="".concat(d,"/v1/union/release"),v={uuid:l?parseInt("".concat(l),10):parseInt("".concat(t.getNumberMember("unionUserId")),10),ugid:a,utoken:t.getStringMember("userToken"),flow_id:o,type:1},t.getBoolMember("autoRegister")&&(p=(0,u.vrSign)({AccessKey:t.getStringMember("accessKey"),AccessKeySecret:t.getStringMember("accessKeySecret"),url:p,body:JSON.stringify(v)})),this.options.logger.info(this.TAG,"req release area, url => ".concat(p,", data => ").concat(JSON.stringify(v))),e.prev=7,t.stepTimeNotify(c.ReportCode.ReleaseAreaSuccess,Date.now()),e.next=11,(0,u.Require)(p,{cancelKey:this.releaseKey,data:v});case 11:if(y=e.sent,this.live){e.next=14;break}return e.abrupt("return",0);case 14:if(!y||!y.ret||0!==y.ret.code){e.next=17;break}return t.stepTimeNotify(c.ReportCode.ReleaseAreaSuccess,Date.now()),e.abrupt("return",c.ReportCode.ReleaseAreaSuccess);case 17:return this.options.logger.error(this.TAG,"resp release area, url => ".concat(p,", failed => ").concat(JSON.stringify(y))),e.abrupt("return",y.ret.code);case 21:if(e.prev=21,e.t0=e.catch(7),this.options.logger.error(this.TAG,"resp release area, url => ".concat(p,", error => ").concat(e.t0.toString())),this.isLastUnion()){e.next=29;break}return e.next=27,this._releaseArea(t,{flowId:o,gId:a,uuId:l},this.getNextUnion());case 27:return g=e.sent,e.abrupt("return",g);case 29:return e.abrupt("return",c.ReportCode.ReleaseAreaError);case 30:case"end":return e.stop()}}),e,this,[[7,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_reTryRequire",value:function(){var e=(0,n.default)(h().mark((function e(t,r){var o=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.retryTime++,!(this.retryTime>=this.retryMax)){e.next=9;break}if(this.isLastUnion()){e.next=8;break}this.options.logger.info(this.TAG,"try next union url"),r=this.getNextUnion(),this.retryTime=0,e.next=9;break;case 8:return e.abrupt("return",c.ReportCode.RetrtRequireAreaFailed);case 9:return e.abrupt("return",new Promise((function(e){setTimeout((0,n.default)(h().mark((function n(){var i;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.options.logger.info(o.TAG,"申请区域失败，开始重连，当前重连次数".concat(o.retryTime)),n.next=3,o._requestArea(t,{},r);case 3:i=n.sent,e(i);case 5:case"end":return n.stop()}}),n)}))),o.retryWaitTime)})));case 10:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"_pullGamePadConfig",value:function(){var e=(0,n.default)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Require)(t,{method:"get"});case 3:if(!(r=e.sent)){e.next=7;break}return this.options.logger.info(this.TAG,"resp requireGamePadConfig, url => ".concat(t,", return => ").concat(JSON.stringify(r))),e.abrupt("return",r);case 7:return e.abrupt("return",null);case 10:return e.prev=10,e.t0=e.catch(0),this.options.logger.error(this.TAG,"get gamePadConfig error, url => ".concat(t,", error => ").concat(JSON.stringify(e.t0))),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();e.default=p},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},53162:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(68995),r(73439),r(88233),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(86e3),r(37959)],n=function(e,t,n,o,i,s,u,c){"use strict";var l=r(14859);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=l(n),o=l(o),i=l(i),s=l(s);var d=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"live",!1),(0,s.default)(this,"TAG","PlayStatusQuite"),(0,s.default)(this,"requireKey","quitePlay"),(0,s.default)(this,"nowUseUnionIndex",0),this.options=t}return(0,i.default)(e,[{key:"onWssOpen",value:function(){var e=(0,n.default)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onWssClose",value:function(e){}},{key:"onWssMessage",value:function(e,t,r){}},{key:"start",value:function(){var e=(0,n.default)(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.live=!0,this.options.logger.info(this.TAG,"start"),this.quitArea(t),!t.getBoolMember("useUnion")){e.next=8;break}return e.next=6,this.quitUnion(t);case 6:return r=e.sent,e.abrupt("return",r);case 8:return this.end(),e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"end",value:function(){this.options.logger.info(this.TAG,"end"),this.live=!1,(0,c.CancelRequire)(this.requireKey)}},{key:"quitArea",value:function(e){var t={header:{token:e.getStringMember("token")},gameId:e.getNumberMember("gId")};this.options.logger.info(this.TAG,"send ReqExitGame,payload:".concat(JSON.stringify(t))),e.sendWssMsg({cmdType:"ExitGame",payload:t})}},{key:"getNextUnion",value:function(e){return 0===this.options.unionUrl.length?(this.options.logger.error(this.TAG,"union url is missing"),""):("number"==typeof e?this.nowUseUnionIndex=e:this.nowUseUnionIndex++,(this.nowUseUnionIndex>=this.options.unionUrl.length||this.nowUseUnionIndex<0)&&(this.nowUseUnionIndex=0),this.options.unionUrl[this.nowUseUnionIndex])}},{key:"isLastUnion",value:function(){return this.nowUseUnionIndex>=this.options.unionUrl.length-1}},{key:"quitUnion",value:function(){var e=(0,n.default)(f().mark((function e(t){var r,n,o,i,a,s,l=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:"",t.getBoolMember("useUnion")){e.next=3;break}return e.abrupt("return",0);case 3:return this.options.logger.info(this.TAG,"quit union"),n=r||this.getNextUnion(0),o="".concat(n,"/v1/union/release"),i={uuid:parseInt("".concat(t.getNumberMember("unionUserId")),10),ugid:parseInt("".concat(t.getNumberMember("gId")),10),utoken:t.getStringMember("userToken"),flow_id:t.getStringMember("flowId").toString(),type:0,session_id:t.getStringMember("appSessionId"),dev_id:t.getStringMember("devId")},t.getBoolMember("autoRegister")&&(o=(0,c.vrSign)({AccessKey:t.getStringMember("accessKey"),AccessKeySecret:t.getStringMember("accessKeySecret"),url:o,body:JSON.stringify(i)})),e.prev=8,e.next=11,(0,c.Require)(o,{cancelKey:this.requireKey,data:i});case 11:if(a=e.sent,this.live){e.next=14;break}return e.abrupt("return",0);case 14:if(!a||!a.ret){e.next=18;break}if(0!==a.ret.code){e.next=17;break}return e.abrupt("return",u.ReportCode.ReleaseAreaSuccess);case 17:return e.abrupt("return",a.ret.code);case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:if(this.live){e.next=24;break}return e.abrupt("return",0);case 24:if(this.isLastUnion()){e.next=29;break}return e.next=27,this.quitUnion(t,this.getNextUnion());case 27:return s=e.sent,e.abrupt("return",s);case 29:return e.abrupt("return",u.ReportCode.ReleaseAreaError);case 30:case"end":return e.stop()}}),e,this,[[8,20]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();e.default=d},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},21900:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(38695),r(27233),r(15735),r(32501),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(68995),r(73439),r(88233),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(86e3),r(37959),r(31877)],n=function(e,t,n,o,i,s,u,c,l){"use strict";var f=r(14859);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=p.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(b,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=f(n),o=f(o),i=f(i),s=f(s);var y=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"TAG","PlayStatusReApplyResource"),(0,s.default)(this,"live",!1),(0,s.default)(this,"startResolve",null),(0,s.default)(this,"launchResolve",(function(){})),this.options=t}return(0,i.default)(e,[{key:"onWssClose",value:function(e){}},{key:"start",value:function(){var e=(0,n.default)(v().mark((function e(t){var r=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options.logger.info(this.TAG,"start"),this.live=!0,t.updateBoolMember("isGameReady",!1),e.abrupt("return",new Promise(function(){var e=(0,n.default)(v().mark((function e(n){var o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.startResolve=n,r.options.logger.info(r.TAG,"be wss open status => ".concat(t.isBeWssOpen())),!t.isBeWssOpen()){e.next=7;break}return e.next=5,r.requestAllocResource(t);case 5:-1!==(o=e.sent)&&(r.end(),n(o));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"end",value:function(){this.live=!1,this.launchResolve=function(){}}},{key:"onWssOpen",value:function(){var e=(0,n.default)(v().mark((function e(t){var r,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.logger.info(this.TAG,"be wss open"),!this.live){e.next=6;break}return e.next=4,this.requestAllocResource(t);case 4:-1!==(r=e.sent)&&(n=this.startResolve,this.end(),n&&n(r));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onWssMessage",value:function(e,t,r){switch(e){case l.BeManager.CmdTypeValues.RspLaunchGame:this._recvedRspLaunchGameMsg(r,t);break;case l.BeManager.CmdTypeValues.NtfGameStatus:this._recvedNtfGameStatusMsg(r,t);break;default:this.options.logger.info(this.TAG,"receive ".concat(e))}}},{key:"requestAllocResource",value:function(){var e=(0,n.default)(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,t.stepTimeNotify(u.ReportCode.AllocLoginSuccess,Date.now()),e.next=4,this._launch(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_launch",value:function(){var e=(0,n.default)(v().mark((function e(t){var r=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,n.default)(v().mark((function e(n){var o,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.launchResolve=n,r.options.logger.info(r.TAG,"send reapply launch"),o={header:{token:t.getStringMember("token"),requestId:(0,c.getRandomIDString)(6)},gameId:t.getNumberMember("gId"),vmid:t.getNumberMember("vmId"),resourceType:1,opaque:t.getStringMember("proData"),vpadId:65535,dpadId:0,streamInfo:JSON.stringify({clientType:t.getStringMember("clientType"),dev_identity:t.getStringMember("devIdentity"),connectionType:t.getStringMember("connectionType"),forceAudioDataChannel:t.getBoolMember("forceAudioDataChannel")?1:0,videoDataType:t.getStringMember("videoDataType"),supportVideoCodecProfiles:t.getVideoCodecProfile(),videoLevel:parseInt("".concat(t.getNumberMember("videoLevel")),10),maxFps:parseInt("".concat(t.getNumberMember("fps")),10),gid:parseInt("".concat(t.getNumberMember("gId")),10),avgBitrateratio:100,clientSupportHevc:0,idrPeriod:60,packetSize:768,vibration:!0,desiredWidth:t.getNumberMember("deviceWidth"),desiredHeight:t.getNumberMember("deviceHeight"),clientNetworkType:t.getNumberMember("networkType"),withHWCursor:t.getBoolMember("showMouse"),requestUseServerCursorData:void 0===t.getBoolMember("useLocalMouse")?!t.getBoolMember("showMouse"):t.getBoolMember("useLocalMouse"),keyboardType:t.getNumberMember("keyboardType"),imeType:t.getNumberMember("imeType")}),deviceInfo:t.getStringMember("deviceInfo")},t.getStringMember("crossParams")&&(o.extraInfo=[{bizId:t.getNumberMember("crossGame"),bizParam:t.getStringMember("crossParams")}]),e.next=6,t.sendWssMsg({cmdType:"LaunchGame",payload:o});case 6:i=e.sent,r.options.logger.info(r.TAG,"launch res => ".concat(JSON.stringify(i)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_recvedRspLaunchGameMsg",value:function(e,t){this.options.logger.info(this.TAG,"receive LaunchGame:".concat(JSON.stringify(t)));var r=t.result.gerrcode;e.updateStringMember("flowId",t.flowId),e.eventDispatch(r,"launch response:".concat(JSON.stringify(t)))}},{key:"_recvedNtfGameStatusMsg",value:function(e,t){switch(this.options.logger.info(this.TAG,"_recvedNtfGameStatusMsg => ".concat(t.gameStatus)),t.gameStatus){case e.PbGameStatusValues.GameStatusStartSuccess:e.updateBoolMember("isGameReady",!0),this._onAllocResourceSuccessed(e,t);break;case e.PbGameStatusValues.GameStatusStartProcing:case e.PbGameStatusValues.GameStatusAllocSuccess:this._onAllocResourceSuccessed(e,t);break;case e.PbGameStatusValues.GameStatusReadyRender:e.updateBoolMember("isGameReady",!0)}}},{key:"_onAllocResourceSuccessed",value:function(e,t){if(this.options.logger.info(this.TAG,"receive NtfGameStatus:".concat(JSON.stringify(t))),this.live||this.launchResolve(-1),e.updateObjectMember("gameResource",t.gameResource),e.updateNumberMember("vmId",t.gameResource.vmid),e.updateStringMember("chargeId",t.gameResource.chargeId),e.updateVpadInfo(t.gameResource.vpadInfo),e.updateStringMember("aSessionId",t.gameResource.aSessionId),e.updateStringMember("vSessionId",t.gameResource.vSessionId),e.updateStringMember("cSessionId",t.gameResource.cSessionId),t.gameResource.resourceDomain){var r=[{domain:t.gameResource.resourceDomain,port:parseInt("".concat(t.gameResource.resourceIpv4Portseg),10),ipv4:t.gameResource.resourceIpv4Address,ipv6:t.gameResource.resourceIpv6Address}];if(t.gameResource.spareResourceAddress)try{var n,o=d(t.gameResource.spareResourceAddress);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push({domain:i.resourceDomain,port:parseInt("".concat(i.resourceIpv4Portseg),10),ipv4:i.resourceIpv4Address,ipv6:i.resourceIpv6Address})}}catch(e){o.e(e)}finally{o.f()}}catch(e){}e.handlerReceiveLsSpareAddress(r),this.launchResolve(u.ReportCode.AllocSuccess)}else this.launchResolve(u.ReportCode.AllocWithoutDomain)}}]),e}();e.default=y},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},61083:function(e,t,r){var n,o,i;r(74083),r(43450),r(99805),r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198)],void 0===(i="function"==typeof(n=function(e,t,n){"use strict";var o=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=o(t),n=o(n);var i=function(){function e(r){(0,t.default)(this,e),this.listener={},this.type=""|r}return(0,n.default)(e,[{key:"on",value:function(e,t){return this.listener[e]||(this.listener[e]=[]),this.listener[e].push(t),!0}},{key:"off",value:function(e,t){if(this.listener[e]){var r=this.listener[e].indexOf(t);return r>-1&&this.listener[e].splice(r,1),!0}return!1}},{key:"offAll",value:function(){this.listener={}}},{key:"dispatch",value:function(e,t){return!!this.listener[e]&&(this.listener[e].map((function(e){return e.apply(null,[t]),e})),!0)}}]),e}();e.default=i})?n.apply(t,o):n)||(e.exports=i)},56098:function(t,r,n){var o,i,a;n(15735),n(72994),n(26936),n(95094),n(58188),n(88233),n(13675),n(5825),n(67170),n(38857),n(58329),n(76279),n(427),n(11159),n(42516),n(64349),n(15273),n(16729),n(41801),n(50574),n(5787),n(39271),n(73160),n(65688),n(93157),n(33333),n(70315),n(28314),n(50556),n(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,i=[r,n(50085),n(15198),n(72231),n(83310)],o=function(t,r,o,i,a){"use strict";var s=n(14859);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r=s(r),o=s(o),i=s(i),a=s(a);var u=function(){function t(){var n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.opusPath,u=o.forceWorker,c=o.logger,l=o.ctx,f=o.localVolume;if((0,r.default)(this,t),this.logger=c,this.TAG="asm-player",!l)throw this.logger.error(this.TAG,"your browser not support AudioContext object"),new Error("your browser not support AudioContext object => ".concat(e.toString()));this.ctx=l,this.localVolume=f;var d=48e3,h=1;this.decoder=new i.default({channels:h},{opusPath:s,forceWorker:u,logger:c}),this.decoder.on("decode",(function(e){e&&n.player.feed(e)})),this.player=new a.default(h,d,this.ctx,this.localVolume)}return(0,o.default)(t,[{key:"appendBytes",value:function(e){var t=this;if("Blob"===e.constructor.name){var r=new FileReader;r.onload=function(){t.queueData(this.result)},r.readAsArrayBuffer(e)}else this.queueData(e)}},{key:"shutdown",value:function(){this.ready=!1,this.opus&&(this.opus=null),this.ctx&&(this.ctx.suspend(),this.ctx=null),this.queue=[]}},{key:"queueData",value:function(e){this.decoder&&this.decoder.decode(new Uint8Array(e))}}]),t}();t.default=u},void 0===(a="function"==typeof o?o.apply(r,i):o)||(t.exports=a)},13775:function(e,t,r){var n,o,i;r(15735),r(72994),r(95206),r(95094),r(58188),r(61229),r(81382),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(60270),r(36983),r(2588),r(61083)],n=function(e,t,n,o,i,a,s){"use strict";var u=r(14859);function c(e){var t=l();return function(){var r,n=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){var r=new Uint8Array((0|e.length)+(0|t.length));return r.set(e,0),r.set(t,0|e.length),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=u(t),n=u(n),o=u(o),i=u(i),a=u(a);var d=function(e){(0,o.default)(i,e);var r=c(i);function i(e){var n;return(0,t.default)(this,i),(n=r.call(this,"ogg")).channel=e,n.audioCtx=new(window.AudioContext||window.webkitAudioContext),n.queue=[],n.flushLimit=20,n.init(),n}return(0,n.default)(i,[{key:"getSampleRate",value:function(){return this.audioCtx.sampleRate}},{key:"init",value:function(){var e,t;this.oggHeader=new Uint8Array,this.pageIndex=0,this.serial=Math.ceil(Math.random()*Math.pow(2,32)),this.initChecksumTable(),e=this.getIDHeader(),t=this.getPage(e,2),this.oggHeader=f(this.oggHeader,t),e=this.getCommentHeader(),t=this.getPage(e,0),this.oggHeader=f(this.oggHeader,t)}},{key:"getIDHeader",value:function(){var e=new Uint8Array(19),t=new DataView(e.buffer);return t.setUint32(0,1937076303,!0),t.setUint32(4,1684104520,!0),t.setUint8(8,1,!0),t.setUint8(9,this.channel,!0),t.setUint16(10,0,!0),t.setUint32(12,8e3,!0),t.setUint16(16,0,!0),t.setUint8(18,0,!0),e}},{key:"getCommentHeader",value:function(){var e=new Uint8Array(20),t=new DataView(e.buffer);return t.setUint32(0,1937076303,!0),t.setUint32(4,1936154964,!0),t.setUint32(8,4,!0),t.setUint32(12,1633837924,!0),t.setUint32(16,0,!0),e}},{key:"getPage",value:function(e,t){var r=new Uint8Array(1),n=new Uint8Array(27+r.byteLength+e.byteLength),o=new DataView(n.buffer);return r[0]=e.length,o.setUint32(0,1399285583,!0),o.setUint8(4,0,!0),o.setUint8(5,t,!0),o.setUint32(6,-1,!0),o.setUint32(10,0,!0),o.setUint32(14,this.serial,!0),o.setUint32(18,this.pageIndex++,!0),o.setUint8(26,1,!0),n.set(r,27),n.set(e,28),o.setUint32(22,this.getChecksum(n),!0),n}},{key:"getOGG",value:function(){for(var e,t,r=this.oggHeader;this.queue.length;)e=this.queue.shift(),t=0==this.queue.length?4:0,r=f(r,this.getPage(e,t));return this.pageIndex=2,r}},{key:"getChecksum",value:function(e){for(var t=0,r=0;r<e.length;r++)t=t<<8^this.checksumTable[t>>>24&255^e[r]];return t>>>0}},{key:"initChecksumTable",value:function(){this.checksumTable=[];for(var e=0;e<256;e++){for(var t=e<<24,r=0;r<8;r++)t=0!=(2147483648&t)?t<<1^79764919:t<<1;this.checksumTable[e]=4294967295&t}}},{key:"decode",value:function(e){this.queue.push(e),this.queue.length>=this.flushLimit&&this.process()}},{key:"process",value:function(){var e=this,t=this.getOGG();this.audioCtx.decodeAudioData(t.buffer,(function(t){var r;r=1==e.channel?t.getChannelData(0):e.getMergedPCMData(t),e.dispatch("data",r)}),(function(e){console.error("audio decode packet fail:".concat(e))}))}},{key:"getMergedPCMData",value:function(e){var t,r,n,o=[],i=0,a=0,s=0;for(a=0;a<this.channel;a++)t=e.getChannelData(a),o.push(t);for(r=o[0].length,n=new Float32Array(this.channel*r),a=0;r>a;){for(s=0;s<this.channel;s++)n[i++]=o[s][a];a++}return n}},{key:"destroy",value:function(){this.audioCtx.close(),this.oggHeader=null,this.audioCtx=null,this.checksumTable=null,this.offAll()}}]),i}((s=u(s)).default);e.default=d},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},72231:function(e,t,r){var n,o,i;r(34115),r(18178),r(95342),r(38695),r(15735),r(76555),r(95094),r(68625),r(62775),r(34769),r(58188),r(61229),r(28673),r(1939),r(6886),r(14121),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(81260),r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(61083),r(13775),r(86695),r(37959)],n=function(e,t,n,o,i,a,s,u,c,l,f,d){"use strict";var h=r(14859);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){(0,t.default)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=g();return function(){var r,n=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=h(t),n=h(n),o=h(o),i=h(i),a=h(a),s=h(s),u=h(u),c=h(c),l=h(l),f=h(f);var m=function(e){(0,a.default)(r,e);var t=y(r);function r(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.opusPath,u=a.forceWorker,c=a.logger;(0,n.default)(this,r),(o=t.call(this,"decoder")).logger=c,o.TAG="opus-to-pcm",window.MediaSource=window.MediaSource||window.WebKitMediaSource;var h=!(!window.MediaSource||!window.MediaSource.isTypeSupported("audio/webm; codecs=opus")),p=new Blob(["importScripts(".concat(d.OssSource.opusBlob,"?t=").concat(Date.now(),")")],{type:"application/javascript"}),y=window.URL.createObjectURL(p),g={channels:1,fallback:!0,libopusPath:s||y},m=!0;return m="undefined"!=typeof Worker,"boolean"==typeof u&&(m=u),o.logger.info(o.TAG,"audio decoder mode is nativeSupport ".concat(h)),e=v(v({},g),e),o.decoder=m?new f.default(e.channels,e.libopusPath):new l.default(e.channels),o.decoder&&o.decoder.on("data",o.onData.bind((0,i.default)(o))),o}return(0,o.default)(r,[{key:"getSampleRate",value:function(){return this.decoder.getSampleRate()}},{key:"onData",value:function(e){this.dispatch("decode",e)}},{key:"decode",value:function(e){if(!this.decoder)throw"opps! no decoder is found to decode";this.decoder.decode(e)}},{key:"destroy",value:function(){this.decoder.destroy(),this.offAll()}}]),r}(c.default);e.default=m},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},86695:function(e,t,r){var n,o,i;r(95094),r(61229),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(61083)],n=function(e,t,n,o,i,a,s,u){"use strict";var c=r(14859);function l(e){var t=f();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=c(t),n=c(n),o=c(o),i=c(i),a=c(a),s=c(s);var d=function(e){(0,i.default)(a,e);var r=l(a);function a(e,n){var i;return(0,t.default)(this,a),(i=r.call(this,"worker")).worker=new Worker(n),i.worker.addEventListener("message",i.onMessage.bind((0,o.default)(i))),i.worker.postMessage({type:"init",config:{rate:48e3,channels:e}}),i}return(0,n.default)(a,[{key:"getSampleRate",value:function(){return 48e3}},{key:"decode",value:function(e){var t={type:"decode",buffer:e};this.worker.postMessage(t)}},{key:"onMessage",value:function(e){var t=e.data;this.dispatch("data",t.buffer)}},{key:"destroy",value:function(){this.worker=null,this.offAll()}}]),a}((u=c(u)).default);e.default=d},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},83310:function(e,t,r){var n,o,i;r(38695),r(15735),r(72994),r(95094),r(58188),r(81382),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e,t,r,n){this.samples=new Float32Array,this.flushingTime=200,this.channels=e,this.sampleRate=t,this.audioCtx=r,this.localVolume=n,this.createContext=function(){this.unlockAudioContext(this.audioCtx),this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=this.localVolume,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime},this.stopFlushing=function(){this.interval&&clearInterval(this.interval)},this.unlockAudioContext=function(e){if("suspended"===e.state){var t=function(){e.resume()};["touchstart","touchend","mousedown","keydown"].forEach((function(e){document.body.addEventListener(e,t,!1)}))}},this.feed=function(e){var t=new Float32Array(this.samples.length+e.length);t.set(this.samples,0),t.set(e,this.samples.length),this.samples=t},this.flush=function(){if(this.channels&&this.sampleRate&&this.samples.length){var e,t,r,n,o,i=this.audioCtx.createBufferSource(),a=this.samples.length/this.channels,s=this.audioCtx.createBuffer(this.channels,a,this.sampleRate);for(t=0;t<this.channels;t++)for(e=s.getChannelData(t),r=t,o=50,n=0;n<a;n++)e[n]=this.samples[r],n<50&&(e[n]=e[n]*n/50),n>=a-51&&(e[n]=e[n]*o--/50),r+=this.channels;this.startTime<this.audioCtx.currentTime&&(this.startTime=this.audioCtx.currentTime),i.buffer=s,i.connect(this.gainNode),i.start(this.startTime),this.startTime+=s.duration,this.samples=new Float32Array}},this.flush=this.flush.bind(this),this.createContext(),this.interval=setInterval(this.flush,this.flushingTime)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t})?n.apply(t,o):n)||(e.exports=i)},96655:function(e,t,r){var n,o,i;r(34115),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(27998),r(56098),r(37959)],n=function(e,t,n,o,i,a,s){"use strict";var u=r(14859);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.AudioPlayer=void 0,t=u(t),n=u(n),o=u(o),i=u(i),a=u(a);var f=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"options",void 0),(0,o.default)(this,"player",null),(0,o.default)(this,"TAG","audioplayer"),(0,o.default)(this,"status",e.PlayStatus.pause),this.options=l({forceWorker:!1,logger:{info:function(){},warn:function(){},error:function(){}},forceAsm:!1,localVolume:1},r),this._initplayer()}return(0,n.default)(e,[{key:"play",value:function(){this.status=e.PlayStatus.play,this.options.audioContext.resume(),this.options.logger.info(this.TAG,"resume audio context success")}},{key:"pause",value:function(){this.status=e.PlayStatus.pause,this.options.audioContext.suspend()}},{key:"setVolume",value:function(e){this.player&&this.player instanceof i.default&&this.player.gainNode?this.player.gainNode.gain.value=e:this.player&&this.player instanceof a.default&&this.player.player&&this.player.player.gainNode&&(this.player.player.gainNode.gain.value=e)}},{key:"appendBytes",value:function(t){var r;this.status===e.PlayStatus.play&&(null===(r=this.player)||void 0===r||r.appendBytes(t))}},{key:"shutdown",value:function(){var e;this.pause(),null===(e=this.player)||void 0===e||e.shutdown(),this.options.logger.info(this.TAG,"audio player shutdown")}},{key:"_initplayer",value:function(){e.isSupportWasm()&&!this.options.forceAsm?(this.options.logger.info(this.TAG,"use wasm player"),this.player=new i.default({wasmPath:this.options.wasmPath,logger:this.options.logger,ctx:this.options.audioContext,localVolume:this.options.localVolume})):(this.options.logger.info(this.TAG,"use asm player"),this.player=new a.default({opusPath:this.options.opusPath,forceWorker:this.options.forceWorker,logger:this.options.logger,ctx:this.options.audioContext,localVolume:this.options.localVolume}))}}],[{key:"isSupportWasm",value:function(){return(0,s.isSupportWasm)()}}]),e}();e.AudioPlayer=f,(0,o.default)(f,"PlayStatus",{play:"play",pause:"pause"})},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},27998:function(e,t,r){var n,o,i;r(18178),r(38695),r(15735),r(72994),r(26936),r(95094),r(58188),r(81382),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(61786),r(37959)],n=function(e,t,n,o,i){"use strict";var a=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=a(t),n=a(n),o=a(o);var s=1920,u=function(){function e(){var r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.wasmPath,s=n.logger,u=n.ctx,c=n.localVolume;if((0,t.default)(this,e),this.logger=s,this.TAG="wasm-player",this.logger.info(this.TAG,"new wasm audio player"),!u)throw this.logger.error(this.TAG,"your browser not support AudioContext object"),new Error("your browser not support AudioContext object");this.ctx=u,this.logger.info(this.TAG,"create AudioContext success => ".concat(this.ctx)),this.nextTime=this.ctx.currentTime,this.offset=0,this.bufSource=null,this.left=null,this.right=null,this.encodeU8=null,this.decodeF32=null,this.opus=null,this.ready=!1,this.unlockAudioContext(this.ctx),this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=c,this._refreshBuffer(),this.queue=[],this.connection=null,this.opus=(0,o.default)({onRuntimeInitialized:function(){r.opus.ccall("init","number");var e=r.opus.ccall("encode_buf","number"),t=r.opus.ccall("decode_buf","number");r.encodeU8=new Uint8Array(r.opus.HEAPU8.buffer,e),r.decodeF32=new Float32Array(r.opus.HEAPF32.buffer,t),r.ready=!0},locateFile:function(e){return"opus.wasm"===e?"".concat(a||i.OssSource.wasmPath,"?t=").concat(Date.now()):e}})}return(0,n.default)(e,[{key:"playAudio",value:function(){if(this.queue.length>3){var e=this.queue.shift();this.queueData(e)}}},{key:"unlockAudioContext",value:function(e){var t=this;"suspended"===e.state&&["touchstart","touchend","mousedown","keydown"].forEach((function(e){window.addEventListener(e,t.unlock.bind(t),!0)}))}},{key:"unlock",value:function(){var e=this;["touchstart","touchend","mousedown","keydown"].forEach((function(t){window.removeEventListener(t,e.unlock.bind(e),!0)})),this.ctx.resume()}},{key:"appendBytes",value:function(e){var t=this;if("Blob"===e.constructor.name){var r=new FileReader;r.onload=function(){t.queue.push(this.result),t.playAudio()},r.readAsArrayBuffer(e)}else t.queue.push(e),t.playAudio()}},{key:"shutdown",value:function(){this.ready=!1,this.opus&&this.opus.ccall("cleanup")}},{key:"_refreshBuffer",value:function(){var e=this.ctx.createBuffer(2,s,48e3);this.left=e.getChannelData(0),this.right=e.getChannelData(1),this.bufSource=this.ctx.createBufferSource(),this.bufSource.buffer=e,this.bufSource.connect(this.gainNode).connect(this.ctx.destination),this.offset=0}},{key:"queueData",value:function(e){if(this.ready){this.encodeU8.set(new Uint8Array(e));for(var t=this.opus.ccall("decode","number",["number"],[e.byteLength]),r=0;r<2*t;r+=2)this.left[this.offset]=this.decodeF32[r],this.right[this.offset]=this.decodeF32[r+1],this.offset++;this.offset===s&&(this.nextTime<this.ctx.currentTime&&(this.nextTime=this.ctx.currentTime+.04),this.bufSource.start(this.nextTime),this.nextTime+=.04,this._refreshBuffer())}}}]),e}();e.default=u},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},61786:function(e,t,r){var n,o,i;r(74083),r(15735),r(16781),r(32501),r(99805),r(65388),r(72994),r(26936),r(95094),r(68625),r(58188),r(73439),r(77950),r(88233),r(85940),r(48319),r(44112),r(81382),r(91982),r(73229),r(24074),r(64696),r(13675),r(13161),r(90723),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(58921)],n=function(e,t){"use strict";var n=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=n(t);var o,i=(o="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){e=void 0!==(e=e||{})?e:{};var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);e.arguments=[],e.thisProgram="./this.program",e.quit=function(e,t){throw t},e.preRun=[],e.postRun=[];var a=!1,s=!1,u=!1,c=!1;a="object"===("undefined"==typeof window?"undefined":(0,t.default)(window)),s="function"==typeof importScripts,u="object"===("undefined"==typeof process?"undefined":(0,t.default)(process))&&!a&&!s,c=!a&&!u&&!s;var l,f,d="";function h(t){return e.locateFile?e.locateFile(t,d):d+t}u?(d="//",e.read=function(e,t){var n;return l||(l=r(98770)),f||(f=r(84371)),e=f.normalize(e),n=l.readFileSync(e),t?n:n.toString()},e.readBinary=function(t){var r=e.read(t,!0);return r.buffer||(r=new Uint8Array(r)),_(r.buffer),r},process.argv.length>1&&(e.thisProgram=process.argv[1].replace(/\\/g,"/")),e.arguments=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Ne))throw e})),process.on("unhandledRejection",(function(e,t){process.exit(1)})),e.quit=function(e){process.exit(e)},e.inspect=function(){return"[Emscripten Module object]"}):c?("undefined"!=typeof read&&(e.read=function(e){return read(e)}),e.readBinary=function(e){var r;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(r=read(e,"binary"),_("object"===(0,t.default)(r)),r)},"undefined"!=typeof scriptArgs?e.arguments=scriptArgs:void 0!==arguments&&(e.arguments=arguments),"function"==typeof quit&&(e.quit=function(e){quit(e)})):(a||s)&&(a?document.currentScript&&(d=document.currentScript.src):d=self.location.href,o&&(d=o),d=0!==d.indexOf("blob:")?d.split("/").slice(0,-1).join("/")+"/":"",e.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},s&&(e.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),e.readAsync=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},e.setWindowTitle=function(e){document.title=e});var p=e.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),v=e.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||p);for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);i=void 0;var y=16;function g(e){var t=F;return F=F+e+15&-16,t}function m(e,t){return t||(t=y),e=Math.ceil(e/t)*t}var b={"f64-rem":function(e,t){return e%t},debugger:function(){}},w=(new Array(0),1024),T=0;function _(e,t){e||Fe("Assertion failed: "+t)}function k(t){var r=e["_"+t];return _(r,"Cannot call unknown function "+t+", make sure it is exported"),r}var E={stackSave:function(){De()},stackRestore:function(){Le()},arrayToC:function(e){var t=xe(e.length);return de(e,t),t},stringToC:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);P(e,t=xe(r),r)}return t}},C={string:E.stringToC,array:E.arrayToC};function S(e,t,r,n,o){function i(e){return"string"===t?A(e):"boolean"===t?Boolean(e):e}var a=k(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=C[r[c]];l?(0===u&&(u=De()),s[c]=l(n[c])):s[c]=n[c]}var f=a.apply(null,s);return f=i(f),0!==u&&Le(u),f}function A(e,t){if(0===t||!e)return"";for(var r,n=0,o=0;n|=r=D[e+o>>0],(0!=r||t)&&(o++,!t||o!=t););t||(t=o);var i="";if(n<128){for(var a,s=1024;t>0;)a=String.fromCharCode.apply(String,D.subarray(e,e+Math.min(t,s))),i=i?i+a:a,e+=s,t-=s;return i}return M(e)}var R="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,t){for(var r=t;e[r];)++r;if(r-t>16&&e.subarray&&R)return R.decode(e.subarray(t,r));for(var n,o,i,a,s,u="";;){if(!(n=e[t++]))return u;if(128&n)if(o=63&e[t++],192!=(224&n))if(i=63&e[t++],224==(240&n)?n=(15&n)<<12|o<<6|i:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|o<<12|i<<6|a:(s=63&e[t++],n=248==(252&n)?(3&n)<<24|o<<18|i<<12|a<<6|s:(1&n)<<30|o<<24|i<<18|a<<12|s<<6|63&e[t++])),n<65536)u+=String.fromCharCode(n);else{var c=n-65536;u+=String.fromCharCode(55296|c>>10,56320|1023&c)}else u+=String.fromCharCode((31&n)<<6|o);else u+=String.fromCharCode(n)}}function M(e){return O(D,e)}function I(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=2097151){if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=67108863){if(r+4>=i)break;t[r++]=248|s>>24,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+5>=i)break;t[r++]=252|s>>30,t[r++]=128|s>>24&63,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function P(e,t,r){return I(e,D,t,r)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var x,L,D,N,G,F,B,j,U,V,H=65536,K=16777216,W=16777216;function Y(e,t){return e%t>0&&(e+=t-e%t),e}function q(t){e.buffer=x=t}function z(){e.HEAP8=L=new Int8Array(x),e.HEAP16=new Int16Array(x),e.HEAP32=N=new Int32Array(x),e.HEAPU8=D=new Uint8Array(x),e.HEAPU16=new Uint16Array(x),e.HEAPU32=new Uint32Array(x),e.HEAPF32=new Float32Array(x),e.HEAPF64=new Float64Array(x)}function J(){Fe("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Z+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function X(){var t=e.usingWasm?H:K,r=2147483648-t;if(N[V>>2]>r)return!1;var n=Z;for(Z=Math.max(Z,W);Z<N[V>>2];)Z=Z<=536870912?Y(2*Z,t):Math.min(Y((3*Z+2147483648)/4,t),r);var o=e.reallocBuffer(Z);return o&&o.byteLength==Z?(q(o),z(),!0):(Z=n,!1)}G=F=B=j=U=V=0,e.reallocBuffer||(e.reallocBuffer=function(e){var t;try{if(ArrayBuffer.transfer)t=ArrayBuffer.transfer(x,e);else{var r=L;t=new ArrayBuffer(e),new Int8Array(t).set(r)}}catch(e){return!1}return!!Pe(t)&&t});try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(e){}var Q=e.TOTAL_STACK||5242880,Z=e.TOTAL_MEMORY||16777216;function $(){return Z}function ee(t){for(;t.length>0;){var r=t.shift();if("function"!=typeof r){var n=r.func;"number"==typeof n?void 0===r.arg?e.dynCall_v(n):e.dynCall_vi(n,r.arg):n(void 0===r.arg?null:r.arg)}else r()}}Z<Q&&v("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Z+"! (TOTAL_STACK="+Q+")"),e.buffer?x=e.buffer:("object"===("undefined"==typeof WebAssembly?"undefined":(0,t.default)(WebAssembly))&&"function"==typeof WebAssembly.Memory?(e.wasmMemory=new WebAssembly.Memory({initial:Z/H}),x=e.wasmMemory.buffer):x=new ArrayBuffer(Z),e.buffer=x),z();var te=[],re=[],ne=[],oe=[],ie=!1;function ae(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)le(e.preRun.shift());ee(te)}function se(){ie||(ie=!0,ee(re))}function ue(){ee(ne)}function ce(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)fe(e.postRun.shift());ee(oe)}function le(e){te.unshift(e)}function fe(e){oe.unshift(e)}function de(e,t){L.set(e,t)}var he=0,pe=null,ve=null;function ye(t){he++,e.monitorRunDependencies&&e.monitorRunDependencies(he)}function ge(t){if(he--,e.monitorRunDependencies&&e.monitorRunDependencies(he),0==he&&(null!==pe&&(clearInterval(pe),pe=null),ve)){var r=ve;ve=null,r()}}e.preloadedImages={},e.preloadedAudios={};var me="data:application/octet-stream;base64,";function be(e){return String.prototype.startsWith?e.startsWith(me):0===e.indexOf(me)}function we(){var r="opus.wast",n="opus.wasm",o="opus.temp.asm.js";be(r)||(r=h(r)),be(n)||(n=h(n)),be(o)||(o=h(o));var i=65536,u={global:null,env:null,asm2wasm:b,parent:e},c=null;function l(t){var r=e.buffer;t.byteLength<r.byteLength&&v("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var n=new Int8Array(r);new Int8Array(t).set(n),q(t),z()}function f(e){return e}function d(){try{if(e.wasmBinary)return new Uint8Array(e.wasmBinary);if(e.readBinary)return e.readBinary(n);throw"both async and sync fetching of the wasm failed"}catch(e){Fe(e)}}function p(){return e.wasmBinary||!a&&!s||"function"!=typeof fetch?new Promise((function(e,t){e(d())})):fetch(n,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+n+"'";return e.arrayBuffer()})).catch((function(){return d()}))}function y(r,o,i){if("object"!==("undefined"==typeof WebAssembly?"undefined":(0,t.default)(WebAssembly)))return v("no native wasm support detected"),!1;if(!(e.wasmMemory instanceof WebAssembly.Memory))return v("no native wasm Memory in use"),!1;function a(t,r){(c=t.exports).memory&&l(c.memory),e.asm=c,e.usingWasm=!0,ge("wasm-instantiate")}if(o.memory=e.wasmMemory,u.global={NaN:NaN,Infinity:1/0},u["global.Math"]=Math,u.env=o,ye("wasm-instantiate"),e.instantiateWasm)try{return e.instantiateWasm(u,a)}catch(e){return v("Module.instantiateWasm callback failed with error: "+e),!1}function s(e){a(e.instance,e.module)}function f(e){p().then((function(e){return WebAssembly.instantiate(e,u)})).then(e).catch((function(e){v("failed to asynchronously prepare wasm: "+e),Fe(e)}))}return e.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||be(n)||"function"!=typeof fetch?f(s):WebAssembly.instantiateStreaming(fetch(n,{credentials:"same-origin"}),u).then(s).catch((function(e){v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),f(s)})),{}}e.asmPreload=e.asm;var g=e.reallocBuffer,m=function(t){t=Y(t,e.usingWasm?H:K);var r=e.buffer.byteLength;if(e.usingWasm)try{return-1!==e.wasmMemory.grow((t-r)/i)?e.buffer=e.wasmMemory.buffer:null}catch(e){return null}};e.reallocBuffer=function(e){return"asmjs"===w?g(e):m(e)};var w="";e.asm=function(r,n,o){if(!(n=f(n)).table){var i=e.wasmTableSize;void 0===i&&(i=1024);var a=e.wasmMaxTableSize;"object"===("undefined"==typeof WebAssembly?"undefined":(0,t.default)(WebAssembly))&&"function"==typeof WebAssembly.Table?n.table=void 0!==a?new WebAssembly.Table({initial:i,maximum:a,element:"anyfunc"}):new WebAssembly.Table({initial:i,element:"anyfunc"}):n.table=new Array(i),e.wasmTable=n.table}var s;return n.memoryBase||(n.memoryBase=e.STATIC_BASE),n.tableBase||(n.tableBase=0),_(s=y(r,n,o),"no binaryen method succeeded."),s}}we(),F=(G=w)+32880,re.push();var Te=32880;e.STATIC_BASE=G,e.STATIC_BUMP=Te,F+=16;var _e={varargs:0,get:function(e){return _e.varargs+=4,N[_e.varargs-4>>2]},getStr:function(){return A(_e.get())},get64:function(){var e=_e.get(),t=_e.get();return _(e>=0?0===t:-1===t),e},getZero:function(){_(0===_e.get())}};function ke(e,t){_e.varargs=t;try{var r=_e.getStreamFromFD(),n=(_e.get(),_e.get()),o=_e.get(),i=_e.get(),a=n;return FS.llseek(r,a,i),N[o>>2]=r.position,r.getdents&&0===a&&0===i&&(r.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Fe(e),-e.errno}}function Ee(e,t){_e.varargs=t;try{var r=_e.get(),n=_e.get(),o=_e.get(),i=0;Ee.buffers||(Ee.buffers=[null,[],[]],Ee.printChar=function(e,t){var r=Ee.buffers[e];_(r),0===t||10===t?((1===e?p:v)(O(r,0)),r.length=0):r.push(t)});for(var a=0;a<o;a++){for(var s=N[n+8*a>>2],u=N[n+(8*a+4)>>2],c=0;c<u;c++)Ee.printChar(r,D[s+c]);i+=u}return i}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Fe(e),-e.errno}}function Ce(e,t){_e.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Fe(e),-e.errno}}function Se(e,t){_e.varargs=t;try{var r=_e.getStreamFromFD();return FS.close(r),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Fe(e),-e.errno}}function Ae(e){var t=Re,r=t.LLVM_SAVEDSTACKS[e];t.LLVM_SAVEDSTACKS.splice(e,1),Le(r)}function Re(){var e=Re;return e.LLVM_SAVEDSTACKS||(e.LLVM_SAVEDSTACKS=[]),e.LLVM_SAVEDSTACKS.push(De()),e.LLVM_SAVEDSTACKS.length-1}function Oe(e,t,r){return D.set(D.subarray(t,t+r),e),e}function Me(t){return e.___errno_location&&(N[e.___errno_location()>>2]=t),t}V=g(4),B=j=m(F),U=m(B+Q),N[V>>2]=U,e.wasmTableSize=6,e.wasmMaxTableSize=6,e.asmGlobalArg={},e.asmLibraryArg={abort:Fe,enlargeMemory:X,getTotalMemory:$,abortOnCannotGrowMemory:J,___setErrNo:Me,___syscall140:ke,___syscall146:Ee,___syscall54:Ce,___syscall6:Se,_emscripten_memcpy_big:Oe,_llvm_stackrestore:Ae,_llvm_stacksave:Re,DYNAMICTOP_PTR:V,STACKTOP:j};var Ie=e.asm(e.asmGlobalArg,e.asmLibraryArg,x);e.asm=Ie,e.___errno_location=function(){return e.asm.___errno_location.apply(null,arguments)},e._cleanup=function(){return e.asm._cleanup.apply(null,arguments)},e._decode=function(){return e.asm._decode.apply(null,arguments)},e._decode_buf=function(){return e.asm._decode_buf.apply(null,arguments)};var Pe=e._emscripten_replace_memory=function(){return e.asm._emscripten_replace_memory.apply(null,arguments)},xe=(e._encode_buf=function(){return e.asm._encode_buf.apply(null,arguments)},e._init=function(){return e.asm._init.apply(null,arguments)},e.stackAlloc=function(){return e.asm.stackAlloc.apply(null,arguments)}),Le=e.stackRestore=function(){return e.asm.stackRestore.apply(null,arguments)},De=e.stackSave=function(){return e.asm.stackSave.apply(null,arguments)};function Ne(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ge(t){function r(){e.calledRun||(e.calledRun=!0,T||(se(),ue(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),ce()))}t=t||e.arguments,he>0||(ae(),he>0||e.calledRun||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),r()}),1)):r()))}function Fe(t){throw e.onAbort&&e.onAbort(t),void 0!==t?(p(t),v(t),t=JSON.stringify(t)):t="",T=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if(e.asm=Ie,e.ccall=S,e.then=function(t){if(e.calledRun)t(e);else{var r=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){r&&r(),t(e)}}return e},Ne.prototype=new Error,Ne.prototype.constructor=Ne,ve=function t(){e.calledRun||Ge(),e.calledRun||(ve=t)},e.run=Ge,e.abort=Fe,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return e.noExitRuntime=!0,Ge(),e}),a=i;e.default=a},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},52003:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(32501),r(72994),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(88233),r(28673),r(81382),r(73229),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(1939),r(6886),r(14121);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959)],n=function(e,t,n,o,i,s,u){"use strict";var c=r(14859);function l(){l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=c(n),o=c(o),i=c(i),s=c(s);var h=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"TAG","AudioRecord"),(0,s.default)(this,"options",void 0),(0,s.default)(this,"audioDataCallback",null),(0,s.default)(this,"stream",null),(0,s.default)(this,"source",null),(0,s.default)(this,"scriptNode",null),(0,s.default)(this,"isStarting",!1),(0,s.default)(this,"isStarted",!1),(0,s.default)(this,"status",e.RecordingStatus.pause),(0,s.default)(this,"worker",null),(0,s.default)(this,"encoder",void 0),this.options=d({logger:{info:function(){},warn:function(){},error:function(){}},opusEncoder:""},t),this.isStarted=!1,this.isStarting=!1,this.encoder=this._initEncoder(this.options.opusEncoder)}return(0,i.default)(e,[{key:"updateAudioSimple",value:function(e){this.options.isSimple=e}},{key:"_sendAudio",value:function(e){this.audioDataCallback&&this.audioDataCallback({data:e,time:Date.now()})}},{key:"setControlCenter",value:function(e){this.audioDataCallback=e}},{key:"_initEncoder",value:function(e){var t=new Blob(['importScripts("'.concat(e||u.OssSource.opusEncoder,"?t=").concat(Date.now(),'")')],{type:"application/javascript"}),r=window.URL.createObjectURL(t);this.worker=new Worker(r);var n=this;return{setup:function(e){return new Promise((function(t,r){n.worker&&(n.worker.onmessage=function(e){0===e.data.status?t(e.data.packets):r(e.data)},n.worker.postMessage(e))}))},encode:function(e){return new Promise((function(t,r){n.worker&&(n.worker.onmessage=function(e){0===e.data.status?t(e.data.packets):r(e.data)},n.worker.postMessage(e))}))}}}},{key:"_success",value:function(t){var r=this;this.status=e.RecordingStatus.recording,this.stream=t;var n=new AudioContext,o=n.createMediaStreamSource(t),i=n.createScriptProcessor(1024,1,1);this.source=o,this.scriptNode=i,o.connect(i),i.connect(n.destination),this.options.isSimple?this.encoder.setup({sampling_rate:48e3,num_of_channels:1,params:{application:2048,sampling_rate:48e3,frame_duration:20}}):this.encoder.setup({sampling_rate:24e3,num_of_channels:2,params:{application:2049,sampling_rate:48e3,frame_duration:20}}),i.onaudioprocess=function(t){if(r.status!==e.RecordingStatus.pause){for(var n,o=t.inputBuffer.numberOfChannels,i=t.inputBuffer.getChannelData(0).length,a=new Float32Array(o*i),s=0;s<o;++s){n=t.inputBuffer.getChannelData(s);for(var u=0;u<i;++u)a[u*o+s]=n[u]}var c={timestamp:0,samples:a,transferable:!0};r.encoder.encode(c).then((function(e){if(0!==e.length)for(var t=0;t<e.length;t++)r._sendAudio(new Int8Array(e[t].data))}))}}}},{key:"_getUserMedia",value:function(){var e=(0,n.default)(l().mark((function e(){var t,r,n,o=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia){e.next=4;break}return this.options.logger.warn(this.TAG,"不支持getUserMedia方法"),e.abrupt("return",!1);case 4:if(r={audio:{channelCount:this.options.isSimple?1:2,sampleRate:48e3,echoCancellation:!0,noiseSuppression:!0},video:!1},!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=11;break}return e.next=8,navigator.mediaDevices.getUserMedia(r).catch((function(e){o.options.logger.warn(o.TAG,"getUserMedia_err:".concat(e.toString()))}));case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,t(r).catch((function(e){o.options.logger.warn(o.TAG,"getUserMedia_err:".concat(e.toString()))}));case 13:n=e.sent;case 14:if(!n){e.next=24;break}return e.prev=15,this._success(n),e.abrupt("return",!0);case 20:return e.prev=20,e.t0=e.catch(15),this.options.logger.warn(this.TAG,"getUserMedia_stream_err:".concat(e.t0.toString())),e.abrupt("return",!1);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this,[[15,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"start",value:function(){var e=this;return new Promise(function(){var t=(0,n.default)(l().mark((function t(r,n){var o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==e.isStarted){t.next=4;break}r(),t.next=14;break;case 4:if(!0!==e.isStarting){t.next=8;break}n("正在申请录音中"),t.next=14;break;case 8:return e.isStarting=!0,t.next=11,e._getUserMedia();case 11:o=t.sent,e.isStarting=!1,!1===o?(e.options.logger.info(e.TAG,"开始录音失败"),n("开始录音失败，未检测到麦克风或浏览器不支持语音")):(e.isStarted=!0,e.options.logger.info(e.TAG,"开始录音成功"),r());case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())}},{key:"shutdown",value:function(){var t=this;return new Promise((function(r){!1===t.isStarted||(t.isStarted=!1,t.status=e.RecordingStatus.pause,t.stream&&t.stream.getTracks().forEach((function(e){return e.stop()})),t.source&&(t.source=null),t.scriptNode&&(t.scriptNode.onaudioprocess=null,t.scriptNode=null),t.options.logger.info(t.TAG,"停止录音成功")),r()}))}},{key:"destroy",value:function(){this.isStarted=!1,this.isStarting=!1,this.status=e.RecordingStatus.pause,this.stream&&this.stream.getTracks().forEach((function(e){return e.stop()})),this.source&&(this.source=null),this.scriptNode&&(this.scriptNode.onaudioprocess=null,this.scriptNode=null),this.worker&&(this.worker.terminate(),this.worker=null)}}]),e}();e.default=h,(0,s.default)(h,"RecordingStatus",{recording:"recording",pause:"pause"})},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},34551:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(52003)],void 0===(i="function"==typeof(n=function(e,t){"use strict";var n=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AudioRecord",{enumerable:!0,get:function(){return t.default}}),t=n(t)})?n.apply(t,o):n)||(e.exports=i)},54485:function(e,t,r){var n,o,i;r(95094),r(68995),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoCodecProfilesMap=e.ServerMethod=e.PLAY_WAY=e.ConnectStatus=e.ChannelType=void 0;var t={Connected:"connected",Close:"close",Failed:"failed",FailedRetryOnce:"failedRetryOnce",Error:"error",Connecting:"connecting",Launching:"launching"};e.ConnectStatus=t;var r={Video:"video",Audio:"audio",Control:"control",Control_rtx0:"control_rtx0",Control_rtx3:"control_rtx3",Control_s:"control_s",Control_s_rtx3:"control_s_rtx3"};e.ChannelType=r;var n={Direct:"1",Server:"2"};e.ServerMethod=n;var o={baseline:parseInt("".concat(1),10),high:parseInt("".concat(8),10)};e.VideoCodecProfilesMap=o;var i={default:0,changeScreen:1,helpGame:2,fight:4,meeting:16};e.PLAY_WAY=i})?n.apply(t,o):n)||(e.exports=i)},29657:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(68995),r(73439),r(88233),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959),r(9892),r(47868),r(86e3),r(54485),r(35923),r(76518),r(6859),r(96573)],n=function(e,t,n,o,i,s,u,c,l,f,d,h,p,v,y){"use strict";var g=r(14859);function m(){m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,o)&&(v=g);var b=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(b,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectType=e.AVCConnection=void 0,Object.defineProperty(e,"PLAY_WAY",{enumerable:!0,get:function(){return d.PLAY_WAY}}),Object.defineProperty(e,"ServerMethod",{enumerable:!0,get:function(){return d.ServerMethod}}),Object.defineProperty(e,"VideoCodecProfilesMap",{enumerable:!0,get:function(){return d.VideoCodecProfilesMap}}),Object.defineProperty(e,"getDesiredSize",{enumerable:!0,get:function(){return u.getDesiredSize}}),n=g(n),o=g(o),i=g(i),s=g(s),v=g(v);var T={WebrtcVideo:"webrtcVideo",WebrtcData:"webrtcData",Websocket:"webSockets"};e.ConnectType=T;var _=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"domain",""),(0,s.default)(this,"mapPort",0),(0,s.default)(this,"TAG","AVCConnection"),(0,s.default)(this,"status",e.ConnectStatus.Close),(0,s.default)(this,"relaunchMax",3),(0,s.default)(this,"relaunchTimer",null),(0,s.default)(this,"launchTime",0),(0,s.default)(this,"lastFlowId",""),(0,s.default)(this,"lastConnectedFlowid",""),(0,s.default)(this,"supportRtcAnswerMode",!1),(0,s.default)(this,"lsVersion",0),(0,s.default)(this,"isNewWebsocket",!1),(0,s.default)(this,"connection",null),(0,s.default)(this,"launchData",{imeType:0,keyboardType:0,setOptions:'{"debugControlInput": 0}',flowId:"",gId:0,startFlag:0,userId:"",connectionType:"",forceAudioDataChannel:0,lpMultichannel:0,videoDataType:"raw.h264",supportVideoCodecProfiles:[d.VideoCodecProfilesMap.baseline],avgBitrateratio:100,restartGame:0,deviceWidth:0,deviceHeight:0,desiredWidth:0,desiredHeight:0,maxFps:0,packetSize:768,clientType:"",fecRepairPercent:5,clientSupportHevc:0,withHWCursor:!1,requestUseServerCursorData:!0,idrPeriod:60,videoLevel:0,vibration:!0,clientId:"",forwardIp:"",forwardIpV6:"",forwardPort:0,forwardPortV6:0,sdkVersion:"",joinMethod:0,targetUuid:0,aSessionId:"",vSessionId:"",cSessionId:"",gamescreen:"landscape",deviceId:"",clientNetworkType:0,gamePlayType:0,hostMethod:0,customerType:void 0,supportHashCursorIco:1}),(0,s.default)(this,"isLaunching",!1),(0,s.default)(this,"launchCancelKey","__LAUNCH_CANCEL_KEY__"),(0,s.default)(this,"updateGameInfoHttpKey","__UPDATE_GAME_INFO_HTTP_KEY__"),(0,s.default)(this,"addressList",[]),(0,s.default)(this,"nowUseAddressIndex",0),this.options=w({connectType:e.ConnectType.WebrtcVideo,eventCallback:function(){},serverMethod:d.ServerMethod.Server,isSSL:!0,setOptions:'{"debugControlInput":0}',devId:(0,u.getRandomIDString)(16),useQuickControl:!0,lpMultichannel:1,playWay:d.PLAY_WAY.default,instanceTagUuid:0,allowChangeScreen:!1,allowHelp:!1,allowFight:!1,allowWatch:!1,allowMeeting:!1,listenControlDelay:!1},t),this.launchData.clientType=(0,u.getClientType)(this.options.bizId),this.launchData.userId=parseInt("".concat(1e7*Math.random()),10)+"",this.launchData.clientId=this.options.devId,this.launchData.connectionType=this.options.connectType,this.launchData.sdkVersion=this.options.version,this.launchData.joinMethod=this.options.playWay,this.launchData.targetUuid=this.options.instanceTagUuid,this.launchData.gamescreen=this.options.rotation,this.launchData.deviceId=this.options.devId,this.launchData.gamePlayType=this.options.gameType,this.launchData.setOptions=this.options.setOptions,this.launchData.hostMethod=parseInt("".concat(this.options.allowMeeting?"1":"0").concat(this.options.allowWatch?"1":"0").concat(this.options.allowFight?"1":"0").concat(this.options.allowHelp?"1":"0").concat(this.options.allowChangeScreen?"0":"1"),2)}return(0,i.default)(e,[{key:"changeDecodeDelay",value:function(e){this.connection&&this.connection.changeDecodeDelay&&this.connection.changeDecodeDelay(e)}},{key:"getVersion",value:function(){return v.default.version}},{key:"getConnection",value:function(){return this.connection}},{key:"updateServerAddress",value:function(e){!e||e.length<=0?this.options.logger.error(this.TAG,"address length must large than 1"):(this.addressList=e,this.nowUseAddressIndex=-1,this.toNextAddress())}},{key:"updateResolution",value:function(e){var t,r=(0,u.getDesiredSize)({resolution:e,fullScreenPlay:this.options.fullScreenPlay,gameType:this.options.gameType,nativeFullScreen:this.options.nativeFullScreen,gId:parseInt("".concat(this.launchData.gId),10),container:this.options.container});return this.launchData.desiredWidth=r.width,this.launchData.desiredHeight=r.height,null===(t=this.connection)||void 0===t||t.updateSize(r.width,r.height),r}},{key:"updateDevId",value:function(e){this.options.devId=e,this.launchData.clientId=this.options.devId,this.launchData.deviceId=this.options.devId}},{key:"isLastAddress",value:function(){return this.nowUseAddressIndex>=this.addressList.length-1}},{key:"toNextAddress",value:function(e){"number"==typeof e?this.nowUseAddressIndex=e:this.nowUseAddressIndex++,this.nowUseAddressIndex>=this.addressList.length&&(this.nowUseAddressIndex=this.addressList.length-1),this.nowUseAddressIndex<0&&(this.nowUseAddressIndex=0),this.domain=this.addressList[this.nowUseAddressIndex].domain,this.mapPort=this.addressList[this.nowUseAddressIndex].port,this.launchData.forwardIp=this.addressList[this.nowUseAddressIndex].ipv4,this.launchData.forwardIpV6=this.addressList[this.nowUseAddressIndex].ipv6,this.launchData.forwardPort=parseInt("".concat(this.mapPort,"00"),10),this.launchData.forwardPortV6=parseInt("".concat(this.mapPort,"00"),10),this.options.logger.info(this.TAG,"check to ".concat(this.nowUseAddressIndex," address, address length => ").concat(this.addressList.length))}},{key:"getNowDomain",value:function(){return this.domain}},{key:"getStatus",value:function(){return this.status}},{key:"launch",value:function(){var t=(0,n.default)(m().mark((function t(r){var n,o,i,a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.toNextAddress(0),this.launchData.imeType=r.imeType,this.launchData.keyboardType=r.keyboardType,this.launchData.flowId=r.flowId,this.launchData.gId=parseInt("".concat(r.gId),10),this.launchData.userId=r.userId+"",this.launchData.maxFps=parseInt("".concat(r.maxFps),10),this.launchData.videoDataType="",this.launchData.supportVideoCodecProfiles=[],this.options.devId=r.devId,this.launchData.aSessionId=r.aSessionId,this.launchData.vSessionId=r.vSessionId,this.launchData.cSessionId=r.cSessionId,this.options.playerType===l.VideoPlayerType.Canvas?(this.launchData.videoDataType="raw.h264",this.launchData.supportVideoCodecProfiles=[d.VideoCodecProfilesMap.baseline]):(0,u.isiOS)()||(0,u.isMac)()?(this.launchData.videoDataType="mp4.h264",this.launchData.supportVideoCodecProfiles=[d.VideoCodecProfilesMap.baseline]):(this.launchData.videoDataType="mp4.h264",this.launchData.supportVideoCodecProfiles=[d.VideoCodecProfilesMap.high,d.VideoCodecProfilesMap.baseline]),r.forceVideoDataType&&(this.launchData.videoDataType=r.forceVideoDataType),r.forceVideoCodecProfile&&(this.launchData.supportVideoCodecProfiles=r.forceVideoCodecProfile),n=(0,u.getDesiredSize)({resolution:r.resolution,fullScreenPlay:this.options.fullScreenPlay,gameType:this.options.gameType,nativeFullScreen:this.options.nativeFullScreen,gId:parseInt("".concat(this.launchData.gId),10),container:this.options.container}),this.launchData.desiredWidth=n.width,this.launchData.desiredHeight=n.height,this.launchData.deviceHeight=r.deviceHeight,this.launchData.deviceWidth=r.deviceWidth,this.launchData.restartGame=r.restartGame,this.launchData.lpMultichannel=r.lpMultichannel,o=this.options.forceAudioDataChannel,void 0!==this.options.forceAudioDataChannel){t.next=29;break}return t.next=27,e.isAudioChannelError();case 27:o=t.sent,this.options.forceAudioDataChannel=o;case 29:return this.launchData.forceAudioDataChannel=this.options.forceAudioDataChannel?1:0,this.launchData.withHWCursor=r.showMouse,this.launchData.requestUseServerCursorData=void 0===this.options.requireRemoteIcon?!r.showMouse:this.options.requireRemoteIcon,this.launchData.videoLevel=parseInt("".concat(r.videoLevel),10),this.launchData.clientNetworkType=(0,u.getNetworkType)(),(r.customerType||0===r.customerType)&&(this.launchData.customerType=r.customerType),i=this._getBaseUrl(),t.next=38,this._sendLaunch("".concat(i,"/launch"),this.launchData);case 38:if(!(a=t.sent)){t.next=42;break}return this.lastFlowId=this.launchData.flowId,t.abrupt("return",a);case 42:return t.abrupt("return",null);case 43:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"start",value:function(){var t=(0,n.default)(m().mark((function t(r){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("最终设置".concat(this.options.useQuickControl)),this.options.connectType!==e.ConnectType.Websocket?this.connection=new h.WebrtcPath({domain:this.domain,signPort:r.signPort,logger:this.options.logger,useQuickControl:this.options.useQuickControl,waterReport:this.options.waterReport,isSSL:this.options.isSSL,maxFrameWidth:this.launchData.desiredWidth,maxFrameHeight:this.launchData.desiredHeight,maxFps:this.launchData.maxFps,forceAudioDataChannel:this.options.forceAudioDataChannel,listenControlDelay:this.options.listenControlDelay,connectChange:this._handleStatusChange.bind(this),receiveAudio:this._handleReceiveAudio.bind(this),receiveControl:this._handleReceiveControl.bind(this),receiveStream:this._handleReceiveVideo.bind(this),qosEvent:this._handleQosEvent.bind(this),idrEvent:this._handleIdrEvent.bind(this),handlerErrorEvent:this.handlerPathError.bind(this),supportRtcAnswerMode:this.supportRtcAnswerMode}):this.connection=new p.WebsocketPath({waterReport:this.options.waterReport,domain:this.domain,videoPort:r.videoPort,audioPort:r.audioPort,controlPort:r.controlPort,logger:this.options.logger,isSSL:this.options.isSSL,maxFrameWidth:this.launchData.desiredWidth,maxFrameHeight:this.launchData.desiredHeight,maxFps:this.launchData.maxFps,receiveVideo:this._handleReceiveVideo.bind(this),receiveAudio:this._handleReceiveAudio.bind(this),receiveControl:this._handleReceiveControl.bind(this),connectChange:this._handleStatusChange.bind(this),qosEvent:this._handleQosEvent.bind(this),handlerErrorEvent:this.handlerPathError.bind(this),isNew:this.isNewWebsocket}),t.next=4,this.connection.connect({userId:this.launchData.userId,aSession:this.launchData.aSessionId,vSession:this.launchData.vSessionId,cSession:this.launchData.cSessionId});case 4:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"close",value:function(){this._clearRelaunchTimer(),this.connection&&(this.connection.close(),this.connection=null)}},{key:"quitLS",value:function(){var t=(0,n.default)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.domain){t.next=4;break}return this.options.logger.info(this.TAG,"unneed quit ls"),t.abrupt("return");case 4:return(0,u.CancelRequire)(this.launchCancelKey),(0,u.CancelRequire)(this.updateGameInfoHttpKey),t.next=8,(0,u.Require)("".concat(this._getBaseUrl(),"/cancel"),{data:{clientType:this.launchData.clientType,flowId:this.launchData.flowId,gid:this.launchData.gId,userId:this.launchData.userId}});case 8:if(!t.sent){t.next=12;break}return this.emitEvent(e.EventCode.Launch,{data:{code:f.ReportCode.QuitLSSuccess}}),t.abrupt("return");case 12:this.options.logger.error(this.TAG,"quit Ls failed"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),this.options.logger.error(this.TAG,"quit Ls error => ".concat(t.t0.toString()));case 18:this.emitEvent(e.EventCode.Launch,{data:{code:f.ReportCode.QuitLSFailed}});case 19:case"end":return t.stop()}}),t,this,[[0,15]])})));function r(){return t.apply(this,arguments)}return r}()},{key:"sendControlBytes",value:function(e){try{var t;null===(t=this.connection)||void 0===t||t.sendControlBytes(e)}catch(e){this.options.logger.error(this.TAG,"send control data error => ".concat(e.toString()))}}},{key:"_handleStatusChange",value:function(t){switch(this.status=t,"connecting"!==t&&"launching"!==t&&(this.isLaunching=!1),t){case"connected":this.lastConnectedFlowid=this.launchData.flowId;break;case"failedRetryOnce":if(!this.isLastAddress()){this.options.logger.info(this.TAG,"failedRetryOnce and try next adress"),this.quitLS(),this.toNextAddress();var r=this._getBaseUrl();return void this._sendLaunch("".concat(r,"/launch"),this.launchData)}if(this.lastConnectedFlowid===this.launchData.flowId)return void this._handleStatusChange("failed")}this.emitEvent(e.EventCode.AVCStateChange,{data:t})}},{key:"changeUseQuickControl",value:function(e){this.connection&&this.connection.changeUseQuickControl&&this.connection.changeUseQuickControl(e)}},{key:"_handleReceiveVideo",value:function(t){this.emitEvent(e.EventCode.AcceptData,{connectType:this.options.connectType,mediaType:e.MediaType.Video,data:t})}},{key:"_handleReceiveAudio",value:function(t){this.emitEvent(e.EventCode.AcceptData,{connectType:this.options.connectType,mediaType:e.MediaType.Audio,data:t})}},{key:"_handleReceiveControl",value:function(t){this.emitEvent(e.EventCode.AcceptData,{connectType:this.options.connectType,mediaType:e.MediaType.Control,data:t})}},{key:"_handleQosEvent",value:function(t){t.streamServerIp=this.launchData.forwardIp,t.streamServerIpV6=this.launchData.forwardIpV6,t.server.IPV4=this.launchData.forwardIp,t.server.IPV6=this.launchData.forwardIpV6,this.emitEvent(e.EventCode.Qos,{data:t})}},{key:"_afterLaunchError",value:function(){var t=(0,n.default)(m().mark((function t(r,o){var i=this;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if(i.launchTime>=i.relaunchMax){if(i.isLastAddress())return i.launchTime=0,i.emitEvent(e.EventCode.Launch,{data:{code:f.ReportCode.LaunchFailed}}),i.options.logger.error(i.TAG,"relaunch failed"),void t(null);i.options.logger.info(i.TAG,"try to use next ls domain"),i.launchTime=0,i.toNextAddress(),r=i._getBaseUrl()+"/launch"}i._clearRelaunchTimer(),i.relaunchTimer=setTimeout((0,n.default)(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.options.logger.error(i.TAG,"launch接口调用失败，尝试重连，当前连接次数".concat(i.launchTime)),e.next=3,i._sendLaunch(r,o);case 3:n=e.sent,t(n);case 5:case"end":return e.stop()}}),e)}))),2e3)})));case 1:case"end":return t.stop()}}),t)})));function r(e,r){return t.apply(this,arguments)}return r}()},{key:"_sendRestartGame",value:function(){var e=(0,n.default)(m().mark((function e(){var t,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={flowId:this.launchData.flowId.toString(),gid:parseInt("".concat(this.launchData.gId),10),userId:this.launchData.userId.toString(),clientType:this.launchData.clientType,deviceId:this.options.devId,sdkVersion:this.options.version},this.options.logger.info(this.TAG,"req restartGame url => ".concat(this._getBaseUrl(),"/restartGame, data => ").concat(JSON.stringify(t))),e.next=4,(0,u.Require)("".concat(this._getBaseUrl(),"/restartGame"),{data:t});case 4:r=e.sent,this.options.logger.info(this.TAG,"resp restartGame url => ".concat(this._getBaseUrl(),"/restartGame, return => ").concat(JSON.stringify(r)));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"changeLsMultichannel",value:function(e){this.options.useQuickControl=e}},{key:"_clearRelaunchTimer",value:function(){this.relaunchTimer&&(clearTimeout(this.relaunchTimer),this.relaunchTimer=null)}},{key:"getLaunchPort",value:function(){return this.mapPort?parseInt("".concat(this.mapPort,"04"),10):5188}},{key:"getAVCFlowId",value:function(){return this.launchData.flowId}},{key:"setMaxFps",value:function(e){var t;this.launchData.maxFps=e,null===(t=this.connection)||void 0===t||t.setMaxFps(e)}},{key:"_getBaseUrl",value:function(){return"".concat(this.options.isSSL?"https":"http","://").concat(this.domain,":").concat(this.getLaunchPort())}},{key:"sendDebugKeyboard",value:function(){var e=(0,n.default)(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Require)("".concat(this._getBaseUrl(),"/lsSetoptions"),{method:"post",data:{flowId:this.launchData.flowId,sdkVersion:this.launchData.sdkVersion,clientType:this.launchData.clientType,deviceId:this.options.devId,options:{debugMouseButton:t?1:0,debugMouseCursorInfo:t?1:0,debugMouseMoveSmooth:t?1:0,debugTouchEvnet:t?1:0,debugControlInput:t?1:0}},cancelKey:this.updateGameInfoHttpKey});case 3:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_sendLaunch",value:function(){var t=(0,n.default)(m().mark((function t(r,n){var o,i,a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.startFlag=this.lastFlowId===this.launchData.flowId?1:0,!this.isLaunching){t.next=3;break}return t.abrupt("return",null);case 3:return this.isLaunching=!0,this.status=e.ConnectStatus.Connecting,this.launchTime++,1===this.launchTime?this.options.waterReport.setEventTcStartMs(f.ReportCode.LaunchSuccess,Date.now()):this.options.waterReport.setEventTcStartMs(f.ReportCode.LaunchSuccessRetry,Date.now()),t.prev=7,this.options.logger.info(this.TAG,"req launch url => ".concat(r,", data => ").concat(JSON.stringify(n))),t.next=11,(0,u.Require)(r,{data:n,cancelKey:this.launchCancelKey});case 11:if(o=t.sent,this.options.logger.info(this.TAG,"resp launch url => ".concat(r,", return => ").concat(JSON.stringify(o))),!o||0!==o.retCode){t.next=28;break}return 1===this.launchTime?this.options.waterReport.report(f.ReportCode.LaunchSuccess):this.options.waterReport.report(f.ReportCode.LaunchSuccessRetry),this.launchTime=0,this.launchData.aSessionId=this.launchData.aSessionId||o.aSessionId,this.launchData.vSessionId=this.launchData.vSessionId||o.vSessionId,this.launchData.cSessionId=this.launchData.cSessionId||o.cSessionId,this.lsVersion=o.lsVersion,this.supportRtcAnswerMode=!!o.supportRtcAnswerMode,y.ControlMessage.useNewMessage(!!o.supportProtobuf),window.vr_sdk_namespace_LSVersion=this.lsVersion,i={code:0,startupWaitSeconds:o.startupWaitSeconds||60,waitSecondsAfterRR1:o.waitSecondsAfterRR1||0,webrtcSignalingPort:o.webrtcSignalingPort,videoPort:o.videoPort,audioPort:o.audioPort,controlPort:o.controlPort,lsVersion:this.lsVersion,rightClickMouseRelativeMove:o.rightClickMouseRelativeMove||0,supportInputAudioMode:o.supportInputAudio,lsMultichannel:o.lsMultichannel},this.isNewWebsocket=!1,o.useReturnPort&&o.useReturnPort>0?2===o.useReturnPort&&(this.isNewWebsocket=!0):(this.options.serverMethod===d.ServerMethod.Server||this.mapPort)&&(i.webrtcSignalingPort=parseInt("".concat(this.mapPort,"15"),10),i.videoPort=parseInt("".concat(this.mapPort,"20"),10),i.audioPort=parseInt("".concat(this.mapPort,"22"),10),i.controlPort=parseInt("".concat(this.mapPort,"25"),10)),this.emitEvent(e.EventCode.Launch,{data:i}),t.abrupt("return",i);case 28:return this.isLaunching=!1,this.launchTime=0,this.emitEvent(e.EventCode.Launch,{data:{code:o.retCode}}),t.abrupt("return",null);case 34:return t.prev=34,t.t0=t.catch(7),this.isLaunching=!1,t.next=39,this._afterLaunchError(r,n);case 39:return a=t.sent,this.options.logger.warn(this.TAG,"resp launch url => ".concat(r,", net error => ").concat(t.t0.toString(),", relaunch result => ").concat(!!a)),t.abrupt("return",a);case 42:case"end":return t.stop()}}),t,this,[[7,34]])})));function r(e,r){return t.apply(this,arguments)}return r}()},{key:"_handleIdrEvent",value:function(t){var r=t.request,n=t.num;this.emitEvent(e.EventCode.IdrEvent,{data:{request:r,num:n}})}},{key:"emitEvent",value:function(e,t){this.options.eventCallback(e,t,this.lastConnectedFlowid===this.launchData.flowId)}},{key:"updateGameInfo",value:function(){var e=(0,n.default)(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.RequireWithRetry)("".concat(this._getBaseUrl(),"\\updateBaseInfo"),{method:"post",data:{flowId:this.launchData.flowId,sdkVersion:this.launchData.sdkVersion,baseInfo:t},cancelKey:this.updateGameInfoHttpKey});case 2:if(0!==(null==(r=e.sent)?void 0:r.retCode)){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlerPathError",value:function(t){this.emitEvent(e.EventCode.RtcSupportError,{data:{code:t}})}}],[{key:"checkConnectType",value:function(){var e=(0,n.default)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.isSupportH264Hard)();case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",T.WebrtcVideo);case 5:return e.abrupt("return",T.Websocket);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isAudioChannelError",value:function(){var e=(0,n.default)(m().mark((function e(){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===window.localStorage.debug_forceAudioChannel){e.next=2;break}return e.abrupt("return",!1);case 2:if(e.prev=2,!RTCPeerConnection||RTCPeerConnection.prototype.addTransceiver){e.next=5;break}return e.abrupt("return",!0);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",!0);case 10:return e.next=12,(0,c.isSupportOpusHard)();case 12:if(!(t=e.sent)||!(0,u.isWeixin)()){e.next=15;break}return e.abrupt("return",!1);case 15:if(!/(huaweibrowser)/.test(navigator.userAgent.toLowerCase())){e.next=19;break}if(!t||!/harmonyos/.test(navigator.userAgent.toLowerCase())){e.next=18;break}return e.abrupt("return",!1);case 18:return e.abrupt("return",!0);case 19:return e.abrupt("return",!t||/(os 14_2)|(os 13_5)/.test(navigator.userAgent.toLowerCase()));case 20:case"end":return e.stop()}}),e,null,[[2,7]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}();e.AVCConnection=_,(0,s.default)(_,"EventCode",{AcceptData:1,AVCStateChange:2,WssClose:3,Launch:4,Qos:5,IdrEvent:6,RtcSupportError:7}),(0,s.default)(_,"ConnectType",T),(0,s.default)(_,"MediaType",{Video:"video",Audio:"audio",Control:"control"}),(0,s.default)(_,"ChannelType",d.ChannelType),(0,s.default)(_,"ConnectStatus",d.ConnectStatus),(0,s.default)(_,"ReportCode",f.ReportCode),(0,s.default)(_,"ServerMethod",d.ServerMethod)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},35923:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(39529),r(15735),r(32501),r(65388),r(72994),r(95206),r(26936),r(17525),r(18275),r(61657),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(13489),r(68995),r(73439),r(88233),r(31235),r(28673),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(51068),r(25047),r(52954),r(50085),r(15198),r(81260),r(36908),r(86e3),r(88524),r(9892),r(54485),r(96573),r(76485)],n=function(e,t,n,o,i,s,u,c,l,f,d,h,p,v){"use strict";var y=r(14859);function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==t&&r.call(m,o)&&(v=m);var b=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(b,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.WebrtcPath=void 0,t=y(t),o=y(o),i=y(i),s=y(s),u=y(u),f=y(f),v=y(v);var w=function(){function e(t){(0,i.default)(this,e),(0,u.default)(this,"quickSafeTypeList",[10,-999,8,5,30,35,38]),(0,u.default)(this,"options",void 0),(0,u.default)(this,"TAG","webrtc video"),(0,u.default)(this,"status",h.ConnectStatus.Close),(0,u.default)(this,"avcRtc",void 0),(0,u.default)(this,"_lastQos",null),(0,u.default)(this,"connectQos",void 0),(0,u.default)(this,"channelMap",{}),(0,u.default)(this,"isLive",!1),(0,u.default)(this,"signWss",null),(0,u.default)(this,"hasReportDecoder",!1),(0,u.default)(this,"m_last1",new ArrayBuffer(0)),(0,u.default)(this,"m_last2",new ArrayBuffer(0)),(0,u.default)(this,"m_seq",0),(0,u.default)(this,"m_ver",1),(0,u.default)(this,"m_headlen",10),(0,u.default)(this,"m_uniq",1e5*Math.random()),(0,u.default)(this,"m_current",new ArrayBuffer(0)),this.options=b({isSSL:!0,useQuickControl:!0,connectChange:function(){},receiveAudio:function(){},receiveControl:function(){},receiveStream:function(){},qosEvent:function(){},idrEvent:function(){},handlerErrorEvent:function(){},supportRtcAnswerMode:!1,listenControlDelay:!1},t),this.avcRtc=new d.WebrtcConnection({logger:this.options.logger,waterReport:this.options.waterReport,getControlDelay:this.options.listenControlDelay,forceAudioDataChannel:this.options.forceAudioDataChannel,handlerIceChange:this._onIceStateChange.bind(this),handlerConnectChange:this._onRTCConnectChange.bind(this),handlerReceiveStream:this._onTrack.bind(this),handlerReceiveDataChannel:this._onDataChannel.bind(this),handlerErrorCode:this._onRTCErrorCode.bind(this),listenReceiverStats:this._listenQosStats.bind(this),idrEvent:this.options.idrEvent,charactor:this.options.supportRtcAnswerMode?d.WebrtcConnection.CharactorType.Caller:d.WebrtcConnection.CharactorType.Receiver}),this.channelMap={},this._lastQos=null,this.connectQos={decoderImplementation:"软解码",jitter:0,jitterBufferDelay:0,networkDelay:0,packetsLost:0,bitsPerSecond:0,frameWidth:0,frameHight:0,framePerSecond:0,framePerSecondSetting:0,framePerSecondReal:0,framesPerSecondRtc:0,decodeDelay:0,responDelay:0,downloadSpeed:0,server:{TCPport:[this.options.signPort],UDPport:[]},localUDPPort:[]}}return(0,s.default)(e,[{key:"connect",value:function(){var e=(0,o.default)(g().mark((function e(t){var r,n=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._changeStatus(h.ConnectStatus.Connecting),e.next=3,this._createSignWss(this.options.domain,this.options.signPort);case 3:e.sent&&this.signWss?(this.signWss.listenMessage=function(e){var t;null===(t=n.signWss)||void 0===t||t.addEventListener("message",(function(t){e({data:t})}))},this.avcRtc.setWebSocketConnect(this.signWss),this.options.waterReport.report(l.ReportCode.SignWebsocketConnected),r=[h.ChannelType.Control],this.options.useQuickControl&&(r=[h.ChannelType.Control,h.ChannelType.Control_rtx0,h.ChannelType.Control_rtx3,h.ChannelType.Control_s,h.ChannelType.Control_s_rtx3]),this.options.forceAudioDataChannel&&r.push(h.ChannelType.Audio),this.avcRtc.connect({userId:"".concat(t.userId,"_").concat(t.aSession,"_").concat(t.vSession,"_").concat(t.cSession),joinData:{aSessionId:t.aSession,vSessionId:t.vSession,cSessionId:t.cSession},defaultChannelNameList:r})):(this._changeStatus(h.ConnectStatus.Failed),this.options.waterReport.report(l.ReportCode.SignWebsocketFailed));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"changeUseQuickControl",value:function(e){this.options.useQuickControl=e}},{key:"close",value:function(){var e;for(var t in this.channelMap)this.channelMap[t].close();this.avcRtc.disconnect(),null===(e=this.signWss)||void 0===e||e.disconnect(),this._changeStatus(h.ConnectStatus.Close)}},{key:"setMaxFps",value:function(e){this.options.maxFps=e,this.connectQos.framePerSecondSetting=e}},{key:"updateSize",value:function(e,t){this.connectQos.frameWidth=e,this.connectQos.frameHight=t,this.options.maxFrameWidth=e,this.options.maxFrameHeight=t}},{key:"sendControlBytes",value:function(e){var t=new DataView(e),r=0;t.byteLength>=14&&(r=t.getInt32(8,!1));try{var n;if("open"===(null===(n=this.channelMap[h.ChannelType.Control_s])||void 0===n?void 0:n.readyState)&&this.quickSafeTypeList.includes(r)&&this.options.useQuickControl){if(e.byteLength<=0||e.byteLength>=1024)return;var o=new ArrayBuffer(10),i=new DataView(o);this.m_current=new ArrayBuffer(10+e.byteLength);var a=new Uint8Array(this.m_current);i.setUint16(0,e.byteLength+10),i.setUint8(2,this.m_headlen),i.setUint8(3,this.m_ver),i.setUint16(4,this.m_uniq),i.setUint32(6,this.m_seq);var s=new Uint8Array(o),u=new Uint8Array(e);a.set(s,0),a.set(u,10),this.channelMap[h.ChannelType.Control_s].send(this.m_current);var c=this.m_current.byteLength,l=!1,f=!1;if(this.m_current.byteLength+this.m_last1.byteLength<800&&(c+=this.m_last1.byteLength,l=!0),this.m_last2.byteLength<100&&(c+=this.m_last2.byteLength,f=!0),"open"===this.channelMap[h.ChannelType.Control_s_rtx3].readyState){var d=new ArrayBuffer(c),p=new Uint8Array(d),v=0;if(p.set(a,0),v+=this.m_current.byteLength,l){var y=new Uint8Array(this.m_last1);p.set(y,v),v+=this.m_last1.byteLength}if(f){var g=new Uint8Array(this.m_last2);p.set(g,v),v+=this.m_last2.byteLength}this.channelMap[h.ChannelType.Control_s_rtx3].send(d)}this.m_seq++,this.m_last2=this.m_last1,this.m_last1=this.m_current}else{var m;"open"===(null===(m=this.channelMap[h.ChannelType.Control])||void 0===m?void 0:m.readyState)&&this.channelMap[h.ChannelType.Control].send(e)}}catch(e){this.options.logger.error(this.TAG,"send control data error => ".concat(e.toString()))}}},{key:"_createSignWss",value:function(e,t){var r=this;return new Promise((function(n){r.signWss=new f.default({logger:r.options.logger}),r.signWss.setUrl("".concat(r.options.isSSL?"wss":"ws","://").concat(e,":").concat(t)),r.signWss.addEventListener("open",(function(){r.options.logger.info(r.TAG,"sign websocket open"),n(!0)})),r.signWss.addEventListener("error",(function(o){r.options.logger.error(r.TAG,"websocket connect error => wss://".concat(e,":").concat(t," => ").concat(o.toString())),n(!1)})),r.signWss.addEventListener("close",(function(e){r.isLive&&r.options.waterReport.report(l.ReportCode.SignWebsocketClosed),1e3!==e.code?r.options.logger.warn(r.TAG,"signaling websocket closed with error ".concat(e.code)):r.options.logger.warn(r.TAG,"signaling websocket closed")})),r.signWss.connect()}))}},{key:"_changeStatus",value:function(e){this.status!==e&&(this.status=e,this.options.connectChange(e))}},{key:"_onIceStateChange",value:function(e){this.options.logger.info(this.TAG,"onIceStateChange: ".concat(e))}},{key:"_onRTCConnectChange",value:function(e){if(e!==this.status)switch(this.options.logger.info(this.TAG,"connectionState:".concat(e)),e){case"connected":this._lastQos=null;var t=this.avcRtc.getCandidatePort();this.connectQos.localUDPPort=t.local,this.connectQos.server.UDPport=t.remote,this.isLive=!0;break;case"disconnected":case"failed":this.status!==h.ConnectStatus.Failed&&(this._changeStatus(h.ConnectStatus.Failed),this.isLive=!1);break;case"failedRetryOnce":this._changeStatus(h.ConnectStatus.FailedRetryOnce)}}},{key:"_onDataChannel",value:function(e){var t=this;switch(e.label){case h.ChannelType.Audio:this.options.logger.info(this.TAG,"get audio data channel"),this.channelMap[h.ChannelType.Audio]=e,e.onerror=function(){t._onRTCConnectChange("failed")},e.onmessage=function(e){t.options.receiveAudio(e.data)};break;case h.ChannelType.Control_rtx0:case h.ChannelType.Control_rtx3:case h.ChannelType.Control_s:case h.ChannelType.Control:this.options.logger.info(this.TAG,"get control data channel, state => ".concat(e.readyState)),this.channelMap[e.label]=e,"open"===e.readyState?this._changeStatus(h.ConnectStatus.Connected):e.onopen=function(){t._changeStatus(h.ConnectStatus.Connected)},e.onmessage=function(e){if("Blob"===e.data.constructor.name){var r=t,n=new FileReader;n.onload=function(){var e=p.ControlMessage.decodeMessage(this.result);e&&r.options.receiveControl(e)},n.readAsArrayBuffer(e.data)}else{var o=p.ControlMessage.decodeMessage(e.data);o&&t.options.receiveControl(o)}},e.onclose=function(){},e.onerror=function(){t._onRTCConnectChange("failed")};break;default:this.channelMap[e.label]=e}}},{key:"_onTrack",value:function(e){this.options.receiveStream(e)}},{key:"_onRTCErrorCode",value:function(e,t,r){switch(this.options.logger.warn(this.TAG,t),e){case d.WebrtcConnection.ErrorCode.FrameDecodeError:this._onRTCConnectChange("failed");break;case d.WebrtcConnection.ErrorCode.SdpError:this.options.handlerErrorEvent(r)}}},{key:"_listenQosStats",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this._lastQos&&"qos"===e&&r[0]&&r[0].timestamp-this._lastQos.timestamp>1e3){void 0!==r[0].bytesReceived&&void 0!==this._lastQos.bytesReceived&&r[0].bytesReceived-this._lastQos.bytesReceived<0&&(r[0].bytesReceived=this._lastQos.bytesReceived),void 0!==r[0].packetsLost&&void 0!==this._lastQos.packetsLost&&r[0].packetsLost-this._lastQos.packetsLost<0&&(r[0].packetsLost=this._lastQos.packetsLost),void 0!==r[0].packetsReceived&&void 0!==this._lastQos.packetsReceived&&r[0].packetsReceived-this._lastQos.packetsReceived<0&&(r[0].packetsReceived=this._lastQos.packetsReceived);var n=r[0].totalDecodeTime&&r[0].framesDecoded?r[0].totalDecodeTime/r[0].framesDecoded:0,o=this._lastQos&&r[0].bytesReceived&&void 0!==this._lastQos.bytesReceived?parseInt("".concat((r[0].bytesReceived-this._lastQos.bytesReceived)/((r[0].timestamp-this._lastQos.timestamp)/1e3)),10):0,i=(r[0].packetsReceived||0)+(r[0].packetsLost||0)-(this._lastQos.packetsReceived||0)-(this._lastQos.packetsLost||0);!this.hasReportDecoder&&r[0].decoderImplementation&&(this.hasReportDecoder=!0,this.options.logger.info(this.TAG,"decoder:".concat(r[0].decoderImplementation))),this.connectQos={decoderImplementation:r[0].decoderImplementation,jitter:r[0].jitter,networkDelay:void 0===r[0].rtt?0:r[0].rtt,packetsLost:0===i||void 0===r[0].packetsLost||void 0===this._lastQos.packetsLost?0:parseFloat((100*(r[0].packetsLost-this._lastQos.packetsLost)/i).toFixed(2)),bitsPerSecond:8*o,frameWidth:this.options.maxFrameWidth,frameHight:this.options.maxFrameHeight,framePerSecondSetting:this.options.maxFps,framePerSecond:parseInt("".concat(void 0!==r[0].framesReceived&&void 0!==this._lastQos.framesReceived?(r[0].framesReceived-this._lastQos.framesReceived)/((r[0].timestamp-this._lastQos.timestamp)/1e3):0),10)||r[0].framesPerSecond,framesPerSecondRtc:r[0].framesPerSecond,framePerSecondReal:parseInt("".concat(void 0!==r[0].framesDecoded&&void 0!==this._lastQos.framesDecoded?(r[0].framesDecoded-this._lastQos.framesDecoded)/((r[0].timestamp-this._lastQos.timestamp)/1e3):0),10)||r[0].framesPerSecond,decodeDelay:parseFloat(n.toFixed(3)),frameInterDelay:void 0!==r[0].totalInterFrameDelay&&r[0].framesDecoded?parseFloat((r[0].totalInterFrameDelay/r[0].framesDecoded||0).toFixed(3)):0,jitterBufferDelay:parseFloat(r[0].jitterBufferDelay.toFixed(3)),responDelay:parseFloat((r[0].jitterBufferDelay+(void 0===r[0].rtt?0:r[0].rtt)/2+n+.01).toFixed(3)),downloadSpeed:o,server:this.connectQos.server,localUDPPort:this.connectQos.localUDPPort},v.default.receiveRTCFrames(r[0].framesReceived-this._lastQos.framesReceived,r[0].timestamp-this._lastQos.timestamp,r[0].timestamp),v.default.decodeRTCFrames(this._lastQos.framesDecoded&&r[0].framesDecoded?r[0].framesDecoded-this._lastQos.framesDecoded:1,r[0].timestamp-this._lastQos.timestamp,r[0].timestamp);var a=(0,t.default)(r,1);this._lastQos=a[0],this.options.qosEvent(this.connectQos)}if(!this._lastQos){var s=(0,t.default)(r,1);this._lastQos=s[0]}}}]),e}();e.WebrtcPath=w},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},76518:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(68995),r(73439),r(88233),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(51068),r(25047),r(52954),r(50085),r(15198),r(81260),r(96573),r(88524),r(54485)],n=function(e,t,n,o,i,s,u,c,l,f){"use strict";var d=r(14859);function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.WebsocketPath=void 0,t=d(t),o=d(o),i=d(i),s=d(s),u=d(u),l=d(l);var y=function(){function e(t){(0,i.default)(this,e),(0,u.default)(this,"decodeDelayTime",Date.now()),(0,u.default)(this,"decodeNumber",0),(0,u.default)(this,"options",void 0),(0,u.default)(this,"TAG","websocketsPath"),(0,u.default)(this,"status",f.ConnectStatus.Close),(0,u.default)(this,"connectQos",void 0),(0,u.default)(this,"videoFrameReceived",{bytes:0,frame:0,startTime:0}),(0,u.default)(this,"videoWss",null),(0,u.default)(this,"audioWss",null),(0,u.default)(this,"controlWss",null),(0,u.default)(this,"aSession",""),(0,u.default)(this,"vSession",""),(0,u.default)(this,"cSession",""),(0,u.default)(this,"_wssRttTimer",null),this.options=v({isSSL:!0,isNew:!1,receiveVideo:function(){},receiveAudio:function(){},receiveControl:function(){},connectChange:function(){},qosEvent:function(){},handlerErrorEvent:function(){}},t),this.connectQos={decoderImplementation:"软解码",jitter:0,jitterBufferDelay:0,networkDelay:0,packetsLost:0,bitsPerSecond:0,frameWidth:this.options.maxFrameWidth,frameHight:this.options.maxFrameHeight,framePerSecondSetting:this.options.maxFps,framePerSecondReal:0,framePerSecond:0,decodeDelay:0,responDelay:0,downloadSpeed:0,server:{TCPport:[this.options.videoPort,this.options.audioPort,this.options.controlPort],UDPport:[]},localUDPPort:[]},this._initFrameReceive()}return(0,s.default)(e,[{key:"connect",value:function(){var e=(0,o.default)(h().mark((function e(r){var n,o,i,a,s,u,l,d,p,v,y;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._changeStatus(f.ConnectStatus.Connecting),e.next=3,Promise.all([this._createVideoWss(this.options.domain,this.options.videoPort),this._createAudioWss(this.options.domain,this.options.audioPort),this._createControlWss(this.options.domain,this.options.controlPort)]);case 3:n=e.sent,o=(0,t.default)(n,3),i=o[0],a=o[1],s=o[2],this.aSession=r.aSession,this.vSession=r.vSession,this.cSession=r.cSession,i&&a&&s?(this.options.isNew&&((u=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.Login,data:{sessionId:this.vSession}}))&&(null===(l=this.videoWss)||void 0===l||l.send(u)),(d=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.Login,data:{sessionId:this.aSession}}))&&(null===(p=this.audioWss)||void 0===p||p.send(d)),(v=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.Login,data:{sessionId:this.cSession}}))&&(null===(y=this.controlWss)||void 0===y||y.send(v))),this._changeStatus(f.ConnectStatus.Connected)):this.close();case 12:case"end":return e.stop()}}),e,this)})));function r(t){return e.apply(this,arguments)}return r}()},{key:"close",value:function(){var e,t,r;null===(e=this.videoWss)||void 0===e||e.disconnect(),null===(t=this.audioWss)||void 0===t||t.disconnect(),null===(r=this.controlWss)||void 0===r||r.disconnect(),this._changeStatus(f.ConnectStatus.Close)}},{key:"setMaxFps",value:function(e){this.options.maxFps=e,this.connectQos.framePerSecondSetting=e}},{key:"updateSize",value:function(e,t){this.connectQos.frameWidth=e,this.connectQos.frameHight=t,this.options.maxFrameWidth=e,this.options.maxFrameHeight=t}},{key:"sendControlBytes",value:function(e){try{var t;null===(t=this.controlWss)||void 0===t||t.send(e)}catch(e){this.options.logger.error(this.TAG,"send control data error => ".concat(e.toString()))}}},{key:"changeDecodeDelay",value:function(e){this.decodeNumber++}},{key:"_createVideoWss",value:function(e,t){var r=this;return new Promise((function(n){r.videoWss=new l.default({logger:r.options.logger,TAG:"video WebsocketConnection"}),r.videoWss.setUrl("".concat(r.options.isSSL?"wss":"ws","://").concat(e,":").concat(t).concat(r.options.isNew?"/video":"")),r.videoWss.addEventListener("open",(function(){r.options.logger.info(r.TAG,"video websocket open"),n(!0)})),r.videoWss.addEventListener("error",(function(o){r.options.logger.error(r.TAG,"video websocket connect error => wss://".concat(e,":").concat(t," => ").concat(o.toString())),r._onceWssError(),n(!1)})),r.videoWss.addEventListener("message",(function(e){r.videoFrameReceived={bytes:r.videoFrameReceived.bytes+e.byteLength,frame:r.videoFrameReceived.frame+=1,startTime:r.videoFrameReceived.startTime?r.videoFrameReceived.startTime:Date.now()},r._updateQos(),r.options.receiveVideo(e)})),r.videoWss.addEventListener("close",(function(){r.options.logger.info(r.TAG,"video websocket close"),r._onceWssClose()})),r.videoWss.connect({binaryType:"arraybuffer"})}))}},{key:"_createAudioWss",value:function(e,t){var r=this;return new Promise((function(n){r.audioWss=new l.default({logger:r.options.logger,TAG:"audio WebsocketConnection"}),r.audioWss.setUrl("".concat(r.options.isSSL?"wss":"ws","://").concat(e,":").concat(t).concat(r.options.isNew?"/audio":"")),r.audioWss.addEventListener("open",(function(){r.options.logger.info(r.TAG,"audio websocket open"),n(!0)})),r.audioWss.addEventListener("error",(function(o){r.options.logger.error(r.TAG,"audio websocket connect error => wss://".concat(e,":").concat(t," => ").concat(o.toString())),r._onceWssError(),n(!1)})),r.audioWss.addEventListener("message",(function(e){r.options.receiveAudio(e)})),r.audioWss.addEventListener("close",(function(){r.options.logger.info(r.TAG,"audio websocket close"),r._onceWssClose()})),r.audioWss.connect({binaryType:"arraybuffer"})}))}},{key:"_createControlWss",value:function(e,t){var r=this;return new Promise((function(n){r.controlWss=new l.default({logger:r.options.logger,TAG:"control WebsocketConnection"}),r.controlWss.setUrl("".concat(r.options.isSSL?"wss":"ws","://").concat(e,":").concat(t).concat(r.options.isNew?"/control":"")),r.controlWss.addEventListener("open",(function(){r.options.logger.info(r.TAG,"control websocket open"),r._wssRttTimer&&clearTimeout(r._wssRttTimer),r._sendRttPackage(),n(!0)})),r.controlWss.addEventListener("error",(function(o){r.options.logger.error(r.TAG,"control websocket connect error => wss://".concat(e,":").concat(t," => ").concat(o.toString())),r._onceWssError(),n(!1)})),r.controlWss.addEventListener("message",(function(e){if("Blob"===e.constructor.name){var t=r,n=new FileReader;n.onload=function(){t._afterGetBuffer(this.result)},n.readAsArrayBuffer(e)}else r._afterGetBuffer(e)})),r.controlWss.addEventListener("close",(function(){r.options.logger.info(r.TAG,"control websocket close"),r._onceWssClose()})),r.controlWss.connect({binaryType:"arraybuffer"})}))}},{key:"_onceWssClose",value:function(){this.status!==f.ConnectStatus.Failed&&this.status!==f.ConnectStatus.FailedRetryOnce&&this._changeStatus(f.ConnectStatus.Failed)}},{key:"_onceWssError",value:function(){this.status!==f.ConnectStatus.FailedRetryOnce&&this.status!==f.ConnectStatus.Failed&&this._changeStatus(f.ConnectStatus.FailedRetryOnce)}},{key:"_afterGetBuffer",value:function(e){var t=this,r=c.ControlMessage.decodeMessage(e);r&&r.type===c.ControlMessage.TransportHeaderTypes.PingData&&(this.connectQos.networkDelay=(Date.now()-r.time)/1e3,this._wssRttTimer&&clearTimeout(this._wssRttTimer),this._wssRttTimer=setTimeout((function(){t._sendRttPackage()}),2e3)),r&&this.options.receiveControl(r)}},{key:"_sendRttPackage",value:function(){if(this.controlWss&&"CONNECTED"===this.controlWss.getState()){var e=c.ControlMessage.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.PingData});e&&this.controlWss.send(e)}}},{key:"_changeStatus",value:function(e){this.status=e,this.options.connectChange(e)}},{key:"_updateQos",value:function(){Date.now()-this.videoFrameReceived.startTime>2e3&&(this.connectQos.bitsPerSecond=parseInt("".concat(8*this.videoFrameReceived.bytes/((Date.now()-this.videoFrameReceived.startTime)/1e3)),10),this.connectQos.downloadSpeed=parseInt("".concat(this.videoFrameReceived.bytes/((Date.now()-this.videoFrameReceived.startTime)/1e3)),10),this.connectQos.framePerSecondReal=parseInt("".concat(this.videoFrameReceived.frame/((Date.now()-this.videoFrameReceived.startTime)/1e3)),10),this.connectQos.decodeDelay=((Date.now()-this.decodeDelayTime)/this.decodeNumber-1e3/this.options.maxFps)/1e3,this.connectQos.responDelay=this.connectQos.networkDelay+this.connectQos.decodeDelay+.004,this._initFrameReceive(),this.options.qosEvent(this.connectQos),this.decodeNumber=0,this.decodeDelayTime=Date.now())}},{key:"_initFrameReceive",value:function(){this.videoFrameReceived={bytes:0,frame:0,startTime:0}}}]),e}();e.WebsocketPath=y},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},16720:function(e,t,r){var n,o,i;r(39529),r(95094),r(31235),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(93890),r(73348)],n=function(e,t,n,o,i,a){"use strict";var s=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.Control=void 0,t=s(t),n=s(n),o=s(o);var u=function(){function e(r){var n=r.rotation,a=void 0===n?i.GAME_SCREEN_RATATION.LANDSCAPE:n,s=r.el,u=r.TAG;(0,t.default)(this,e),(0,o.default)(this,"m",null),(0,o.default)(this,"videoTagRect",null),(0,o.default)(this,"rotation",void 0),(0,o.default)(this,"isFillVideo",!1),(0,o.default)(this,"max",65535),(0,o.default)(this,"el",void 0),(0,o.default)(this,"TAG",void 0),(0,o.default)(this,"enabledCode",null),(0,o.default)(this,"_logColor",{log:"black",info:"blue",warn:"brown",error:"red"}),this.rotation=a,this.el=s,this.TAG=u||"Control"}return(0,n.default)(e,[{key:"changeRotation",value:function(e){this.rotation=e}},{key:"setIsFillVideo",value:function(e){this.isFillVideo=e}},{key:"setWindowMath",value:function(e){this.m=e}},{key:"setVideoTagRect",value:function(e){this.videoTagRect=e}},{key:"_rotate",value:function(e,t){if(this.rotation===i.GAME_SCREEN_RATATION.LANDSCAPE)return{x:e,y:t};var r=this.max/2,n=this.max/2;return{x:n-t+r,y:e-r+n}}},{key:"rotateTouchMessage",value:function(e){if(this.rotation!==i.GAME_SCREEN_RATATION.LANDSCAPE){var t=this.max/2,r=this.max/2,n=r-e.data.y+t,o=e.data.x-t+r;e.data.x=n,e.data.y=o}}},{key:"_clientToServerX",value:function(e){if(!this.m)return 0;var t=Math.round((e-this.m.mouseOffsetX)*this.m.mouseMultiX);return t===this.m.frameW-1&&(t=this.m.frameW),t>this.m.frameW&&(t=this.m.frameW),t<0&&(t=0),(t=(t+1)*this.max/this.m.frameW)>this.max&&(t=this.max),t}},{key:"_clientToServerY",value:function(e){if(!this.m)return 0;var t=Math.round((e-this.m.mouseOffsetY)*this.m.mouseMultiY);return t===this.m.frameH-1&&(t=this.m.frameH),t>this.m.frameH&&(t=this.m.frameH),t<0&&(t=0),(t=65535*(t+1)/this.m.frameH)>65535&&(t=65535),t}},{key:"_serverToClientX",value:function(e){if(!this.m)return 0;var t=this.m.frameW/this.m.mouseMultiX,r=e/this.max*t;r=Math.round(r+this.m.mouseOffsetX);var n=Math.round(t+this.m.mouseOffsetX);return r>n&&(r=n),r<0&&(r=0),r}},{key:"_serverToClientY",value:function(e){if(!this.m)return 0;var t=this.m.frameH/this.m.mouseMultiY,r=e/this.max*t;r=Math.round(r+this.m.mouseOffsetY);var n=Math.round(t+this.m.mouseOffsetY);return r>n&&(r=n),r<0&&(r=0),r}},{key:"changeKeyData",value:function(e){return(0,a.changeKeyData)(e)}},{key:"isKeycodeAtEnabled",value:function(e,t){if(this.enabledCode){if(this.enabledCode.all.includes(e))return!0;if(t.isCtrl&&!t.isAlt&&!t.isShift&&this.enabledCode.withCtrl.includes(e))return!0;if(t.isAlt&&!t.isCtrl&&!t.isShift&&this.enabledCode.withAlt.includes(e))return!0;if(t.isShift&&!t.isAlt&&!t.isCtrl&&this.enabledCode.withShift.includes(e))return!0}return!1}},{key:"_inputTestLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";window.vrNativeChineseInputControlDebug&&console.log("%c_inputTestLog-".concat(e),"color: ".concat(this._logColor[t],";"))}}]),e}();e.Control=u},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},89206:function(e,t,r){var n,o,i;r(34115),r(634),r(20796),r(18178),r(27233),r(15735),r(32501),r(99805),r(26936),r(95094),r(58188),r(61229),r(88233),r(28673),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(16720),r(93890)],n=function(e,t,n,o,i,a,s,u,c,l){"use strict";var f=r(14859);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=y();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.GamepadBase=void 0,t=f(t),n=f(n),o=f(o),i=f(i),a=f(a),s=f(s),u=f(u);var g=function(e){(0,i.default)(a,e);var r=v(a);function a(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{eventCallback:function(){},sendFunc:function(){},vpadInfo:[],logger:{info:console.log,warn:console.warn,error:console.error,debug:console.debug},allowMulGamepad:!0,allowListenXboxGamepad:!1};return(0,t.default)(this,a),n=r.call(this,{el:e,TAG:"GamepadBase"}),(0,u.default)((0,o.default)(n),"options",void 0),(0,u.default)((0,o.default)(n),"gamepadList",[]),(0,u.default)((0,o.default)(n),"animationFrameKey",null),(0,u.default)((0,o.default)(n),"gamepadMap",{}),(0,u.default)((0,o.default)(n),"handlerConnected",void 0),(0,u.default)((0,o.default)(n),"handlerDisconnected",void 0),(0,u.default)((0,o.default)(n),"nvButtonFromBrowser",void 0),(0,u.default)((0,o.default)(n),"ButtonFlags",void 0),n.options=i,n.handlerConnected=n._connected.bind((0,o.default)(n)),n.handlerDisconnected=n._disconnected.bind((0,o.default)(n)),n.nvButtonFromBrowser=l.XboxNvButtonFromBrowser,n.ButtonFlags=l.XboxButtonFlags,n}return(0,n.default)(a,[{key:"_pushVpadInfo",value:function(e){var t,r=d(this.options.vpadInfo);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.dpadId===e.dpadId)return void(n.vpadId=e.vpadId)}}catch(e){r.e(e)}finally{r.f()}this.options.vpadInfo.push(e)}},{key:"appendVpadInfo",value:function(){var e,t=d(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._pushVpadInfo(r)}}catch(e){t.e(e)}finally{t.f()}this.options.logger.info(this.TAG,"append vpad => ".concat(JSON.stringify(this.options.vpadInfo))),this._startListen()}},{key:"vibration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this._getDpadId(e);if(-1!==n)try{var o=window.navigator.getGamepads()[n];o&&o.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:1e3,weakMagnitude:t,strongMagnitude:r})}catch(e){this.options.logger.warn(this.TAG,"gamepad not support")}}},{key:"removeVpadInfo",value:function(e){var t=0;for(t=0;t<this.options.vpadInfo.length&&this.options.vpadInfo[t].dpadId!==e;t++);t<this.options.vpadInfo.length&&this.options.vpadInfo.splice(t,1),this.options.logger.info(this.TAG,"remove vpadInfo => ".concat(JSON.stringify(this.options.vpadInfo)))}},{key:"bindEvent",value:function(){return this.options.allowListenXboxGamepad?(this.el.addEventListener("gamepadconnected",this.handlerConnected),this.el.addEventListener("gamepaddisconnected",this.handlerDisconnected),this._startListen(),this.options.logger.info(this.TAG,"bind gamepad event")):this.options.logger.info(this.TAG,"do not bind gamepad event"),this}},{key:"destroy",value:function(){return this.options.allowListenXboxGamepad&&(this.el.removeEventListener("gamepadconnected",this.handlerConnected),this.el.removeEventListener("gamepaddisconnected",this.handlerDisconnected),this.animationFrameKey&&(window.cancelAnimationFrame(this.animationFrameKey),this.animationFrameKey=null),this.options.logger.info(this.TAG,"remove gamepad event")),this}},{key:"_getAxisValue",value:function(e){return e?e>0?32767*e:32768*e:0}},{key:"_getVpadId",value:function(e){if(this.options.allowMulGamepad){var t,r=d(this.options.vpadInfo);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.dpadId||(n.dpadId=0),n.dpadId===e)return n.vpadId}}catch(e){r.e(e)}finally{r.f()}return-1}return this.options.vpadInfo[0]?this.options.vpadInfo[0].vpadId:-1}},{key:"_getDpadId",value:function(e){var t,r=d(this.options.vpadInfo);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e===n.vpadId)return n.dpadId||0}}catch(e){r.e(e)}finally{r.f()}return-1}},{key:"_listenOnceGamepad",value:function(e){var t=this._getVpadId(e.index);if(-1!==t){for(var r=0,n=0;n<e.buttons.length;n++){var o=this.nvButtonFromBrowser[n];o&&o!==this.ButtonFlags.invalid&&e.buttons[n].pressed&&(r|=o)}var i=0,a=0;e.buttons.length>7&&(i=255*e.buttons[6].value,a=255*e.buttons[7].value);var s=this._getAxisValue(e.axes[0]),u=this._getAxisValue(-e.axes[1]),c=this._getAxisValue(e.axes[2]),l=this._getAxisValue(-e.axes[3]),f={contollerNumber:this._getGamepadNumber(),activeGamePadMask:t,id:"".concat(e.id,"_").concat(e.index),index:e.index,butonFlag:r,leftTrigger:i,rightTrigger:a,leftStickX:s,leftStickY:u,rightStickX:c,rightStickY:l};this._isGamepadUpdated(f)&&this.options.sendFunc&&(this.options.sendFunc(f),this.options.logger.debug(this.TAG,"send gamepad event, vpad => ".concat(t)))}else this.options.logger.debug(this.TAG,"dpadId => ".concat(e.index," had not login"))}},{key:"_isGamepadUpdated",value:function(e){var t=this.gamepadMap[e.index];if(this.gamepadMap[e.index]=e,!t)return!0;for(var r in t)if(t[r]!==e[r])return!0;return!1}},{key:"_update",value:function(){this.gamepadList=navigator.getGamepads?navigator.getGamepads():[];var e,t=d(this.gamepadList);try{for(t.s();!(e=t.n()).done;){var r=e.value;r&&this._listenOnceGamepad(r)}}catch(e){t.e(e)}finally{t.f()}this.animationFrameKey=window.requestAnimationFrame(this._update.bind(this))}},{key:"_startListen",value:function(e){if(this.gamepadList=navigator.getGamepads?navigator.getGamepads():[],this.options.allowMulGamepad)if(e)this._appendPad(e.gamepad);else{var t,r=d(this.gamepadList);try{for(r.s();!(t=r.n()).done;){var n=t.value;n&&this._appendPad(n)}}catch(e){r.e(e)}finally{r.f()}}!this.animationFrameKey&&this._getGamepadNumber()>0&&(this.animationFrameKey=window.requestAnimationFrame(this._update.bind(this)))}},{key:"_connected",value:function(e){this._startListen(e),this.options.logger.info(this.TAG,"gamepad connected, gamepadinfo => ".concat(e?e.gamepad.index:(navigator.getGamepads?navigator.getGamepads():[]).toString()))}},{key:"_getGamepadNumber",value:function(){try{var e=0;if(!this.gamepadList)return 0;var t,r=d(this.gamepadList);try{for(r.s();!(t=r.n()).done;)t.value&&e++}catch(e){r.e(e)}finally{r.f()}return e}catch(e){return 0}}},{key:"_appendPad",value:function(e){var t=this._getVpadId(e.index);-1===t?this.options.eventCallback(a.EventType.Apply,{dpadId:e.index}):this.options.logger.info(this.TAG,"dpadId => ".concat(e.index," append success, vpadId => ").concat(t))}},{key:"_disconnected",value:function(e){e.gamepad&&0!==e.gamepad.index&&this.options.eventCallback(a.EventType.Release,{vpadId:this._getVpadId(e.gamepad.index),dpadId:e.gamepad.index});try{this.gamepadList=navigator.getGamepads()}catch(e){this.gamepadList=[]}this.options.logger.info(this.TAG,"gamepad disconnected"),0===this._getGamepadNumber()&&(this.animationFrameKey&&(window.cancelAnimationFrame(this.animationFrameKey),this.animationFrameKey=null),this.options.logger.info(this.TAG,"without gamepad and close listen event"))}}]),a}(c.Control);e.GamepadBase=g,(0,u.default)(g,"EventType",{Apply:1,Release:2})},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},84931:function(e,t,r){var n,o,i;r(18178),r(38695),r(39529),r(74083),r(15735),r(43450),r(99805),r(79321),r(95094),r(58188),r(61229),r(31235),r(28673),r(67789),r(1939),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(83772),r(60270),r(36983),r(2588),r(81260),r(96573),r(93890),r(69982),r(16720)],n=function(e,t,n,o,i,a,s,u,c,l,f,d,h){"use strict";var p=r(14859);function v(e){var t=y();return function(){var r,n=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.Keyboard2TouchControl=void 0,t=p(t),n=p(n),o=p(o),i=p(i),a=p(a),s=p(s),u=p(u),c=p(c);var g=function(e){(0,a.default)(s,e);var r=v(s);function s(e,n){var i;return(0,t.default)(this,s),i=r.call(this,{TAG:"keyboard2TouchControl",el:e}),(0,c.default)((0,o.default)(i),"options",void 0),(0,c.default)((0,o.default)(i),"keyDownList",new Map),(0,c.default)((0,o.default)(i),"keyDownListKeys",[]),(0,c.default)((0,o.default)(i),"gameWindowShowMode",0),(0,c.default)((0,o.default)(i),"handlerKeydown",void 0),(0,c.default)((0,o.default)(i),"handlerKeyup",void 0),(0,c.default)((0,o.default)(i),"pressDelete",!1),(0,c.default)((0,o.default)(i),"pressInsert",!1),(0,c.default)((0,o.default)(i),"enable",!0),(0,c.default)((0,o.default)(i),"disabledCodes",null),(0,c.default)((0,o.default)(i),"isStopDefaultEvent",!0),(0,c.default)((0,o.default)(i),"allwaysStopDefaultCode",[9]),(0,c.default)((0,o.default)(i),"inputMode",!1),(0,c.default)((0,o.default)(i),"keydownTimerList",[]),(0,c.default)((0,o.default)(i),"lastSendRepeatTime",0),i.options=n,i.handlerKeydown=i._keydown.bind((0,o.default)(i)),i.handlerKeyup=i._keyup.bind((0,o.default)(i)),i.gameWindowShowMode=0,i}return(0,n.default)(s,[{key:"setInputMode",value:function(e){this.inputMode=e}},{key:"changeEnable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.enable=e,this.disabledCodes=t,this.enabledCode=r}},{key:"changeIsStopKeyboardDefault",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[9];this.isStopDefaultEvent=e,this.allwaysStopDefaultCode=t}},{key:"isSendKeyEvent",value:function(e,t){if(this._inputTestLog("enable发键值-".concat(this.enable)),!this.enable){if(this.disabledCodes){var r=!this.disabledCodes.includes(e);return this._inputTestLog("enable发键值-disabledCodes-".concat(r)),r}if(this.enabledCode){var n=this.isKeycodeAtEnabled(e,t);return this._inputTestLog("enable发键值-enabledCode-".concat(n)),n}return!1}return!0}},{key:"updateKeyboard2TouchConfig",value:function(e){this.options.keyboard2TouchConfig=e}},{key:"updateGameWindowShowMode",value:function(e){this.gameWindowShowMode=e}},{key:"bindEvent",value:function(){return this.el.addEventListener("keydown",this.handlerKeydown),this.el.addEventListener("keyup",this.handlerKeyup),this.options.logger.info(this.TAG,"bind keyboard event"),this}},{key:"destroy",value:function(){return this.el.removeEventListener("keydown",this.handlerKeydown),this.el.removeEventListener("keyup",this.handlerKeyup),this.options.logger.info(this.TAG,"remove keyboard event"),this}},{key:"changeKeyData",value:function(e){return(0,i.default)((0,u.default)(s.prototype),"changeKeyData",this).call(this,e)}},{key:"_resetMouse2TouchControlMovedPX",value:function(){this.options.resetMovedPX()}},{key:"_sendFun",value:function(e,t,r,n){this.options.sendFunc&&this.options.sendFunc({pointerId:e,mouseAction:t,mouseRelative:!1,x:r,y:n})}},{key:"_upFun",value:function(e){this._sendFun(f.PC_MOBILE_POINTER_ID.rocker,l.ControlMessage.MouseAction.move,e.x,e.y)}},{key:"_keydown",value:function(e){if(45===e.keyCode&&(this.pressInsert=!0),46===e.keyCode&&(this.pressDelete=!0),e.altKey&&this.pressInsert&&this.pressDelete&&(this.options.logger.info(this.TAG,"open ls debug mode"),this.options.openDebugKeyboard&&this.options.openDebugKeyboard(!0)),this._inputTestLog("_keydown-start-".concat(e.keyCode,"-").concat(e.key),"info"),e.repeat){if(e.timeStamp-this.lastSendRepeatTime<this.options.minSendRepeatDelay)return;this.lastSendRepeatTime=e.timeStamp}var t=e.target;if((this.isStopDefaultEvent||this.allwaysStopDefaultCode.includes(e.keyCode))&&"INPUT"!==t.nodeName&&e.preventDefault(),"vr-native-chinese-input"===t.className&&86===e.keyCode&&(e.ctrlKey||e.metaKey)&&e.preventDefault(),0===this.gameWindowShowMode||this.inputMode){if(!this.isSendKeyEvent(e.keyCode,{isShift:e.shiftKey,isCtrl:e.ctrlKey,isAlt:e.altKey}))return;this._keydownActionKeyBoard(e)}else 0!==this.gameWindowShowMode&&this._keydownAction(e)}},{key:"_keydownActionKeyBoard",value:function(e){var t=this;if(void 0!==e.keyCode){var r=this.changeKeyData(e);if(r.keyCode&&void 0!==r.keyAction&&void 0!==r.modifiers)if(86!==r.keyCode||r.modifiers!==f.KeyModifiers.ctrl&&!e.metaKey){var n={keyCode:e.keyCode,key:e.key,code:e.code};this.keyDownList.set(e.keyCode,n);var o=(0,d.keyboardTranslator)(r.keyCode);0!==o&&(r.keyCode=o,(0,d.isUpperCase)(e)&&(r.modifiers|=f.KeyModifiers.capsLock),(0,d.isNumLock)(e)&&(r.modifiers|=f.KeyModifiers.numLock),this._inputTestLog("_keydown-send-".concat(e.keyCode,"-").concat(e.key),"error"),this.options.sendFuncKeyBoard({keyCode:r.keyCode,keyAction:r.keyAction,modifiers:r.modifiers,mask:0}))}else{var i,a,s;null!==(i=window)&&void 0!==i&&null!==(a=i.navigator)&&void 0!==a&&null!==(s=a.clipboard)&&void 0!==s&&s.readText?window.navigator.clipboard.readText().then((function(e){t.options.logger.info(t.TAG,"发送黏贴板数据，".concat(e)),t.options.copyEvent({copyText:e})})).catch((function(e){t.options.logger.error(t.TAG,"粘贴数据到远端异常, ".concat(JSON.stringify(e)))})):this.options.logger.info(this.TAG,"window.navigator.clipboard.readText 不支持")}}}},{key:"_keyup",value:function(e){45===e.keyCode&&(this.pressInsert=!1),46===e.keyCode&&(this.pressDelete=!1),this._inputTestLog("_keyup-start-".concat(e.keyCode,"-").concat(e.key),"warn");var t=e.target;if((this.isStopDefaultEvent||this.allwaysStopDefaultCode.includes(e.keyCode))&&"INPUT"!==t.nodeName&&e.preventDefault(),"vr-native-chinese-input"===t.className&&86===e.keyCode&&(e.ctrlKey||e.metaKey)&&e.preventDefault(),0===this.gameWindowShowMode||this.inputMode){if(!this.isSendKeyEvent(e.keyCode,{isShift:e.shiftKey,isCtrl:e.ctrlKey,isAlt:e.altKey}))return;this._keyupActionKeyBoard(e)}else 0!==this.gameWindowShowMode&&this._keyupAction(e)}},{key:"_keyupActionKeyBoard",value:function(e){if(void 0!==e.keyCode){var t=this.changeKeyData(e);if(t.keyCode&&void 0!==t.keyAction&&void 0!==t.modifiers&&(86!==t.keyCode||t.modifiers!==f.KeyModifiers.ctrl)){this.keyDownList.delete(e.keyCode);var r=(0,d.keyboardTranslator)(t.keyCode);0!==r&&(t.keyCode=r,(0,d.isUpperCase)(e)&&(t.modifiers|=f.KeyModifiers.capsLock),(0,d.isNumLock)(e)&&(t.modifiers|=f.KeyModifiers.numLock),this._inputTestLog("_keyup-send-".concat(e.keyCode,"-").concat(e.key),"error"),this.options.sendFuncKeyBoard({keyCode:t.keyCode,keyAction:t.keyAction,modifiers:t.modifiers,mask:0}))}}}},{key:"_keydownAction",value:function(e){var t,r=this,n=this.options.keyboard2TouchConfig,o=n.center;if(void 0!==e.key){var i=n[t=" "===e.key?"space":e.key.toLowerCase()];if(i&&!this.keyDownListKeys.includes(t)){if(["w","a","s","d"].includes(t)){"a"===t?this.keyDownListKeys.includes("w")?i=n.wa:this.keyDownListKeys.includes("s")&&(i=n.as):"w"===t?this.keyDownListKeys.includes("a")?i=n.wa:this.keyDownListKeys.includes("d")&&(i=n.wd):"s"===t?this.keyDownListKeys.includes("a")?i=n.as:this.keyDownListKeys.includes("d")&&(i=n.sd):"d"===t&&(this.keyDownListKeys.includes("w")?i=n.wd:this.keyDownListKeys.includes("s")&&(i=n.sd)),this._sendFun(f.PC_MOBILE_POINTER_ID.rocker,l.ControlMessage.MouseAction.press,o.x,o.y);var a=100;if(Array.isArray(i.stages)&&i.stages.length>0){a=50;for(var s=function(e){var t=i.stages[e],n={x:Math.floor((i.x-o.x)*t+o.x),y:Math.floor((i.y-o.y)*t+o.y)},s=setTimeout((function(){r._sendFun(f.PC_MOBILE_POINTER_ID.rocker,l.ControlMessage.MouseAction.move,n.x,n.y)}),a);r.keydownTimerList.push(s),a+=a},u=0;u<i.stages.length;u++)s(u)}var c=setTimeout((function(){r._sendFun(f.PC_MOBILE_POINTER_ID.rocker,l.ControlMessage.MouseAction.move,i.x,i.y)}),a);this.keydownTimerList.push(c)}else this._sendFun(f.PC_MOBILE_POINTER_ID.normal+(1===e.key.length?e.key.charCodeAt(0):0),l.ControlMessage.MouseAction.press,i.x,i.y);this.keyDownListKeys.includes(t)||this.keyDownListKeys.push(t)}}}},{key:"clearAllTimer",value:function(){this.keydownTimerList.map((function(e){clearTimeout(e)}))}},{key:"_keyupAction",value:function(e){this.clearAllTimer();var t,r=this.options.keyboard2TouchConfig,n=r.center;if(void 0!==e.key){t=" "===e.key?"space":e.key.toLowerCase();var o=r.togglemouselock;if(o&&(Array.isArray(o.key)&&o.key.includes(e.key)||e.key===o.key))document.pointerLockElement?document.pointerLockElement&&(this._sendFun(f.PC_MOBILE_POINTER_ID.mouse,l.ControlMessage.MouseAction.release,o.x,o.y),document.exitPointerLock()):(this._sendFun(f.PC_MOBILE_POINTER_ID.mouse,l.ControlMessage.MouseAction.press,o.x,o.y),this.options.videoTag.requestPointerLock(),this._resetMouse2TouchControlMovedPX());else{var i=r[t];if(i){var a=this.keyDownListKeys.indexOf(t);a>=0&&this.keyDownListKeys.splice(a,1),this.keyDownListKeys.includes("w")||this.keyDownListKeys.includes("a")||this.keyDownListKeys.includes("s")||this.keyDownListKeys.includes("d")||this._sendFun(f.PC_MOBILE_POINTER_ID.rocker,l.ControlMessage.MouseAction.release,n.x,n.y),"w"===t||"a"===t||"s"===t||"d"===t?(this.keyDownListKeys.includes("w")&&this.keyDownListKeys.includes("a")?i=r.wa:this.keyDownListKeys.includes("w")&&this.keyDownListKeys.includes("d")?i=r.wd:this.keyDownListKeys.includes("s")&&this.keyDownListKeys.includes("a")?i=r.as:this.keyDownListKeys.includes("s")&&this.keyDownListKeys.includes("d")?i=r.sd:(this.keyDownListKeys.includes("w")&&(i=r.w),this.keyDownListKeys.includes("s")&&(i=r.s),this.keyDownListKeys.includes("d")&&(i=r.d),this.keyDownListKeys.includes("a")&&(i=r.a)),this._sendFun(f.PC_MOBILE_POINTER_ID.rocker,l.ControlMessage.MouseAction.move,i.x,i.y)):this._sendFun(f.PC_MOBILE_POINTER_ID.normal+(1===e.key.length?e.key.charCodeAt(0):0),l.ControlMessage.MouseAction.release,i.x,i.y)}}}}},{key:"clearKeyDownList",value:function(){var e=this;if(this.keyDownList.size>0){var t=[];this.keyDownList.forEach((function(r){e._keyupActionKeyBoard({keyCode:r.keyCode,code:r.code}),t.push(r.key)})),this.options.logger.info(this.TAG,"clearKeyDownList => ".concat(JSON.stringify(t))),this.keyDownList.clear()}if(this.keyDownListKeys.length>0){var r=[];this.keyDownListKeys.forEach((function(t){e._keyupAction({key:t}),r.push(t)})),this.options.logger.info(this.TAG,"clearTouchDownList => ".concat(JSON.stringify(r))),this.keyDownListKeys=[]}}}]),s}(h.Control);e.Keyboard2TouchControl=g},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},46337:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(27233),r(39529),r(15735),r(32501),r(26936),r(17525),r(79321),r(18275),r(71245),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(61229),r(77950),r(31235),r(28673),r(74069),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(38111),r(83772),r(60270),r(36983),r(2588),r(81260),r(93890),r(16720),r(37959)],n=function(e,t,n,o,i,s,u,c,l,f,d,h,p,v){"use strict";var y=r(14859);function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==t&&r.call(m,o)&&(v=m);var b=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(b,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){var t=T();return function(){var r,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardControl=void 0,n=y(n),o=y(o),i=y(i),s=y(s),u=y(u),c=y(c),l=y(l),f=y(f),d=y(d);var _=function(e){(0,c.default)(r,e);var t=w(r);function r(e,n){var i;return(0,o.default)(this,r),i=t.call(this,{el:e,TAG:"keyboard control"}),(0,d.default)((0,s.default)(i),"options",void 0),(0,d.default)((0,s.default)(i),"keyDownList",new Map),(0,d.default)((0,s.default)(i),"keydownInterval",null),(0,d.default)((0,s.default)(i),"handlerKeydown",void 0),(0,d.default)((0,s.default)(i),"handlerKeyup",void 0),(0,d.default)((0,s.default)(i),"isCapsLock",!1),(0,d.default)((0,s.default)(i),"isSendingEsc",!1),(0,d.default)((0,s.default)(i),"isStopDefaultEvent",!0),(0,d.default)((0,s.default)(i),"allwaysStopDefaultCode",[9]),(0,d.default)((0,s.default)(i),"sendKeycodetList",[65,68,83,87]),(0,d.default)((0,s.default)(i),"enable",!0),(0,d.default)((0,s.default)(i),"seq",0),(0,d.default)((0,s.default)(i),"disabledCodes",null),i.options=n,i.handlerKeydown=i._keydown.bind((0,s.default)(i)),i.handlerKeyup=i._keyup.bind((0,s.default)(i)),i}return(0,i.default)(r,[{key:"changeEnable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.enable=e,this.disabledCodes=t,this.enabledCode=r}},{key:"changeIsStopKeyboardDefault",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[9];this.isStopDefaultEvent=e,this.allwaysStopDefaultCode=t}},{key:"bindEvent",value:function(){return this.el.addEventListener("keydown",this.handlerKeydown),this.el.addEventListener("keyup",this.handlerKeyup),this.options.logger.info(this.TAG,"bind keyboard event"),this}},{key:"destroy",value:function(){return this.el.removeEventListener("keydown",this.handlerKeydown),this.el.removeEventListener("keyup",this.handlerKeyup),clearInterval(Number(this.keydownInterval)),this.options.logger.info(this.TAG,"remove keyboard event"),this}},{key:"changeKeyData",value:function(e){return(0,u.default)((0,f.default)(r.prototype),"changeKeyData",this).call(this,e)}},{key:"isSendKeyEvent",value:function(e,t){if(this._inputTestLog("enable发键值-".concat(this.enable)),!this.enable){if(this.disabledCodes){var r=!this.disabledCodes.includes(e);return this._inputTestLog("enable发键值-disabledCodes-".concat(r)),r}if(this.enabledCode){var n=this.isKeycodeAtEnabled(e,t);return this._inputTestLog("enable发键值-enabledCode-".concat(n)),n}return!1}return!0}},{key:"changeToMacCommand",value:function(){var e=(0,n.default)(g().mark((function e(t){var r,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(91!==t.keyCode){e.next=2;break}return e.abrupt("return");case 2:return r={charCode:t.charCode,code:t.code,isComposing:t.isComposing,key:t.key,keyCode:t.keyCode,location:t.location,repeat:!1,altKey:t.altKey,metaKey:!1,shiftKey:t.shiftKey,ctrlKey:!0},n=b(b({},r),{},{keyCode:17,code:"ControlLeft",key:"Control"}),this._keydown(new KeyboardEvent("keydown",n)),e.next=7,this.sleep(50);case 7:return this._keydown(new KeyboardEvent("keydown",r)),e.next=10,this.sleep(50);case 10:return this._keyup(new KeyboardEvent("keyup",r)),e.next=13,this.sleep(50);case 13:this._keyup(new KeyboardEvent("keyup",n));case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sleep",value:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}},{key:"_keydown",value:function(e){var t=this;if(this._inputTestLog("_keydown-start-".concat(e.keyCode,"-").concat(e.key),"info"),clearInterval(Number(this.keydownInterval)),(!this.options.isContainerPlay||!document.activeElement||"VIDEO"===document.activeElement.tagName||"vr-native-chinese-input"===document.activeElement.className)&&this.isSendKeyEvent(e.keyCode,{isShift:e.shiftKey,isCtrl:(0,v.isMac)()&&e.metaKey||e.ctrlKey,isAlt:e.altKey}))if(e.metaKey&&(0,v.isMac)())this.changeToMacCommand(e);else{var r=this.changeKeyData(e);if(r.keyCode&&void 0!==r.keyAction&&void 0!==r.modifiers){var n,o,i,a=e.target;if(!a||"INPUT"!==a.nodeName&&"TEXTAREA"!==a.nodeName||"vr-native-chinese-input"===a.className)if((this.isStopDefaultEvent||this.allwaysStopDefaultCode.includes(e.keyCode))&&e.preventDefault(),"vr-native-chinese-input"===a.className&&86===e.keyCode&&(e.ctrlKey||e.metaKey)&&e.preventDefault(),86!==r.keyCode||r.modifiers!==h.KeyModifiers.ctrl&&!e.metaKey){if(20!==e.keyCode||!(0,v.isMac)()){var s=0;e.ctrlKey&&(s+=2),e.shiftKey?(e.key.match(/^[A-Z]$/g)||(s+=16),s+=1):e.key.match(/^[A-Z]$/g)&&(s+=16),e.altKey&&(s+=4),this.keyDownList.set(r.keyCode,{keyAction:h.KeyAction.up,keyCode:r.keyCode,modifiers:s,mask:1,seq:this.seq}),e.altKey&&(this.keyDownList.has(45)||this.keyDownList.has(123))&&this.keyDownList.has(46)&&(this.options.logger.info(this.TAG,"open ls debug mode"),this.options.openDebugKeyboard&&this.options.openDebugKeyboard(!0)),this._inputTestLog("_keydown-send-".concat(e.keyCode,"-").concat(e.key),"error"),this.options.sendFunc({keyCode:r.keyCode,keyAction:h.KeyAction.down,modifiers:s,mask:1,seq:this.seq}),this.seq>65535?this.seq=0:this.seq++}}else null!==(n=window)&&void 0!==n&&null!==(o=n.navigator)&&void 0!==o&&null!==(i=o.clipboard)&&void 0!==i&&i.readText?window.navigator.clipboard.readText().then((function(e){t.options.logger.info(t.TAG,"发送黏贴板数据，".concat(e)),t.options.copyEvent({copyText:e})})).catch((function(e){t.options.logger.error(t.TAG,"粘贴数据到远端异常, ".concat(JSON.stringify(e)))})):this.options.logger.info(this.TAG,"window.navigator.clipboard.readText 不支持")}}}},{key:"_keyup",value:function(e){var t=this;this._inputTestLog("_keyup-start-".concat(e.keyCode,"-").concat(e.key),"warn");var r=this.changeKeyData(e);if((!this.options.isContainerPlay||!document.activeElement||"VIDEO"===document.activeElement.tagName||"vr-native-chinese-input"===document.activeElement.className)&&this.isSendKeyEvent(e.keyCode,{isShift:e.shiftKey,isCtrl:(0,v.isMac)()&&e.metaKey||e.ctrlKey,isAlt:e.altKey})&&r.keyCode&&void 0!==r.keyAction&&void 0!==r.modifiers){var n=e.target;if(!(n&&("INPUT"===n.nodeName||"TEXTAREA"===n.nodeName)&&"vr-native-chinese-input"!==n.className||((this.isStopDefaultEvent||this.allwaysStopDefaultCode.includes(e.keyCode))&&e.preventDefault(),"vr-native-chinese-input"===n.className&&86===e.keyCode&&(e.ctrlKey||e.metaKey)&&e.preventDefault(),86===r.keyCode&&r.modifiers===h.KeyModifiers.ctrl||20===e.keyCode&&(0,v.isMac)()))){if(this.keyDownList.delete(r.keyCode),1===this.keyDownList.size){var o=new Map(Array.from(this.keyDownList.entries()));this.keydownInterval&&clearInterval(this.keydownInterval),this.keydownInterval=setInterval((function(){o.forEach((function(e){e.keyCode!==r.keyCode&&t.sendKeycodetList.includes(e.keyCode)&&(t.options.sendFunc({keyAction:h.KeyAction.down,keyCode:e.keyCode,modifiers:e.modifiers||0,mask:1,seq:t.seq}),t.seq>65535?t.seq=0:t.seq++)}))}),200)}else clearInterval(Number(this.keydownInterval));this._inputTestLog("_keyup-send-".concat(e.keyCode,"-").concat(e.key),"error"),this.options.sendFunc({keyCode:r.keyCode,keyAction:r.keyAction,modifiers:0,mask:1,seq:this.seq}),this.seq>65535?this.seq=0:this.seq++}}}},{key:"clearKeyDownList",value:function(){var e=this;if(clearInterval(Number(this.keydownInterval)),this.keyDownList.size>0){var t=[];this.keyDownList.forEach((function(r){e.options.sendFunc({keyAction:r.keyAction,keyCode:r.keyCode,modifiers:0,mask:1,seq:e.seq}),t.push({keyAction:r.keyAction,keyCode:r.keyCode,modifiers:0,mask:1,seq:e.seq}),e.seq>65535?e.seq=0:e.seq++})),this.options.logger.info(this.TAG,"clearKeyDownList => ".concat(JSON.stringify(t))),this.keyDownList.clear()}}},{key:"sendEsc",value:function(){var e=this;if(!0!==this.isSendingEsc){var t=27,r={keyAction:h.KeyAction.down,keyCode:t,modifiers:0,mask:1,seq:this.seq},n={keyAction:h.KeyAction.up,keyCode:t,modifiers:0,mask:1,seq:this.seq};setTimeout((function(){e.options.sendFunc(r),e.isSendingEsc=!0,e.seq>65535?e.seq=0:e.seq++,setTimeout((function(){e.options.sendFunc(n),e.seq>65535?e.seq=0:e.seq++,e.keyDownList.delete(t),e.isSendingEsc=!1}),10)}),30)}}}]),r}(p.Control);e.KeyboardControl=_},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},55137:function(e,t,r){var n,o,i;r(95094),r(61229),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(16720),r(96573)],n=function(e,t,n,o,i,a,s,u,c,l){"use strict";var f=r(14859);function d(e){var t=h();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.MobileKeyControl=void 0,t=f(t),n=f(n),o=f(o),i=f(i),a=f(a),s=f(s),u=f(u);var p=function(e){(0,i.default)(a,e);var r=d(a);function a(e,n){var i;return(0,t.default)(this,a),i=r.call(this,{el:e,TAG:"mobile key"}),(0,u.default)((0,o.default)(i),"options",void 0),(0,u.default)((0,o.default)(i),"handlerKeydown",i.onKeyDown.bind((0,o.default)(i))),(0,u.default)((0,o.default)(i),"handlerKeyup",i.onKeyUp.bind((0,o.default)(i))),(0,u.default)((0,o.default)(i),"isEnable",!1),(0,u.default)((0,o.default)(i),"KeyclickMessage",{type:l.ControlMessage.TransportHeaderTypes.InputData,packetType:l.ControlMessage.InputData.KeyClick,data:{keyAction:l.ControlMessage.KeyAction.up,keyCode:11,modifiers:0,eventInx:0,mask:0}}),i.options=n,i}return(0,n.default)(a,[{key:"bindEvent",value:function(){return this.el.addEventListener("keydown",this.handlerKeydown),this.el.addEventListener("keyup",this.handlerKeyup),this.options.logger.info(this.TAG,"bind MobileKeyControl event"),this}},{key:"destroy",value:function(){return this.el.removeEventListener("keydown",this.handlerKeydown),this.el.removeEventListener("keyup",this.handlerKeyup),this.options.logger.info(this.TAG,"remove MobileKeyControl event"),this}},{key:"changeEnable",value:function(e){this.isEnable=e}},{key:"checkIsEnableKeyboard",value:function(e){return this.isEnable}},{key:"onKeyDown",value:function(e){this.checkIsEnableKeyboard(e)&&(8!==e.keyCode&&"backspace"!==e.code.toLowerCase()||(this.KeyclickMessage.data.keyAction=l.ControlMessage.KeyAction.down,this.KeyclickMessage.data.keyCode=67,this.KeyclickMessage.data.modifiers=0,this.options.sendControlMsg(this.KeyclickMessage)))}},{key:"onKeyUp",value:function(e){this.checkIsEnableKeyboard(e)&&(8===e.keyCode&&"backspace"===e.code.toLowerCase()||(this.KeyclickMessage.data.keyAction=l.ControlMessage.KeyAction.up,this.KeyclickMessage.data.keyCode=67,this.KeyclickMessage.data.modifiers=0,this.options.sendControlMsg(this.KeyclickMessage)))}}]),a}(c.Control);e.MobileKeyControl=p},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},74537:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(73439),r(61229),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(96573),r(16720),r(93890),r(37959)],n=function(e,t,n,o,i,s,u,c,l,f,d,h,p,v){"use strict";var y=r(14859);function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==t&&r.call(m,o)&&(v=m);var b=p.prototype=d.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(b,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function m(e){var t=b();return function(){var r,n=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.Mouse2TouchControl=void 0,n=y(n),o=y(o),i=y(i),s=y(s),u=y(u),c=y(c),l=y(l),f=y(f);var w=function(e){(0,u.default)(r,e);var t=m(r);function r(e,n){var i;return(0,o.default)(this,r),i=t.call(this,{el:e,TAG:"Mouse2TouchControl",rotation:n.rotation}),(0,f.default)((0,s.default)(i),"options",void 0),(0,f.default)((0,s.default)(i),"movedPX",{x:0,y:0}),(0,f.default)((0,s.default)(i),"nowMouseAtServerPosX",0),(0,f.default)((0,s.default)(i),"nowMouseAtServerPosY",0),(0,f.default)((0,s.default)(i),"scaleStartRadius",5e3),(0,f.default)((0,s.default)(i),"scaleConst",800),(0,f.default)((0,s.default)(i),"scalFactor",1),(0,f.default)((0,s.default)(i),"doScale",!1),(0,f.default)((0,s.default)(i),"waitScaleLength",0),(0,f.default)((0,s.default)(i),"outFlag",!1),(0,f.default)((0,s.default)(i),"protectLength",1e3),(0,f.default)((0,s.default)(i),"togglemouselockDownBuf",null),(0,f.default)((0,s.default)(i),"togglemouselockUpBuf",null),i.options=n,i}return(0,i.default)(r,[{key:"updateKeyboard2TouchConfig",value:function(e){this.options.keyboard2TouchConfig=e}},{key:"bindEvent",value:function(){return this}},{key:"destroy",value:function(){return this}},{key:"setScalFactor",value:function(e){this.scalFactor=e}},{key:"resetMovedPX",value:function(){this.movedPX={x:0,y:0}}},{key:"computeMouseDown",value:function(e,t){var r=this.options.keyboard2TouchConfig,n=r.right,o=r.left;if(2===e.button&&n)t.data.pointerId=p.PC_MOBILE_POINTER_ID.mouseClick,t.data.mouseAction=d.ControlMessage.MouseAction.press,t.data.x=n.x,t.data.y=n.y;else if(0===e.button){if(!document.pointerLockElement)return this._changeEvent(d.ControlMessage.MouseAction.press,e.clientX,e.clientY,t);t.data.pointerId=p.PC_MOBILE_POINTER_ID.mouseClick,o&&(t.data.pointerId=p.PC_MOBILE_POINTER_ID.mouseClick,t.data.mouseAction=d.ControlMessage.MouseAction.press,t.data.x=o.x,t.data.y=o.y)}return!0}},{key:"computeMouseUp",value:function(e,t){var r=this.options.keyboard2TouchConfig,n=r.right,o=r.left;if(2===e.button&&n)t.data.pointerId=p.PC_MOBILE_POINTER_ID.mouseClick,t.data.mouseAction=d.ControlMessage.MouseAction.release,t.data.x=n.x,t.data.y=n.y;else if(0===e.button){if(!document.pointerLockElement)return this._changeEvent(d.ControlMessage.MouseAction.release,e.clientX,e.clientY,t);t.data.pointerId=p.PC_MOBILE_POINTER_ID.mouseClick,o&&(t.data.pointerId=p.PC_MOBILE_POINTER_ID.mouseClick,t.data.mouseAction=d.ControlMessage.MouseAction.release,t.data.x=o.x,t.data.y=o.y)}return!0}},{key:"computeMousemove",value:function(e,t){var r=this;if(document.pointerLockElement){var n=!0,o=this.options.keyboard2TouchConfig.togglemouselock;if(o){if(!this.m)return!1;var i=this.max/this.m.vpWidth,a=this.max/this.m.vpHeight,s=this.movedPX.x+e.movementX,u=this.movedPX.y+e.movementY,c=s*i+o.x,l=u*a+o.y,f=this.max-this.protectLength;if(c<=this.protectLength||c>=f||l<=this.protectLength||l>=f){if(this.outFlag)return!1;this.outFlag=!0,this.togglemouselockUpBuf||(this.togglemouselockUpBuf=d.ControlMessage.encodeMessage({type:d.ControlMessage.TransportHeaderTypes.InputData,packetType:d.ControlMessage.InputData.TouchEvent,data:{pointerId:p.PC_MOBILE_POINTER_ID.mouse,mouseButton:void 0,mouseAction:d.ControlMessage.MouseAction.release,mouseRelative:!1,x:o.x,y:o.y,eventInx:0}})),this.togglemouselockUpBuf&&this.options.sendControlBuffer(this.togglemouselockUpBuf),setTimeout((function(){r.togglemouselockDownBuf||(r.togglemouselockDownBuf=d.ControlMessage.encodeMessage({type:d.ControlMessage.TransportHeaderTypes.InputData,packetType:d.ControlMessage.InputData.TouchEvent,data:{pointerId:p.PC_MOBILE_POINTER_ID.mouse,mouseButton:void 0,mouseAction:d.ControlMessage.MouseAction.press,mouseRelative:!1,x:o.x,y:o.y,eventInx:0}})),r.togglemouselockDownBuf&&r.options.sendControlBuffer(r.togglemouselockDownBuf),r.resetMovedPX()}),20),n=!1}else this.outFlag=!1,t.data.pointerId=p.PC_MOBILE_POINTER_ID.mouse,t.data.mouseAction=d.ControlMessage.MouseAction.move,t.data.x=c,t.data.y=l;this.movedPX={x:s,y:u}}return n}return this._changeEvent(d.ControlMessage.MouseAction.move,e.offsetX,e.offsetY,t)}},{key:"_changeEvent",value:function(e,t,r,n){var o=t,i=r;if("portrait"===this.rotation){if(!this.videoTagRect)return this.options.logger.error(this.TAG,"video tag rect missing"),!1;o=r,i=this.videoTagRect.width-t}var a=this._clientToServerX(o),s=this._clientToServerY(i);return n.data.pointerId=p.PC_MOBILE_POINTER_ID.mouse,n.data.mouseAction=e,n.data.x=a,n.data.y=s,this.rotateTouchMessage(n),this.nowMouseAtServerPosX=n.data.x,this.nowMouseAtServerPosY=n.data.y,!0}},{key:"plusServerPos",value:function(e,t){var r=e+t;return r>this.max&&(r=this.max),r<0&&(r=0),r}},{key:"doScaleAction",value:function(){var e=(0,n.default)(g().mark((function e(t){var r,n,o,i,a,s,u,c,l,f,h,y,m,b,w;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.wheelToTouchScale){e.next=2;break}return e.abrupt("return");case 2:if(this.waitScaleLength+=(t.wheelDelta>0?1:-1)*this.scaleConst*this.scalFactor,!this.doScale){e.next=5;break}return e.abrupt("return");case 5:return this.doScale=!0,r=this.waitScaleLength,this.waitScaleLength=0,Math.abs(r)>this.scaleStartRadius&&(r=(this.scaleStartRadius-1)*(r>0?1:-1)),n=this.plusServerPos(this.nowMouseAtServerPosX,-1*this.scaleStartRadius),o=this.nowMouseAtServerPosY,i=this.plusServerPos(this.nowMouseAtServerPosX,this.scaleStartRadius),a=this.nowMouseAtServerPosY,s=this.plusServerPos(n,-1*r),u=o,c=this.plusServerPos(i,r),l=a,(f=d.ControlMessage.encodeMessage({type:d.ControlMessage.TransportHeaderTypes.InputData,packetType:d.ControlMessage.InputData.TouchEvent,data:{pointerId:p.PC_MOBILE_POINTER_ID.wheelScale1,mouseAction:d.ControlMessage.MouseAction.press,mouseRelative:!1,x:n,y:o,eventInx:0}}))&&this.options.sendControlBuffer(f),(h=d.ControlMessage.encodeMessage({type:d.ControlMessage.TransportHeaderTypes.InputData,packetType:d.ControlMessage.InputData.TouchEvent,data:{pointerId:p.PC_MOBILE_POINTER_ID.wheelScale2,mouseAction:d.ControlMessage.MouseAction.press,mouseRelative:!1,x:i,y:a,eventInx:0}}))&&this.options.sendControlBuffer(h),e.next=23,(0,v.sleep)(20);case 23:return(y=d.ControlMessage.encodeMessage({type:d.ControlMessage.TransportHeaderTypes.InputData,packetType:d.ControlMessage.InputData.TouchEvent,data:{pointerId:p.PC_MOBILE_POINTER_ID.wheelScale1,mouseAction:d.ControlMessage.MouseAction.move,mouseRelative:!1,x:s,y:u,eventInx:0}}))&&this.options.sendControlBuffer(y),(m=d.ControlMessage.encodeMessage({type:d.ControlMessage.TransportHeaderTypes.InputData,packetType:d.ControlMessage.InputData.TouchEvent,data:{pointerId:p.PC_MOBILE_POINTER_ID.wheelScale2,mouseAction:d.ControlMessage.MouseAction.move,mouseRelative:!1,x:c,y:l,eventInx:0}}))&&this.options.sendControlBuffer(m),e.next=29,(0,v.sleep)(20);case 29:(b=d.ControlMessage.encodeMessage({type:d.ControlMessage.TransportHeaderTypes.InputData,packetType:d.ControlMessage.InputData.TouchEvent,data:{pointerId:p.PC_MOBILE_POINTER_ID.wheelScale1,mouseAction:d.ControlMessage.MouseAction.release,mouseRelative:!1,x:s,y:u,eventInx:0}}))&&this.options.sendControlBuffer(b),(w=d.ControlMessage.encodeMessage({type:d.ControlMessage.TransportHeaderTypes.InputData,packetType:d.ControlMessage.InputData.TouchEvent,data:{pointerId:p.PC_MOBILE_POINTER_ID.wheelScale2,mouseAction:d.ControlMessage.MouseAction.release,mouseRelative:!1,x:c,y:l,eventInx:0}}))&&this.options.sendControlBuffer(w),this.doScale=!1;case 34:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(h.Control);e.Mouse2TouchControl=w},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},55117:function(e,t,r){var n,o,i;r(18178),r(15735),r(16781),r(32501),r(72994),r(95094),r(58188),r(61229),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(37959),r(96573),r(16720),r(93890),r(86e3)],n=function(e,t,n,o,i,a,s,u,c,l,f,d,h){"use strict";var p=r(14859);function v(e){var t=y();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.MouseControl=void 0,t=p(t),n=p(n),o=p(o),i=p(i),a=p(a),s=p(s),u=p(u);var g=function(e){(0,i.default)(a,e);var r=v(a);function a(e,n){var i,s=n.sendControlBuffer,c=n.waterReport,f=n.logger,d=n.enablePointermove,h=void 0!==d&&d,p=n.debugKeyboard,v=void 0!==p&&p,y=n.bizId,g=n.rightClickMouseRelativeMove,m=void 0!==g&&g,b=n.localMouseIgnoreHide,w=void 0!==b&&b;(0,t.default)(this,a),i=r.call(this,{el:e,TAG:"mouse control"}),(0,u.default)((0,o.default)(i),"options",void 0),(0,u.default)((0,o.default)(i),"isLockMouse",!1),(0,u.default)((0,o.default)(i),"fromCodeChange",!1),(0,u.default)((0,o.default)(i),"_window",window),(0,u.default)((0,o.default)(i),"moveSensitivity",1),(0,u.default)((0,o.default)(i),"mouseRightDownFlag",!1),(0,u.default)((0,o.default)(i),"_lastEndMoveX",0),(0,u.default)((0,o.default)(i),"_lastEndMoveY",0),(0,u.default)((0,o.default)(i),"newleftDownNoMoveFlag",!1),(0,u.default)((0,o.default)(i),"isInLeftDownTimer",!1),(0,u.default)((0,o.default)(i),"leftDownTimer",null),(0,u.default)((0,o.default)(i),"mouseSensitivity",1),(0,u.default)((0,o.default)(i),"alwaysShowCursor",!1),(0,u.default)((0,o.default)(i),"lsCursorIsHide",!1),(0,u.default)((0,o.default)(i),"sendKeyboardEsc",(function(){})),(0,u.default)((0,o.default)(i),"isRelative",{flag:!1}),(0,u.default)((0,o.default)(i),"MoveX4BufferPositive",l.ControlMessage.encodeMessage({type:l.ControlMessage.TransportHeaderTypes.InputData,packetType:l.ControlMessage.InputData.MouseMove,data:{mouseRelative:!0,x:4,y:0,eventInx:0,timestramp:0}})),(0,u.default)((0,o.default)(i),"MoveX4BufferNegative",l.ControlMessage.encodeMessage({type:l.ControlMessage.TransportHeaderTypes.InputData,packetType:l.ControlMessage.InputData.MouseMove,data:{mouseRelative:!0,x:-4,y:0,eventInx:0,timestramp:0}})),i.options={waterReport:c,sendControlBuffer:s,logger:f,enablePointermove:h,debugKeyboard:v,bizId:y,rightClickMouseRelativeMove:m,localMouseIgnoreHide:w};var T=(0,o.default)(i);return document.addEventListener("pointerlockerror",i.lockErrorCallback.bind((0,o.default)(i)),!1),Object.defineProperty(i.isRelative,"flag",{get:function(){return this._flag},set:function(e){this._flag!==e&&(e?T.options.logger.info(T.TAG,"鼠标切换为相对模式"):T.options.logger.info(T.TAG,"鼠标切换为绝对模式")),this._flag=e}}),i}return(0,n.default)(a,[{key:"bindEvent",value:function(){return this}},{key:"destroy",value:function(){return this._exitPointerLock(),document.removeEventListener("pointerlockerror",this.lockErrorCallback.bind(this),!1),this.options.logger.info(this.TAG,"remove mouse event"),window.localStorage.removeItem("video_cursor"),this}},{key:"setLockMouse",value:function(e){return this.isLockMouse=e,this}},{key:"changeMouseCursor",value:function(e){var t=e.iconData,r=e.iconDataBuffer,n=e.iconType,o=e.isHide,i=e.offsetX,s=void 0===i?0:i,u=e.offsetY,l=void 0===u?0:u;if(this.lsCursorIsHide=o,o){if(this.alwaysShowCursor||this.options.localMouseIgnoreHide)return;this.el.style.cursor="none",this.isLockMouse=!0,this.lockMouse({target:this.el}),(this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.info(this.TAG,"收到鼠标隐藏事件")}else if(n===a.customCursor){if("Safari"===(0,c.myBrowser)())this.el.style.cursor=d.CursorMap[1];else{var f=this._transEmptyImg(r,t);this.el.style.cursor="url(".concat(f,") ").concat(s," ").concat(l,",auto")}this.isLockMouse=!1,this._exitPointerLock()}else this.el.style.cursor=d.CursorMap[n],this.isLockMouse=!1,this._exitPointerLock()}},{key:"setSendKeyboardEsc",value:function(e){this.sendKeyboardEsc=e}},{key:"setMoveSensitivity",value:function(e){this.moveSensitivity=e}},{key:"getMoveSensitivity",value:function(){return this.moveSensitivity}},{key:"_transEmptyImg",value:function(e,t){var r=new Uint8Array(e),n=r.length,o=r.slice(0,128).join(),i=r.slice(n-32,n).join(),a={length:8522,header:"0,0,1,0,1,0,45,45,0,0,0,0,32,0,52,33,0,0,22,0,0,0,40,0,0,0,45,0,0,0,90,0,0,0,1,0,32,0,0,0,0,0,12,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0",footer:"255,255,255,255,255,248,0,0,255,255,255,255,255,248,0,0,255,255,255,255,255,248,0,0,255,255,255,255,255,248,0,0"};if(n===a.length&&o===a.header&&i===a.footer){r[10]=1,r[7985]=255,r[8514]=127;for(var s="",u=r.byteLength,c=0;c<u;c++)s+=String.fromCharCode(r[c]);return"data:image/x-icon;base64,".concat(window.btoa(s))}return t}},{key:"doPointerlockchange",value:function(){!1===this.fromCodeChange&&(document.pointerLockElement||(this.options.logger.info(this.TAG,"鼠标解锁---fromUser"),this.options.waterReport.report(h.ReportCode.NoMouseLock),(0,c.isFullscreen)()||this.sendKeyboardEsc())),this.fromCodeChange=!1}},{key:"lockErrorCallback",value:function(){var e;null===(e=this.options.waterReport)||void 0===e||e.report(h.ReportCode.NoMouseLock)}},{key:"lockMouse",value:function(e){!document.pointerLockElement&&this.isLockMouse&&(this.fromCodeChange=!0,e.target&&(e.target.requestPointerLock(),this.options.logger.info(this.TAG,"鼠标锁定---fromUser")))}},{key:"changeMouseButton",value:function(e){var t=l.ControlMessage.MouseButton.left;switch(e){case 0:default:t=l.ControlMessage.MouseButton.left;break;case 1:t=l.ControlMessage.MouseButton.middle;break;case 2:t=l.ControlMessage.MouseButton.right;break;case 3:t=l.ControlMessage.MouseButton.x1;break;case 4:t=l.ControlMessage.MouseButton.x2}return t}},{key:"computeMouseDown",value:function(e,t){if(this.lockMouse(e),!document.pointerLockElement&&this.isLockMouse&&this.options.bizId!==c.Defined.clientBizId.mac)return!1;var r=this.changeMouseButton(e.button);return t.data.mouseAction=l.ControlMessage.MouseAction.press,t.data.mouseButton=r,r===l.ControlMessage.MouseButton.right&&(this.mouseRightDownFlag=!0),this.options.rightClickMouseRelativeMove&&r===l.ControlMessage.MouseButton.left&&(this.newleftDownNoMoveFlag=!0),!0}},{key:"_moveX4px",value:function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.MoveX4BufferNegative&&this.options.sendControlBuffer(this.MoveX4BufferNegative):this.MoveX4BufferPositive&&this.options.sendControlBuffer(this.MoveX4BufferPositive)}},{key:"computeMouseUp",value:function(e,t){if(!document.pointerLockElement&&this.isLockMouse&&this.options.bizId!==c.Defined.clientBizId.mac)return!1;var r=this.changeMouseButton(e.button);return t.data.mouseAction=l.ControlMessage.MouseAction.release,t.data.mouseButton=r,r===l.ControlMessage.MouseButton.right&&(this.mouseRightDownFlag=!1),this.options.rightClickMouseRelativeMove&&r===l.ControlMessage.MouseButton.left&&(this.newleftDownNoMoveFlag=!1),!0}},{key:"_filterMouseMoveJitter",value:function(e){if(0===e.length)return[];if(0===e[0].movementX&&0===e[0].movementY)return[];var t=5;if(1===e.length){var r=e;return(Math.abs(e[0].movementX)>Math.abs(this._lastEndMoveX)*t||Math.abs(e[0].movementY)>Math.abs(this._lastEndMoveY)*t)&&(r=[]),this._lastEndMoveX=e[0].movementX||1,this._lastEndMoveY=e[0].movementY||1,r}for(var n=[],o=0,i=0,a=0,s=0,u=0;u<e.length;u++)o=u-1>=0?Math.abs(e[u-1].movementX):0,i=u+1<e.length?Math.abs(e[u+1].movementX):0,a=u-1>=0?Math.abs(e[u-1].movementY):0,s=u+1<e.length?Math.abs(e[u+1].movementY):0,Math.abs(e[u].movementX)>Math.max(o,i)*t||Math.abs(e[u].movementY)>Math.max(a,s)*t||n.push(e[u]);return this._lastEndMoveX=e[e.length-1].movementX,this._lastEndMoveY=e[e.length-1].movementY,n}},{key:"filterMouseMove",value:function(e){var t=this;if(this.options.rightClickMouseRelativeMove){if(0===e.movementX&&0===e.movementY)return null;if(this.newleftDownNoMoveFlag){this.newleftDownNoMoveFlag=!1;var r=!0;return e.movementX<0&&(r=!1),this._moveX4px(r),this.leftDownTimer&&clearTimeout(this.leftDownTimer),this.isInLeftDownTimer=!0,this.leftDownTimer=setTimeout((function(){t.isInLeftDownTimer=!1,t.leftDownTimer=null}),40),null}if(this.isInLeftDownTimer)return null}var n=[e];return this.shouldSendRelative()&&(n=this._filterMouseMoveJitter([e])),n[0]||null}},{key:"shouldSendRelative",value:function(){var e=window.getComputedStyle(this.el,null).cursor;return!!(document.pointerLockElement&&("none"===e||"auto"===e)&&this.isLockMouse||this.mouseRightDownFlag&&this.options.rightClickMouseRelativeMove)}},{key:"computeMousemove",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!document.pointerLockElement&&this.isLockMouse&&this.options.bizId!==c.Defined.clientBizId.mac)return!1;var n=0,o=0;if(this.shouldSendRelative()){if(this.isRelative.flag=!0,n=e.movementX*this.moveSensitivity,o=e.movementY*this.moveSensitivity,window.devicePixelRatio&&window.devicePixelRatio>1&&(n=n*this.moveSensitivity/window.devicePixelRatio,o=o*this.moveSensitivity/window.devicePixelRatio,n=n>0?Math.ceil(n):Math.floor(n),o=o>0?Math.ceil(o):Math.floor(o)),0===n&&0===o)return!1}else{this.isRelative.flag=!1;var i=this._clientToServerX(e.offsetX),a=this._clientToServerY(e.offsetY);n=this._rotate(i,a).x,o=this._rotate(i,a).y}return t.data.mouseRelative=this.isRelative.flag,t.data.x=n,t.data.y=o,t.data.timestramp=r?e.timeStamp:0,(n>200||o>200||n<-200||o<-200)&&this.isRelative.flag?(this.options.logger.warn(this.TAG,"mousemove bigmum ".concat(JSON.stringify(t),"，time ").concat(performance.now)),!1):((this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.warn(this.TAG,"mousemove ".concat(JSON.stringify(t),",time ").concat(performance.now)),!0)}},{key:"computeMouseWheel",value:function(e,t){return t.data.scrollAmt1=e.wheelDelta*this.mouseSensitivity,!0}},{key:"updateMouseWhellSensitivity",value:function(e){this.mouseSensitivity=e,this.options.logger.info(this.TAG,"mouse wheel sensitivity update to => ".concat(this.mouseSensitivity))}},{key:"_exitPointerLock",value:function(){document.pointerLockElement&&(this.fromCodeChange=!0,document.exitPointerLock())}},{key:"setAlwaysShowCursor",value:function(e){this.options.logger.info(this.TAG,"set video cursor=>".concat(e)),this.alwaysShowCursor=e;var t=window.getComputedStyle(this.el,null).cursor;"none"!==t&&window.localStorage.setItem("video_cursor",t),e?(this.el.style.cursor=window.localStorage.getItem("video_cursor")||"default",this.isLockMouse=!1):(this.el.style.cursor="none",this.lsCursorIsHide&&(this.isLockMouse=!0))}}]),a}(f.Control);e.MouseControl=g,(0,u.default)(g,"customCursor",16)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},17527:function(e,t,r){var n,o,i;r(34115),r(18178),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(61229),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(16720)],n=function(e,t,n,o,i,a,s,u,c){"use strict";var l=r(14859);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){var t=p();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.NativeChineseInputControl=void 0,t=l(t),n=l(n),o=l(o),i=l(i),a=l(a),s=l(s),u=l(u);var v=function(e){(0,i.default)(a,e);var r=h(a);function a(e,n){var i;return(0,t.default)(this,a),i=r.call(this,{TAG:"NativeChineseInputControl",el:e}),(0,u.default)((0,o.default)(i),"options",void 0),(0,u.default)((0,o.default)(i),"handleStartInputChinese",void 0),(0,u.default)((0,o.default)(i),"handleEndInputChinese",void 0),(0,u.default)((0,o.default)(i),"handlerInputChange",void 0),(0,u.default)((0,o.default)(i),"handlerFocusEvent",void 0),(0,u.default)((0,o.default)(i),"handlerBlurEvent",void 0),(0,u.default)((0,o.default)(i),"isInputChinese",!1),(0,u.default)((0,o.default)(i),"isFocus",!1),(0,u.default)((0,o.default)(i),"inputMode",!1),i.options=d({onInputStatusChange:function(){},sendFunc:function(){}},n),i.handleStartInputChinese=i.startInputChinese.bind((0,o.default)(i)),i.handleEndInputChinese=i.endInputChinese.bind((0,o.default)(i)),i.handlerInputChange=i.inputChange.bind((0,o.default)(i)),i.handlerFocusEvent=i.focusEvent.bind((0,o.default)(i)),i.handlerBlurEvent=i.blurEvent.bind((0,o.default)(i)),i}return(0,n.default)(a,[{key:"setInputMode",value:function(e){this.inputMode=e}},{key:"show",value:function(){return this.el.style.display="block",this}},{key:"hide",value:function(){return this.el.style.display="none",this}},{key:"focus",value:function(){return this.el.focus(),this}},{key:"blur",value:function(){return this.el.blur(),this}},{key:"bindEvent",value:function(){return this.el.addEventListener("compositionstart",this.handleStartInputChinese),this.el.addEventListener("compositionend",this.handleEndInputChinese),this.el.addEventListener("input",this.handlerInputChange),this.el.addEventListener("focus",this.handlerFocusEvent),this.el.addEventListener("blur",this.handlerBlurEvent),this}},{key:"destroy",value:function(){return this.el.removeEventListener("compositionstart",this.handleStartInputChinese),this.el.removeEventListener("compositionend",this.handleEndInputChinese),this.el.removeEventListener("input",this.handlerInputChange),this.el.removeEventListener("focus",this.handlerFocusEvent),this.el.removeEventListener("blur",this.handlerBlurEvent),this}},{key:"focusEvent",value:function(){this._inputTestLog("".concat(this.TAG,"-FOCUS")),this.options.onInputStatusChange("FOCUS"),this.isFocus=!0}},{key:"blurEvent",value:function(){this.isInputChinese&&(this._inputTestLog("".concat(this.TAG,"-END")),this.options.onInputStatusChange("END")),this.isFocus=!1,this._inputTestLog("".concat(this.TAG,"-BLUR")),this.options.onInputStatusChange("BLUR")}},{key:"startInputChinese",value:function(){this._inputTestLog("".concat(this.TAG,"-START")),this.options.onInputStatusChange("START"),this.isInputChinese=!0}},{key:"endInputChinese",value:function(){this.isFocus&&(this._inputTestLog("".concat(this.TAG,"-END")),this.options.onInputStatusChange("END")),this.isInputChinese=!1,this.inputChange()}},{key:"inputChange",value:function(){this.isInputChinese||this.sendInputData()}},{key:"sendInputData",value:function(){var e=this.el.value||"";this._inputTestLog("".concat(this.TAG,"-send-").concat(e),"error"),this.options.sendFunc({copyText:e}),this.el.value=""}}],[{key:"createInputElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=document.createElement("input");return t.setAttribute("class","vr-native-chinese-input"),t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.zIndex="100000",t.style.outline="none",t.style.pointerEvents="none",t.style.opacity="0.001",e.appendChild(t),t}}]),a}(c.Control);e.NativeChineseInputControl=v},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},10730:function(e,t,r){var n,o,i;r(34115),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(61229),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(16720)],n=function(e,t,n,o,i,a,s,u,c){"use strict";var l=r(14859);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){var t=p();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.SoftKeyboard=void 0,t=l(t),n=l(n),o=l(o),i=l(i),a=l(a),s=l(s),u=l(u);var v=function(e){(0,i.default)(a,e);var r=h(a);function a(e,n){var i;return(0,t.default)(this,a),i=r.call(this,{el:e,TAG:"SoftKeyboard"}),(0,u.default)((0,o.default)(i),"options",void 0),(0,u.default)((0,o.default)(i),"input",null),(0,u.default)((0,o.default)(i),"container",null),(0,u.default)((0,o.default)(i),"status","INIT"),(0,u.default)((0,o.default)(i),"sendCallback",void 0),i.options=d({onStatusChange:function(){}},n),i.sendCallback=i._senCallback.bind((0,o.default)(i)),Object.defineProperty((0,o.default)(i),"status",{set:function(e){i.options.onStatusChange(e)}}),i}return(0,n.default)(a,[{key:"initUI",value:function(e,t){var r=this;!e||"input"!==e.tagName.toLocaleLowerCase()&&"textarea"!==e.tagName.toLocaleLowerCase()?(this.input=document.createElement("input"),this.input.style.opacity="0.01"):this.input=e,this.container=t||document.body,this.container.appendChild(this.input),this.status="INIT",this.input.addEventListener("input",this._KeyChange.bind(this),!1),this.input.addEventListener("blur",(function(){r.status="BLUR"}),!1),this.input.addEventListener("focus",(function(){r.status="FOCUS"}),!1)}},{key:"_senCallback",value:function(e){if(e.clipboardData&&e.clipboardData.items){var t=(e.clipboardData||window.clipboardData).getData("text");this.options.sendFunc({copyText:t}),this.options.logger.info(this.TAG,"发送黏贴板数据，".concat(JSON.stringify(t))),this.input&&(this.input.value="")}}},{key:"bindEvent",value:function(){return this.el,this}},{key:"destroy",value:function(){return this.el,this.container&&this.input&&this.container.removeChild(this.input),this}},{key:"focus",value:function(){return this._focusEvent(),this}},{key:"blur",value:function(){return this._blurEvent(),this}},{key:"getStatus",value:function(){return this.status}},{key:"unitUI",value:function(){this.container&&this.input&&this.container.removeChild(this.input),this.status="INIT"}},{key:"_focusEvent",value:function(){this.input&&(this.input.focus(),this.options.logger.info(this.TAG,"系统软键盘被开启"))}},{key:"_blurEvent",value:function(){this.input&&(this.input.blur(),this.options.logger.info(this.TAG,"系统软键盘被关闭"))}},{key:"_KeyChange",value:function(){var e,t=(null===(e=this.input)||void 0===e?void 0:e.value)||"";this.options.sendFunc({copyText:t}),this.options.logger.info(this.TAG,"发送黏贴板数据，".concat(JSON.stringify(t))),this.input&&(this.input.value="")}}]),a}(c.Control);e.SoftKeyboard=v},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},58817:function(e,t,r){var n,o,i;r(34115),r(634),r(20796),r(95342),r(38695),r(27233),r(15735),r(32501),r(26936),r(76555),r(95094),r(68625),r(62775),r(34769),r(58188),r(61229),r(88233),r(28673),r(1939),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(96573),r(37959),r(16720),r(93890)],n=function(e,t,n,o,i,a,s,u,c,l,f,d){"use strict";var h=r(14859);function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=w();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.TouchControl=void 0,t=h(t),n=h(n),o=h(o),i=h(i),a=h(a),s=h(s),u=h(u);var T=function(e){(0,i.default)(a,e);var r=b(a);function a(e,n){var i;return(0,t.default)(this,a),i=r.call(this,{el:e,rotation:n.rotation,TAG:"touch control"}),(0,u.default)((0,o.default)(i),"options",void 0),(0,u.default)((0,o.default)(i),"mouseType",null),(0,u.default)((0,o.default)(i),"touchPcMode",d.TouchPcMode.Absolute),(0,u.default)((0,o.default)(i),"lastTouchPosition",{}),(0,u.default)((0,o.default)(i),"clickOffset",15),(0,u.default)((0,o.default)(i),"moveSensitivity",1),(0,u.default)((0,o.default)(i),"touchStartList",[]),(0,u.default)((0,o.default)(i),"touchNumbers",0),(0,u.default)((0,o.default)(i),"maxTouchNumbers",10),(0,u.default)((0,o.default)(i),"lastTouchTime",Date.now()),(0,u.default)((0,o.default)(i),"handlerTouchstart",void 0),(0,u.default)((0,o.default)(i),"handlerTouchmove",void 0),(0,u.default)((0,o.default)(i),"handlerTouchend",void 0),(0,u.default)((0,o.default)(i),"handlerTouchCancel",void 0),(0,u.default)((0,o.default)(i),"enabled",!0),(0,u.default)((0,o.default)(i),"targetTouches",[]),i.options=n,i.handlerTouchstart=i._touchStart.bind((0,o.default)(i)),i.handlerTouchmove=i._touchMove.bind((0,o.default)(i)),i.handlerTouchend=i._touchEnd.bind((0,o.default)(i)),i.handlerTouchCancel=i._touchCancel.bind((0,o.default)(i)),i}return(0,n.default)(a,[{key:"changeViewDirection",value:function(e){this.options.viewDirection=e}},{key:"bindEvent",value:function(){return this.el.addEventListener("touchstart",this.handlerTouchstart),this.el.addEventListener("touchmove",this.handlerTouchmove),this.el.addEventListener("touchend",this.handlerTouchend),this.el.addEventListener("touchcancel",this.handlerTouchCancel),this.options.logger.info(this.TAG,"input screen touch event attach"),this}},{key:"destroy",value:function(){return this.el.removeEventListener("touchstart",this.handlerTouchstart),this.el.removeEventListener("touchmove",this.handlerTouchmove),this.el.removeEventListener("touchend",this.handlerTouchend),this.el.removeEventListener("touchcancel",this.handlerTouchCancel),this.options.logger.info(this.TAG,"input screen touch event remove"),this}},{key:"setEnable",value:function(e){e||this.releaseCurrentTouches(),this.enabled=e}},{key:"releaseCurrentTouches",value:function(){var e=this;this.targetTouches.forEach((function(t){var r=new Touch({clientX:t.clientX,clientY:t.clientY,force:t.force,identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,radiusX:t.radiusX,radiusY:t.radiusY,rotationAngle:t.rotationAngle,screenX:t.screenX,screenY:t.screenY,target:e.el});e._touchEnd(new TouchEvent("touchend",{changedTouches:[r]}),!0)}))}},{key:"setMouseType",value:function(e){return this.mouseType=e,this}},{key:"setTouchPcMode",value:function(e,t){return this.touchPcMode=e,void 0!==t&&(this.moveSensitivity=t),this}},{key:"getTouchPcMode",value:function(){return this.touchPcMode}},{key:"setMoveSensitivity",value:function(e){this.moveSensitivity=e}},{key:"getMoveSensitivity",value:function(){return this.moveSensitivity}},{key:"_getAbsolutePosition",value:function(e,t,r){var n,o,i,a;return 0!==window.orientation&&window.orientation||0!==this.options.viewDirection?"portrait"===this.rotation&&-90===window.orientation?(o=r.height-t,n=r.width-e,i=this._clientToServerX(n),a=this._clientToServerY(o)):(o=t,n=e,i=this._clientToServerX(n),a=this._clientToServerY(o)):(o=r.width-e,n=t,i=this._clientToServerX(n),a=this._clientToServerY(o)),{x:i,y:a}}},{key:"_getRelativePosition",value:function(e,t,r){var n,o,i,a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=1,c=1;return 0!==window.orientation&&window.orientation||0!==this.options.viewDirection?"portrait"===this.rotation&&-90===window.orientation?(n=e,o=t,c=-1,u=-1):(n=e,o=t,c=1):(n=t,o=e,c=-1),this.lastTouchPosition[r]?(i=n-this.lastTouchPosition[r].x,a=o-this.lastTouchPosition[r].y,this.lastTouchPosition[r].x=n,this.lastTouchPosition[r].y=o):this.lastTouchPosition[r]={x:n,y:o},s&&(this.lastTouchPosition[r].startX=n,this.lastTouchPosition[r].startY=o),void 0!==i&&void 0!==a?{x:10*i*this.moveSensitivity*u,y:10*a*this.moveSensitivity*c}:null}},{key:"changeTouchData",value:function(e,t){var r=null;if(this.touchPcMode===a.TouchPcMode.Absolute||this._isMobileEvent()){var n=this.el.getBoundingClientRect(),o=n.x,i=n.y,s=e.clientX-o,u=e.clientY-i;r=this._getAbsolutePosition(s,u,n)}else r=this._getRelativePosition(e.pageX,e.pageY,this._getIdentifier(e.identifier));return r?m({pointerId:this._isMobileEvent()?this._getIdentifier(e.identifier):void 0,mouseButton:this.mouseType?this.mouseType:void 0,mouseAction:t.action,mouseRelative:this.touchPcMode!==a.TouchPcMode.Absolute&&!this._isMobileEvent()},this._rotate(r.x,r.y)):null}},{key:"_isMobileEvent",value:function(){return!(this.mouseType||0===this.mouseType)}},{key:"_sendTouchEvent",value:function(e,t){for(var r=e.pointerList,n=void 0===r?[]:r,o=e.action,i=0;i<n.length;i++){if("touchMove"===t&&!this._isMovedFromStart(n[i]))return;var a=this.changeTouchData(n[i],{action:o});a&&this.options.sendFunc(a)}}},{key:"_sendTouchReleativeChangeVal",value:function(e){var t,r,n=e.x,o=e.y,i=1,s=1;0!==window.orientation&&window.orientation||0!==this.options.viewDirection?"portrait"===this.rotation&&-90===window.orientation?(t=n,r=o,s=-1,i=-1):(t=n,r=o,s=1):(t=o,r=n,s=-1);var u={x:10*t*this.moveSensitivity*i*1.2,y:10*r*this.moveSensitivity*s*1.2};this.options.sendFunc(m({pointerId:this._isMobileEvent()?0:void 0,mouseButton:this.mouseType?this.mouseType:void 0,mouseAction:a.MouseAction.move,mouseRelative:!0},this._rotate(u.x,u.y)))}},{key:"_getIdentifier",value:function(e){for(var t=e,r=0;r<this.touchStartList.length;r++){var n=this.touchStartList[r];n.identifier===t&&(t=n.identifier_my_flag)}return t}},{key:"isContainerIdentifierInTouchStartList",value:function(e){var t,r=p(this.touchStartList);try{for(r.s();!(t=r.n()).done;)if(t.value.identifier===e)return!0}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"filterTargetTouches",value:function(e){for(var t=[],r=0;r<e.length;r++)this.isContainerIdentifierInTouchStartList(e[r].identifier)&&t.push(e[r]);return t}},{key:"_saveTouchStartInfo",value:function(e){var t=this,r=e.changedTouches?e.changedTouches:[e],n=e.targetTouches?e.targetTouches:[e];this.touchStartList=[];for(var o=0;o<n.length;o++){var i=n[o];this.touchStartList.push({identifier:i.identifier,identifier_my_flag:o})}for(var a=function(e){t.touchStartList.forEach((function(t){r[e].identifier===t.identifier&&(t.startX=r[e].pageX,t.startY=r[e].pageY)}))},s=0;s<r.length;s++)a(s)}},{key:"_isMovedFromStart",value:function(e){var t=!0;return this.touchStartList.forEach((function(r){e.identifier===r.identifier&&(r.isMoveTriggered||void 0===r.startX||void 0===r.startY?t=!0:(e.pageX-r.startX)*(e.pageX-r.startX)+(e.pageY-r.startY)*(e.pageY-r.startY)>16?(r.isMoveTriggered=!0,t=!0):t=!1)})),t}},{key:"updateTargetTouches",value:function(e){this._isMobileEvent()?this.targetTouches=e.targetTouches:this.targetTouches=[e.targetTouches[0]]}},{key:"_touchStart",value:function(e){var t=e.targetTouches?e.targetTouches[0]:e,r=!1;r=0!==window.orientation&&window.orientation||0!==this.options.viewDirection?this.el.offsetWidth-t.clientX<100&&t.clientY<100:this.el.offsetHeight-t.clientX<100&&this.el.offsetWidth-t.clientY<100,this.touchNumbers<this.maxTouchNumbers&&Date.now()-this.lastTouchTime<500&&r?(this.touchNumbers++,9==this.touchNumbers&&(this.options.logger.info(this.TAG,"open ls debug mode"),this.options.openDebugKeyboard&&(this.touchNumbers=0,this.options.openDebugKeyboard(!0)))):this.touchNumbers=0,this.lastTouchTime=Date.now(),this.options.resetControlComputeBase(),this.enabled&&(this.el.focus(),e.stopPropagation(),e.preventDefault(),this._saveTouchStartInfo(e),this.updateTargetTouches(e),this._isMobileEvent()?this._sendTouchEvent({pointerList:e.targetTouches?e.targetTouches:[e],action:a.MouseAction.press}):this.touchPcMode===a.TouchPcMode.Absolute?this._sendTouchEvent({pointerList:e.targetTouches?[e.targetTouches[0]]:[e],action:a.MouseAction.press}):this._getRelativePosition(t.pageX,t.pageY,this._getIdentifier(t.identifier),!0))}},{key:"_touchMove",value:function(e){this.enabled&&(e.stopPropagation(),e.preventDefault(),this.updateTargetTouches(e),this._isMobileEvent()?this._sendTouchEvent({pointerList:e.targetTouches?e.targetTouches:[e],action:a.MouseAction.move},"touchMove"):this._sendTouchEvent({pointerList:e.targetTouches?[e.targetTouches[0]]:[e],action:0}))}},{key:"_isMoved",value:function(e){if(!this.lastTouchPosition[this._getIdentifier(e.identifier)])return!1;var t,r;0!==window.orientation&&window.orientation||0!==this.options.viewDirection?(t=e.pageX,r=e.pageY):(t=e.pageY,r=e.pageX);var n=this.lastTouchPosition[this._getIdentifier(e.identifier)].startX,o=this.lastTouchPosition[this._getIdentifier(e.identifier)].startY;return void 0!==n&&void 0!==o&&Math.abs(t-n)<this.clickOffset&&Math.abs(r-o)<this.clickOffset}},{key:"_touchCancel",value:function(){this.releaseCurrentTouches()}},{key:"_touchEnd",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.enabled){e.stopPropagation(),e.preventDefault(),r||this.updateTargetTouches(e);var n=this.filterTargetTouches(e.changedTouches);this._isMobileEvent()?this._sendTouchEvent({pointerList:n||[e],action:a.MouseAction.release}):this.touchPcMode===a.TouchPcMode.Absolute?this._sendTouchEvent({pointerList:n.length>0?[n[0]]:[e],action:a.MouseAction.release}):this.touchPcMode===a.TouchPcMode.RelativeClick&&this._isMoved(n.length>0?n[0]:e)&&(this._sendTouchEvent({pointerList:n.length>0?[n[0]]:[e],action:a.MouseAction.press}),setTimeout((function(){t._sendTouchEvent({pointerList:n.length>0?[n[0]]:[e],action:a.MouseAction.release})}),30)),this._doFullscreen()}}},{key:"_doFullscreen",value:function(){this.options.fullScreenPlay&&(0,l.ismobile)()&&!(0,l.isFullscreen)()&&(0,l.doFullscreen)()}}]),a}(f.Control);e.TouchControl=T,(0,u.default)(T,"MouseButton",c.ControlMessage.MouseButton),(0,u.default)(T,"MouseAction",c.ControlMessage.MouseAction),(0,u.default)(T,"TouchPcMode",d.TouchPcMode)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},55826:function(e,t,r){var n,o,i;r(18178),r(95094),r(61229),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(83772),r(60270),r(36983),r(2588),r(81260),r(37959),r(93890),r(58817)],n=function(e,t,n,o,i,a,s,u,c,l,f,d){"use strict";var h=r(14859);function p(e){var t=v();return function(){var r,n=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.TouchPcLongPressControl=void 0,t=h(t),n=h(n),o=h(o),i=h(i),a=h(a),s=h(s),u=h(u),c=h(c);var y=function(e){(0,a.default)(s,e);var r=p(s);function s(){var e;(0,t.default)(this,s);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=r.call.apply(r,[this].concat(i)),(0,c.default)((0,o.default)(e),"waitReleaseTimer",null),(0,c.default)((0,o.default)(e),"waitLongPressTime",500),(0,c.default)((0,o.default)(e),"waitSendPressEvent",null),(0,c.default)((0,o.default)(e),"waitSendReleaseEvent",null),(0,c.default)((0,o.default)(e),"sendDownTimestamp",0),(0,c.default)((0,o.default)(e),"upDelay",50),(0,c.default)((0,o.default)(e),"canDoMoveWhileRight",!0),e}return(0,n.default)(s,[{key:"canMoveAtRightButtonPress",value:function(e){return this.canDoMoveWhileRight=e,this}},{key:"setWaitLongPressTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return this.waitLongPressTime=e,this}},{key:"_touchStart",value:function(e){var t=this;e.targetTouches.length>1||(this.setMouseType(l.MouseButtonMap.left),this.waitReleaseTimer=setTimeout((function(){t.setMouseType(l.MouseButtonMap.right),t.waitReleaseTimer=null,t.waitSendPressEvent&&((0,i.default)((0,u.default)(s.prototype),"_touchStart",t).call(t,t.waitSendPressEvent),t.waitSendPressEvent=null)}),this.waitLongPressTime),this.waitSendPressEvent=e)}},{key:"_touchMove",value:function(e){e.targetTouches.length>1||this.canDoMoveWhileRight&&(0,i.default)((0,u.default)(s.prototype),"_touchMove",this).call(this,e)}},{key:"_touchEnd",value:function(e){e.changedTouches.length>1||(this.waitSendReleaseEvent=e,(0,i.default)((0,u.default)(s.prototype),"_touchEnd",this).call(this,e))}},{key:"_sendTouchEvent",value:function(e,t){var r=this;e.action!==f.MouseAction.down&&this.waitReleaseTimer&&(clearTimeout(this.waitReleaseTimer),this.waitReleaseTimer=null,this.setMouseType(l.MouseButtonMap.left),this.waitSendPressEvent&&((0,i.default)((0,u.default)(s.prototype),"_touchStart",this).call(this,this.waitSendPressEvent),this.waitSendPressEvent=null)),e.action===f.MouseAction.down&&(this.sendDownTimestamp=Date.now());var n=Date.now()-this.sendDownTimestamp;if(e.action===f.MouseAction.up&&this.waitSendReleaseEvent){var o=this.filterTargetTouches(this.waitSendReleaseEvent.changedTouches);e.pointerList=o.length>0?[o[0]]:this.waitSendReleaseEvent.changedTouches,this.waitSendReleaseEvent=null}e.action===f.MouseAction.up&&n<this.upDelay?setTimeout((function(){(0,i.default)((0,u.default)(s.prototype),"_sendTouchEvent",r).call(r,e,t)}),this.upDelay-n):(0,i.default)((0,u.default)(s.prototype),"_sendTouchEvent",this).call(this,e,t)}}]),s}(d.TouchControl);e.TouchPcLongPressControl=y},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},63770:function(e,t,r){var n,o,i;r(34115),r(18178),r(95342),r(38695),r(61657),r(76555),r(95094),r(68625),r(62775),r(34769),r(13489),r(61229),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(16720)],n=function(e,t,n,o,i,a,s,u,c){"use strict";var l=r(14859);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){var t=p();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.TouchResizeControl=void 0,t=l(t),n=l(n),o=l(o),i=l(i),a=l(a),s=l(s),u=l(u);var v=function(e){(0,i.default)(a,e);var r=h(a);function a(e,n){var i;return(0,t.default)(this,a),i=r.call(this,{el:e,TAG:"touch resize control",rotation:n.rotation}),(0,u.default)((0,o.default)(i),"options",void 0),(0,u.default)((0,o.default)(i),"handlerTouchEnd",void 0),(0,u.default)((0,o.default)(i),"handlerTouchmove",void 0),(0,u.default)((0,o.default)(i),"handlerTouchStart",void 0),(0,u.default)((0,o.default)(i),"enabled",!1),(0,u.default)((0,o.default)(i),"enableScale",!1),(0,u.default)((0,o.default)(i),"status","WAIT"),(0,u.default)((0,o.default)(i),"transformPosition",{x:0,y:0}),(0,u.default)((0,o.default)(i),"transformScale",1),(0,u.default)((0,o.default)(i),"lastTransformScale",1),(0,u.default)((0,o.default)(i),"releativeMode",!1),(0,u.default)((0,o.default)(i),"lastDis",0),(0,u.default)((0,o.default)(i),"lastDragPosition",{x:0,y:0}),(0,u.default)((0,o.default)(i),"startPosition",[]),(0,u.default)((0,o.default)(i),"doubleClickTimer",null),(0,u.default)((0,o.default)(i),"doubleClickDelay",200),i.options=d({onTransformChange:function(){}},n),i.handlerTouchStart=i.touchStart.bind((0,o.default)(i)),i.handlerTouchEnd=i.touchEnd.bind((0,o.default)(i)),i.handlerTouchmove=i.touchMove.bind((0,o.default)(i)),i}return(0,n.default)(a,[{key:"setEnable",value:function(e,t){this.enabled=e,this.enableScale=t}},{key:"bindEvent",value:function(){return this.el.addEventListener("touchstart",this.handlerTouchStart),this.el.addEventListener("touchmove",this.handlerTouchmove),this.el.addEventListener("touchend",this.handlerTouchEnd),this.el.addEventListener("touchcancel",this.handlerTouchEnd),this.options.logger.info(this.TAG,"touch event bind"),this}},{key:"destroy",value:function(){return this.el.removeEventListener("touchstart",this.handlerTouchStart),this.el.removeEventListener("touchmove",this.handlerTouchmove),this.el.removeEventListener("touchend",this.handlerTouchEnd),this.el.removeEventListener("touchcancel",this.handlerTouchEnd),this.options.logger.info(this.TAG,"touch event remove"),this}},{key:"customTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};this.transformScale=e,this.transformPosition.x=t.x,this.transformPosition.y=t.y,this.updateTransform()}},{key:"resetSize",value:function(){this.customTransform(1,{x:0,y:0}),this.lastTransformScale=1}},{key:"setReleativeMode",value:function(e){this.releativeMode=e}},{key:"computeTwoPointerDis",value:function(e,t){var r=e.x-t.x,n=e.y-t.y;return r*r+n*n}},{key:"_localRotate",value:function(e,t){var r=e,n=t;return 0!==window.orientation&&window.orientation||(r=t,n=window.screen.height-e),{x:r,y:n}}},{key:"computeAngle",value:function(e,t){var r=e.x*t.x+e.y*t.y,n=e.x*t.y-e.y*t.x;return(Math.atan2(n,r)/Math.PI*180+360)%360}},{key:"checkStatus",value:function(e){if("WAIT"!==this.status)return this.status;if(2===e.length&&2===this.startPosition.length){var t=e[0],r=e[1],n={x:t.clientX-this.startPosition[0].x,y:t.clientY-this.startPosition[0].y},o={x:r.clientX-this.startPosition[1].x,y:r.clientY-this.startPosition[1].y},i=2;if(Math.abs(n.x)<i&&Math.abs(n.y)<i)return"WAIT";if(Math.abs(o.x)<i&&Math.abs(o.y)<i)return"WAIT";var a=this.computeAngle(n,o);a>180&&(a=360-a),Math.abs(a)>90?this.status="SCALE":this.status="MOVE"}return this.status}},{key:"touchStart",value:function(e){var t=this;this.enabled&&(e.stopPropagation(),e.preventDefault(),2===e.targetTouches.length&&(this.doubleClickTimer?(this.resetSize(),clearTimeout(this.doubleClickTimer),this.doubleClickTimer=null):this.doubleClickTimer=setTimeout((function(){t.touchChange(e),t.lastDis=0,t.lastDragPosition={x:0,y:0},t.doubleClickTimer=null}),this.doubleClickDelay)))}},{key:"touchEnd",value:function(e){this.enabled&&(e.stopPropagation(),e.preventDefault(),this.touchChange(e))}},{key:"touchChange",value:function(e){this.status="WAIT";var t=e.targetTouches;if(2===t.length){var r=this._localRotate(t[0].clientX,t[0].clientY),n=this._localRotate(t[1].clientX,t[1].clientY);this.lastDis=this.computeTwoPointerDis(r,n),this.lastDragPosition=this._localRotate(t[0].clientX,t[0].clientY),this.startPosition=[{x:t[0].clientX,y:t[0].clientY},{x:t[1].clientX,y:t[1].clientY}]}}},{key:"touchMove",value:function(e){if(this.enabled&&(e.stopPropagation(),e.preventDefault(),!this.doubleClickTimer)){var t=e.targetTouches;if(2===t.length)switch(this.checkStatus(t)){case"SCALE":var r=this._localRotate(t[0].clientX,t[0].clientY),n=this._localRotate(t[1].clientX,t[1].clientY),o=this.computeTwoPointerDis(r,n);this.lastDis&&(this.transformScale=parseFloat((this.transformScale+(o/this.lastDis-1)).toFixed(2)),this.updateTransform()),this.lastDis=o;break;case"MOVE":var i=this._localRotate(t[0].clientX,t[0].clientY);this.lastDragPosition.x&&this.lastDragPosition.y&&(this.transformPosition.x+=i.x-this.lastDragPosition.x,this.transformPosition.y+=i.y-this.lastDragPosition.y,this.updateTransform()),this.lastDragPosition=i}}}},{key:"updateTransform",value:function(){if(this.releativeMode)return this.enableScale&&this.lastTransformScale&&(this.transformScale<1?(this.transformScale=1,this.options.onTransformChange(!1)):this.transformScale/this.lastTransformScale>1?this.options.onTransformChange(!0):this.transformScale/this.lastTransformScale<1&&this.options.onTransformChange(!1)),void(this.lastTransformScale=this.transformScale);if(this.transformScale<1&&(this.transformScale=1),this.transformScale>3&&(this.transformScale=3),this.enableScale)1!==this.transformScale?this.options.onTransformChange(!0):this.options.onTransformChange(!1);else{var e=this.el.offsetWidth*(this.transformScale-1)/2/this.transformScale,t=this.el.offsetHeight*(this.transformScale-1)/2/this.transformScale;this.transformPosition.x>e&&(this.transformPosition.x=e),this.transformPosition.x<-1*e&&(this.transformPosition.x=-1*e),this.transformPosition.y>t&&(this.transformPosition.y=t),this.transformPosition.y<-1*t&&(this.transformPosition.y=-1*t),this.el.style.transform="scale(".concat(this.transformScale,") translate(").concat(this.transformPosition.x,"px, ").concat(this.transformPosition.y,"px)"),this.el.setAttribute("data-scale","".concat(this.transformScale)),1!==this.transformScale||0!==this.transformPosition.x||0!==this.transformPosition.y?this.options.onTransformChange(!0):this.options.onTransformChange(!1)}}}]),a}(c.Control);e.TouchResizeControl=v},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},93890:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shiftCode=e.ctrlCode=e.altCode=e.XboxNvButtonFromBrowser=e.XboxButtonFlags=e.TouchPcMode=e.PC_MOBILE_POINTER_ID=e.MouseAction=e.KeyModifiers=e.KeyAction=e.GAME_SCREEN_RATATION=e.CursorMap=void 0;var t={LANDSCAPE:"landscape",PORTRAIT:"portrait"};e.GAME_SCREEN_RATATION=t;var r={A:4096,B:8192,X:16384,Y:32768,UP:1,DOWN:2,LEFT:4,RIGHT:8,LB:256,RB:512,PLAY:16,BACK:32,LS_CLK:64,RS_CLK:128,SPECIAL:1024,invalid:0};e.XboxButtonFlags=r;var n={0:r.A,1:r.B,2:r.X,3:r.Y,4:r.LB,5:r.RB,6:r.invalid,7:r.invalid,8:r.BACK,9:r.PLAY,10:r.LS_CLK,11:r.RS_CLK,12:r.UP,13:r.DOWN,14:r.LEFT,15:r.RIGHT,16:r.SPECIAL};e.XboxNvButtonFromBrowser=n;var o={down:3,up:4};e.KeyAction=o;var i={down:8,up:9};e.MouseAction=i;var a={shift:1,ctrl:2,alt:4,capsLock:16,numLock:8};e.KeyModifiers=a;var s={mouse:1,wheelScale1:8,wheelScale2:9,rocker:18,mouseClick:19,normal:20};e.PC_MOBILE_POINTER_ID=s;var u={ShiftLeft:160,ShiftRight:161};e.shiftCode=u;var c={ControlLeft:162,ControlRight:163};e.ctrlCode=c;var l={AltLeft:164,AltRight:165};e.altCode=l;var f={0:"wait",1:"default",2:"crosshair",3:"pointer",4:"help",5:"text",6:"none",7:"not-allowed",8:"none",9:"move",10:"ne-resize",11:"ns-resize",12:"nw-resize",13:"ew-resize",14:"n-resize",15:"wait",16:"auto",17:"default"};e.CursorMap=f;var d={Absolute:0,RelativeMove:1,RelativeClick:2,Auto:3,WindowsTouch:4};e.TouchPcMode=d})?n.apply(t,o):n)||(e.exports=i)},35725:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(32501),r(26936),r(17525),r(79321),r(18275),r(71245),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(75182),r(50085),r(15198),r(81260),r(96573),r(58817),r(55117),r(46337),r(89206),r(10730),r(74537),r(84931),r(63770),r(17527),r(73348),r(93890),r(55137),r(55826)],n=function(e,t,n,o,i,s,u,c,l,f,d,h,p,v,y,g,m,b,w,T,_){"use strict";var k=r(14859);function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=T(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&r.call(g,o)&&(v=g);var m=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function T(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(m,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,o,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.ControlCenter=void 0,Object.defineProperty(e,"KeyAction",{enumerable:!0,get:function(){return w.KeyAction}}),Object.defineProperty(e,"KeyModifiers",{enumerable:!0,get:function(){return w.KeyModifiers}}),Object.defineProperty(e,"changeKeyData",{enumerable:!0,get:function(){return b.changeKeyData}}),e.default=void 0,n=k(n),o=k(o),i=k(i),s=k(s),u=k(u);var A=function(){function e(t){var r;(0,i.default)(this,e),(0,u.default)(this,"options",void 0),(0,u.default)(this,"TAG","ControlCenter"),(0,u.default)(this,"eventInx",0),(0,u.default)(this,"touchControl",null),(0,u.default)(this,"mouseControl",null),(0,u.default)(this,"gamepadControl",null),(0,u.default)(this,"_window",window),(0,u.default)(this,"keyboardControl",null),(0,u.default)(this,"keyboardCopyControl",null),(0,u.default)(this,"mouse2TouchControl",null),(0,u.default)(this,"keyboard2TouchControl",null),(0,u.default)(this,"nativeChineseInputControl",null),(0,u.default)(this,"touchResizeControl",null),(0,u.default)(this,"mobileKeyboardControl",null),(0,u.default)(this,"isTransForm",!1),(0,u.default)(this,"MouseButtonPressMap",new Map),(0,u.default)(this,"isFillVideo",!1),(0,u.default)(this,"gamepadConfig",void 0),(0,u.default)(this,"shouldMap2Pad",!1),(0,u.default)(this,"handlerResize",this.onResize.bind(this)),(0,u.default)(this,"handlerPointerMove",this.onPointerMove.bind(this)),(0,u.default)(this,"handlerMouseMove",this.onMouseMove.bind(this)),(0,u.default)(this,"handlerMouseDown",this.onMouseDown.bind(this)),(0,u.default)(this,"handlerMouseUp",this.onMouseUp.bind(this)),(0,u.default)(this,"handlerFirefoxWheel",this._fileFoxWheel.bind(this)),(0,u.default)(this,"handlerMouseWheel",this.onMouseWheel.bind(this)),(0,u.default)(this,"handlerContextmenu",this.onContextMenu.bind(this)),(0,u.default)(this,"handlerPointerlockchange",this.onPointerlockchange.bind(this)),(0,u.default)(this,"MouseMoveMessage",{type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.MouseMove,data:{mouseRelative:!1,x:0,y:0,eventInx:0,timestramp:0}}),(0,u.default)(this,"MouseClickMessage",{type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.MouseClick,data:{mouseAction:0,mouseButton:1,eventInx:0}}),(0,u.default)(this,"MouseWheelMessage",{type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.MouseWheel,data:{scrollAmt1:0,eventInx:0}}),(0,u.default)(this,"TouchEventMessage",{type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.TouchEvent,data:{pointerId:void 0,mouseButton:1,mouseAction:0,mouseRelative:!1,x:0,y:0,eventInx:0}}),(0,u.default)(this,"waitSendPointerMove",{movementX:0,movementY:0,offsetX:0,offsetY:0,timeStamp:0}),(0,u.default)(this,"sendPointerMoveTimer",null),(0,u.default)(this,"afterTransformTimer",null),this.options=S({wheelToTouchScale:!1,useLocalMouse:!0,localMouseIgnoreHide:!1,vpadInfo:[],touch:!1,touchResize:!1,mouse:!1,gamepad:!1,keyboard:!1,mouse2Touch:!1,keyboard2Touch:!1,keyboard2TouchConfig:{},copy:!1,controlTrans:c.ControlMessage,rotation:"landscape",viewDirection:0,allowMulGamepad:!0,nativeChineseInput:!1,onTransformChange:function(){},minSendRepeatDelay:300},t),this.gamepadConfig=this.options.getGamepadConfig(),this.shouldMap2Pad=(null===(r=this.gamepadConfig.key_map_h5)||void 0===r?void 0:r.length)>0&&1===this.gamepadConfig.key_map_h5[0].input_type&&this.gamepadConfig.key_map_h5[0].map_list.length>0,this.setKeyboard2TouchConfig(this.options.keyboard2TouchConfig),this._initControls({touch:this.options.touch,touchResize:this.options.touchResize,mouse:this.options.mouse,gamepad:this.options.gamepad,keyboard:this.options.keyboard,mouse2Touch:this.options.mouse2Touch,keyboard2Touch:this.options.keyboard2Touch,vpadInfo:this.options.vpadInfo,copy:this.options.copy,nativeChineseInput:this.options.nativeChineseInput})}return(0,s.default)(e,[{key:"touchPcGameWithLongPressToRight",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;this.touchControl&&this.touchControl.destroy(),this.touchControl=new _.TouchPcLongPressControl(this.options.videoTag,{sendFunc:this._touchControlCallback.bind(this),logger:this.options.logger,rotation:this.options.rotation,viewDirection:this.options.viewDirection,fullScreenPlay:this.options.fullScreenPlay,resetControlComputeBase:this.resetControlComputeBase.bind(this)}).bindEvent().setMouseType(c.ControlMessage.MouseButton.left).canMoveAtRightButtonPress(e).setWaitLongPressTime(t),this.resetControlComputeBase(),this.options.logger.info(this.TAG,"touchPcGameWithLongPressToRight, can do move while right press => ".concat(e))}},{key:"changeViewDirection",value:function(e){this.touchControl&&this.touchControl.changeViewDirection(e)}},{key:"setKeyboard2TouchConfig",value:function(e){this.mouse2TouchControl&&this.mouse2TouchControl.updateKeyboard2TouchConfig(e),this.keyboard2TouchControl&&this.keyboard2TouchControl.updateKeyboard2TouchConfig(e),this.options.keyboard2TouchConfig=e}},{key:"setGameWindowShowMode",value:function(e){this.keyboard2TouchControl&&this.keyboard2TouchControl.updateGameWindowShowMode(e)}},{key:"destroy",value:function(){this.unbindEvent(),this.touchControl&&(this.touchControl.destroy(),this.touchControl=null),this.touchResizeControl&&(this.touchResizeControl.destroy(),this.touchResizeControl=null),this.mouseControl&&(this.mouseControl.destroy(),this.mouseControl=null),this.gamepadControl&&(this.gamepadControl.destroy(),this.gamepadControl=null),this.keyboardControl&&(this.keyboardControl.destroy(),this.keyboardControl=null),this.keyboardCopyControl&&(this.keyboardCopyControl.destroy(),this.keyboardCopyControl=null),this.mouse2TouchControl&&(this.mouse2TouchControl.destroy(),this.mouse2TouchControl=null),this.keyboard2TouchControl&&(this.keyboard2TouchControl.destroy(),this.keyboard2TouchControl=null),this.nativeChineseInputControl&&(this.nativeChineseInputControl.destroy(),this.nativeChineseInputControl=null),this.mobileKeyboardControl&&(this.mobileKeyboardControl.destroy(),this.mobileKeyboardControl=null)}},{key:"setIsVideoFill",value:function(e){this.isFillVideo=e,this.touchControl&&this.touchControl.setIsFillVideo(e),this.mouseControl&&this.mouseControl.setIsFillVideo(e)}},{key:"setAlwaysShowCursor",value:function(e){this.mouseControl&&this.mouseControl.setAlwaysShowCursor(e)}},{key:"changeRotation",value:function(e){var t=this;this.touchControl&&this.touchControl.changeRotation(e),this.mouseControl&&this.mouseControl.changeRotation(e),this.mouse2TouchControl&&this.mouse2TouchControl.changeRotation(e),this.touchResizeControl&&this.touchResizeControl.changeRotation(e),setTimeout((function(){t.resetControlComputeBase()}),100)}},{key:"setScalFactor",value:function(e){this.mouse2TouchControl&&this.mouse2TouchControl.setScalFactor(e)}},{key:"dispatchTouch",value:function(e){if(this.touchControl)switch(e.fun){case"changeRotation":var t;(t=this.touchControl)[e.fun].apply(t,(0,o.default)(e.arg));break;case"setIsFillVideo":var r;(r=this.touchControl)[e.fun].apply(r,(0,o.default)(e.arg));break;case"setMouseType":var n;(n=this.touchControl)[e.fun].apply(n,(0,o.default)(e.arg));break;case"setTouchPcMode":var i;(i=this.touchControl)[e.fun].apply(i,(0,o.default)(e.arg));break;case"_sendTouchReleativeChangeVal":var a;(a=this.touchControl)[e.fun].apply(a,(0,o.default)(e.arg));break;default:var s;(s=this.touchControl)[e.fun].apply(s,(0,o.default)(e.arg))}}},{key:"dispatchMouse",value:function(e){if(this.mouseControl)switch(e.fun){case"setIsFillVideo":case"setLockMouse":var t;(t=this.mouseControl)[e.fun].apply(t,(0,o.default)(e.arg));break;case"setSendKeyboardEsc":var r;(r=this.mouseControl)[e.fun].apply(r,(0,o.default)(e.arg));break;default:var n;(n=this.mouseControl)[e.fun].apply(n,(0,o.default)(e.arg))}}},{key:"dispatchGamepad",value:function(e){if(this.gamepadControl)switch(e.fun){case"appendVpadInfo":var t;(t=this.gamepadControl)[e.fun].apply(t,(0,o.default)(e.arg));break;case"vibration":var r;(r=this.gamepadControl)[e.fun].apply(r,(0,o.default)(e.arg));break;case"removeVpadInfo":var n;(n=this.gamepadControl)[e.fun].apply(n,(0,o.default)(e.arg));break;default:var i;(i=this.gamepadControl)[e.fun].apply(i,(0,o.default)(e.arg))}}},{key:"dispatchKeyboard",value:function(e){if(this.keyboardControl)switch(e.fun){case"changeKeyData":var t;(t=this.keyboardControl)[e.fun].apply(t,(0,o.default)(e.arg));break;case"clearKeyDownList":case"sendEsc":var r;(r=this.keyboardControl)[e.fun].apply(r,(0,o.default)(e.arg));break;default:var n;(n=this.keyboardControl)[e.fun].apply(n,(0,o.default)(e.arg))}}},{key:"dispatchMouse2Touch",value:function(e){if(this.mouse2TouchControl)switch(e.fun){case"changeRotation":var t;(t=this.mouse2TouchControl)[e.fun].apply(t,(0,o.default)(e.arg));break;case"setIsFillVideo":var r;(r=this.mouse2TouchControl)[e.fun].apply(r,(0,o.default)(e.arg));break;case"resetMovedPX":var n;(n=this.mouse2TouchControl)[e.fun].apply(n,(0,o.default)(e.arg));break;default:var i;(i=this.mouse2TouchControl)[e.fun].apply(i,(0,o.default)(e.arg))}}},{key:"dispatchKeyboard2Touch",value:function(e){if(this.keyboard2TouchControl)switch(e.fun){case"changeKeyData":var t;(t=this.keyboard2TouchControl)[e.fun].apply(t,(0,o.default)(e.arg));break;case"clearKeyDownList":var r;(r=this.keyboard2TouchControl)[e.fun].apply(r,(0,o.default)(e.arg));break;default:var n;(n=this.keyboard2TouchControl)[e.fun].apply(n,(0,o.default)(e.arg))}}},{key:"dispatch",value:function(t,r){switch(t){case e.InputType.Touch:this.dispatchTouch(r);break;case e.InputType.Mouse:this.dispatchMouse(r);break;case e.InputType.Gamepad:this.dispatchGamepad(r);break;case e.InputType.Keyboard:this.dispatchKeyboard(r);break;case e.InputType.Mouse2Touch:this.dispatchMouse2Touch(r);break;case e.InputType.Keyboard2Touch:this.dispatchKeyboard2Touch(r)}}},{key:"lockTouchToResize",value:function(e,t){this.touchControl&&this.touchControl.setEnable(!e),this.touchResizeControl&&this.touchResizeControl.setEnable(e,t)}},{key:"_initControls",value:function(t){var r=this,n=t.touch,o=void 0!==n&&n,i=t.touchResize,a=void 0!==i&&i,s=t.mouse,u=void 0!==s&&s,l=t.gamepad,d=void 0!==l&&l,h=t.keyboard,p=void 0!==h&&h,y=t.mouse2Touch,g=void 0!==y&&y,b=t.keyboard2Touch,w=void 0!==b&&b,_=t.vpadInfo,k=void 0===_?[]:_,E=t.copy,C=void 0!==E&&E,S=t.nativeChineseInput,A=void 0!==S&&S;o&&(this.touchControl=e.Factory(e.InputType.Touch,{tag:this.options.videoTag,sendFunc:this._touchControlCallback.bind(this),logger:this.options.logger,openDebugKeyboard:this.options.openDebugKeyboard,rotation:this.options.rotation,viewDirection:this.options.viewDirection,fullScreenPlay:this.options.fullScreenPlay,resetControlComputeBase:this.resetControlComputeBase.bind(this)}).bindEvent().setMouseType(c.ControlMessage.MouseButton.left)),a&&(this.touchResizeControl=e.Factory(e.InputType.TouchResize,{logger:this.options.logger,tag:this.options.videoTag,rotation:this.options.rotation,onTransformChange:this.handlerVideoTransformChange.bind(this)}).bindEvent()),u&&(this.mouseControl=new f.MouseControl(this.options.videoTag,{waterReport:this.options.waterReport,bizId:this.options.bizId,sendControlBuffer:function(e){r.options.send(e)},debugKeyboard:this.options.debugKeyboard,logger:this.options.logger,enablePointermove:this.options.enablePointermove,rightClickMouseRelativeMove:this.options.rightClickMouseRelativeMove,localMouseIgnoreHide:this.options.localMouseIgnoreHide}).setLockMouse(!this.options.useLocalMouse)),d&&(this.gamepadControl=e.Factory(e.InputType.Gamepad,{tag:window,vpadInfo:k,eventCallback:this._GamepadEventCallback.bind(this),sendFunc:this._gamepadControlCallback.bind(this),logger:this.options.logger,allowMulGamepad:this.options.allowMulGamepad,allowListenXboxGamepad:this.options.allowListenXboxGamepad}).bindEvent()),p&&(this.keyboardControl=e.Factory(e.InputType.Keyboard,{tag:window,changeCapsLock:this._changeCapsLockCallback.bind(this),openDebugKeyboard:this.options.openDebugKeyboard,sendFunc:this._keyboardControlCallback.bind(this),logger:this.options.logger,copyEvent:this._keyboardCopyCallback.bind(this),isContainerPlay:this.options.isContainerPlay}).bindEvent()),C&&(this.keyboardCopyControl=e.Factory(e.InputType.copy,{tag:window,sendFunc:this._keyboardCopyCallback.bind(this),logger:this.options.logger,onStatusChange:function(e){r.keyboardControl&&r.keyboardControl.changeIsStopKeyboardDefault("FOCUS"!==e),r.keyboard2TouchControl&&r.keyboard2TouchControl.changeIsStopKeyboardDefault("FOCUS"!==e)}}).bindEvent()),g&&(this.mouse2TouchControl=new v.Mouse2TouchControl(this.options.videoTag,{sendControlBuffer:function(e){r.options.send(e)},logger:this.options.logger,keyboard2TouchConfig:this.options.keyboard2TouchConfig,wheelToTouchScale:this.options.wheelToTouchScale})),w&&(this.keyboard2TouchControl=e.Factory(e.InputType.Keyboard2Touch,{tag:window,videoTag:this.options.videoTag,sendFunc:this._touchControlCallback.bind(this),openDebugKeyboard:this.options.openDebugKeyboard,sendFuncKeyBoard:this._keyboardControlCallback.bind(this),logger:this.options.logger,keyboard2TouchConfig:this.options.keyboard2TouchConfig,resetMovedPX:function(){r.mouse2TouchControl&&r.mouse2TouchControl.resetMovedPX()},copyEvent:this._keyboardCopyCallback.bind(this),minSendRepeatDelay:this.options.minSendRepeatDelay}).bindEvent()),A&&(this.options.logger.info(this.TAG,"create nativeChinese input"),this.nativeChineseInputControl=e.Factory(e.InputType.NativeChineseInput,{tag:m.NativeChineseInputControl.createInputElement(),logger:this.options.logger,onInputStatusChange:function(e){if("FOCUS"===e||"END"===e){var t=r.options.controlTrans.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.KeyClick,data:{keyAction:c.ControlMessage.KeyAction.down,keyCode:11,modifiers:0,eventInx:0,mask:0}}),n=r.options.controlTrans.encodeMessage({type:c.ControlMessage.TransportHeaderTypes.InputData,packetType:c.ControlMessage.InputData.KeyClick,data:{keyAction:c.ControlMessage.KeyAction.up,keyCode:11,modifiers:0,eventInx:0,mask:0}});p&&t&&n&&(r.options.send(t),setTimeout((function(){r.options.send(n)}),10));var o={all:[9,8,13,16,20,33,34,37,38,39,40,17],withAlt:[],withCtrl:[65,67,86,88],withShift:[]};r.keyboardControl&&(r.keyboardControl.changeIsStopKeyboardDefault(!1),r.keyboardControl.changeEnable(!1,null,o)),r.keyboard2TouchControl&&(r.keyboard2TouchControl.changeIsStopKeyboardDefault(!1),r.keyboard2TouchControl.changeEnable(!1,null,o)),r.mobileKeyboardControl&&r.mobileKeyboardControl.changeEnable(!0)}"BLUR"===e&&(r.keyboardControl&&(r.keyboardControl.changeIsStopKeyboardDefault(!0),r.keyboardControl.changeEnable(!0)),r.keyboard2TouchControl&&(r.keyboard2TouchControl.changeIsStopKeyboardDefault(!0),r.keyboard2TouchControl.changeEnable(!0)),r.mobileKeyboardControl&&r.mobileKeyboardControl.changeEnable(!1)),"START"===e&&(r.keyboardControl&&(r.keyboardControl.changeIsStopKeyboardDefault(!1),r.keyboardControl.changeEnable(!1)),r.keyboard2TouchControl&&(r.keyboard2TouchControl.changeIsStopKeyboardDefault(!1),r.keyboard2TouchControl.changeEnable(!1)),r.mobileKeyboardControl&&r.mobileKeyboardControl.changeEnable(!1))},sendFunc:this._keyboardCopyCallback.bind(this)}).bindEvent()),A&&!p&&!w&&o&&(this.mobileKeyboardControl=new T.MobileKeyControl(window,{logger:this.options.logger,sendControlMsg:this.sendControlMessage.bind(this)}),this.mobileKeyboardControl.bindEvent()),this.options.logger.info(this.TAG,"create controls => touch:".concat(o,", mouse:").concat(u,", gamepad:").concat(d,", keyboard:").concat(p)),this.bindEvent()}},{key:"getWindowMath",value:function(){var e=Number(this.options.videoTag.getAttribute("data-scale"))||1,t=this.options.videoTag.offsetWidth*e,r=this.options.videoTag.offsetHeight*e,n=this.isFillVideo?t:this.options.videoTag.videoWidth||this.options.videoTag.width,o=this.isFillVideo?r:this.options.videoTag.videoHeight||this.options.videoTag.height,i=Math.min(t/n,r/o),a=n*i,s=o*i;return{mouseMultiX:n/a,mouseMultiY:o/s,mouseOffsetX:Math.max((t-a)/2,0),mouseOffsetY:Math.max((r-s)/2,0),frameW:n,frameH:o,vpWidth:a,vpHeight:s}}},{key:"resetControlComputeBase",value:function(){var e=this;if(this.mouseControl||this.mouse2TouchControl||this.touchControl){var t,r,n,o,i,a,s=this.getWindowMath(),u=this.options.videoTag.getBoundingClientRect();if(!s.frameW)return void setTimeout((function(){e.resetControlComputeBase()}),100);null===(t=this.mouseControl)||void 0===t||t.setWindowMath(s),null===(r=this.mouse2TouchControl)||void 0===r||r.setWindowMath(s),null===(n=this.touchControl)||void 0===n||n.setWindowMath(s),null===(o=this.mouseControl)||void 0===o||o.setVideoTagRect(u),null===(i=this.mouse2TouchControl)||void 0===i||i.setVideoTagRect(u),null===(a=this.touchControl)||void 0===a||a.setVideoTagRect(u)}}},{key:"onResize",value:function(){this.resetControlComputeBase()}},{key:"_isSupportPointermove",value:function(){var e=window.navigator.userAgent.toLowerCase();return!/firefox/.test(e)&&!/qqbrowser/.test(e)&&"onpointerrawupdate"in window}},{key:"bindEvent",value:function(){window.addEventListener("resize",this.handlerResize),window.addEventListener("orientationchange",this.handlerResize),document.addEventListener("pointerlockchange",this.handlerPointerlockchange),this._isSupportPointermove()&&this.options.enablePointermove?(this.options.logger.info(this.TAG,"use pointer move"),this.options.videoTag.addEventListener("pointerrawupdate",this.handlerPointerMove)):(this.options.logger.info(this.TAG,"use mouse move"),this.options.videoTag.addEventListener("mousemove",this.handlerMouseMove)),this.options.videoTag.addEventListener("mousedown",this.handlerMouseDown),this.options.videoTag.addEventListener("mouseup",this.handlerMouseUp),/firefox/.test(window.navigator.userAgent.toLowerCase())?(this.options.logger.info(this.TAG,"firefox use DOMMouseScroll"),this.options.videoTag.addEventListener("DOMMouseScroll",this.handlerFirefoxWheel)):this.options.videoTag.addEventListener("mousewheel",this.handlerMouseWheel),this.options.videoTag.addEventListener("contextmenu",this.handlerContextmenu),this.onResize(),this.options.logger.info(this.TAG,"bind event")}},{key:"unbindEvent",value:function(){window.removeEventListener("resize",this.handlerResize),window.removeEventListener("orientationchange",this.handlerResize),document.removeEventListener("pointerlockchange",this.handlerPointerlockchange),this.options.videoTag.removeEventListener("pointerrawupdate",this.handlerPointerMove),this.options.videoTag.removeEventListener("mousemove",this.handlerMouseMove),this.options.videoTag.removeEventListener("mousedown",this.handlerMouseDown),this.options.videoTag.removeEventListener("mouseup",this.handlerMouseUp),this.options.videoTag.removeEventListener("mouseleave",this.handlerMouseUp),this.options.videoTag.removeEventListener("DOMMouseScroll",this.handlerFirefoxWheel),this.options.videoTag.removeEventListener("mousewheel",this.handlerMouseWheel),this.options.videoTag.removeEventListener("contextmenu",this.handlerContextmenu),this.options.logger.info(this.TAG,"remove event")}},{key:"onPointerMove",value:function(e){this.waitSendPointerMove.movementX=e.movementX,this.waitSendPointerMove.movementY=e.movementY,this.waitSendPointerMove.offsetX=e.offsetX,this.waitSendPointerMove.offsetY=e.offsetY,this.waitSendPointerMove.timeStamp=e.timeStamp,this.doMouseMove(this.waitSendPointerMove)}},{key:"onMouseMove",value:function(e){this.doMouseMove(e)}},{key:"doMouseMove",value:function(e){if(this.mouseControl){var t=this.mouseControl.filterMouseMove(e);t&&(this.MouseMoveMessage.data.eventInx=this._getEventInx(),this.mouseControl.computeMousemove(t,this.MouseMoveMessage,!0)&&this.sendControlMessage(this.MouseMoveMessage))}this.mouse2TouchControl&&(this.TouchEventMessage.data.eventInx=this._getEventInx(),this.mouse2TouchControl.computeMousemove(e,this.TouchEventMessage)&&this.sendControlMessage(this.TouchEventMessage))}},{key:"onMouseDown",value:function(e){if(3===e.button&&(e.stopPropagation(),e.preventDefault()),this.mouseControl&&this.mouseControl.computeMouseDown(e,this.MouseClickMessage)){this.sendControlMessage(this.MouseClickMessage);var t=this.MouseClickMessage;t.data.mouseAction=w.MouseAction.up,this.MouseButtonPressMap.set(this.MouseClickMessage.data.mouseButton,t)}if(this.mouse2TouchControl&&(this.TouchEventMessage.data.eventInx=this._getEventInx(),this.mouse2TouchControl.computeMouseDown(e,this.TouchEventMessage))){this.sendControlMessage(this.TouchEventMessage);var r=this.TouchEventMessage;r.data.mouseAction=w.MouseAction.up,this.MouseButtonPressMap.set(this.TouchEventMessage.data.mouseButton||0,r)}}},{key:"clearMouseDownList",value:function(){var e=this;this.MouseButtonPressMap.size>0&&(this.MouseButtonPressMap.forEach((function(t){e.sendControlMessage(t),e.options.logger.info(e.TAG,"clear mousedown list => ".concat(JSON.stringify(t)))})),this.MouseButtonPressMap.clear())}},{key:"onMouseUp",value:function(e){3===e.button&&(e.stopPropagation(),e.preventDefault()),this.mouseControl&&this.mouseControl.computeMouseUp(e,this.MouseClickMessage)&&((this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.info(this.TAG,"发送鼠标点击事件".concat(JSON.stringify(this.MouseClickMessage))),this.sendControlMessage(this.MouseClickMessage),this.MouseButtonPressMap.delete(this.MouseClickMessage.data.mouseButton)),this.mouse2TouchControl&&(this.TouchEventMessage.data.eventInx=this._getEventInx(),this.mouse2TouchControl.computeMouseUp(e,this.TouchEventMessage)&&((this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.info(this.TAG,"发送鼠标点击事件".concat(JSON.stringify(this.MouseClickMessage))),this.sendControlMessage(this.TouchEventMessage),this.MouseButtonPressMap.delete(this.TouchEventMessage.data.mouseButton||0)))}},{key:"_fileFoxWheel",value:function(e){e.wheelDelta=-12*e.detail,this.onMouseWheel(e)}},{key:"onMouseWheel",value:function(e){console.log(this.mouse2TouchControl),e.preventDefault(),this.mouseControl&&this.mouseControl.computeMouseWheel(e,this.MouseWheelMessage)&&this.sendControlMessage(this.MouseWheelMessage),this.mouse2TouchControl&&this.mouse2TouchControl.doScaleAction(e)}},{key:"onPointerlockchange",value:function(){this.mouseControl&&this.mouseControl.doPointerlockchange()}},{key:"sendControlMessage",value:function(e){var t=c.ControlMessage.encodeMessage(e);t&&this.options.send(t)}},{key:"onContextMenu",value:function(e){e.preventDefault()}},{key:"_getEventInx",value:function(){return this.eventInx<4294967295?this.eventInx++:this.eventInx=0,this.eventInx}},{key:"_touchControlCallback",value:function(e){var t=e.pointerId,r=e.mouseButton,n=e.mouseAction,o=e.mouseRelative,i=void 0!==o&&o,a=e.x,s=e.y;(this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.info(this.TAG,"发送给LS touch事件日志：".concat(JSON.stringify({pointerId:t,mouseButton:r,mouseAction:n,mouseRelative:i,x:a,y:s})));var u=this.options.controlTrans.encodeMessage({type:this.options.controlTrans.TransportHeaderTypes.InputData,packetType:this.options.controlTrans.InputData.TouchEvent,data:{pointerId:t,mouseButton:r,mouseAction:n,mouseRelative:i,x:a,y:s,eventInx:this._getEventInx()}});u&&this.options.send(u)}},{key:"_mouseControlCallback",value:function(t){switch((this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.info(this.TAG,"发送给LS 鼠标事件日志：".concat(JSON.stringify({options:t}))),t.mouseAction){case e.MouseAction.press:case e.MouseAction.release:var r=this.options.controlTrans.encodeMessage({type:this.options.controlTrans.TransportHeaderTypes.InputData,packetType:this.options.controlTrans.InputData.MouseClick,data:{mouseAction:t.mouseAction,mouseButton:t.mouseButton,eventInx:this._getEventInx()}});r&&this.options.send(r);break;case e.MouseAction.move:var n=this.options.controlTrans.encodeMessage({type:this.options.controlTrans.TransportHeaderTypes.InputData,packetType:this.options.controlTrans.InputData.MouseMove,data:{mouseRelative:!!t.mouseRelative,x:t.x,y:t.y,eventInx:this._getEventInx(),timestramp:t.timestramp}});n&&this.options.send(n);break;case e.MouseAction.wheel:var o=this.options.controlTrans.encodeMessage({type:this.options.controlTrans.TransportHeaderTypes.InputData,packetType:this.options.controlTrans.InputData.MouseWheel,data:{scrollAmt1:t.scrollAmt1,eventInx:this._getEventInx()}});o&&this.options.send(o)}}},{key:"keyboard2Gamepad",value:function(e){var t=this;try{if(this.shouldMap2Pad){var r,n=this.gamepadConfig.key_map_h5[0].map_list.filter((function(t){return t.input_cmd[0]===e.keyCode}))[0];return!!n&&(null===(r=n.output[0])||void 0===r||r.output_cmd.forEach((function(r,o){var i;if(0!==r.output_type)return!1;i="GAMEPAD";var a={code:0,keyboardAction:"",pad:{type:""}};r.cmd.forEach((function(r){a.code=r,a.keyboardAction=3===e.keyAction?"down":"up",0===n.key_type?a.pad.type="Button":1===n.key_type?a.pad.type="LeftRocker":2===n.key_type?a.pad.type="rightRocker":3===n.key_type?a.pad.type="LT":4===n.key_type&&(a.pad.type="RT"),(t.options.debugKeyboard||t._window.debugKeyboard)&&t.options.logger.info(t.TAG,"映射手柄之后的键值：".concat(JSON.stringify(a))),o>0?setTimeout((function(){t.options.dealGamePadEvent(i,a)}),100*o):t.options.dealGamePadEvent(i,a)}))})),!0)}return!1}catch(e){return this.options.logger.error(this.TAG,"keyboard2Gamepad error => ".concat(JSON.stringify(e))),!1}}},{key:"_keyboardControlCallback",value:function(e){if((this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.info(this.TAG,"发送给LS键盘发送命令：".concat(JSON.stringify(e))),!this.keyboard2Gamepad(e)){var t=this.options.controlTrans.encodeMessage({type:this.options.controlTrans.TransportHeaderTypes.InputData,packetType:this.options.controlTrans.InputData.KeyClick,data:{keyAction:e.keyAction,keyCode:e.keyCode,modifiers:e.modifiers,eventInx:this._getEventInx(),mask:e.mask,seq:e.seq}});t&&this.options.send(t)}}},{key:"_keyboardCopyCallback",value:function(e){var t=e.copyText;(this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.info(this.TAG,"发送给LS键盘拷贝：".concat(JSON.stringify(t)));var r=this.options.controlTrans.encodeMessage({type:this.options.controlTrans.TransportHeaderTypes.InputData,packetType:this.options.controlTrans.InputData.KeyboardCopy,data:{copyText:t}});r&&this.options.send(r)}},{key:"_gamepadControlCallback",value:function(e){var t=e.contollerNumber,r=e.activeGamePadMask,n=e.butonFlag,o=e.leftTrigger,i=e.rightTrigger,a=e.leftStickX,s=e.leftStickY,u=e.rightStickX,c=e.rightStickY;(this.options.debugKeyboard||this._window.debugKeyboard)&&this.options.logger.info(this.TAG,"发送给LS手柄日志：".concat(JSON.stringify({contollerNumber:t,activeGamePadMask:r,butonFlag:n,leftTrigger:o,rightTrigger:i,leftStickX:a,leftStickY:s,rightStickX:u,rightStickY:c})));var l=this.options.controlTrans.encodeMessage({type:this.options.controlTrans.TransportHeaderTypes.InputData,packetType:this.options.controlTrans.InputData.GamepadEvent,data:{contollerNumber:t,activeGamePadMask:r,butonFlag:n,leftTrigger:o,rightTrigger:i,leftStickX:a,leftStickY:s,rightStickX:u,rightStickY:c,eventInx:this._getEventInx()}});l&&this.options.send(l)}},{key:"_GamepadEventCallback",value:function(e,t){var r=t.vpadId,n=void 0===r?65535:r,o=t.dpadId;switch(e){case h.GamepadBase.EventType.Apply:this._applyGamepad({vpadId:n,dpadId:o});break;case h.GamepadBase.EventType.Release:this._releaseGamePad({vpadId:n,dpadId:o})}}},{key:"_applyGamepad",value:function(){var t=(0,n.default)(E().mark((function t(r){var n,o,i,a;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.vpadId,o=void 0===n?65535:n,i=r.dpadId,this.options.logger.info(this.TAG,"to apply gamepad: vpadId =>".concat(o,", dpadId => ").concat(i)),!this.options.vpadEvent){t.next=7;break}return t.next=5,this.options.vpadEvent("AllocVPad",{vpadId:o,dpadId:i});case 5:(a=t.sent)?(this.options.logger.info(this.TAG,"apply gamepad success"),this.dispatch(e.InputType.Gamepad,{fun:"appendVpadInfo",arg:[[{dpadId:a.dpadId,vpadId:a.vpadId}]]})):this.options.logger.error(this.TAG,"apply gamepad failed");case 7:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"_releaseGamePad",value:function(){var t=(0,n.default)(E().mark((function t(r){var n,o,i,a;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.vpadId,o=void 0===n?-1:n,i=r.dpadId,this.options.logger.info(this.TAG,"to release gamepad: vpadId =>".concat(o,", dpadId => ").concat(i)),!(this.options.vpadEvent&&o>0)){t.next=7;break}return t.next=5,this.options.vpadEvent("FreeVPad",{vpadId:o,dpadId:i});case 5:(a=t.sent)?(this.options.logger.info(this.TAG,"release gamepad result =>".concat(JSON.stringify(a))),this.dispatch(e.InputType.Gamepad,{fun:"removeVpadInfo",arg:[a.dpadId]})):this.options.logger.error(this.TAG,"release gamepad failed");case 7:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"triggerMouseDown",value:function(){this._mouseControlCallback({mouseAction:c.ControlMessage.MouseAction.press,mouseButton:c.ControlMessage.MouseButton.left})}},{key:"triggerMouseUp",value:function(){this._mouseControlCallback({mouseAction:c.ControlMessage.MouseAction.release,mouseButton:c.ControlMessage.MouseButton.left})}},{key:"_changeCapsLockCallback",value:function(e){var t=this.options.controlTrans.encodeMessage({type:this.options.controlTrans.TransportHeaderTypes.KeyBoardStatus,packetType:this.options.controlTrans.KeyBoardStatus.setLockStatus,data:{capsLock:e?1:0,numLock:0}});t&&this.options.send(t)}},{key:"triggerMouseMove",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._mouseControlCallback({mouseAction:c.ControlMessage.MouseAction.move,mouseRelative:r,x:e,y:t})}},{key:"handlerVideoTransformChange",value:function(e){var t=this;this.isTransForm=e,this.afterTransformTimer&&(clearTimeout(this.afterTransformTimer),this.afterTransformTimer=null),this.afterTransformTimer=setTimeout((function(){t.afterTransformTimer=null,t.resetControlComputeBase()}),100),this.options.onTransformChange(e)}},{key:"getIsVideoTransform",value:function(){return this.isTransForm}}],[{key:"Factory",value:function(t,r){switch(t){case e.InputType.Touch:return new l.TouchControl(r.tag,{sendFunc:r.sendFunc,logger:r.logger,rotation:r.rotation,viewDirection:r.viewDirection,fullScreenPlay:r.fullScreenPlay,openDebugKeyboard:r.openDebugKeyboard,resetControlComputeBase:r.resetControlComputeBase});case e.InputType.TouchResize:return new g.TouchResizeControl(r.tag,{logger:r.logger,rotation:r.rotation,onTransformChange:r.onTransformChange});case e.InputType.Gamepad:return new h.GamepadBase(r.tag,{sendFunc:r.sendFunc,eventCallback:r.eventCallback,vpadInfo:r.vpadInfo,logger:r.logger,allowMulGamepad:r.allowMulGamepad,allowListenXboxGamepad:r.allowListenXboxGamepad});case e.InputType.Keyboard:return new d.KeyboardControl(r.tag,{sendFunc:r.sendFunc,changeCapsLock:r.changeCapsLock,openDebugKeyboard:r.openDebugKeyboard,logger:r.logger,copyEvent:r.copyEvent,isContainerPlay:r.isContainerPlay});case e.InputType.copy:return new p.SoftKeyboard(r.tag,{sendFunc:r.sendFunc,logger:r.logger,onStatusChange:r.onStatusChange});case e.InputType.Keyboard2Touch:return new y.Keyboard2TouchControl(r.tag,{videoTag:r.videoTag,sendFunc:r.sendFunc,sendFuncKeyBoard:r.sendFuncKeyBoard,openDebugKeyboard:r.openDebugKeyboard,logger:r.logger,keyboard2TouchConfig:r.keyboard2TouchConfig,resetMovedPX:r.resetMovedPX,copyEvent:r.copyEvent,minSendRepeatDelay:r.minSendRepeatDelay});case e.InputType.NativeChineseInput:return new m.NativeChineseInputControl(r.tag,{onInputStatusChange:r.onInputStatusChange,sendFunc:r.sendFunc,logger:r.logger});default:return null}}}]),e}();e.ControlCenter=e.default=A,(0,u.default)(A,"MouseButton",c.ControlMessage.MouseButton),(0,u.default)(A,"MouseAction",c.ControlMessage.MouseAction),(0,u.default)(A,"KeyAction",c.ControlMessage.KeyAction),(0,u.default)(A,"InputType",{Touch:0,Mouse:1,Gamepad:2,Keyboard:3,copy:4,Mouse2Touch:5,Keyboard2Touch:6,NativeChineseInput:7,TouchResize:8}),(0,u.default)(A,"EventType",{Report:1})},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},73348:function(e,t,r){var n,o,i;r(15735),r(79321),r(95094),r(58188),r(28673),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(93890)],void 0===(i="function"==typeof(n=function(e,t){"use strict";function r(e){return t.shiftCode[e.code]}function n(e){return t.ctrlCode[e.code]}function o(e){return t.altCode[e.code]}function i(e){return"Equal"===e.code&&61===e.keyCode?187:"Semicolon"===e.code&&59===e.keyCode?186:"Minus"===e.code&&173===e.keyCode?189:e.keyCode}function a(e){var a=i(e);if(91===a)return{};if(a){var s=0;return e.ctrlKey&&(s|=t.KeyModifiers.ctrl),e.shiftKey&&(s|=t.KeyModifiers.shift),e.altKey&&(s|=t.KeyModifiers.alt),a=new Map([[37,-32731],[38,-32730],[39,-32729],[40,-32728]]).get(a)||r(e)||n(e)||o(e)||a,{keyAction:"keydown"===e.type?t.KeyAction.down:t.KeyAction.up,keyCode:a,modifiers:s}}return{}}Object.defineProperty(e,"__esModule",{value:!0}),e.changeKeyData=a,e.distinguishAlt=o,e.distinguishCtrl=n,e.distinguishShift=r,e.filterSpecialKey=i})?n.apply(t,o):n)||(e.exports=i)},69982:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNumLock=i,e.isUpperCase=o,e.keyboardTranslator=n;var t={KEYCODE_UNKNOWN:0,KEYCODE_SOFT_LEFT:1,KEYCODE_SOFT_RIGHT:2,KEYCODE_HOME:3,KEYCODE_BACK:4,KEYCODE_CALL:5,KEYCODE_ENDCALL:6,KEYCODE_0:7,KEYCODE_1:8,KEYCODE_2:9,KEYCODE_3:10,KEYCODE_4:11,KEYCODE_5:12,KEYCODE_6:13,KEYCODE_7:14,KEYCODE_8:15,KEYCODE_9:16,KEYCODE_STAR:17,KEYCODE_POUND:18,KEYCODE_DPAD_UP:19,KEYCODE_DPAD_DOWN:20,KEYCODE_DPAD_LEFT:21,KEYCODE_DPAD_RIGHT:22,KEYCODE_DPAD_CENTER:23,KEYCODE_VOLUME_UP:24,KEYCODE_VOLUME_DOWN:25,KEYCODE_POWER:26,KEYCODE_CAMERA:27,KEYCODE_CLEAR:28,KEYCODE_A:29,KEYCODE_B:30,KEYCODE_C:31,KEYCODE_D:32,KEYCODE_E:33,KEYCODE_F:34,KEYCODE_G:35,KEYCODE_H:36,KEYCODE_I:37,KEYCODE_J:38,KEYCODE_K:39,KEYCODE_L:40,KEYCODE_M:41,KEYCODE_N:42,KEYCODE_O:43,KEYCODE_P:44,KEYCODE_Q:45,KEYCODE_R:46,KEYCODE_S:47,KEYCODE_T:48,KEYCODE_U:49,KEYCODE_V:50,KEYCODE_W:51,KEYCODE_X:52,KEYCODE_Y:53,KEYCODE_Z:54,KEYCODE_COMMA:55,KEYCODE_PERIOD:56,KEYCODE_ALT_LEFT:57,KEYCODE_ALT_RIGHT:58,KEYCODE_SHIFT_LEFT:59,KEYCODE_SHIFT_RIGHT:60,KEYCODE_TAB:61,KEYCODE_SPACE:62,KEYCODE_SYM:63,KEYCODE_EXPLORER:64,KEYCODE_ENVELOPE:65,KEYCODE_ENTER:66,KEYCODE_DEL:67,KEYCODE_GRAVE:68,KEYCODE_MINUS:69,KEYCODE_EQUALS:70,KEYCODE_LEFT_BRACKET:71,KEYCODE_RIGHT_BRACKET:72,KEYCODE_BACKSLASH:73,KEYCODE_SEMICOLON:74,KEYCODE_APOSTROPHE:75,KEYCODE_SLASH:76,KEYCODE_AT:77,KEYCODE_NUM:78,KEYCODE_HEADSETHOOK:79,KEYCODE_FOCUS:80,KEYCODE_PLUS:81,KEYCODE_MENU:82,KEYCODE_NOTIFICATION:83,KEYCODE_SEARCH:84,KEYCODE_MEDIA_PLAY_PAUSE:85,KEYCODE_MEDIA_STOP:86,KEYCODE_MEDIA_NEXT:87,KEYCODE_MEDIA_PREVIOUS:88,KEYCODE_MEDIA_REWIND:89,KEYCODE_MEDIA_FAST_FORWARD:90,KEYCODE_MUTE:91,KEYCODE_PAGE_UP:92,KEYCODE_PAGE_DOWN:93,KEYCODE_PICTSYMBOLS:94,KEYCODE_SWITCH_CHARSET:95,KEYCODE_BUTTON_A:96,KEYCODE_BUTTON_B:97,KEYCODE_BUTTON_C:98,KEYCODE_BUTTON_X:99,KEYCODE_BUTTON_Y:100,KEYCODE_BUTTON_Z:101,KEYCODE_BUTTON_L1:102,KEYCODE_BUTTON_R1:103,KEYCODE_BUTTON_L2:104,KEYCODE_BUTTON_R2:105,KEYCODE_BUTTON_THUMBL:106,KEYCODE_BUTTON_THUMBR:107,KEYCODE_BUTTON_START:108,KEYCODE_BUTTON_SELECT:109,KEYCODE_BUTTON_MODE:110,KEYCODE_ESCAPE:111,KEYCODE_FORWARD_DEL:112,KEYCODE_CTRL_LEFT:113,KEYCODE_CTRL_RIGHT:114,KEYCODE_CAPS_LOCK:115,KEYCODE_SCROLL_LOCK:116,KEYCODE_META_LEFT:117,KEYCODE_META_RIGHT:118,KEYCODE_FUNCTION:119,KEYCODE_SYSRQ:120,KEYCODE_BREAK:121,KEYCODE_MOVE_HOME:122,KEYCODE_MOVE_END:123,KEYCODE_INSERT:124,KEYCODE_FORWARD:125,KEYCODE_MEDIA_PLAY:126,KEYCODE_MEDIA_PAUSE:127,KEYCODE_MEDIA_CLOSE:128,KEYCODE_MEDIA_EJECT:129,KEYCODE_MEDIA_RECORD:130,KEYCODE_F1:131,KEYCODE_F2:132,KEYCODE_F3:133,KEYCODE_F4:134,KEYCODE_F5:135,KEYCODE_F6:136,KEYCODE_F7:137,KEYCODE_F8:138,KEYCODE_F9:139,KEYCODE_F10:140,KEYCODE_F11:141,KEYCODE_F12:142,KEYCODE_NUM_LOCK:143,KEYCODE_NUMPAD_0:144,KEYCODE_NUMPAD_1:145,KEYCODE_NUMPAD_2:146,KEYCODE_NUMPAD_3:147,KEYCODE_NUMPAD_4:148,KEYCODE_NUMPAD_5:149,KEYCODE_NUMPAD_6:150,KEYCODE_NUMPAD_7:151,KEYCODE_NUMPAD_8:152,KEYCODE_NUMPAD_9:153,KEYCODE_NUMPAD_DIVIDE:154,KEYCODE_NUMPAD_MULTIPLY:155,KEYCODE_NUMPAD_SUBTRACT:156,KEYCODE_NUMPAD_ADD:157,KEYCODE_NUMPAD_DOT:158,KEYCODE_NUMPAD_COMMA:159,KEYCODE_NUMPAD_ENTER:160,KEYCODE_NUMPAD_EQUALS:161,KEYCODE_NUMPAD_LEFT_PAREN:162,KEYCODE_NUMPAD_RIGHT_PAREN:163,KEYCODE_VOLUME_MUTE:164,KEYCODE_INFO:165,KEYCODE_CHANNEL_UP:166,KEYCODE_CHANNEL_DOWN:167,KEYCODE_ZOOM_IN:168,KEYCODE_ZOOM_OUT:169,KEYCODE_TV:170,KEYCODE_WINDOW:171,KEYCODE_GUIDE:172,KEYCODE_DVR:173,KEYCODE_BOOKMARK:174,KEYCODE_CAPTIONS:175,KEYCODE_SETTINGS:176,KEYCODE_TV_POWER:177,KEYCODE_TV_INPUT:178,KEYCODE_STB_POWER:179,KEYCODE_STB_INPUT:180,KEYCODE_AVR_POWER:181,KEYCODE_AVR_INPUT:182,KEYCODE_PROG_RED:183,KEYCODE_PROG_GREEN:184,KEYCODE_PROG_YELLOW:185,KEYCODE_PROG_BLUE:186,KEYCODE_APP_SWITCH:187,KEYCODE_BUTTON_1:188,KEYCODE_BUTTON_2:189,KEYCODE_BUTTON_3:190,KEYCODE_BUTTON_4:191,KEYCODE_BUTTON_5:192,KEYCODE_BUTTON_6:193,KEYCODE_BUTTON_7:194,KEYCODE_BUTTON_8:195,KEYCODE_BUTTON_9:196,KEYCODE_BUTTON_10:197,KEYCODE_BUTTON_11:198,KEYCODE_BUTTON_12:199,KEYCODE_BUTTON_13:200,KEYCODE_BUTTON_14:201,KEYCODE_BUTTON_15:202,KEYCODE_BUTTON_16:203,KEYCODE_LANGUAGE_SWITCH:204,KEYCODE_MANNER_MODE:205,KEYCODE_3D_MODE:206,KEYCODE_CONTACTS:207,KEYCODE_CALENDAR:208,KEYCODE_MUSIC:209,KEYCODE_CALCULATOR:210,KEYCODE_ZENKAKU_HANKAKU:211,KEYCODE_EISU:212,KEYCODE_MUHENKAN:213,KEYCODE_HENKAN:214,KEYCODE_KATAKANA_HIRAGANA:215,KEYCODE_YEN:216,KEYCODE_RO:217,KEYCODE_KANA:218,KEYCODE_ASSIST:219,KEYCODE_BRIGHTNESS_DOWN:220,KEYCODE_BRIGHTNESS_UP:221,KEYCODE_MEDIA_AUDIO_TRACK:222,KEYCODE_SLEEP:223,KEYCODE_WAKEUP:224,KEYCODE_PAIRING:225,KEYCODE_MEDIA_TOP_MENU:226,KEYCODE_11:227,KEYCODE_12:228,KEYCODE_LAST_CHANNEL:229,KEYCODE_TV_DATA_SERVICE:230,KEYCODE_VOICE_ASSIST:231,KEYCODE_TV_RADIO_SERVICE:232,KEYCODE_TV_TELETEXT:233,KEYCODE_TV_NUMBER_ENTRY:234,KEYCODE_TV_TERRESTRIAL_ANALOG:235,KEYCODE_TV_TERRESTRIAL_DIGITAL:236,KEYCODE_TV_SATELLITE:237,KEYCODE_TV_SATELLITE_BS:238,KEYCODE_TV_SATELLITE_CS:239,KEYCODE_TV_SATELLITE_SERVICE:240,KEYCODE_TV_NETWORK:241,KEYCODE_TV_ANTENNA_CABLE:242,KEYCODE_TV_INPUT_HDMI_1:243,KEYCODE_TV_INPUT_HDMI_2:244,KEYCODE_TV_INPUT_HDMI_3:245,KEYCODE_TV_INPUT_HDMI_4:246,KEYCODE_TV_INPUT_COMPOSITE_1:247,KEYCODE_TV_INPUT_COMPOSITE_2:248,KEYCODE_TV_INPUT_COMPONENT_1:249,KEYCODE_TV_INPUT_COMPONENT_2:250,KEYCODE_TV_INPUT_VGA_1:251,KEYCODE_TV_AUDIO_DESCRIPTION:252,KEYCODE_TV_AUDIO_DESCRIPTION_MIX_UP:253,KEYCODE_TV_AUDIO_DESCRIPTION_MIX_DOWN:254,KEYCODE_TV_ZOOM_MODE:255,KEYCODE_TV_CONTENTS_MENU:256,KEYCODE_TV_MEDIA_CONTEXT_MENU:257,KEYCODE_TV_TIMER_PROGRAMMING:258,KEYCODE_HELP:259,KEYCODE_NAVIGATE_PREVIOUS:260,KEYCODE_NAVIGATE_NEXT:261,KEYCODE_NAVIGATE_IN:262,KEYCODE_NAVIGATE_OUT:263,KEYCODE_STEM_PRIMARY:264,KEYCODE_STEM_1:265,KEYCODE_STEM_2:266,KEYCODE_STEM_3:267,KEYCODE_DPAD_UP_LEFT:268,KEYCODE_DPAD_DOWN_LEFT:269,KEYCODE_DPAD_UP_RIGHT:270,KEYCODE_DPAD_DOWN_RIGHT:271,KEYCODE_MEDIA_SKIP_FORWARD:272,KEYCODE_MEDIA_SKIP_BACKWARD:273,KEYCODE_MEDIA_STEP_FORWARD:274,KEYCODE_MEDIA_STEP_BACKWARD:275,KEYCODE_SOFT_SLEEP:276,KEYCODE_CUT:277,KEYCODE_COPY:278,KEYCODE_PASTE:279,KEYCODE_SYSTEM_NAVIGATION_UP:280,KEYCODE_SYSTEM_NAVIGATION_DOWN:281,KEYCODE_SYSTEM_NAVIGATION_LEFT:282,KEYCODE_SYSTEM_NAVIGATION_RIGHT:283,KEYCODE_ALL_APPS:284,KEYCODE_REFRESH:285,KEYCODE_THUMBS_UP:286,KEYCODE_THUMBS_DOWN:287,KEYCODE_PROFILE_SWITCH:288},r={VK_0:48,VK_9:57,VK_A:65,VK_Z:90,VK_NUMPAD0:96,VK_NUMPAD9:105,VK_BACK_SLASH:92,VK_CAPS_LOCK:20,VK_CLEAR:12,VK_COMMA:44,VK_BACK_SPACE:8,VK_EQUALS:61,VK_ESCAPE:27,VK_F1:112,VK_F12:123,VK_END:35,VK_HOME:36,VK_NUM_LOCK:144,VK_PAGE_UP:33,VK_PAGE_DOWN:34,VK_PLUS:521,VK_CLOSE_BRACKET:93,VK_SCROLL_LOCK:145,VK_SEMICOLON:59,VK_SLASH:47,VK_SPACE:32,VK_PRINTSCREEN:154,VK_TAB:9,VK_LEFT:37,VK_RIGHT:39,VK_UP:38,VK_DOWN:40,VK_BACK_QUOTE:192,VK_QUOTE:222,VK_PAUSE:19};function n(e){var n;if(e>=r.VK_0&&e<=r.VK_9)n=e-r.VK_0+t.KEYCODE_0;else if(e>=r.VK_A&&e<=r.VK_Z)n=e-r.VK_A+t.KEYCODE_A;else if(e>=r.VK_NUMPAD0&&e<=r.VK_NUMPAD9)n=e-r.VK_NUMPAD0+t.KEYCODE_NUMPAD_0;else if(e>=r.VK_F1&&e<=r.VK_F12)n=e-r.VK_F1+t.KEYCODE_F1;else switch(e){case 164:n=t.KEYCODE_ALT_LEFT;break;case 165:n=t.KEYCODE_ALT_RIGHT;break;case 220:n=t.KEYCODE_BACKSLASH;break;case r.VK_CAPS_LOCK:n=t.KEYCODE_CAPS_LOCK;break;case r.VK_CLEAR:n=t.KEYCODE_CLEAR;break;case 188:n=t.KEYCODE_COMMA;break;case 162:n=t.KEYCODE_CTRL_LEFT;break;case 163:n=t.KEYCODE_CTRL_RIGHT;break;case r.VK_BACK_SPACE:n=t.KEYCODE_DEL;break;case 13:n=t.KEYCODE_ENTER;break;case 187:n=t.KEYCODE_EQUALS;break;case r.VK_ESCAPE:n=t.KEYCODE_ESCAPE;break;case 46:n=t.KEYCODE_FORWARD_DEL;break;case 45:n=t.KEYCODE_INSERT;break;case 219:n=t.KEYCODE_LEFT_BRACKET;break;case 91:n=t.KEYCODE_META_LEFT;break;case 92:n=t.KEYCODE_META_RIGHT;break;case 189:n=t.KEYCODE_MINUS;break;case r.VK_END:n=t.KEYCODE_MOVE_END;break;case r.VK_HOME:n=t.KEYCODE_MOVE_HOME;break;case r.VK_NUM_LOCK:n=t.KEYCODE_NUM_LOCK;break;case r.VK_PAGE_DOWN:n=t.KEYCODE_PAGE_DOWN;break;case r.VK_PAGE_UP:n=t.KEYCODE_PAGE_UP;break;case 190:n=t.KEYCODE_PERIOD;break;case 221:n=t.KEYCODE_RIGHT_BRACKET;break;case r.VK_SCROLL_LOCK:n=t.KEYCODE_SCROLL_LOCK;break;case 186:n=t.KEYCODE_SEMICOLON;break;case 160:n=t.KEYCODE_SHIFT_LEFT;break;case 161:n=t.KEYCODE_SHIFT_RIGHT;break;case 191:n=t.KEYCODE_SLASH;break;case r.VK_SPACE:n=t.KEYCODE_SPACE;break;case r.VK_PRINTSCREEN:n=t.KEYCODE_SYSRQ;break;case r.VK_TAB:n=t.KEYCODE_TAB;break;case r.VK_LEFT:n=t.KEYCODE_DPAD_LEFT;break;case r.VK_RIGHT:n=t.KEYCODE_DPAD_RIGHT;break;case r.VK_UP:n=t.KEYCODE_DPAD_UP;break;case r.VK_DOWN:n=t.KEYCODE_DPAD_DOWN;break;case r.VK_BACK_QUOTE:n=t.KEYCODE_GRAVE;break;case 222:n=t.KEYCODE_APOSTROPHE;break;case r.VK_PAUSE:n=t.KEYCODE_BREAK;break;case 111:n=t.KEYCODE_NUMPAD_DIVIDE;break;case 106:n=t.KEYCODE_NUMPAD_MULTIPLY;break;case 109:n=t.KEYCODE_NUMPAD_SUBTRACT;break;case 107:n=t.KEYCODE_NUMPAD_ADD;break;case 110:n=t.KEYCODE_NUMPAD_DOT;break;case 2+r.VK_0:n=t.KEYCODE_AT;break;case 3+r.VK_0:n=t.KEYCODE_POUND;break;case 8+r.VK_0:n=t.KEYCODE_STAR;break;default:n=0}return n}function o(e){return e.keyCode>=65&&e.keyCode<=90&&!!/^[A-Z]+$/.test(e.key)}function i(e){return e.keyCode>=96&&e.keyCode<=105}})?n.apply(t,o):n)||(e.exports=i)},81904:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(32501),r(72994),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(77950),r(28673),r(74069),r(48319),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(1939),r(6886),r(14121);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959)],n=function(e,t,n,o,i,s,u){"use strict";var c=r(14859);function l(){l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.FileDownload=void 0,n=c(n),o=c(o),i=c(i),s=c(s);var h=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"TAG","fileDownload"),(0,s.default)(this,"retryTimeMax",3),(0,s.default)(this,"downloadImageTimeout",3e5),this.options=d({clientType:"",deviceId:"",sdkVersion:"",retryDelay:300},t)}return(0,i.default)(e,[{key:"getUrl",value:function(e,t){var r="https://".concat(this.options.domain,":").concat(this.options.port,"/getFile?flowId=").concat(this.options.flowId,"&fileName=").concat(e);return t&&(r+="&fileType=".concat(t)),this.options.clientType&&(r+="&clientType=".concat(this.options.clientType)),this.options.deviceId&&(r+="&deviceId=".concat(this.options.deviceId)),this.options.sdkVersion&&(r+="&sdkVersion=".concat(this.options.sdkVersion)),r}},{key:"getImage",value:function(){var e=(0,n.default)(l().mark((function e(t,r){var n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getUrl(t,r),e.next=3,this.loadImage(n);case 3:return(o=e.sent).res||this.options.logger.warn(this.TAG,"load image failed from ".concat(n)),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"dataUrlToBlob",value:function(e){var t=e.split(",");if(t.length>=2){var r=t[0].match(/:(.*?);/);if(r&&r[1]){for(var n=r[1],o=atob(t[1]),i=o.length,a=new Uint8Array(i);i--;)a[i]=o.charCodeAt(i);return new Blob([a],{type:n})}return null}return null}},{key:"saveImage",value:function(e,t){try{var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var n=r.getContext("2d");if(!n)return!1;n.drawImage(t,0,0,t.width,t.height);var o=r.toDataURL();if(/baiduboxapp|qqbrowser|ucbrowser\/(\d*)\.(\d*)/i.test(navigator.userAgent.toLowerCase())&&(0,u.ismobile)())(0,u.isiOS)()?window.location.href=t.src:window.open(t.src,"_blank");else{try{var i=this.dataUrlToBlob(o);i&&(o=URL.createObjectURL(i))}catch(e){}var a=document.createElement("a");a.download=e,a.href=o,a.click()}return!0}catch(e){return!1}}},{key:"tryGetImage",value:function(){var e=(0,n.default)(l().mark((function e(t){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new Image;n.setAttribute("crossOrigin","anonymous");var o=!1,i=setTimeout((function(){o=!0,r.options.logger.warn(r.TAG,"get image timeout"),e({res:!1,image:n})}),r.downloadImageTimeout);n.onload=function(){o||(clearTimeout(i),e({res:!0,image:n}))},n.onerror=function(t){o||(clearTimeout(i),"string"==typeof t?r.options.logger.warn(r.TAG,"get image failed => ".concat(t)):r.options.logger.warn(r.TAG,"get image failed => ".concat(JSON.stringify(t))),e({res:!1,image:n}))},n.src=t})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadImage",value:function(){var e=(0,n.default)(l().mark((function e(t){var r,n,o=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:0,e.next=3,this.tryGetImage(t);case 3:if((n=e.sent).res||!(r<this.retryTimeMax)){e.next=10;break}return e.next=7,(0,u.sleep)(this.options.retryDelay);case 7:return e.next=9,this.loadImage(t,r+1);case 9:n=e.sent;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();e.FileDownload=h},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},71334:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(81904),r(23035)],n=function(e,t,n,o,i,a){"use strict";var s=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FileDownload",{enumerable:!0,get:function(){return i.FileDownload}}),e.default=e.FileTransfer=void 0,t=s(t),n=s(n),o=s(o);var u=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"fileDownload",void 0),(0,o.default)(this,"fileUpload",void 0),(0,o.default)(this,"options",void 0),this.options=r,this.fileDownload=new i.FileDownload(r),this.fileUpload=new a.FileUpload(r)}return(0,n.default)(e,[{key:"getDomain",value:function(){return this.options.domain}},{key:"getUrl",value:function(e,t){return this.fileDownload.getUrl(e,t)}},{key:"downloadImage",value:function(e,t){return this.fileDownload.getImage(e,t)}},{key:"saveImage",value:function(e,t){return this.fileDownload.saveImage(e,t)}},{key:"loadImage",value:function(e){return this.fileDownload.loadImage(e)}},{key:"uploadImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){e()},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.fileUpload.uploadImage(e,t)}}]),e}();e.FileTransfer=u;var c=u;e.default=c},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},23035:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(74083),r(15735),r(32501),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959)],n=function(e,t,n,o,i,s,u){"use strict";var c=r(14859);function l(){l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.FileUpload=void 0,n=c(n),o=c(o),i=c(i),s=c(s);var h=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"TAG","fileUpload"),(0,s.default)(this,"retryTimeMax",3),(0,s.default)(this,"inputEl",void 0),(0,s.default)(this,"maxImageSize",20971520),(0,s.default)(this,"chooseImageTimeout",3e5),(0,s.default)(this,"chooseTimer",null),this.options=d({clientType:"",deviceId:"",sdkVersion:"",retryDelay:300},t),this.inputEl=document.createElement("input"),this.inputEl.type="file"}return(0,i.default)(e,[{key:"uploadImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){e()},r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(){var o=(0,n.default)(l().mark((function o(i){var a;return l().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.loadLocalImage(r);case 2:if(a=o.sent,e.inputEl.onchange=function(){},e.inputEl.value="",a.res&&a.file){o.next=8;break}return i({res:!1,name:"",msg:a.msg}),o.abrupt("return");case 8:t((function(){return new Promise(function(){var t=(0,n.default)(l().mark((function t(r){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.file){t.next=4;break}i({res:!1,name:"",msg:a.msg}),t.next=8;break;case 4:return t.next=6,e.submitImage(a.file);case 6:n=t.sent,i({res:n.res,msg:n.msg,name:a.file.name});case 8:r();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 9:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}},{key:"clearChooseTimer",value:function(){this.chooseTimer&&clearTimeout(this.chooseTimer),this.chooseTimer=null}},{key:"loadLocalImage",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((function(r){e.inputEl.accept="image/png,image/jpg,image/jpeg",t&&(e.clearChooseTimer(),e.chooseTimer=setTimeout((function(){e.options.logger.warn(e.TAG,"choose image timeout"),r({res:!1,msg:"选择图片超时"})}),e.chooseImageTimeout)),e.inputEl.onchange=function(){if(!t||e.chooseTimer){e.clearChooseTimer();var n=e.inputEl.files;if(!n||n.length<=0)return e.options.logger.warn(e.TAG,"have no choose file"),void r({res:!1,msg:"未选择图片"});var o=n[0];return o.size>e.maxImageSize?(e.options.logger.warn(e.TAG,"image is too large"),void r({res:!1,msg:"图片过大"})):-1===e.inputEl.accept.indexOf(o.type)?(e.options.logger.warn(e.TAG,"image type is error => ".concat(o.type)),void r({res:!1,msg:"图片类型错误（jpeg/jpg/png）"})):void r({res:!0,msg:"",file:o})}},e.inputEl.click()}))}},{key:"submitImage",value:function(){var e=(0,n.default)(l().mark((function e(t){var r,n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://".concat(this.options.domain,":").concat(this.options.port,"/putFile?flowId=").concat(this.options.flowId,"&fileName=").concat(t.name),this.options.clientType&&(r+="&clientType=".concat(this.options.clientType)),this.options.deviceId&&(r+="&deviceId=".concat(this.options.deviceId)),this.options.sdkVersion&&(r+="&sdkVersion=".concat(this.options.sdkVersion)),(n=new FormData).append("file",t),e.next=8,(0,u.RequireWithRetry)(r,{method:"put",formData:n,headers:{"Content-Type":"multipart/form-data"}},this.retryTimeMax,300,3e4);case 8:return o=e.sent,e.abrupt("return",{res:0===(null==o?void 0:o.retCode),msg:(null==o?void 0:o.codeDesc)||"网络异常"});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();e.FileUpload=h},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},92330:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(95342),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(13489),r(68995),r(73439),r(28673),r(52356),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959)],n=function(e,t,n,o,i,s,u){"use strict";var c=r(14859);function l(){l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.GamepadConfigProcess=void 0,n=c(n),o=c(o),i=c(i),s=c(s);var h=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"TAG","gamepadconfigprocess"),(0,s.default)(this,"autoTouchPcMode",!1),(0,s.default)(this,"autoTouchPcModeWithClick",!1),(0,s.default)(this,"gravityMapping",u.GravityMaping.None),(0,s.default)(this,"gravitySencitivity",1),(0,s.default)(this,"rockerRotateMax",30),(0,s.default)(this,"mouseRotateMax",30),(0,s.default)(this,"config",{}),(0,s.default)(this,"isMouseHide",!1),(0,s.default)(this,"listener",new WeakMap),(0,s.default)(this,"_getGravityPermissionFunc",this._getGravityPermission.bind(this)),(0,s.default)(this,"gravityTimer",null),this.options=d({logger:{info:function(){},warn:function(){},error:function(){}},emit:function(){}},t),this.listener.set(this,this._handlerGravityEvent.bind(this))}return(0,i.default)(e,[{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=e||{},this.autoTouchPcMode=!1,this.autoTouchPcModeWithClick=!1,this.gravitySencitivity=void 0!==this.config.gravity_mapping_sensitivity?this.config.gravity_mapping_sensitivity:1,this.gravityMapping=void 0!==this.config.gravity_mapping?this.config.gravity_mapping:u.GravityMaping.None,this.options.gameType===u.DF_DEVICE_TYPE.MOBILE_PC&&this._setInMobileToPc()}},{key:"stop",value:function(){this._closeGravity()}},{key:"getScaleFactor",value:function(){var e=this.config.scal_factor;return e?parseFloat("".concat(e)):1}},{key:"getMinDelaySendKeyboardRepeat",value:function(){var e=this.config.min_delay_keyboard_repeat;return e?parseInt("".concat(e),10):30}},{key:"setTouchPcMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.config.default_mouse_mode,n=this.config.game_mouse_sensitivity;void 0!==t.forceMode&&(r=t.forceMode),void 0!==r&&(void 0!==t.forceSensitivity&&(n=t.forceSensitivity),this.options.emit(e.EventType.ChangeTouchPcMode,{mode:parseFloat("".concat(r)),sensitivity:n}))}},{key:"eventMouseChange",value:function(e){this.isMouseHide=e.isHide,this.autoTouchPcMode?this.setTouchPcMode({forceMode:this.isMouseHide?u.TouchPcMode.RelativeMove:u.TouchPcMode.Absolute}):this.autoTouchPcModeWithClick&&this.setTouchPcMode({forceMode:this.isMouseHide?u.TouchPcMode.RelativeClick:u.TouchPcMode.Absolute})}},{key:"getIsMouseEnable",value:function(){return this.config&&1===this.config.default_mouse_enable}},{key:"getMouseWheelSensitivity",value:function(){return"number"==typeof this.config.Mouse_Wheel_Sensitivity?this.config.Mouse_Wheel_Sensitivity:1}},{key:"_setInMobileToPc",value:function(){var e=(0,n.default)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.TouchPcMode.Auto===this.config.default_mouse_mode?(this.autoTouchPcMode=!0,this.setTouchPcMode({forceMode:this.isMouseHide?u.TouchPcMode.RelativeMove:u.TouchPcMode.Absolute})):u.TouchPcMode.AutoWithClick===this.config.default_mouse_mode?(this.autoTouchPcModeWithClick=!0,this.setTouchPcMode({forceMode:this.isMouseHide?u.TouchPcMode.RelativeMove:u.TouchPcMode.Absolute})):this.setTouchPcMode(),this.gravityMapping!==u.GravityMaping.None?window.DeviceOrientationEvent&&window.DeviceOrientationEvent.requestPermission?(window.removeEventListener("click",this._getGravityPermissionFunc,!0),window.addEventListener("click",this._getGravityPermissionFunc,!0)):this._listenGravity():this._closeGravity();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_getGravityPermission",value:function(){var e=(0,n.default)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.removeEventListener("click",this._getGravityPermissionFunc,!0),this.options.logger.info(this.TAG,"need request DeviceOrientationEvent permission"),e.next=4,window.DeviceOrientationEvent.requestPermission();case 4:"granted"===(t=e.sent)?this._listenGravity():this.options.logger.warn(this.TAG,"gravity permission => ".concat(t));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_listenGravity",value:function(){var e=(0,n.default)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.DeviceOrientationEvent?(this._closeGravity(),window.addEventListener("deviceorientation",this.listener.get(this),!1)):this.options.logger.warn(this.TAG,"gravity support => ".concat(window.DeviceOrientationEvent));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_closeGravity",value:function(){window.removeEventListener("deviceorientation",this.listener.get(this),!1)}},{key:"_handlerGravityEvent",value:function(e){var t=this;this.gravityTimer||(this._gravityToControlEvent(e.beta||0,e.gamma||0),this.gravityTimer=setTimeout((function(){t.gravityTimer=null}),100))}},{key:"_gravityToControlEvent",value:function(e,t){switch(this.gravityMapping){case u.GravityMaping.LeftRocker:this._gravityToRocker(e,t,"LeftRocker");break;case u.GravityMaping.RightRocker:this._gravityToRocker(e,t,"RightRocker");break;case u.GravityMaping.Mouse:this._gravityToMouse(e,t)}}},{key:"_dealRockerNumber",value:function(e){return Math.abs(e/this.rockerRotateMax)>1?e/this.rockerRotateMax>0?1:-1:e/this.rockerRotateMax}},{key:"_dealMouseNumber",value:function(e){return e/this.mouseRotateMax}},{key:"_gravityToRocker",value:function(t,r,n){t=this._dealRockerNumber(t),r=this._dealRockerNumber(r),this.options.emit(e.EventType.GravityRocker,{type:"GAMEPAD",data:{code:0,pad:{type:n,x:t*this.gravitySencitivity,y:r*this.gravitySencitivity}}})}},{key:"_gravityToMouse",value:function(t,r){this.options.gameType===u.DF_DEVICE_TYPE.MOBILE_PC&&(0===window.orientation?this.options.emit(e.EventType.GravityTouch,{y:this._dealMouseNumber(t*this.gravitySencitivity),x:this._dealMouseNumber(r*this.gravitySencitivity)}):this.options.emit(e.EventType.GravityTouch,{x:this._dealMouseNumber(t*this.gravitySencitivity),y:-this._dealMouseNumber(r*this.gravitySencitivity)}))}}]),e}();e.GamepadConfigProcess=h,(0,s.default)(h,"GravityMaping",u.GravityMaping),(0,s.default)(h,"EventType",{ChangeTouchPcMode:1,GravityRocker:2,GravityTouch:3})},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},95984:function(e,t,r){var n,o,i;r(34115),r(634),r(20796),r(18178),r(95342),r(38695),r(27233),r(15735),r(32501),r(26936),r(61657),r(76555),r(95094),r(68625),r(62775),r(34769),r(58188),r(68995),r(88233),r(93244),r(28673),r(1939),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(96573),r(35725)],n=function(e,t,n,o,i,a){"use strict";var s=r(14859);function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=s(t),n=s(n),o=s(o);var h=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"options",void 0),(0,o.default)(this,"TAG","VvGamepadDriver"),(0,o.default)(this,"gamepadControl",{keyCode:0,pressSet:new Set,leftX:0,rightX:0,leftY:0,rightY:0,leftTrigger:0,rightTrigger:0}),(0,o.default)(this,"dpadId",0),(0,o.default)(this,"vpadId",0),(0,o.default)(this,"vpadInfo",null),(0,o.default)(this,"vibrationList",null),(0,o.default)(this,"_vibrationTimer",null),this.options=d({logger:{debug:function(){},info:function(){},error:function(){},warn:function(){}},changeTouchTpye:function(){},sendControlMessage:function(){},dispatchPressMove:function(){}},r),this.vpadInfo=null}return(0,n.default)(e,[{key:"setVpadInfo",value:function(e){this.vpadInfo=e;var t=this._getVirtualVpadInfo();t?(this.dpadId=t.dpadId||0,this.vpadId=t.vpadId):(this.dpadId=0,this.vpadId=0),this.options.logger.info(this.TAG,"change vpadId => ".concat(this.vpadId,", dpadId => ").concat(this.dpadId))}},{key:"vibration",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;e===this.vpadId&&(this.vibrationList||(this.vibrationList=[]),this.vibrationList.push((r+n)/2),this._vibrationTimer&&clearTimeout(this._vibrationTimer),this._vibrationTimer=setTimeout((function(){try{if(!t.vibrationList)return;window.navigator.vibrate(t.vibrationList),t.options.logger.info(t.TAG,"phone vibrate => ".concat(t.vibrationList.toString())),t.vibrationList=[]}catch(e){t.options.logger.warn(t.TAG,"not support mobile vibrate")}}),0))}},{key:"_getVirtualVpadInfo",value:function(){if(!this.vpadInfo)return null;var e,t=u(this.vpadInfo);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!r.dpadId)return r}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"dealGamePadEvent",value:function(e,t){switch(e){case"KEYBOARD":"down"===t.keyboardAction?this._keyButtonTouch(t.code,"keydown",t.spe):this._keyButtonTouch(t.code,"keyup",t.spe);break;case"MOUSE":this._setMouseType(t.mouseButton);break;case"GAMEPAD":this._changeGamePadEvent({code:t.code,pad:t.pad,keyboardAction:t.keyboardAction}),this._gamePad(this.gamepadControl.keyCode,this.gamepadControl);break;case"MOUSEWHEEL":var r=i.ControlMessage.encodeMessage({type:i.ControlMessage.TransportHeaderTypes.InputData,packetType:i.ControlMessage.InputData.MouseWheel,data:{scrollAmt1:120*t.wheel,eventInx:0}});r&&this.options.sendControlMessage(r);break;case"PRESSMOVE":this.options.dispatchPressMove(t.pad.type,t.pad.changeVal);break;case"MOUSEMOVE":var n=i.ControlMessage.encodeMessage({type:i.ControlMessage.TransportHeaderTypes.InputData,packetType:i.ControlMessage.InputData.MouseMove,data:{mouseRelative:!t.pad.isAbsolute,x:t.pad.changeVal.x,y:t.pad.changeVal.y,eventInx:0}});n&&this.options.sendControlMessage(n);break;case"GAMEPAD_OLD":this._gamePad(t.code,t.pad)}}},{key:"_keyButtonTouch",value:function(e,t,r){if(void 0!==e){var n={code:e,keyCode:e,type:t,shiftKey:r},o=(0,a.changeKeyData)(n),s=o.keyAction,u=o.keyCode,c=o.modifiers;if(1===u||2===u||4===u){var l={1:i.ControlMessage.MouseButton.left,2:i.ControlMessage.MouseButton.right,4:i.ControlMessage.MouseButton.middle},f=i.ControlMessage.encodeMessage({type:i.ControlMessage.TransportHeaderTypes.InputData,packetType:i.ControlMessage.InputData.MouseClick,data:{mouseAction:s===i.ControlMessage.KeyAction.down?i.ControlMessage.MouseAction.press:i.ControlMessage.MouseAction.release,mouseButton:l[u],eventInx:0}});f&&this.options.sendControlMessage(f)}else{if(void 0===s||void 0===u||void 0===c)return;var d=i.ControlMessage.encodeMessage({type:i.ControlMessage.TransportHeaderTypes.InputData,packetType:i.ControlMessage.InputData.KeyClick,data:{keyAction:s,keyCode:u,modifiers:c,eventInx:0,mask:0}});d&&this.options.sendControlMessage(d)}}}},{key:"_setMouseType",value:function(e){this.options.changeTouchTpye(e)}},{key:"_changeRockerValue",value:function(e){var t=parseInt((32768*e).toFixed(0),10);return t>=32768?t=32767:t<-32768&&(t=-32768),t}},{key:"_getKeyCode",value:function(){var e,t=0,r=u(this.gamepadControl.pressSet.values());try{for(r.s();!(e=r.n()).done;)t+=e.value}catch(e){r.e(e)}finally{r.f()}return t}},{key:"_changeGamePadEvent",value:function(e){switch(e.pad.type){case"LT":this.gamepadControl.leftTrigger="down"===e.keyboardAction?255:0;break;case"RT":this.gamepadControl.rightTrigger="down"===e.keyboardAction?255:0;break;case"LTrigger":if("number"!=typeof e.code)return;this.gamepadControl.leftTrigger=e.code;break;case"RTrigger":if("number"!=typeof e.code)return;this.gamepadControl.rightTrigger=e.code;break;case"LeftRocker":this.gamepadControl.leftX=this._changeRockerValue(e.pad.x),this.gamepadControl.leftY=this._changeRockerValue(e.pad.y);break;case"RightRocker":this.gamepadControl.rightX=this._changeRockerValue(e.pad.x),this.gamepadControl.rightY=this._changeRockerValue(e.pad.y);break;case"Button":if("number"!=typeof e.code)return;"down"===e.keyboardAction?(this.gamepadControl.pressSet.add(e.code),this.gamepadControl.keyCode=this._getKeyCode()):(this.gamepadControl.pressSet.delete(e.code),this.gamepadControl.keyCode=this._getKeyCode())}}},{key:"_gamePad",value:function(e,t){if(void 0!==e){var r=i.ControlMessage.encodeMessage({type:i.ControlMessage.TransportHeaderTypes.InputData,packetType:i.ControlMessage.InputData.GamepadEvent,data:{contollerNumber:this._getGamepadNumber(),activeGamePadMask:this.vpadId,butonFlag:e,leftTrigger:t.leftTrigger,rightTrigger:t.rightTrigger,leftStickX:t.leftX,leftStickY:t.leftY,rightStickX:t.rightX,rightStickY:t.rightY,eventInx:0}});r&&this.options.sendControlMessage(r)}}},{key:"_getGamepadNumber",value:function(){try{var e=navigator.getGamepads(),t=0;if(!e)return 1;var r,n=u(e);try{for(n.s();!(r=n.n()).done;)r.value&&t++}catch(e){n.e(e)}finally{n.f()}return 0===t&&(t=1),t}catch(e){return 1}}}]),e}();e.default=h},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},20002:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={gid:66,support:[0],default_mode:0,default_mouse_enable:0,default_mouse_mode:0,game_mouse_sensitivity:0,controller_list:[{keys:[{id:1,keyData:{bgH:"controller_select_highlight_uia",bgN:"controller_select_uia",cmd:[32],src:"",name:"",desc:"",viewType:100,pressMode:1},keyLayout:{top:5,left:70,size:1,width:80,height:50}},{id:2,keyData:{bgH:"controller_start_highlight_uia",bgN:"controller_start_uia",cmd:[16],src:"",name:"",desc:"",viewType:100,pressMode:1},keyLayout:{top:5,size:1,right:160,width:80,height:50}},{id:3,keyData:{bgH:"button_hl_bg",bgN:"button_bg",cmd:[4096],src:"",name:"A",desc:"A",viewType:100,pressMode:1},keyLayout:{size:1,right:135,width:60,bottom:80,height:60}},{id:4,keyData:{bgH:"button_hl_bg",bgN:"button_bg",cmd:[8192],src:"",name:"B",desc:"B",viewType:100,pressMode:1},keyLayout:{size:1,right:90,width:60,bottom:130,height:60}},{id:5,keyData:{bgH:"button_hl_bg",bgN:"button_bg",cmd:[16384],src:"",name:"X",desc:"X",viewType:100,pressMode:1},keyLayout:{size:1,right:180,width:60,bottom:130,height:60}},{id:6,keyData:{bgH:"button_hl_bg",bgN:"button_bg",cmd:[32768],src:"",name:"Y",desc:"Y",viewType:100,pressMode:1},keyLayout:{size:1,right:135,width:60,bottom:180,height:60}},{id:7,keyData:{bgH:"controller_r2_highlight_uia",bgN:"controller_r2_uia",cmd:[0],src:"",name:"RT",desc:"RT",viewType:104,pressMode:1},keyLayout:{size:1,right:120,width:64,bottom:270,height:60}},{id:8,keyData:{bgH:"controller_r1_highlight_uia",bgN:"controller_r1_uia",cmd:[512],src:"",name:"RB",desc:"RB",viewType:100,pressMode:1},keyLayout:{size:1,right:178,width:64,bottom:254,height:60}},{id:9,keyData:{bgH:"controller_joystick_bg_highlight_uia",bgN:"controller_joystick_bg_left_uia",cmd:[128],src:"controller_joystick_fg_uib",name:"",desc:"",viewType:102,pressMode:1},keyLayout:{size:1,right:300,width:110,bottom:130,height:110}},{id:10,keyData:{bgH:"controller_joystick_bg_highlight_uia",bgN:"controller_joystick_bg_left_uia",cmd:[64],src:"controller_joystick_fg_uib",name:"",desc:"",viewType:101,pressMode:1},keyLayout:{left:75,size:1,width:110,bottom:155,height:110}},{id:11,keyData:{bgH:"controller_up_highlight_uia",bgN:"controller_up_uia",cmd:[1],src:"",name:"",desc:"",viewType:100,pressMode:1},keyLayout:{left:90,size:1,width:80,bottom:180,height:35}},{id:12,keyData:{bgH:"controller_down_highlight_uia",bgN:"controller_down_uia",cmd:[2],src:"",name:"",desc:"",viewType:100,pressMode:1},keyLayout:{left:90,size:1,width:80,bottom:55,height:35}},{id:13,keyData:{bgH:"controller_left_highlight_uia",bgN:"controller_left_uia",cmd:[4],src:"",name:"",desc:"",viewType:100,pressMode:1},keyLayout:{left:50,size:1,width:35,bottom:140,height:80}},{id:14,keyData:{bgH:"controller_right_highlight_uia",bgN:"controller_right_uia",cmd:[8],src:"",name:"",desc:"",viewType:100,pressMode:1},keyLayout:{left:175,size:1,width:35,bottom:140,height:80}},{id:15,keyData:{bgH:"controller_l2_highlight_uia",bgN:"controller_l2_uia",cmd:[67],src:"",name:"LT",desc:"LT",viewType:103,pressMode:1},keyLayout:{left:50,size:1,width:64,bottom:270,height:60}},{id:16,keyData:{bgH:"controller_l1_highlight_uia",bgN:"controller_l1_uia",cmd:[256],src:"",name:"LB",desc:"LB",viewType:100,pressMode:1},keyLayout:{left:107,size:1,width:64,bottom:254,height:60}},{id:17,keyData:{bgH:"button_hl_bg",bgN:"button_bg",cmd:[64],src:"",name:"L",desc:"L",viewType:100,pressMode:1},keyLayout:{left:30,size:1,width:40,bottom:180,height:40}},{id:18,keyData:{bgH:"button_hl_bg",bgN:"button_bg",cmd:[128],src:"",name:"R",desc:"R",viewType:100,pressMode:1},keyLayout:{size:1,right:60,width:40,bottom:180,height:40}}]}]};e.default=t})?n.apply(t,o):n)||(e.exports=i)},83144:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={gid:1088,support:[0],default_mode:0,default_mouse_enable:1,default_mouse_mode:3,game_mouse_sensitivity:.5,controller_type:1,controller_list:[{keys:[]}]};e.default=t})?n.apply(t,o):n)||(e.exports=i)},77082:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(92330),r(95984),r(50401),r(20002),r(83144)],void 0===(i="function"==typeof(n=function(e,t,n,o,i,a){"use strict";var s=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GamepadConfigProcess",{enumerable:!0,get:function(){return t.GamepadConfigProcess}}),Object.defineProperty(e,"VvGamepadDriver",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"gamepadDefault",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"gamepadDefaultPC2MOBILE",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"rebuildKeyboard2TouchConfig",{enumerable:!0,get:function(){return o.rebuildKeyboard2TouchConfig}}),n=s(n),i=s(i),a=s(a)})?n.apply(t,o):n)||(e.exports=i)},50401:function(e,t,r){var n,o,i;r(38695),r(15735),r(61657),r(95094),r(58188),r(68995),r(1939),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rebuildKeyboard2TouchConfig=r;var t=function(e,t){var r={x:65535,y:65535},n={x:1920,y:1080};return{x:parseInt((e/n.x*r.x).toFixed(0),10),y:parseInt((t/n.y*r.y).toFixed(0),10)}};function r(e){var r={down:0,move:1,lock:2,rocker:3},n={};return 1===e.controller_type&&e.controller_list&&void 0!==e.default_mode&&e.controller_list[e.default_mode]&&e.controller_list[e.default_mode].keys.forEach((function(e){if(e.keyboardToTouchData)if("mouseleft"===e.keyboardToTouchData.keyDesc&&(e.keyboardToTouchData.keyDesc="left"),"mouseright"===e.keyboardToTouchData.keyDesc&&(e.keyboardToTouchData.keyDesc="right"),e.keyboardToTouchData.eventType===r.down){if(void 0!==e.keyboardToTouchData.keyDesc){var o=t(e.keyboardToTouchData.target[0],e.keyboardToTouchData.target[1]);n[e.keyboardToTouchData.keyDesc.toLowerCase()]={x:o.x,y:o.y}}}else if(e.keyboardToTouchData.eventType===r.move);else if(e.keyboardToTouchData.eventType===r.lock){if(void 0!==e.keyboardToTouchData.keyDesc){var i=t(e.keyboardToTouchData.target[0],e.keyboardToTouchData.target[1]);n.togglemouselock={key:e.keyboardToTouchData.keyDesc,x:i.x,y:i.y}}}else if(e.keyboardToTouchData.eventType===r.rocker&&void 0!==e.keyboardToTouchData.keyDesc){var a=t(e.keyboardToTouchData.target[0],e.keyboardToTouchData.target[1]);if(n[e.keyboardToTouchData.keyDesc.toLowerCase()]={x:a.x,y:a.y,stages:e.keyboardToTouchData.stages},void 0!==e.keyboardToTouchData.startPoint){var s=t(e.keyboardToTouchData.startPoint[0],e.keyboardToTouchData.startPoint[1]);n.center={x:s.x,y:s.y}}}})),n}})?n.apply(t,o):n)||(e.exports=i)},34666:function(e,t,r){var n,o,i;r(34115),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(34815),r(62797),r(56494),r(63377),r(44153)],n=function(e,t,n,o,i,a,s,u,c){"use strict";var l=r(14859);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLogger=void 0,t=l(t),n=l(n),o=l(o),i=l(i),a=l(a),s=l(s),u=l(u),c=l(c);var h=function(){function e(){(0,t.default)(this,e)}return(0,n.default)(e,null,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.reportUrl,n=void 0===r?"":r,o=t.toConsole,i=void 0!==o&&o,a=t.uid,l=void 0===a?0:a,f=t.flowId,d=void 0===f?"":f,h=t.appId,p=void 0===h?"":h,v=t.sdkVersion,y=void 0===v?"":v,g=t.ugid,m=void 0===g?0:g,b=t.allowLevel,w=void 0===b?4:b;if(!e.isInit){e.isInit=!0,e.defaultComposeData={UID:l,FLOWID:d,UAPP:p,Version:y,UGID:m,AllowedLevel:w},e.defaultComposeLog.setConfig(e.defaultComposeData);var T=new s.default;T.setConfig({maxCount:10,maxInterval:200,seperator:"\n"});var _=new u.default;_.setConfig({maxRetryTimes:3,retryIntervalListSec:[.1,.3,.5]});var k=e.defaultLogger.setConfig({level:i?4:9999}).next(e.defaultComposeLog,"").next(T,"").next(_,"");if(n){var E=new c.default;E.setConfig({url:n,timeout:1e3}),k.next(E,"ali")}}return e.defaultLogger}},{key:"updateDefaultComposeData",value:function(t){e.defaultComposeLog&&(e.defaultComposeData=d(d({},e.defaultComposeData),t),e.defaultComposeLog.setConfig(e.defaultComposeData))}},{key:"trace",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.defaultLogger.trace(t,r,n)}},{key:"debug",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.defaultLogger.debug(t,r,n)}},{key:"info",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.defaultLogger.info(t,r,n)}},{key:"warn",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.defaultLogger.warn(t,r,n)}},{key:"error",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.defaultLogger.error(t,r,n)}}]),e}();e.DefaultLogger=h,(0,o.default)(h,"isInit",!1),(0,o.default)(h,"defaultLogger",new i.default),(0,o.default)(h,"defaultComposeLog",new a.default),(0,o.default)(h,"defaultComposeData",{})},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},34815:function(e,t,r){var n,o,i;r(34115),r(18178),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(58188),r(73439),r(17368),r(77950),r(88233),r(35734),r(85940),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(58921),r(50085),r(15198),r(81260),r(79830)],n=function(e,t,n,o,i,a){"use strict";var s=r(14859);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=s(t),n=s(n),o=s(o),i=s(i);var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,n.default)(this,e),(0,i.default)(this,"TAG","[ViuLogger]"),(0,i.default)(this,"config",{level:a.LOG_LEVEL.DISABLE,getCatch:!0}),(0,i.default)(this,"promInstNextFunc",null),(0,i.default)(this,"bPrintLog",void 0),this.bPrintLog=t}return(0,o.default)(e,[{key:"setConfig",value:function(e){return this.config.level=e.level,this._Log("set config:".concat(JSON.stringify(this.config))),this}},{key:"next",value:function(e,t){if(this._Log("next [".concat(t,"]")),"function"==typeof e)return this.promInstNextFunc=e,this;if(null!==e&&void 0!==e.run)return this.promInstNextFunc=e.run.bind(e),e;throw new Error("promise instance miss run()")}},{key:"trace",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._logInner({level:a.LOG_LEVEL.TRACE,tag:e,msg:t,code:r,bForceConsoleLog:!1})}},{key:"debug",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._logInner({level:a.LOG_LEVEL.DEBUG,tag:e,msg:t,code:r,bForceConsoleLog:!1})}},{key:"info",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._logInner({level:a.LOG_LEVEL.INFO,tag:e,msg:t,code:r,bForceConsoleLog:!1})}},{key:"warn",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._logInner({level:a.LOG_LEVEL.WARN,tag:e,msg:t,code:r,bForceConsoleLog:!1})}},{key:"error",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._logInner({level:a.LOG_LEVEL.ERROR,tag:e,msg:t,code:r,bForceConsoleLog:!1})}},{key:"log",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._logInner({level:e,tag:t,msg:r,code:n,bForceConsoleLog:o})}},{key:"_logInner",value:function(e){var t=this,r=e.level,n=e.tag,o=e.msg,i=e.bForceConsoleLog,s=void 0!==i&&i,u=new Promise((function(i,u){if(!n||!o)return t._Log("invalid params"),void u(new Error("打印日志非法参数"));var l;l=(l=t._isJson(o)?JSON.stringify(o):o.toString()).replace(/"/g,"'");var f,d=t._dateFormat("YYYY-mm-dd HH:MM:SS.NN",new Date),h=t.config.level<=r||s,p="undefined"==typeof window;h?(f="日志输出成功",r===a.LOG_LEVEL.TRACE||r===a.LOG_LEVEL.DEBUG||r===a.LOG_LEVEL.INFO?console.log(d,n,l,p?"(in worker)":"(main)"):r===a.LOG_LEVEL.WARN?console.warn(d,n,l,p?"(in worker)":"(main)"):r===a.LOG_LEVEL.ERROR?console.error(d,n,l,p?"(in worker)":"(main)"):console.error(d,l,n,"invalid level:".concat(r),p?"(in worker)":"(main)")):f="该level不允许输出日志,input level:".concat(r,",allowed level:").concat(t.config.level),t._Log(f),t.promInstNextFunc?(t._Log("执行next"),t.promInstNextFunc(c(c({},e),{},{msg:"(".concat(n,")").concat(e.msg),time:d})).then((function(e){return i(e)})).catch((function(e){u(e)}))):i({ret:h,code:0,msg:f})}));return this.config.getCatch&&u.catch((function(){})),u}},{key:"_isJson",value:function(e){return"object"===(0,t.default)(e)&&"[object object]"===Object.prototype.toString.call(e).toLowerCase()&&!e.length}},{key:"_dateFormat",value:function(e,t){var r,n={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString(),"N+":t.getMilliseconds().toString()};for(var o in n)(r=new RegExp("(".concat(o,")")).exec(e))&&(e=e.replace(r[1],1===r[1].length?n[o]:n[o].padStart(r[1].length,"0")));return e}},{key:"_Log",value:function(e){this.bPrintLog&&console.log(this.TAG,e)}}],[{key:"instance",value:function(){return this._instance||(this._instance=new e(!1)),this._instance}}]),e}();e.default=l,(0,i.default)(l,"_instance",null)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},79830:function(e,t,r){var n,o,i;r(15735),r(79321),r(95094),r(58188),r(28673),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LOG_LEVEL_NAME=e.LOG_LEVEL=void 0;var t={TRACE:2,DEBUG:3,INFO:4,WARN:5,ERROR:6,DISABLE:99};e.LOG_LEVEL=t;var r=new Map([[t.TRACE,"TRACE"],[t.DEBUG,"DEBUG"],[t.INFO,"INFO"],[t.WARN,"WARN"],[t.ERROR,"ERROR"],[t.DISABLE,"DISABLE"]]);e.LOG_LEVEL_NAME=r})?n.apply(t,o):n)||(e.exports=i)},42891:function(e,t,r){var n,o,i;r(18178),r(15735),r(95094),r(58188),r(88233),r(28673),r(6886),r(14121),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(34815),r(62797),r(56494),r(63377),r(44153),r(34666)],n=function(e,t,n,o,i,a,s,u,c,l){"use strict";var f=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DefaultLogger",{enumerable:!0,get:function(){return l.DefaultLogger}}),e.LightplayLogger=void 0,Object.defineProperty(e,"ViuLogger",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"VvAliHttpSender",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"VvStrategyComposeLog",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"VvStrategyMessageJoin",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"VvStrategyRetry",{enumerable:!0,get:function(){return u.default}}),t=f(t),n=f(n),o=f(o),i=f(i),a=f(a),s=f(s),u=f(u),c=f(c);var d=function(){function e(){(0,t.default)(this,e)}return(0,n.default)(e,null,[{key:"isSupportWorker",value:function(){return"undefined"!=typeof Worker}},{key:"init",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.isSupportWorker())try{if(n){var o=new Blob(['importScripts("'.concat(n,"?t=").concat(Date.now(),'")')],{type:"application/javascript"}),i=URL.createObjectURL(o);e.loggerWorker=new Worker(i)}else e.loggerWorker=new Worker(new URL(r.p+r.u(397),r.b));e.readyTimer=setTimeout((function(){e.workerError("worker load timeout",t)}),5e3),e.loggerWorker.onmessage=function(r){var n,o=null;try{o=JSON.parse(r.data)}catch(r){}switch(null===(n=o)||void 0===n?void 0:n.type){case"ready":var i;e.readyTimer&&clearTimeout(e.readyTimer),o.result?null===(i=e.loggerWorker)||void 0===i||i.postMessage(JSON.stringify({type:"init",data:t})):e.workerError("worker no support and change to normal way",t);break;case"initRep":o.result||e.workerError("worker init error and change to normal way",t)}},e.loggerWorker.postMessage(JSON.stringify({type:"load"}))}catch(r){e.workerError(r,t)}else l.DefaultLogger.init(t),l.DefaultLogger.info(e.TAG,"worker no support")}},{key:"workerError",value:function(t,r){e.loggerWorker=null,l.DefaultLogger.init(r),l.DefaultLogger.warn(e.TAG,"worker way error and change to normal way => ".concat(t.toString()))}},{key:"updateDefaultComposeData",value:function(t){e.loggerWorker?e.loggerWorker.postMessage(JSON.stringify({type:"updateDefaultComposeData",data:t})):l.DefaultLogger.updateDefaultComposeData(t)}},{key:"trace",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.loggerWorker?e.loggerWorker.postMessage(JSON.stringify({type:"trace",data:{tag:t,msg:r,code:n}})):l.DefaultLogger.trace(t,r,n)}},{key:"debug",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.loggerWorker?e.loggerWorker.postMessage(JSON.stringify({type:"debug",data:{tag:t,msg:r,code:n}})):l.DefaultLogger.debug(t,r,n)}},{key:"info",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.loggerWorker?e.loggerWorker.postMessage(JSON.stringify({type:"info",data:{tag:t,msg:r,code:n}})):l.DefaultLogger.info(t,r,n)}},{key:"warn",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.loggerWorker?e.loggerWorker.postMessage(JSON.stringify({type:"warn",data:{tag:t,msg:r,code:n}})):l.DefaultLogger.warn(t,r,n)}},{key:"error",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.loggerWorker?e.loggerWorker.postMessage(JSON.stringify({type:"error",data:{tag:t,msg:r,code:n}})):l.DefaultLogger.error(t,r,n)}}]),e}();e.LightplayLogger=d,(0,o.default)(d,"TAG","LightplayLogger"),(0,o.default)(d,"loggerWorker",null),(0,o.default)(d,"readyTimer",null)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},44153:function(e,t,r){var n,o,i;r(34115),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(58188),r(73439),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(17925)],n=function(e,t,n,o,i){"use strict";var a=r(14859);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=a(t),n=a(n),o=a(o),i=a(i);var c=function(){function e(){(0,t.default)(this,e),(0,o.default)(this,"TAG","[VvAliHttpSender]"),(0,o.default)(this,"config",{url:"",timeout:6e3,method:"POST",header:{"Content-Type":"text/plain;charset=UTF-8"}}),(0,o.default)(this,"promInstNextFunc",null)}return(0,n.default)(e,[{key:"setConfig",value:function(e){return this.config=u(u({},this.config),e),this}},{key:"next",value:function(e,t){if("function"==typeof e)return this.promInstNextFunc=e,this;if(void 0!==e.run)return this.promInstNextFunc=e.run.bind(e),e;throw new Error("promise instance miss run()")}},{key:"run",value:function(e){var t=this;return new Promise((function(r,n){t.config.url?(0,i.default)({method:t.config.method,headers:t.config.header,url:t.config.url,data:e.msg,timeout:t.config.timeout}).then((function(n){t.promInstNextFunc?t.promInstNextFunc(e).then((function(e){return r(e)})).catch((function(e){r({ret:!1,code:-1,msg:JSON.stringify(e)})})):r({ret:!0,code:0,msg:"上传完成"})})).catch((function(e){r({ret:!1,code:-1,msg:JSON.stringify(e)})})):r({ret:!1,code:-1,msg:"未设置URL地址"})}))}}]),e}();e.default=c},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},62797:function(e,t,r){var n,o,i;r(34115),r(18178),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(58188),r(73439),r(21515),r(77950),r(85940),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(79830),r(37959)],n=function(e,t,n,o,i,a){"use strict";var s=r(14859);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=s(t),n=s(n),o=s(o);var l=function(){function e(){(0,t.default)(this,e),(0,o.default)(this,"TAG","[VvStrategyComposeLog]"),(0,o.default)(this,"config",{AllowedLevel:i.LOG_LEVEL.INFO}),(0,o.default)(this,"logSequenceID",0),(0,o.default)(this,"promInstNextFunc",null)}return(0,n.default)(e,[{key:"setConfig",value:function(e){return this.config=c(c({},this.config),e),this}},{key:"next",value:function(e,t){if("function"==typeof e)return this.promInstNextFunc=e,this;if(void 0!==e.run)return this.promInstNextFunc=e.run.bind(e),e;throw new Error("promise instance miss run()")}},{key:"run",value:function(e){var t=this;return new Promise((function(r,n){if(void 0!==t.config.UID&&void 0!==t.config.FLOWID&&void 0!==t.config.UAPP&&void 0!==t.config.UGID)if(e.level<t.config.AllowedLevel)n(new Error("该level不允许上报"));else{++t.logSequenceID;var o="(".concat(t.logSequenceID,")").concat(e.msg);o=o.replace(/"/g,"'");var s="{"+"UID=".concat(t.config.UID,", ")+"FLOWID=".concat(t.config.FLOWID,", ")+"EVENT=".concat(t.config.EVENT||0,", ")+"APPCODE=".concat(t.config.APPCODE||0,", ")+"UAPP=".concat(t.config.UAPP,", ")+"Version=".concat(t.config.Version,", ")+"NetType=".concat((0,a.getNetworkStatus)().typeText,", ")+"UGID=".concat(t.config.UGID,", ")+"Time=".concat(e.time,", ")+"Tag=".concat(e.tag,", ")+"Level=".concat(i.LOG_LEVEL_NAME.get(e.level),", ")+"Code=".concat(e.code,", ")+"Content=".concat(o,", ")+"USERAGENT=".concat(navigator.userAgent,"}");t.promInstNextFunc?t.promInstNextFunc({time:e.time,level:e.level,tag:e.tag,code:e.code,bForceConsoleLog:e.bForceConsoleLog,msg:s}).then((function(e){return r(e)})).catch((function(e){return n(e)})).finally((function(){r({ret:!0,code:0,msg:"执行完毕"})})):r({ret:!0,code:0,msg:"执行成功"})}else n(new Error("有上报参数未初始化"))}))}}]),e}();e.default=l},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},56494:function(e,t,r){var n,o,i;r(38695),r(16781),r(95094),r(58188),r(73439),r(21515),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260)],n=function(e,t,n,o){"use strict";var i=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=i(t),n=i(n),o=i(o);var a=function(){function e(){(0,t.default)(this,e),(0,o.default)(this,"TAG","[VvStrategyMessageJoin]"),(0,o.default)(this,"config",{maxCount:10,maxInterval:1e3,seperator:"\n"}),(0,o.default)(this,"promInstNextFunc",null),(0,o.default)(this,"messageList",{msg:[],resolve:[],reject:[]}),(0,o.default)(this,"timer",null),(0,o.default)(this,"sequeneceID",0)}return(0,n.default)(e,[{key:"setConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.maxCount,r=void 0===t?10:t,n=e.maxInterval,o=void 0===n?1e3:n,i=e.seperator,a=void 0===i?"\n":i;return this.config={maxCount:r,maxInterval:o,seperator:a},this}},{key:"next",value:function(e,t){if("function"==typeof e)return this.promInstNextFunc=e,this;if(void 0!==e.run)return this.promInstNextFunc=e.run.bind(e),e;throw new Error("promise instance miss run()")}},{key:"run",value:function(e){var t=this;return new Promise((function(r,n){if(t.messageList.msg.push(e.msg),t.messageList.resolve.push(r),t.messageList.reject.push(n),t.timer=setTimeout((function(){var e=t.messageList;t.messageList={msg:[],resolve:[],reject:[]},t._startNext(e,t.sequeneceID),++t.sequeneceID}),t.config.maxInterval),t.messageList.msg.length>=t.config.maxCount){clearTimeout(t.timer);var o=t.messageList;t.messageList={msg:[],resolve:[],reject:[]},t._startNext(o,t.sequeneceID),++t.sequeneceID}}))}},{key:"_startNext",value:function(e,t){var r=this;if(0!==e.msg.length){var n=e.msg.join(this.config.seperator)+this.config.seperator;this.promInstNextFunc?this.promInstNextFunc({time:"",level:0,tag:"",code:0,bForceConsoleLog:!1,msg:n}).then((function(n){return r._resolveAll(e,n,t)})).catch((function(n){return r._rejectAll(e,n,t)})).finally((function(){})):this._resolveAll(e,{ret:!0,code:0,msg:"成功"},t)}}},{key:"_resolveAll",value:function(e,t,r){e.resolve.forEach((function(e,r){e(t)}))}},{key:"_rejectAll",value:function(e,t,r){e.reject.forEach((function(e,r){e(t)}))}}]),e}();e.default=a},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},63377:function(e,t,r){var n,o,i;r(95094),r(58188),r(73439),r(21515),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260)],void 0===(i="function"==typeof(n=function(e,t,n,o){"use strict";var i=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=i(t),n=i(n),o=i(o);var a=function(){function e(){(0,t.default)(this,e),(0,o.default)(this,"TAG","[VvStrategyRetry]"),(0,o.default)(this,"config",{maxRetryTimes:20,retryIntervalListSec:[1,3,7,10,15]}),(0,o.default)(this,"promInstNextFunc",null)}return(0,n.default)(e,[{key:"setConfig",value:function(e){var t=e.maxRetryTimes,r=void 0===t?20:t,n=e.retryIntervalListSec,o=void 0===n?[1,3,7,10,15]:n;return this.config={maxRetryTimes:r,retryIntervalListSec:o},this}},{key:"next",value:function(e,t){if("function"==typeof e)return this.promInstNextFunc=e,this;if(void 0!==e.run)return this.promInstNextFunc=e.run.bind(e),e;throw new Error("promise instance miss run()")}},{key:"run",value:function(e){var t=this;return new Promise((function(r,n){t._doStart(r,n,e,1)}))}},{key:"_doStart",value:function(e,t,r,n){var o=this;this.promInstNextFunc?this.promInstNextFunc(r).then((function(t){e(t)})).catch((function(i){if(n>=o.config.maxRetryTimes)return t(i);var a=n<o.config.retryIntervalListSec.length?n:o.config.retryIntervalListSec.length-1,s=1e3*o.config.retryIntervalListSec[a];setTimeout((function(){o._doStart(e,t,r,n+1)}),s)})).finally((function(){})):t(new Error("未设置next执行体"))}}]),e}();e.default=a})?n.apply(t,o):n)||(e.exports=i)},17925:function(e,t,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";e.exports=r(63049)})?n.apply(t,o):n)||(e.exports=i)},77059:function(e,t,r){var n,o,i;r(38695),r(74083),r(58188),r(73439),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015),n=r(56411),o=r(142),i=r(72596),a=r(41764),s=r(35141),u=r(12242),c=r(89277),l=r(90059),f=r(82045);e.exports=function(e){return new Promise((function(r,d){var h,p=e.data,v=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}t.isFormData(p)&&delete v["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+w)}var T=a(e.baseURL,e.url);function _(){if(m){var t="getAllResponseHeaders"in m?s(m.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:t,config:e,request:m};n((function(e){r(e),g()}),(function(e){d(e),g()}),o),m=null}}if(m.open(e.method.toUpperCase(),i(T,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(_)},m.onabort=function(){m&&(d(c("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){d(c("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),d(c(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},t.isStandardBrowserEnv()){var k=(e.withCredentials||u(T))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;k&&(v[e.xsrfHeaderName]=k)}"setRequestHeader"in m&&t.forEach(v,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete v[t]:m.setRequestHeader(t,e)})),t.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),y&&"json"!==y&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){m&&(d(!e||e&&e.type?new f("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),m.send(p)}))}})?n.apply(t,o):n)||(e.exports=i)},63049:function(e,t,r){var n,o,i;r(15735),r(58188),r(73439),r(28673),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015),n=r(59726),o=r(66993),i=r(49444);function a(e){var r=new o(e),s=n(o.prototype.request,r);return t.extend(s,o.prototype,r),t.extend(s,r),s.create=function(t){return a(i(e,t))},s}var s=a(r(48520));s.Axios=o,s.Cancel=r(82045),s.CancelToken=r(5),s.isCancel=r(25),s.VERSION=r(27683).version,s.all=function(e){return Promise.all(e)},s.spread=r(55154),s.isAxiosError=r(92271),e.exports=s,e.exports.default=s})?n.apply(t,o):n)||(e.exports=i)},82045:function(e,t,r){var n,o,i;r(58188),r(88233),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t})?n.apply(t,o):n)||(e.exports=i)},5:function(e,t,r){var n,o,i;r(74083),r(99805),r(58188),r(73439),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(82045);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(e){r=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new t(e),r(n.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},n.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n})?n.apply(t,o):n)||(e.exports=i)},25:function(e,t){var r,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[],void 0===(o="function"==typeof(r=function(){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}})?r.apply(t,n):r)||(e.exports=o)},66993:function(e,t,r){var n,o,i;r(18178),r(38695),r(58188),r(73439),r(77950),r(85940),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015),n=r(72596),o=r(51511),i=r(25597),a=r(49444),s=r(76234),u=s.validators;function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&s.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var c,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var f=[i,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(l),c=Promise.resolve(t);f.length;)c=c.then(f.shift(),f.shift());return c}for(var d=t;n.length;){var h=n.shift(),p=n.shift();try{d=h(d)}catch(e){p(e);break}}try{c=i(d)}catch(e){return Promise.reject(e)}for(;l.length;)c=c.then(l.shift(),l.shift());return c},c.prototype.getUri=function(e){return e=a(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},t.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),t.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=c})?n.apply(t,o):n)||(e.exports=i)},51511:function(e,t,r){var n,o,i;r(38695),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015);function n(){this.handlers=[]}n.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){t.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n})?n.apply(t,o):n)||(e.exports=i)},41764:function(e,t,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(70149),n=r(44308);e.exports=function(e,r){return e&&!t(r)?n(e,r):r}})?n.apply(t,o):n)||(e.exports=i)},89277:function(e,t,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(64942);e.exports=function(e,r,n,o,i){var a=new Error(e);return t(a,r,n,o,i)}})?n.apply(t,o):n)||(e.exports=i)},25597:function(e,t,r){var n,o,i;r(38695),r(58188),r(73439),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015),n=r(35889),o=r(25),i=r(48520),a=r(82045);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=t.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),t.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return s(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}})?n.apply(t,o):n)||(e.exports=i)},64942:function(e,t,r){var n,o,i;r(34115),r(634),r(94148),r(26936),r(85371),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}})?n.apply(t,o):n)||(e.exports=i)},49444:function(e,t,r){var n,o,i;r(18178),r(38695),r(32501),r(34769),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015);e.exports=function(e,r){r=r||{};var n={};function o(e,r){return t.isPlainObject(e)&&t.isPlainObject(r)?t.merge(e,r):t.isPlainObject(r)?t.merge({},r):t.isArray(r)?r.slice():r}function i(n){return t.isUndefined(r[n])?t.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],r[n])}function a(e){if(!t.isUndefined(r[e]))return o(void 0,r[e])}function s(n){return t.isUndefined(r[n])?t.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,r[n])}function u(t){return t in r?o(e[t],r[t]):t in e?o(void 0,e[t]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return t.forEach(Object.keys(e).concat(Object.keys(r)),(function(e){var r=c[e]||i,o=r(e);t.isUndefined(o)&&r!==u||(n[e]=o)})),n}})?n.apply(t,o):n)||(e.exports=i)},56411:function(e,t,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(89277);e.exports=function(e,r,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?r(t("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}})?n.apply(t,o):n)||(e.exports=i)},35889:function(e,t,r){var n,o,i;r(38695),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015),n=r(48520);e.exports=function(e,r,o){var i=this||n;return t.forEach(o,(function(t){e=t.call(i,e,r)})),e}})?n.apply(t,o):n)||(e.exports=i)},48520:function(e,t,r){var n,o,i;r(38695),r(26936),r(58188),r(88233),r(45794),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015),n=r(50022),o=r(64942),i=r(90059),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,r){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function u(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=r(77059)),e}function c(e,r,n){if(t.isString(e))try{return(r||JSON.parse)(e),t.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}var l={transitional:i,adapter:u(),transformRequest:[function(e,r){return n(r,"Accept"),n(r,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(s(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)||r&&"application/json"===r["Content-Type"]?(s(r,"application/json"),c(e)):e}],transformResponse:[function(e){var r=this.transitional||l.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&t.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),t.forEach(["post","put","patch"],(function(e){l.headers[e]=t.merge(a)})),e.exports=l})?n.apply(t,o):n)||(e.exports=i)},90059:function(e,t){var r,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[],void 0===(o="function"==typeof(r=function(){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}})?r.apply(t,n):r)||(e.exports=o)},27683:function(e,t){var r,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[],void 0===(o="function"==typeof(r=function(){"use strict";e.exports={version:"0.26.1"}})?r.apply(t,n):r)||(e.exports=o)},59726:function(e,t){var r,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[],r=function(){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},void 0===(o="function"==typeof r?r.apply(t,n):r)||(e.exports=o)},72596:function(e,t,r){var n,o,i;r(38695),r(74083),r(16781),r(32501),r(85713),r(58188),r(77950),r(88233),r(85940),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,r,o){if(!r)return e;var i;if(o)i=o(r);else if(t.isURLSearchParams(r))i=r.toString();else{var a=[];t.forEach(r,(function(e,r){null!=e&&(t.isArray(e)?r+="[]":e=[e],t.forEach(e,(function(e){t.isDate(e)?e=e.toISOString():t.isObject(e)&&(e=JSON.stringify(e)),a.push(n(r)+"="+n(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}})?n.apply(t,o):n)||(e.exports=i)},44308:function(e,t,r){var n,o,i;r(77950),r(85940),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}})?n.apply(t,o):n)||(e.exports=i)},142:function(e,t,r){var n,o,i;r(16781),r(17368),r(77950),r(88233),r(74069),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015);e.exports=t.isStandardBrowserEnv()?{write:function(e,r,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(r)),t.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),t.isString(o)&&s.push("path="+o),t.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})?n.apply(t,o):n)||(e.exports=i)},70149:function(e,t){var r,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[],void 0===(o="function"==typeof(r=function(){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}})?r.apply(t,n):r)||(e.exports=o)},92271:function(e,t,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015);e.exports=function(e){return t.isObject(e)&&!0===e.isAxiosError}})?n.apply(t,o):n)||(e.exports=i)},12242:function(e,t,r){var n,o,i;r(77950),r(85940),r(94908),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015);e.exports=t.isStandardBrowserEnv()?function(){var e,r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var t=e;return r&&(n.setAttribute("href",t),t=n.href),n.setAttribute("href",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(r){var n=t.isString(r)?o(r):r;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}})?n.apply(t,o):n)||(e.exports=i)},50022:function(e,t,r){var n,o,i;r(38695),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015);e.exports=function(e,r){t.forEach(e,(function(t,n){n!==r&&n.toUpperCase()===r.toUpperCase()&&(e[r]=t,delete e[n])}))}})?n.apply(t,o):n)||(e.exports=i)},35141:function(e,t,r){var n,o,i;r(18178),r(38695),r(74083),r(77950),r(48319),r(45794),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(n=function(){"use strict";var t=r(93015),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var r,o,i,a={};return e?(t.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),r=t.trim(e.substr(0,i)).toLowerCase(),o=t.trim(e.substr(i+1)),r){if(a[r]&&n.indexOf(r)>=0)return;a[r]="set-cookie"===r?(a[r]?a[r]:[]).concat([o]):a[r]?a[r]+", "+o:o}})),a):a}})?n.apply(t,o):n)||(e.exports=i)},55154:function(e,t){var r,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[],void 0===(o="function"==typeof(r=function(){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}})?r.apply(t,n):r)||(e.exports=o)},76234:function(e,t,r){var n,o,i;r(38695),r(34769),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[r(58921)],void 0===(i="function"==typeof(n=function(t){"use strict";var n=r(14859);t=n(t);var o=r(27683).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,r){i[e]=function(n){return(0,t.default)(n)===e||"a"+(r<1?"n ":" ")+e}}));var a={};function s(e,r,n){if("object"!==(0,t.default)(e))throw new TypeError("options must be an object");for(var o=Object.keys(e),i=o.length;i-- >0;){var a=o[i],s=r[a];if(s){var u=e[a],c=void 0===u||s(u,a,e);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+a)}}i.transitional=function(e,t,r){function n(e,t){return"[Axios v"+o+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,o,i){if(!1===e)throw new Error(n(o," has been removed"+(t?" in "+t:"")));return t&&!a[o]&&(a[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,i)}},e.exports={assertOptions:s,validators:i}})?n.apply(t,o):n)||(e.exports=i)},93015:function(e,t,r){var n,o,i;r(32501),r(65388),r(48777),r(72994),r(96928),r(58188),r(77950),r(88233),r(85940),r(45794),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[r(58921)],n=function(t){"use strict";var n=r(14859);t=n(t);var o=r(59726),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function s(e){return void 0===e}function u(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===i.call(e)}function l(e){return"[object FormData]"===i.call(e)}function f(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer)}function d(e){return"string"==typeof e}function h(e){return"number"==typeof e}function p(e){return null!==e&&"object"===(0,t.default)(e)}function v(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function y(e){return"[object Date]"===i.call(e)}function g(e){return"[object File]"===i.call(e)}function m(e){return"[object Blob]"===i.call(e)}function b(e){return"[object Function]"===i.call(e)}function w(e){return p(e)&&b(e.pipe)}function T(e){return"[object URLSearchParams]"===i.call(e)}function _(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function k(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document}function E(e,r){if(null!=e)if("object"!==(0,t.default)(e)&&(e=[e]),a(e))for(var n=0,o=e.length;n<o;n++)r.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.call(null,e[i],i,e)}function C(){var e={};function t(t,r){v(e[r])&&v(t)?e[r]=C(e[r],t):v(t)?e[r]=C({},t):a(t)?e[r]=t.slice():e[r]=t}for(var r=0,n=arguments.length;r<n;r++)E(arguments[r],t);return e}function S(e,t,r){return E(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e}function A(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:a,isArrayBuffer:c,isBuffer:u,isFormData:l,isArrayBufferView:f,isString:d,isNumber:h,isObject:p,isPlainObject:v,isUndefined:s,isDate:y,isFile:g,isBlob:m,isFunction:b,isStream:w,isURLSearchParams:T,isStandardBrowserEnv:k,forEach:E,merge:C,extend:S,trim:_,stripBOM:A}},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},89312:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(96573)],void 0===(i="function"==typeof(n=function(e,t,n,o,i){"use strict";var a=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=a(t),n=a(n),o=a(o);var s=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"lightplay",void 0),(0,o.default)(this,"messageHandler",void 0),(0,o.default)(this,"sendMessageCallback",void 0),(0,o.default)(this,"sendMessageTimer",null),(0,o.default)(this,"sSeq",0),this.lightplay=r,this.messageHandler=function(){},this.sendMessageCallback=function(){},this.lightplay.onGameDataListener=this._selfMessageHandler.bind(this)}return(0,n.default)(e,[{key:"lpSetMessageHandler",value:function(e){"function"==typeof e&&this.lightplay&&(this.messageHandler=e)}},{key:"_selfMessageHandler",value:function(t){t&&(t.calType===e.TYPE_LS_LP&&(this.messageHandler({mid:t.seq,payload:t.byte}),this.lightplay.sendGameData({prodata:"客户端收到消息回包",seq:t.seq,type:e.TYPE_ACK,time:t.time,asBytes:t.asBytes})),t.calType===e.TYPE_ACK&&(this.sendMessageTimer&&clearTimeout(this.sendMessageTimer),this.sendMessageCallback(!0,this.sSeq)))}},{key:"lpSendMessage",value:function(t,r){var n=this;this.sendMessageCallback=r,this.sendMessageTimer=setTimeout((function(){n.sendMessageCallback(!1,n.sSeq)}),3e3),this.lightplay&&this.lightplay.sendGameData&&(this.sSeq++,this.lightplay.sendGameData({prodata:t,seq:this.sSeq,type:e.TYPE_LP_LS,time:Date.now()}))}},{key:"lpSetLogEnable",value:function(){}},{key:"lpDisconnect",value:function(){}},{key:"lpIsRunningCloud",value:function(){}},{key:"lpGetConfigInfo",value:function(){}}],[{key:"getInstance",value:function(t){return e._instance||(e._instance=new e(t)),e._instance}}]),e}();e.default=s,(0,o.default)(s,"ControlMessage",i.ControlMessage),(0,o.default)(s,"TYPE_InputData",518),(0,o.default)(s,"PacketType",49),(0,o.default)(s,"TYPE_LS_LP",1),(0,o.default)(s,"TYPE_LP_LS",2),(0,o.default)(s,"TYPE_ACK",3),(0,o.default)(s,"HEAD_LENGTH",12),(0,o.default)(s,"LE",!0),(0,o.default)(s,"BE",!1),(0,o.default)(s,"_instance",void 0)})?n.apply(t,o):n)||(e.exports=i)},67367:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(89312)],void 0===(i="function"==typeof(n=function(e,t){"use strict";var n=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LPMessageSDK",{enumerable:!0,get:function(){return t.default}}),t=n(t)})?n.apply(t,o):n)||(e.exports=i)},89647:function(e,t,r){var n,o,i;r(15735),r(65388),r(72994),r(95206),r(79321),r(71245),r(95094),r(58188),r(68995),r(28673),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(58921),r(50085),r(15198),r(81260),r(66534),r(39278)],n=function(e,t,n,o,i,a,s){"use strict";var u=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=u(t),n=u(n),o=u(o),i=u(i);var c=function(){function e(){(0,n.default)(this,e)}return(0,o.default)(e,null,[{key:"encodeMessage",value:function(t){switch(t.type){case a.TransportHeaderTypes.StartA:case a.TransportHeaderTypes.StartB:case a.TransportHeaderTypes.InvalidateRefFrames:return e._initCommonPackage(t.type,4).buffer;case a.TransportHeaderTypes.InputData:return e._encodeInputData(t);case a.TransportHeaderTypes.KeyBoardStatus:return e._encodeKeyBoardStatus(t);case a.TransportHeaderTypes.PingData:return e._encodePingData();case a.TransportHeaderTypes.Login:return e._encodeLogin(t);case a.TransportHeaderTypes.Query:return e._encodeQueryData(t);case a.TransportHeaderTypes.AdjustEncoderSetting:return e._encodeAdjustEncoderSetting(t);case a.TransportHeaderTypes.AdjustRTCSetting:return e._encodeAdjustRTCSetting(t);case a.TransportHeaderTypes.InputAudioData:return e._encodeInputAudioData(t);default:return null}}},{key:"decodeMessage",value:function(t){var r=new DataView(t);switch(r.getInt16(0,e.LE)){case a.TransportHeaderTypes.InputData:return e._decodeInputData(r);case a.TransportHeaderTypes.NotifyType:return e._decodeNotifyType(r);case a.TransportHeaderTypes.PingData:return e._decodePingData(r);case a.TransportHeaderTypes.Query:return e._decodeQueryData(r);default:return null}}},{key:"_initCommonPackage",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new ArrayBuffer(e.typeLength+e.payloadByteSizeLength+r),o=new DataView(n);return o.setInt16(0,t,e.LE),o.setInt16(2,r,e.LE),{buffer:n,asBytes:o,offset:4}}},{key:"_initInputDataPackage",value:function(t){return t.asBytes.setInt32(t.offset,t.packetTypeLength+4,e.LE),t.type===a.InputData.MouseWheel?t.asBytes.setInt32(t.offset+4,a.InputData.KeyClick,e.BE):t.asBytes.setInt32(t.offset+4,t.type,e.BE),{asBytes:t.asBytes,inputOffset:12}}},{key:"_encodeInputData",value:function(t){switch(t.packetType){case a.InputData.KeyClick:return e._encodeKeyClick(t);case a.InputData.MouseWheel:return e._encodeMouseWheel(t);case a.InputData.MouseMove:return e._encodeMouseMove(t);case a.InputData.MouseClick:return e._encodeMouseClick(t);case a.InputData.GamepadEvent:return e._encodeGamepadEvent(t);case a.InputData.TouchEvent:return e._encodeTouchEvent(t);case a.InputData.TransPackets:return e._encodeTransPackets(t);case a.InputData.VideoLevel:return e._encodeVideoLevel(t);case a.InputData.KeyClickMobile:return e._sendAppKeybord(t);case a.InputData.KeyboardCopy:return e._enCodeKeyboardCopy(t);case a.InputData.DeviceInfo:return e._encodeDeviceInfo(t);default:return null}}},{key:"_encodeKeyBoardStatus",value:function(t){return t.packetType===a.KeyBoardStatus.setLockStatus?e._encodeSetLockStatus(t):null}},{key:"_encodeAdjustEncoderSetting",value:function(t){switch(t.packetType){case a.AdjustEncoderSetting.Total:return e._encodeTotalAdjustEncorder(t);case a.AdjustEncoderSetting.AudioVolume:return e._encodeAdjustAudioVolume(t);default:return null}}},{key:"_encodeAdjustRTCSetting",value:function(t){return t.packetType===a.AdjustRTCSetting.UltraLowDelay?e._encodeUltraLowDelayAdjustRTCSetting(t):null}},{key:"_encodeInputAudioData",value:function(t){return t.packetType===a.InputAudioDataSetting.InputAudioData?e._encodeInputAudioDataSetting(t):null}},{key:"_encodeKeyClick",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=22,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset,u=e._initInputDataPackage({type:r.packetType,asBytes:a,offset:s,packetTypeLength:n}).inputOffset;if(void 0===r.data.keyAction||void 0===r.data.keyCode)return null;a.setInt8(u,parseInt("".concat(r.data.keyAction),10)),a.setInt8(u+1,0),a.setInt16(u+2,r.data.seq||0,e.BE),a.setInt8(u+4,r.data.mask||0),a.setInt16(u+5,r.data.keyCode,e.LE),a.setInt8(u+7,parseInt("".concat(r.data.modifiers),10)||0),a.setInt16(u+8,0,e.BE);var c=Date.now();return a.setInt32(u+10,r.data.eventInx,e.BE),a.setInt32(u+14,parseInt("".concat(c/1e7),10),e.BE),a.setInt32(u+18,c%1e7,e.BE),i}},{key:"_encodeMouseWheel",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=22,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,s=o.asBytes,u=o.offset,c=e._initInputDataPackage({type:a.InputData.KeyClick,asBytes:s,offset:u,packetTypeLength:n}).inputOffset;if(void 0===r.data.scrollAmt1)return null;s.setInt8(c,10),s.setInt16(c+4,r.data.scrollAmt1,e.BE),s.setInt16(c+6,r.data.scrollAmt1,e.BE);var l=Date.now();return s.setInt32(c+10,r.data.eventInx,e.BE),s.setInt32(c+14,parseInt("".concat(l/1e7),10),e.BE),s.setInt32(c+18,l%1e7,e.BE),i}},{key:"_encodeMouseMove",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=20;r.data.timestramp||(n=8);var o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset,u=e._initInputDataPackage({type:r.packetType,asBytes:a,offset:s,packetTypeLength:n}).inputOffset;if(void 0===r.data.x||void 0===r.data.y)return null;if(a.setInt32(u,r.data.mouseRelative?0:9,e.LE),a.setInt16(u+4,r.data.x,e.BE),a.setInt16(u+6,r.data.y,e.BE),r.data.timestramp){var c=parseInt("".concat(r.data.timestramp),10);a.setInt32(u+8,r.data.eventInx,e.BE),a.setInt32(u+12,parseInt("".concat(c/1e7),10),e.BE),a.setInt32(u+16,c%1e7,e.BE)}return i}},{key:"_encodeMouseClick",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=17,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset,u=e._initInputDataPackage({type:r.packetType,asBytes:a,offset:s,packetTypeLength:n}).inputOffset;if(void 0===r.data.mouseAction||void 0===r.data.mouseButton)return null;a.setInt8(u,parseInt("".concat(r.data.mouseAction),10)),a.setInt32(u+1,parseInt("".concat(r.data.mouseButton),10),e.BE);var c=Date.now();return a.setInt32(u+5,r.data.eventInx,e.BE),a.setInt32(u+9,parseInt("".concat(c/1e7),10),e.BE),a.setInt32(u+13,c%1e7,e.BE),i}},{key:"_encodeGamepadEvent",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=42,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset,u=e._initInputDataPackage({type:r.packetType,asBytes:a,offset:s,packetTypeLength:n}).inputOffset;if(void 0===r.data.butonFlag)return null;a.setInt32(u,0,e.BE),a.setInt16(u+4,0,e.BE),a.setInt16(u+6,r.data.contollerNumber||0,e.LE),a.setInt16(u+8,r.data.activeGamePadMask||0,e.LE),a.setInt16(u+10,r.data.midB||0,e.BE),a.setInt16(u+12,r.data.butonFlag,e.LE),a.setInt8(u+14,r.data.leftTrigger),a.setInt8(u+15,r.data.rightTrigger),a.setInt16(u+16,r.data.leftStickX,e.LE),a.setInt16(u+18,r.data.leftStickY,e.LE),a.setInt16(u+20,r.data.rightStickX,e.LE),a.setInt16(u+22,r.data.rightStickY,e.LE),a.setInt32(u+24,0,e.BE),a.setInt16(u+28,0,e.BE);var c=Date.now();return a.setInt32(u+30,r.data.eventInx,e.BE),a.setInt32(u+34,parseInt("".concat(c/1e7),10),e.BE),a.setInt32(u+38,c%1e7,e.BE),i}},{key:"_encodeTouchEvent",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=20,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,s=o.asBytes,u=o.offset,c=e._initInputDataPackage({type:r.packetType,asBytes:s,offset:u,packetTypeLength:n}).inputOffset,l=0;if(l=r.data.pointerId||0===r.data.pointerId?parseInt("".concat(128),10)+r.data.pointerId:parseInt("".concat(r.data.mouseButton),10)|a.MouseButton.left,void 0===r.data.mouseAction)return null;s.setInt8(c,0),s.setInt8(c+1,l),s.setInt8(c+2,parseInt("".concat(r.data.mouseAction),10)),s.setInt8(c+3,r.data.mouseRelative?6:9),s.setInt16(c+4,r.data.x,e.BE),s.setInt16(c+6,r.data.y,e.BE);var f=Date.now();return s.setInt32(c+8,r.data.eventInx,e.BE),s.setInt32(c+12,parseInt("".concat(f/1e7),10),e.BE),s.setInt32(c+16,f%1e7,e.BE),i}},{key:"_enCodeKeyboardCopy",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;for(var n=(new TextEncoder).encode(r.data.copyText),o=n.byteLength,i=e._initCommonPackage(r.type,o+4+4),a=i.buffer,s=i.asBytes,u=i.offset,c=e._initInputDataPackage({type:r.packetType,asBytes:s,offset:u,packetTypeLength:o}).inputOffset,l=0;l<o;l++)s.setInt8(c+l,n[l]);return a}},{key:"_encodeDeviceInfo",value:function(t){var r=e._initCommonPackage(t.type,12+4*t.data.dataList.length),n=r.buffer,o=r.asBytes,i=r.offset,a=e._initInputDataPackage({type:t.packetType,asBytes:o,offset:i,packetTypeLength:4+4*t.data.dataList.length}).inputOffset;o.setInt16(a,0,e.BE),o.setInt8(a+2,t.data.sensorType),o.setInt8(a+3,t.data.dataList.length);for(var s=0;s<t.data.dataList.length;s++)o.setFloat32(a+4+4*s,t.data.dataList[s],e.BE);return n}},{key:"_encodeTransPackets",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;if(r.data.type===e.TYPE_ACK)return r.data.asBytes&&r.data.asBytes.setInt16(12,e.TYPE_ACK),r.data.asBytes||null;var n=(new TextEncoder).encode(r.data.prodata),o=n.byteLength,i=e._initCommonPackage(r.type,o+4+4+12),a=i.buffer,s=i.asBytes,u=i.offset,c=e._initInputDataPackage({type:r.packetType,asBytes:s,offset:u,packetTypeLength:o+12}).inputOffset;s.setInt16(c,r.data.type),s.setInt16(c+2,r.data.seq),s.setInt32(c+4,parseInt("".concat(r.data.time/1e7),10)),s.setInt32(c+8,r.data.time%1e7);for(var l=0;l<o;l++)s.setInt8(c+l+12,n[l]);return a}},{key:"_encodeVideoLevel",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=4,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset,u=e._initInputDataPackage({type:r.packetType,asBytes:a,offset:s,packetTypeLength:n}).inputOffset;return a.setInt32(u,r.data.level,e.BE),i}},{key:"_encodeTotalAdjustEncorder",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=12,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset;return a.setInt32(s,16,e.LE),a.setInt32(s+4,r.packetType,e.BE),a.setInt32(s+8,void 0!==r.data.videoLevel?r.data.videoLevel:parseInt("".concat(4294967295),10),e.BE),a.setInt16(s+12,r.data.fps?r.data.fps:0,e.BE),a.setInt16(s+14,r.data.width?r.data.width:0,e.BE),a.setInt16(s+16,r.data.height?r.data.height:0,e.BE),a.setInt8(s+18,r.data.codecAndProfile?r.data.codecAndProfile:parseInt("".concat(0),10)),a.setInt8(s+19,r.data.cursor?r.data.cursor:0),i}},{key:"_encodeUltraLowDelayAdjustRTCSetting",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=1,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset;return a.setInt32(s,5,e.LE),a.setInt32(s+4,r.packetType,e.BE),a.setInt8(s+8,r.data.status?r.data.status:0),i}},{key:"_encodeInputAudioDataSetting",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=r.data.data.length,o=12+n,i=e._initCommonPackage(r.type,o+4+4),a=i.buffer,s=i.asBytes,u=i.offset;s.setInt32(u,n+16,e.LE),s.setInt32(u+4,r.packetType,e.BE),s.setInt32(u+8,parseInt("".concat(r.data.time/1e7),10)),s.setInt32(u+12,r.data.time%1e7),s.setInt8(u+16,16),s.setInt8(u+17,4),s.setInt8(u+18,0),s.setInt8(u+19,r.data.isSimple?0:1);for(var c=0;c<n;c++)s.setInt8(u+20+c,r.data.data[c]);return a}},{key:"_encodeSetLockStatus",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=e._initCommonPackage(r.type,14),o=n.buffer,i=n.asBytes,a=n.offset;return i.setInt32(a,6,e.LE),i.setInt32(a+4,r.packetType,e.BE),i.setInt8(a+8,r.data.capsLock),i.setInt8(a+9,r.data.numLock),o}},{key:"_encodePingData",value:function(){var t=e._initCommonPackage(a.TransportHeaderTypes.PingData,12),r=t.buffer,n=t.asBytes,o=t.offset;n.setInt32(o,4,e.BE);var i=Date.now();return n.setInt32(o+4,parseInt("".concat(i/1e7),10),e.BE),n.setInt32(o+8,i%1e7,e.BE),r}},{key:"_sendAppKeybord",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=1,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset,u=e._initInputDataPackage({type:r.packetType,asBytes:a,offset:s,packetTypeLength:n}).inputOffset;return void 0===r.data.mode?null:(a.setInt8(u,Number(r.data.mode)),i)}},{key:"_encodeLogin",value:function(t){for(var r=e.writeStringToBuffer({str:t.data.sessionId||""}),n=r.buffer,o=r.asBytes,i=e._initCommonPackage(t.type,n.byteLength),a=i.buffer,s=i.asBytes,u=i.offset,c=0;c<n.byteLength;c++)s.setInt8(u+c,o.getInt8(c));return a}},{key:"_decodeInputData",value:function(t){var r=t.getInt16(2,e.LE);return t.getInt32(4,e.LE)===a.InputData.VibrateNotify?e._decodeVibrateNotify(t,r):t.getInt32(8,e.BE)===a.InputData.TransPackets?e._decodeGameData(t,r):null}},{key:"_encodeAdjustAudioVolume",value:function(r){if(!r.data||"object"!==(0,t.default)(r.data))return null;var n=1,o=e._initCommonPackage(r.type,n+4+4),i=o.buffer,a=o.asBytes,s=o.offset,u=e._initInputDataPackage({type:r.packetType,asBytes:a,offset:s,packetTypeLength:n}).inputOffset;return a.setInt8(u,r.data.volume),i}},{key:"_decodeVibrateNotify",value:function(t,r){if(10===r){var n=t.getInt16(8,e.LE),o=t.getInt16(10,e.LE),i=t.getInt16(12,e.LE);return{type:a.TransportHeaderTypes.InputData,childType:a.InputData.VibrateNotify,activeGamepadMask:n,leftMotorSpeed:o,rightMotorSpeed:i}}return null}},{key:"_decodeNotifyType",value:function(t){var r=t.getInt32(4,e.LE);switch(r){case a.NotifyType.mouseChange:return this._decodeMouseChange(t,8);case a.NotifyType.orientationChange:return{type:a.TransportHeaderTypes.NotifyType,childType:r,rotation:t.getInt8(8)};case a.NotifyType.GameSpecialWindowShow:return{type:a.TransportHeaderTypes.NotifyType,childType:r,mode:t.getInt8(8)};case a.NotifyType.BandwidthVideoLevel:return{type:a.TransportHeaderTypes.NotifyType,childType:r,videoLevel:t.getInt8(8),bandwidth:t.getInt32(9,e.LE)};case a.NotifyType.PacketTypeQos:return{type:a.TransportHeaderTypes.NotifyType,childType:r};case a.NotifyType.CopyMessage:return this._decodeCopyData(t,8);case a.NotifyType.OpenMicAndCamera:return this._decodeOpenMicAndCamera(t,8);case a.NotifyType.ChangeVqLevel:return{type:a.TransportHeaderTypes.NotifyType,childType:r,videoLevel:t.getInt8(8)};case a.NotifyType.OpenFileOrUrl:return e._decodeOpenFileOrUrl(t,8,t.getInt16(2,e.LE));case a.NotifyType.CheckDevice:return e._decodeCheckDevice(t,8);case a.NotifyType.UploadImage:return{type:a.TransportHeaderTypes.NotifyType,childType:a.NotifyType.UploadImage};default:return{type:a.TransportHeaderTypes.NotifyType,childType:r}}}},{key:"_decodeCopyData",value:function(t,r){var n=t.byteLength-r,o=e.readNLengthToBuffer({asBytes:t,offset:r,bytelength:n}),i=e.bufferToString(o);return{type:a.TransportHeaderTypes.NotifyType,childType:a.NotifyType.CopyMessage,message:i}}},{key:"_decodeOpenMicAndCamera",value:function(e,t){var r=e.getInt8(t),n=e.getInt8(t+1);return{type:a.TransportHeaderTypes.NotifyType,childType:a.NotifyType.OpenMicAndCamera,mic:!!r,camera:!!n}}},{key:"_decodeOpenFileOrUrl",value:function(t,r,n){return{type:a.TransportHeaderTypes.NotifyType,childType:a.NotifyType.OpenFileOrUrl,mode:t.getInt8(r),content:e.bufferToString(e.readNLengthToBuffer({asBytes:t,offset:9,bytelength:n>5?n-5:0}))}}},{key:"_decodeCheckDevice",value:function(e,t){for(var r=e.getInt8(t),n=[],o=0;o<r;o++)n.push(e.getInt8(t+1+o));return{type:a.TransportHeaderTypes.NotifyType,childType:a.NotifyType.CheckDevice,sensorType:n}}},{key:"_decodeGameData",value:function(t,r){var n=null,o="";t.byteLength>24&&(n=e.readNLengthToBuffer({asBytes:t,offset:24,bytelength:t.byteLength-24}),o=new TextDecoder("utf8").decode(n));var i=1e7*t.getInt32(16,e.BE)+t.getInt32(20,e.BE),s=t.getInt16(14,e.BE),u=t.getInt16(12,e.BE);return{type:a.TransportHeaderTypes.InputData,childType:a.InputData.TransPackets,originalData:{seq:s,calType:u,byte:o,time:i,asBytes:t}}}},{key:"getBigInt64",value:function(e,t,r){var n=Number(!!r),o=Number(!r),i=BigInt(32);return BigInt(e.getInt32(t,r)*o+e.getInt32(t+4,r)*n)<<i|BigInt(e.getUint32(t,r)*n+e.getUint32(t+4,r)*o)}},{key:"_decodeMouseChange",value:function(t,r){var n,o=t.getInt8(r),i=t.getInt8(r+1);try{n=t.getBigInt64(r+2,e.BE)}catch(o){try{n=this.getBigInt64(t,r+2,e.BE)}catch(e){console.log("getBigInt64 error")}}var s=t.getInt32(r+10,e.BE),u=t.getInt8(r+14),c=t.getInt8(r+15),l=this.cursorInfo.get(n),f={iconDataLength:0,iconData:"",iconDataBuffer:new Uint8Array(0)};if(void 0===l){for(var d=e.readNLengthToBuffer({asBytes:t,offset:r+16,bytelength:s}),h="",p=new Uint8Array(d),v=p.byteLength,y=0;y<v;y++)h+=String.fromCharCode(p[y]);var g="data:image/x-icon;base64,".concat(window.btoa(h));f.iconDataBuffer=d,f.iconData=g,f.iconDataLength=s}else{var m=l;null!=m&&(f.iconDataBuffer=m.iconDataBuffer,f.iconData=m.iconData,f.iconDataLength=m.iconDataLength)}var b={type:a.TransportHeaderTypes.NotifyType,childType:a.NotifyType.mouseChange,isHide:o,iconType:i,iconStyle:a.CursorMap[i],iconDataLength:f.iconDataLength,iconData:f.iconData,iconDataBuffer:f.iconDataBuffer,offsetX:u,offsetY:c};return this.cursorInfo.set(n,f),b}},{key:"_decodeQueryData",value:function(e){return{type:a.TransportHeaderTypes.Query,childType:a.Query.repVmStatus,volume:e.getInt8(13)}}},{key:"_encodeQueryData",value:function(t){var r=e._initCommonPackage(a.TransportHeaderTypes.Query,16),n=r.buffer,o=r.asBytes,i=r.offset;return o.setInt32(i,4,e.BE),o.setInt32(i+4,t.packetType,e.BE),o.setInt32(i+8,t.mask,e.BE),n}},{key:"_decodePingData",value:function(t){return{type:a.TransportHeaderTypes.PingData,time:1e7*t.getInt32(8,e.BE)+t.getInt32(12,e.BE)}}},{key:"bufferToString",value:function(e){return(new TextDecoder).decode(e)}},{key:"writeStringToBuffer",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{str:"",direct:e.BE},r=(new TextEncoder).encode(t.str),n=r.byteLength,o=new ArrayBuffer(n),i=new DataView(o),a=0;a<n;a++)i.setInt8(a,r[a]);return{buffer:o,asBytes:i}}}]),e}();e.default=c,(0,i.default)(c,"typeLength",2),(0,i.default)(c,"payloadByteSizeLength",2),(0,i.default)(c,"TYPE_ACK",a.TYPE_ACK),(0,i.default)(c,"LE",!0),(0,i.default)(c,"BE",!1),(0,i.default)(c,"cursorInfo",new Map),(0,i.default)(c,"readNLengthToBuffer",s.readNLengthToBuffer)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},51495:function(e,t,r){var n,o,i;r(15735),r(32501),r(65388),r(72994),r(95206),r(95094),r(58188),r(68995),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(11168),r(72242),r(66534),r(39278)],void 0===(i="function"==typeof(n=function(e,t,n,o,i,a,s,u){"use strict";var c=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=c(t),n=c(n),o=c(o),i=c(i),a=c(a);var l=i.default.Root.fromJSON(a.default),f=1,d=l.lookupType("ControlMessage"),h=0,p=function(){function e(){(0,t.default)(this,e)}return(0,n.default)(e,null,[{key:"encodeMessage",value:function(t){var r={version:f,msgType:0,sequence:h++},n=null;switch(t.type){case s.TransportHeaderTypes.StartA:r.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_START_A,n=d.encode(r).finish();break;case s.TransportHeaderTypes.StartB:r.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_START_B,n=d.encode(r).finish();break;case s.TransportHeaderTypes.InvalidateRefFrames:r.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_INVALIDATE_REF_FRAMES,n=d.encode(r).finish();break;case s.TransportHeaderTypes.InputData:n=e._encodeInputData(t,r);break;case s.TransportHeaderTypes.KeyBoardStatus:n=e._encodeKeyBoardStatus(t,r);break;case s.TransportHeaderTypes.PingData:n=e._encodePingData(r);break;case s.TransportHeaderTypes.Login:n=e._encodeLogin(t,r);break;case s.TransportHeaderTypes.Query:n=e._encodeQueryData(t,r);break;case s.TransportHeaderTypes.AdjustEncoderSetting:n=e._encodeAdjustEncoderSetting(t,r);break;case s.TransportHeaderTypes.AdjustRTCSetting:n=e._encodeAdjustRTCSetting(t,r);break;case s.TransportHeaderTypes.InputAudioData:n=e._encodeInputAudioData(t,r);break;default:n=null}if(n){var o=new Uint8Array(6+n.byteLength),i=new DataView(o.buffer);i.setInt16(0,20546),i.setInt32(2,n.byteLength);for(var u=0;u<n.byteLength;u++)o[6+u]=n[u];return o.buffer}return n}},{key:"_encodeInputData",value:function(t,r){switch(t.packetType){case s.InputData.KeyClick:return e._encodeKeyClick(t,r);case s.InputData.MouseWheel:return e._encodeMouseWheel(t,r);case s.InputData.MouseMove:return e._encodeMouseMove(t,r);case s.InputData.MouseClick:return e._encodeMouseClick(t,r);case s.InputData.GamepadEvent:return e._encodeGamepadEvent(t,r);case s.InputData.TouchEvent:return e._encodeTouchEvent(t,r);case s.InputData.TransPackets:return e._encodeTransPackets(t,r);case s.InputData.KeyClickMobile:return e._sendAppKeybord(t,r);case s.InputData.KeyboardCopy:return e._enCodeKeyboardCopy(t,r);default:return null}}},{key:"_transKeyAction",value:function(e){switch(e){case s.KeyAction.down:return a.default.nested.vrviuControl.nested.KeyActionType.values.DOWN;case s.KeyAction.up:return a.default.nested.vrviuControl.nested.KeyActionType.values.UP;default:return a.default.nested.vrviuControl.nested.KeyActionType.values.KEY_UNKNOW}}},{key:"_transMouseAction",value:function(e){switch(e){case s.MouseAction.press:return a.default.nested.vrviuControl.nested.MouseActionType.values.MOUSE_PRESS;case s.MouseAction.release:return a.default.nested.vrviuControl.nested.MouseActionType.values.MOUSE_RELEASE;default:return a.default.nested.vrviuControl.nested.MouseActionType.values.MOUSE_ACTION_UNKNOW}}},{key:"_transMouseButton",value:function(e){switch(e){case s.MouseButton.left:return a.default.nested.vrviuControl.nested.MouseButtonType.values.LEFT;case s.MouseButton.middle:return a.default.nested.vrviuControl.nested.MouseButtonType.values.MIDDLE;case s.MouseButton.right:return a.default.nested.vrviuControl.nested.MouseButtonType.values.RIGHT;case s.MouseButton.x1:return a.default.nested.vrviuControl.nested.MouseButtonType.values.X1;case s.MouseButton.x2:return a.default.nested.vrviuControl.nested.MouseButtonType.values.X2;default:return a.default.nested.vrviuControl.nested.MouseButtonType.values.MOUSE_TYPE_UNKNOW}}},{key:"_transTouchAction",value:function(e){switch(e){case s.MouseAction.press:return a.default.nested.vrviuControl.nested.TouchActionType.values.TOUCH_PRESS;case s.MouseAction.release:return a.default.nested.vrviuControl.nested.TouchActionType.values.TOUCH_RELEASE;case s.MouseAction.move:return a.default.nested.vrviuControl.nested.TouchActionType.values.TOUCH_MOVE;default:return a.default.nested.vrviuControl.nested.TouchActionType.values.TOUCH_ACTION_UNKNOW}}},{key:"_transToProfile",value:function(e){return a.default.nested.vrviuControl.nested.ProfileType.values.UNCHANGE}},{key:"_transNotifyChildType",value:function(e){switch(e){case a.default.nested.vrviuControl.nested.MsgType.values.MSG_IM_POPUP:return s.NotifyType.inputPadShow;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_READY_RENDER:return s.NotifyType.readyRender;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_END_STREAM:return s.NotifyType.endStream;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_READY_RENDER2:return s.NotifyType.readyRender2;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_GAME_WINDOW_READY:return s.NotifyType.GameWindowReady;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_ICON_CHANGE:return s.NotifyType.mouseChange;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_ACTIVITY_ROTATION:return s.NotifyType.orientationChange;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_IM_HIDE:case a.default.nested.vrviuControl.nested.MsgType.values.MSG_REPLY_SETTING_STATUS:return s.NotifyType.inputPadHide;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_SCENE_MODE:return s.NotifyType.GameSpecialWindowShow;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_BANDWIDTH_VIDEO_LEVEL:return s.NotifyType.BandwidthVideoLevel;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_NETWORK_CHANGE:return s.NotifyType.PacketTypeQos;case a.default.nested.vrviuControl.nested.MsgType.values.MSG_CLIPBOARD_DATA_NOTIFY:return s.NotifyType.CopyMessage;default:return e}}},{key:"_encodeKeyClick",value:function(t,r){r.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_KEYBOARD,r.eventInx=t.data.eventInx,r.eventTS=Date.now();var n={keyAction:e._transKeyAction(t.data.keyAction),keyCode:t.data.keyCode,modifiers:t.data.modifiers},o=l.lookupType("PacketKeyboard").encode(n).finish();return r.payload=o,d.encode(r).finish()}},{key:"_encodeMouseWheel",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_SCROLL,t.eventInx=e.data.eventInx,t.eventTS=Date.now();var r={scrollAmt:e.data.scrollAmt1},n=l.lookupType("PacketScroll").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"_encodeMouseMove",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_MOUSE_MOVE,e.data.timestramp&&(t.eventInx=e.data.eventInx,t.eventTS=e.data.timestramp);var r={magic:e.data.mouseRelative?a.default.nested.vrviuControl.nested.MouseMoveType.values.RELATIVE_MOVE:a.default.nested.vrviuControl.nested.MouseMoveType.values.ABSOLUTION_MOVE,x:e.data.x,y:e.data.y},n=l.lookupType("PacketMouseMove").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"_encodeMouseClick",value:function(t,r){r.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_MOUSE_BUTTON,r.eventInx=t.data.eventInx,r.eventTS=Date.now();var n={action:e._transMouseAction(t.data.mouseAction),button:e._transMouseButton(t.data.mouseButton)},o=l.lookupType("PacketMouseButton").encode(n).finish();return r.payload=o,d.encode(r).finish()}},{key:"_encodeGamepadEvent",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_MULTI_CONTROLLER,t.eventInx=e.data.eventInx,t.eventTS=Date.now();var r={controllerNumber:e.data.contollerNumber,activeGamePadMask:e.data.activeGamePadMask,buttonFlag:e.data.butonFlag,leftTrigger:e.data.leftTrigger,rightTrigger:e.data.rightTrigger,leftStickX:e.data.leftStickX,leftStickY:e.data.leftStickY,rightStickX:e.data.rightStickX,rightStickY:e.data.rightStickY},n=l.lookupType("PacketMultiController").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"_encodeTouchEvent",value:function(t,r){r.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_TOUCH,r.eventInx=t.data.eventInx,r.eventTS=Date.now();var n={buttonIndex:t.data.pointerId||0===t.data.pointerId?parseInt("".concat(128),10)+t.data.pointerId:parseInt("".concat(t.data.mouseButton),10)|s.MouseButton.left,Action:e._transTouchAction(t.data.mouseAction),Absolute:!t.data.mouseRelative,x:t.data.x,y:t.data.y},o=l.lookupType("PacketTouch").encode(n).finish();return r.payload=o,d.encode(r).finish()}},{key:"_encodeTransPackets",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_DATA_TRANSMISSION;var r=(new TextEncoder).encode(e.data.prodata);if(e.data.type===s.TYPE_ACK)e.data.asBytes&&(e.data.asBytes.setInt16(0,s.TYPE_ACK),t.payload=new Uint8Array(e.data.asBytes.buffer));else{var n=new ArrayBuffer(r.byteLength+12),o=new DataView(n);o.setInt16(0,e.data.type),o.setInt16(2,e.data.seq),o.setInt32(4,parseInt("".concat(e.data.time/1e7),10)),o.setInt32(8,e.data.time%1e7);for(var i=0;i<r.byteLength;i++)o.setInt8(i+12,r[i]);t.payload=new Uint8Array(n)}return d.encode(t).finish()}},{key:"_sendAppKeybord",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_INPUT_STRING;var r={mode:e.data.mode,msg:e.data.msg},n=l.lookupType("PacketInputString").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"_enCodeKeyboardCopy",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_CLIPBOARD_DATA;var r=(new TextEncoder).encode(e.data.copyText);return t.payload=r,d.encode(t).finish()}},{key:"_encodeKeyBoardStatus",value:function(t,r){return t.packetType===s.KeyBoardStatus.setLockStatus?e._encodeSetLockStatus(t,r):null}},{key:"_encodeSetLockStatus",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_KEYBOARD_STATUS;var r={capsLock:e.data.capsLock,numLock:e.data.numLock},n=l.lookupType("PacketKeyboardStatus").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"_encodePingData",value:function(e){e.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_PING_DATA;var t={timestamp:Date.now()},r=l.lookupType("PacketPingData").encode(t).finish();return e.payload=r,d.encode(e).finish()}},{key:"_encodeLogin",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_LOGIN;var r={sessionId:e.data.sessionId},n=l.lookupType("PacketLogin").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"_encodeQueryData",value:function(t,r){return t.packetType===s.Query.getVMStatus?e._encodeQueryVmStatus(t,r):null}},{key:"_encodeQueryVmStatus",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_QUERY_VM_STATUS;var r={mask:e.mask},n=l.lookupType("PacketQueryVmStatus").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"_encodeAdjustEncoderSetting",value:function(t,r){return t.packetType===s.AdjustEncoderSetting.Total?e._encodeTotalAdjustEncorder(t,r):null}},{key:"_encodeTotalAdjustEncorder",value:function(t,r){r.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_ADJUST_ENCODER_PARAMETERS;var n={videoLevel:void 0!==t.data.videoLevel?t.data.videoLevel:parseInt("".concat(4294967295),10),fps:t.data.fps?t.data.fps:0,width:t.data.width?t.data.width:0,height:t.data.height?t.data.height:0,profile:e._transToProfile(t.data.codecAndProfile||0),cursor:t.data.cursor?t.data.cursor:0},o=l.lookupType("PacketAdjustEncoderParameters").encode(n).finish();return r.payload=o,d.encode(r).finish()}},{key:"_encodeAdjustRTCSetting",value:function(t,r){return t.packetType===s.AdjustRTCSetting.UltraLowDelay?e._encodeUltraLowDelayAdjustRTCSetting(t,r):null}},{key:"_encodeUltraLowDelayAdjustRTCSetting",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_SET_ULTRA_LOW_DELAY;var r={ultraLowDelay:!!e.data.status},n=l.lookupType("PacketSetUltraLowDelay").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"_encodeInputAudioData",value:function(t,r){return t.packetType===s.InputAudioDataSetting.InputAudioData?e._encodeInputAudioDataSetting(t,r):null}},{key:"_encodeInputAudioDataSetting",value:function(e,t){t.msgType=a.default.nested.vrviuControl.nested.MsgType.values.MSG_INPUT_AUDIO_DATA;var r={timeStamp:e.data.time,soundFormat:16,soundRate:4,soundSize:0,soundType:e.data.isSimple?0:1,audioData:e.data.data},n=l.lookupType("PacketInputAudioData").encode(r).finish();return t.payload=n,d.encode(t).finish()}},{key:"decodeMessage",value:function(t){if(t.byteLength<6)return null;var r=new Uint8Array(t).slice(6),n=d.decode(r);switch(n.msgType){case a.default.nested.vrviuControl.nested.MsgType.values.MSG_VIBRATION:return e._decodeVibrateNotify(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_DATA_TRANSMISSION:return e._decodeGameData(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_ICON_CHANGE:return e._decodeMouseChange(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_ACTIVITY_ROTATION:return e._decodeOrientationChange(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_SCENE_MODE:return e._decodeScenceMode(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_BANDWIDTH_VIDEO_LEVEL:return e._decodeBandWidthVideoLevel(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_NETWORK_CHANGE:return e._decodeNetworkChange(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_CLIPBOARD_DATA_NOTIFY:return e._decodeCopyData(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_IM_POPUP:case a.default.nested.vrviuControl.nested.MsgType.values.MSG_READY_RENDER:case a.default.nested.vrviuControl.nested.MsgType.values.MSG_END_STREAM:case a.default.nested.vrviuControl.nested.MsgType.values.MSG_READY_RENDER2:case a.default.nested.vrviuControl.nested.MsgType.values.MSG_IM_HIDE:case a.default.nested.vrviuControl.nested.MsgType.values.MSG_GAME_WINDOW_READY:return{type:s.TransportHeaderTypes.NotifyType,childType:e._transNotifyChildType(n.msgType)};case a.default.nested.vrviuControl.nested.MsgType.values.MSG_PING_DATA:return e._decodePingData(n.payload);case a.default.nested.vrviuControl.nested.MsgType.values.MSG_REPLY_VM_STATUS:return e._decodeQueryVmStatus(n.payload);default:return null}}},{key:"_decodeVibrateNotify",value:function(e){var t=l.lookupType("PacketVibration").decode(e);return{type:s.TransportHeaderTypes.InputData,childType:s.InputData.VibrateNotify,activeGamepadMask:t.activeGamepadMask,leftMotorSpeed:t.leftMotorSpeed,rightMotorSpeed:t.rightMotorSpeed}}},{key:"_decodeGameData",value:function(t){var r=new Uint8Array(t).buffer,n=new DataView(r),o="";if(n.byteLength>12){var i=(0,u.readNLengthToBuffer)({asBytes:n,offset:12,bytelength:n.byteLength-12});o=new TextDecoder("utf8").decode(i)}var a=1e7*n.getInt32(4,e.BE)+n.getInt32(8,e.BE),c=n.getInt16(2,e.BE),l=n.getInt16(0,e.BE);return{type:s.TransportHeaderTypes.InputData,childType:s.InputData.TransPackets,originalData:{seq:c,calType:l,byte:o,time:a,asBytes:n}}}},{key:"_decodeMouseChange",value:function(e){var t=l.lookupType("PacketIconChange").decode(e),r=t.hideIcon?1:0,n=t.iconType,o=t.hotX,i=t.hotY,u="",c=0,f=t.iconDataHash,d=new Uint8Array(t.iconDataPayload);if(t.iconType===a.default.nested.vrviuControl.nested.CursorType.values.CURSOR_CUSTOM){c=d.byteLength;for(var h="",p=d.byteLength,v=0;v<p;v++)h+=String.fromCharCode(d[v]);u="data:image/x-icon;base64,".concat(window.btoa(h))}return{type:s.TransportHeaderTypes.NotifyType,childType:s.NotifyType.mouseChange,isHide:r,iconType:n,iconStyle:s.CursorMap[n],iconHash:f,iconDataLength:c,iconData:u,iconDataBuffer:d.buffer,offsetX:o,offsetY:i}}},{key:"_decodeOrientationChange",value:function(e){var t=l.lookupType("PacketActivityRotation").decode(e);return{type:s.TransportHeaderTypes.NotifyType,childType:s.NotifyType.orientationChange,rotation:t.rotation}}},{key:"_decodeScenceMode",value:function(e){var t=l.lookupType("PacketSceneMode").decode(e);return{type:s.TransportHeaderTypes.NotifyType,childType:s.NotifyType.GameSpecialWindowShow,mode:t.SceneMode}}},{key:"_decodeBandWidthVideoLevel",value:function(e){var t=l.lookupType("PacketBandwidthVideoLevel").decode(e);return{type:s.TransportHeaderTypes.NotifyType,childType:s.NotifyType.BandwidthVideoLevel,videoLevel:t.videoLevel,bandwidth:t.bandwidthKps}}},{key:"_decodeNetworkChange",value:function(e){return{type:s.TransportHeaderTypes.NotifyType,childType:s.NotifyType.PacketTypeQos}}},{key:"_decodeCopyData",value:function(e){var t=(new TextDecoder).decode(e);return{type:s.TransportHeaderTypes.NotifyType,childType:s.NotifyType.CopyMessage,message:t}}},{key:"_decodePingData",value:function(e){var t=l.lookupType("PacketPingData").decode(e);return{type:s.TransportHeaderTypes.PingData,time:t.timestamp}}},{key:"_decodeQueryVmStatus",value:function(e){var t=l.lookupType("PacketRelyVmStatus").decode(e);return{type:s.TransportHeaderTypes.Query,childType:s.Query.repVmStatus,volume:t.volume}}}]),e}();e.default=p,(0,o.default)(p,"LE",!0),(0,o.default)(p,"BE",!1)})?n.apply(t,o):n)||(e.exports=i)},66534:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransportHeaderTypes=e.TYPE_ACK=e.StreamStatus=e.QueryData=e.Query=e.NotifyType=e.MouseButton=e.MouseAction=e.KeyModifiers=e.KeyBoardStatus=e.KeyAction=e.InputData=e.InputAudioDataSetting=e.CursorMap=e.AdjustRTCSetting=e.AdjustEncoderSetting=void 0;var t={InvalidateRefFrames:769,InputData:518,LossStats:513,AdjustEncoderSetting:1025,AdjustRTCSetting:1026,StartA:773,StartB:775,FrameStats:516,PingData:1537,Login:1792,Query:1538,NotifyType:2049,KeyBoardStatus:772,InputAudioData:520};e.TransportHeaderTypes=t;var r={KeyboardCopy:50,MouseClick:5,MouseMove:8,KeyClick:10,KeyClickMobile:38,MouseWheel:-999,GamepadEvent:30,TouchEvent:35,DeviceInfo:37,TransPackets:49,VibrateNotify:31,VideoLevel:770};e.InputData=r;var n={Bits:64,Frame:65,Size:66,Total:69,AudioVolume:70};e.AdjustEncoderSetting=n;var o={UltraLowDelay:64};e.AdjustRTCSetting=o;var i={InputAudioData:1};e.InputAudioDataSetting=i;var a={Stop:80,ReStart:81};e.StreamStatus=a;var s={getMousePosition:8,getVMStatus:12,repVmStatus:101842956};e.Query=s;var u={getAudio:32};e.QueryData=u;var c={inputPadShow:32,inputPadHide:36,readyRender:33,endStream:34,readyRender2:35,mouseChange:37,orientationChange:38,GameWindowReady:39,GameSpecialWindowShow:42,BandwidthVideoLevel:43,PacketTypeQos:44,CopyMessage:50,CheckDevice:51,OpenMicAndCamera:52,OpenFileOrUrl:53,UploadImage:54,ChangeVqLevel:55};e.NotifyType=c;var l={setLockStatus:17};e.KeyBoardStatus=l;var f={down:3,up:4};e.KeyAction=f;var d={shift:1,ctrl:2,alt:4};e.KeyModifiers=d;var h={press:8,release:9,move:10,wheel:-1};e.MouseAction=h;var p={left:1,middle:2,right:3,x1:4,x2:5};e.MouseButton=p;var v=3;e.TYPE_ACK=v;var y={0:"wait",1:"default",2:"crosshair",3:"pointer",4:"help",5:"text",6:"none",7:"not-allowed",8:"none",9:"move",10:"ne-resize",11:"ns-resize",12:"nw-resize",13:"ew-resize",14:"n-resize",15:"wait",16:"auto",17:"default"};e.CursorMap=y})?n.apply(t,o):n)||(e.exports=i)},96573:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(89647),r(66534),r(51495)],n=function(e,t,n,o,i,a,s){"use strict";var u=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.ControlMessage=void 0,t=u(t),n=u(n),o=u(o),i=u(i),s=u(s);var c=function(){function e(){(0,t.default)(this,e)}return(0,n.default)(e,null,[{key:"useNewMessage",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.usePbMessage=t}},{key:"encodeMessage",value:function(t){return e.usePbMessage?s.default.encodeMessage(t):i.default.encodeMessage(t)}},{key:"decodeMessage",value:function(t){return e.usePbMessage?s.default.decodeMessage(t):i.default.decodeMessage(t)}}]),e}();e.ControlMessage=c,(0,o.default)(c,"usePbMessage",!1),(0,o.default)(c,"TYPE_LS_LP",1),(0,o.default)(c,"TYPE_LP_LS",2),(0,o.default)(c,"TransportHeaderTypes",a.TransportHeaderTypes),(0,o.default)(c,"InputData",a.InputData),(0,o.default)(c,"AdjustEncoderSetting",a.AdjustEncoderSetting),(0,o.default)(c,"AdjustRTCSetting",a.AdjustRTCSetting),(0,o.default)(c,"InputAudioDataSetting",a.InputAudioDataSetting),(0,o.default)(c,"StreamStatus",a.StreamStatus),(0,o.default)(c,"Query",a.Query),(0,o.default)(c,"QueryData",a.QueryData),(0,o.default)(c,"NotifyType",a.NotifyType),(0,o.default)(c,"KeyBoardStatus",a.KeyBoardStatus),(0,o.default)(c,"KeyAction",a.KeyAction),(0,o.default)(c,"KeyModifiers",a.KeyModifiers),(0,o.default)(c,"MouseAction",a.MouseAction),(0,o.default)(c,"MouseButton",a.MouseButton)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},39278:function(e,t,r){var n,o,i;r(65388),r(72994),r(95206),r(95094),r(58188),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e){for(var t=new ArrayBuffer(e.bytelength),r=new DataView(t),n=0;n<e.bytelength;n++){var o=e.asBytes.getInt8(e.offset+n);r.setInt8(n,o)}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.readNLengthToBuffer=t})?n.apply(t,o):n)||(e.exports=i)},12469:function(e,t,r){var n,o,i;r(34115),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260)],n=function(e,t,n,o){"use strict";var i=r(14859);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=i(t),n=i(n),o=i(o);var u=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"options",void 0),(0,o.default)(this,"TAG","NetworkDetection"),(0,o.default)(this,"online",!0),(0,o.default)(this,"type","4g"),this.options=s({onNetworkChanged:function(){},logger:{debug:function(){},info:function(){},warn:function(){},error:function(){}}},r),window.addEventListener("online",this.onEventOnline.bind(this)),window.addEventListener("offline",this.onEventOffline.bind(this))}return(0,n.default)(e,[{key:"destroy",value:function(){this.online=!1,this.options.onNetworkChanged=function(){},window.removeEventListener("online",this.onEventOnline.bind(this)),window.removeEventListener("offline",this.onEventOffline.bind(this))}},{key:"getType",value:function(){return this.type}},{key:"getIsOnLine",value:function(){return this.online}},{key:"onEventOnline",value:function(){if(!this.online){this.online=!0;var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;this.options.logger.warn(this.TAG,"network online,type:".concat(e&&e.type)),this.type=e?e.type:"4g",this.options.onNetworkChanged(this.online,this.type)}}},{key:"onEventOffline",value:function(){this.online&&(this.online=!1,this.options.logger.warn(this.TAG,"network offline"),this.options.onNetworkChanged(this.online,"offline"))}}]),e}();e.default=u},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},93178:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(9949),r(38695),r(15735),r(32501),r(99805),r(72994),r(94148),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(88233),r(28673),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(1939),r(6886),r(85371);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(88524),r(37959)],n=function(e,t,n,o,i,s,u,c){"use strict";var l=r(14859);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=l(n),o=l(o),i=l(i),s=l(s);var p=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"onOpen",(function(){})),(0,s.default)(this,"onMessage",(function(){})),(0,s.default)(this,"onError",(function(){})),(0,s.default)(this,"onClose",(function(){})),(0,s.default)(this,"onBeginReConnectCallback",(function(){})),(0,s.default)(this,"TAG","BeConnection"),(0,s.default)(this,"bInitialize",!1),(0,s.default)(this,"options",void 0),(0,s.default)(this,"connection",null),(0,s.default)(this,"token",""),(0,s.default)(this,"messageCallbacks",[]),(0,s.default)(this,"helloConfig",{timeoutMS:3e4,interval:5e3,timer:null,timeoutFunc:null}),(0,s.default)(this,"bHelloStarted",!1),(0,s.default)(this,"networkDelayMS",0),(0,s.default)(this,"pb",null),(0,s.default)(this,"pbVersion",0),(0,s.default)(this,"pbTag","CG"),(0,s.default)(this,"bEnableHello",!1),this.options=h({beforeReconnect:function(){}},t),this.onOpen=function(){},this.onMessage=function(){},this.onError=function(){},this.onClose=function(){},this.onBeginReConnectCallback=function(){}}return(0,i.default)(e,[{key:"initConnection",value:function(e,t,r){this.options.logger.info(this.TAG,"init beconnection"),this.bInitialize=!0,this.connection=e,this.pb=t,this.pbVersion=r,this.pbTag="CG",this._initConnection()}},{key:"setUrl",value:function(e){var t;return null===(t=this.connection)||void 0===t||t.setUrl(e),this}},{key:"setToken",value:function(e){return this.token=e,this.options.logger.info(this.TAG,"set token,".concat(e)),this}},{key:"setConnection",value:function(e){this.connection=e}},{key:"getConnection",value:function(){return this.connection}},{key:"connectBe",value:function(){var e;if(!this.bInitialize)throw new Error("请先调用init接口初始化");return null===(e=this.connection)||void 0===e||e.connect(),this}},{key:"disconnectBe",value:function(){return this.connection&&this.connection.disconnect(),this}},{key:"doneSend",value:function(e){var t=this,r=h({timeoutMS:3e3,pbTag:"CG",cmdContainer:"CmdType",payload:{}},e),o=r.cmdType,i=r.payload,a=r.timeoutMS,s=r.pbTag,u=r.cmdContainer,l=r.responCmd;this.pbTag=s,i.header||(i.header={}),i.header.requestId||(i.header.requestId=(0,c.getRandomIDString)(6));var d=i.header.requestId;return new Promise(function(){var e=(0,n.default)(f().mark((function e(r){var n,c,h,p,v,y,g,m,b,w;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pb){e.next=3;break}return r({ret:!1,msg:"pb未初始化"}),e.abrupt("return");case 3:if(n=null,e.prev=4,c=t.pb.lookupType("".concat(s).concat(o)),h=c.fromObject(i),p=c.encode(h).finish(),t.options.logger.debug(t.TAG,"send msgType ".concat(i).concat(o,",payload:").concat(JSON.stringify(i))),v=t.pb.lookup("".concat(u))){e.next=13;break}return r({ret:!1,msg:"pb参数格式错误",e:"cmdContainer error => ".concat(u)}),e.abrupt("return");case 13:if(n=t.pb.lookupType("".concat(s,"Message")).encode({version:t.pbVersion,cmdtype:v.toJSON().values["".concat(o)],payload:p}).finish(),!t.connection){e.next=21;break}return e.next=17,t.connection.send(new Uint8Array(n).buffer,a);case 17:y=e.sent,g=y.ret,m=y.msg,!1!==g&&l&&t.pb.lookupType("".concat(s).concat(l))?(b=null,w=function(e,n){t.options.logger.debug(t.TAG,"receive ".concat(e.toString()," successed,msg:").concat(m)),b&&clearTimeout(b),r({ret:!0,msg:"收到回包成功",cmd:e,payload:n})},t._addMessageCallback(d,w),b=setTimeout((function(){t._removeMessageCallback(w),r({ret:!1,msg:"接收回包超时"})}),a)):(t.options.logger.debug(t.TAG,"send ".concat(v.toJSON().values["".concat(o)].toString()," ").concat(!1===g?"fail":"successed",",msg:").concat(m)),r({ret:g,msg:m}));case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(4),r({ret:!1,msg:"pb参数格式错误",e:e.t0.toString()}),e.abrupt("return");case 27:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"send",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"CG",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CmdType",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3e3;return this.doneSend({cmdType:"Req".concat(e),payload:t,timeoutMS:o,pbTag:r,cmdContainer:n,responCmd:"Rsp".concat(e)})}},{key:"enableHello",value:function(e){var t;this.options.logger.info(this.TAG,"enable hello ".concat(e)),this.bEnableHello=e,"CONNECTED"===(null===(t=this.connection)||void 0===t?void 0:t.getState())&&(e?this._startHello():this._stopHello())}},{key:"setHelloConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timeoutMS,r=void 0===t?3e4:t,n=e.interval,o=void 0===n?5e3:n,i=e.timeoutFunc,a=void 0===i?null:i;return this.helloConfig={timeoutMS:r,interval:o,timeoutFunc:a},this.options.logger.info(this.TAG,"set hello config:".concat(JSON.stringify(this.helloConfig))),this}},{key:"_startHello",value:function(){var e=this;this.options.logger.info(this.TAG,"start hello"),this.bHelloStarted=!0;var t=(new Date).getTime();this.helloConfig.timer&&clearInterval(this.helloConfig.timer),this.helloConfig.timer=setInterval((function(){var r;if((new Date).getTime()-t>=e.helloConfig.timeoutMS&&(e.options.logger.warn(e.TAG,"hello timeout"),e.helloConfig.timeoutFunc&&e.helloConfig.timeoutFunc(),t=(new Date).getTime()),"CONNECTED"!==(null===(r=e.connection)||void 0===r?void 0:r.getState()))return e.options.logger.warn(e.TAG,"can not start hello no connection"),void e._stopHello();var n={header:{token:e.token}};e.options.logger.debug(e.TAG,"send hello");var o=Date.now();e.send("Heartbeat",n,"CG","CmdType",1e4).then((function(r){var n=r.ret,i=r.payload;if(e.networkDelayMS=Date.now()-o,e.bHelloStarted)if(!0===n){t=(new Date).getTime();var a=i||{};e.options.logger.debug(e.TAG,"receive hello success,interval:".concat(a.period)),e.helloConfig.interval!==a.period&&(e.helloConfig.interval=a.period,e._startHello())}else e.networkDelayMS=999,e.options.logger.warn(e.TAG,"receive hello timeout");else e.options.logger.debug(e.TAG,"receive hello success,but hello is stopped")}))}),this.helloConfig.interval)}},{key:"_stopHello",value:function(){this.bHelloStarted=!1,this.options.logger.info(this.TAG,"stop hello"),this.helloConfig.timer&&clearInterval(this.helloConfig.timer),this.helloConfig.timer=null}},{key:"_initConnection",value:function(){var e=this;this.connection||(this.connection=new u.WebsocketConnection({logger:this.options.logger,needReConnect:function(t){var r=1e3!==t&&t<4e3;return e.options.beforeReconnect(r),r},onBeginReConnectCallback:this.onBeginReConnectCallback.bind(this)})),this.connection.addEventListener("open",(function(){e._startHello(),e.onOpen()})),this.connection.addEventListener("close",(function(t){e._stopHello(),e.onClose(t)})),this.connection.addEventListener("message",(function(t){if(e.bInitialize){try{e.onMessage(t)}catch(e){}new Promise((function(r){var n=new FileReader;n.readAsArrayBuffer(t),n.onload=r.bind(e)})).then((function(t){if(e.pb){var r=e.pb.lookupType("".concat(e.pbTag,"Message")).decode(new Uint8Array(t.target.result)),n=r.cmdtype,o=r.payload,i=null,a=e.pb.lookup("CmdType"),s={};for(var u in a&&(s=a.toJSON().values),s)s[u]===n&&(i=u);if(!i)throw new Error({message:"cmdtype not found"});var c=e.pb.lookupType("".concat(e.pbTag).concat(i)).decode(o),l=e.messageCallbacks.findIndex((function(e){return e.requestId===c.header.requestId}));-1!==l&&(e.messageCallbacks[l].func(n,c),e.messageCallbacks.splice(l,1))}else e.options.logger.error(e.TAG,"pb is missing")})).catch((function(t){e.options.logger.error(e.TAG,"process message fail:".concat(t.toString()))}))}})),this.connection.addEventListener("error",(function(){e.onError()}))}},{key:"_addMessageCallback",value:function(e,t){this.messageCallbacks.push({requestId:e,func:t})}},{key:"_removeMessageCallback",value:function(e){var t=this.messageCallbacks.findIndex((function(t){return t.func===e}));-1!==t&&this.messageCallbacks.splice(t,1)}}],[{key:"instance",value:function(t){return this._instance||(this._instance=new e(t)),this._instance}}]),e}();e.default=p,(0,s.default)(p,"_instance",null)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},66528:function(e,t,r){var n,o,i;r(18178),r(39529),r(15735),r(72994),r(94148),r(95094),r(58188),r(61229),r(31235),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(6886),r(85371),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(83772),r(60270),r(36983),r(2588),r(81260),r(11168),r(86e3),r(93178),r(99459),r(37959)],n=function(e,t,n,o,i,a,s,u,c,l,f,d,h,p){"use strict";var v=r(14859);function y(e){var t=g();return function(){var r,n=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.cloudgamePBJson=void 0,t=v(t),n=v(n),o=v(o),i=v(i),a=v(a),s=v(s),u=v(u),c=v(c),l=v(l),d=v(d);var m=(h=v(h)).default;e.cloudgamePBJson=m;var b=l.default.Root.fromJSON(h.default),w=b.lookupType("CGRspLaunchGame"),T=b.lookupType("CGRspRelaunchGame"),_=b.lookupType("CGNtfGameStatus"),k=b.lookupType("CGRspLaunchRank"),E=b.lookupType("CGNtfSystem"),C=b.lookup("CmdType"),S=C?C.toJSON().values:{},A=b.lookup("SystemEvent"),R=A?A.toJSON().values:{},O=b.lookup("GameStatus"),M=O?O.toJSON().values:{},I=function(e){(0,a.default)(s,e);var r=y(s);function s(e){var n;return(0,t.default)(this,s),n=r.call(this,{logger:e.logger,beforeReconnect:function(e){n.onBeforeReconnect(e)}}),(0,c.default)((0,o.default)(n),"onOpenCallback",(function(){})),(0,c.default)((0,o.default)(n),"onMessageCallback",void 0),(0,c.default)((0,o.default)(n),"onCloseCallback",void 0),(0,c.default)((0,o.default)(n),"onBeforeReconnect",(function(){})),(0,c.default)((0,o.default)(n),"deviceid",void 0),(0,c.default)((0,o.default)(n),"eventCallback",(function(){})),(0,c.default)((0,o.default)(n),"managerTAG","BeManager"),(0,c.default)((0,o.default)(n),"closedTimer",null),(0,c.default)((0,o.default)(n),"domain",""),(0,c.default)((0,o.default)(n),"terminateCloseTimer",null),(0,c.default)((0,o.default)(n),"isTerminated",!1),n.isTerminated=!1,n.pbVersion=6,n.onOpen=n._handlerOnOpen.bind((0,o.default)(n)),n.onClose=n._handlerOnClose.bind((0,o.default)(n)),n.onError=n._handerOnError.bind((0,o.default)(n)),n.onMessage=n._handerOnMessage.bind((0,o.default)(n)),n.onMessageCallback=function(){},n.onCloseCallback=function(){},n.deviceid=e.devId||(0,p.getRandomIDString)(16),e.eventCallback&&(n.eventCallback=e.eventCallback),n}return(0,n.default)(s,[{key:"updateDevId",value:function(e){this.deviceid=e}},{key:"init",value:function(e,t){this.options.logger.info(this.managerTAG,"init,bInitialized:".concat(this.bInitialize)),(0,i.default)((0,u.default)(s.prototype),"initConnection",this).call(this,null,b,this.pbVersion),this.domain=e,this.token=t,this.setToken(this.token),this.onOpenCallback=function(){},this.onMessageCallback=function(){},this.onBeforeReconnect=function(){}}},{key:"unInit",value:function(){this.options.logger.info(this.managerTAG,"unInit,bInitialized:".concat(this.bInitialize)),this.connection&&this.connection.enableReconnect(!1),this.bInitialize&&(this.bInitialize=!1,this.closedTimer&&clearTimeout(this.closedTimer),this.disconnect())}},{key:"isOpened",value:function(){return!!this.connection&&"CONNECTED"===this.connection.getState()}},{key:"updateToken",value:function(e){this.token=e,this.setToken(this.token),this.reConnect()}},{key:"getNetworkDelayMS",value:function(){return this.networkDelayMS?this.networkDelayMS:0}},{key:"connect",value:function(){if(this.bInitialize){var e="wss://".concat(this.domain,"/v1/endpoint?token=").concat(this.token,"&dev_id=").concat(this.deviceid);this.setUrl(e),this.options.logger.info(this.managerTAG,"connect:".concat(e,",now connection is:").concat(this.isOpened())),this.connection&&this.disconnect(),(0,i.default)((0,u.default)(s.prototype),"connectBe",this).call(this),this.connection&&this.connection.enableReconnect(!0)}}},{key:"disconnect",value:function(){this.connection&&this.connection.enableReconnect(!1),(0,i.default)((0,u.default)(s.prototype),"disconnectBe",this).call(this)}},{key:"updateDomain",value:function(e){this.domain=e;var t="wss://".concat(this.domain,"/v1/endpoint?token=").concat(this.token,"&dev_id=").concat(this.deviceid);this.setUrl(t),this.options.logger.info(this.managerTAG,"update be wss url:".concat(t))}},{key:"reConnect",value:function(){this.bInitialize&&(this.options.logger.info(this.managerTAG,"try reconnect"),this.disconnect(),this.connect())}},{key:"notifyAVCConnecteStatus",value:function(e){this.doneSend({cmdType:"CNtfStreamStatus",payload:{status:e?1:0}})}},{key:"_handlerOnOpen",value:function(){this.bInitialize&&(this.closedTimer&&clearTimeout(this.closedTimer),this.eventCallback(f.ReportCode.FirstLinkBESuccess),this.onOpenCallback())}},{key:"_handlerOnClose",value:function(e){var t=this;if(this.bInitialize){this.options.logger.warn(this.managerTAG,"onclose:[".concat(e.code,"][").concat(e.reason,"]")),this.closedTimer&&clearTimeout(this.closedTimer),this.closedTimer=setTimeout((function(){window.navigator&&window.navigator.onLine?t.eventCallback(f.ReportCode.LinkBeTimeoutAndNetworkOnline):t.eventCallback(f.ReportCode.LinkBeTimeoutAndNetworkOffline)}),s.timeoutBeConnect);var r=e.code,n="code:".concat(e.code,",reason:").concat(e.reason);switch(r){case 4e3:if(e.reason.includes("game be terminated")){var o=0;this.eventCallback(f.ReportCode.ClosedByTerminal,n),this.terminateCloseTimer=setInterval((function(){o++,(t.isTerminated||o>200)&&(t.terminateCloseTimer&&(clearInterval(t.terminateCloseTimer),t.terminateCloseTimer=null),t.options.logger.info(t.managerTAG,"game was terminated by BE"),t.eventCallback(f.ReportCode.GameHasExit,n))}),10)}else this.eventCallback(f.ReportCode.GameHasExit,n);break;case 4001:this.eventCallback(f.ReportCode.TokenError,n);break;case 4002:this.eventCallback(f.ReportCode.ServerError,n);break;case 4003:this.eventCallback(f.ReportCode.AcountLoginAtOther,n);break;case 4004:this.eventCallback(f.ReportCode.LinkUnuseTimeout,n);break;case 4005:this.eventCallback(f.ReportCode.UserLogout,n);break;default:this.eventCallback(f.ReportCode.BeLinkClosed,n)}this.onCloseCallback()}}},{key:"_handerOnError",value:function(){this.bInitialize&&(this.options.logger.error(this.managerTAG,"onerror"),this.eventCallback(f.ReportCode.LinkBEFailed))}},{key:"_handerOnMessage",value:function(e){if(this.bInitialize){this.options.logger.debug(this.managerTAG,"get message");var t=new FileReader;t.onload=this._handlerReceiveBuffer.bind(this),t.readAsArrayBuffer(e)}}},{key:"_handlerReceiveBuffer",value:function(e){var t=b.lookupType("CGMessage").decode(new Uint8Array(e.target.result)),r=t.cmdtype,n=t.payload;switch(this.options.logger.debug(this.managerTAG,"get mes => ".concat(r)),r){case s.CmdTypeValues.RspExitGame:var o=b.lookupType("CGRspExitGame").decode(n);this.eventCallback(o.result.gerrcode,"receive ExitGame,body:".concat(JSON.stringify(o)));break;case s.CmdTypeValues.NtfSystem:var i=E.decode(n);this.options.logger.info(this.managerTAG,"receive NtfSystem,type:".concat(i.type,",body:").concat(JSON.stringify(i))),i.type===R.SystemEventKickOff?this.eventCallback(f.ReportCode.AcountLoginAtOtherHistory):i.type===R.SystemInvalidToken?this.eventCallback(f.ReportCode.TokenTimeout):i.type===R.SystemEventTerminated?(this.eventCallback(f.ReportCode.SystemEventTerminated,i.message,i.message),this.isTerminated=!0):i.type===R.SystemEventReenter&&this.onMessageCallback(r,i);break;case s.CmdTypeValues.NtfGameStatus:this._recvedNtfGameStatusMsg(r,n);break;case s.CmdTypeValues.NtfGameCharge:this._recvedCGNtfGameChargeMsg(n);break;case s.CmdTypeValues.NtfGameEvent:this._recvedCGNtfGameEventMsg(n);break;case s.CmdTypeValues.RspLaunchGame:var a=w.decode(n);this.onMessageCallback(r,a);break;case s.CmdTypeValues.RspRelaunchGame:var u=T.decode(n);this.onMessageCallback(r,u);break;case s.CmdTypeValues.RspLaunchRank:var c=k.decode(n);this.onMessageCallback(r,c)}}},{key:"_recvedNtfGameStatusMsg",value:function(e,t){var r=_.decode(t),n=JSON.stringify(r);switch(this.options.logger.info(this.managerTAG,"receive NtfGameStatus,gameStatus:".concat(r.gameStatus,", body:").concat(n)),r.gameStatus){case M.GameStatusCloseSuccess:this.eventCallback(f.ReportCode.GameStatusCloseSuccess,n);break;case M.GameStatusStartFailure:this.eventCallback(f.ReportCode.GameStatusStartFailure,n);break;case M.GameStatusUserUnActive:this.eventCallback(f.ReportCode.GameStatusUserUnActive,n);break;case M.GameStatusHoldClosed:this.eventCallback(f.ReportCode.GameStatusHoldClosed,n);break;case M.GameStatusIdleClosed:this.eventCallback(f.ReportCode.GameStatusCloseByUnActive,n);break;case M.GameStatusReadyRender:this.eventCallback(f.ReportCode.GetBeReadyRender,n);break;default:this.onMessageCallback(e,r)}}},{key:"_recvedCGNtfGameChargeMsg",value:function(e){var t=b.lookupType("CGNtfGameCharge").decode(e),r=t.leftDuration;this.options.logger.info(this.managerTAG,"receive NtfGameCharge,leftDuration:".concat(r,", body:").concat(JSON.stringify(t))),r>0?this.eventCallback(f.ReportCode.NotifyForNoMoney,r):this.eventCallback(f.ReportCode.GameStatusCloseByNoMoney)}},{key:"_recvedCGNtfGameEventMsg",value:function(e){var t=b.lookupType("CGNtfGameEvent").decode(e).event,r=b.lookup("GameEvent"),n=r?r.toJSON().values:{};switch(t){case n.GameEventStartAssist:this.eventCallback(f.ReportCode.HelperStartHelp);break;case n.GameEventStopAssist:this.eventCallback(f.ReportCode.HelperHasStop);break;case n.GameEventKickAssist:this.eventCallback(f.ReportCode.NotifyHelpExit);break;case n.GameEventTermAssist:this.eventCallback(f.ReportCode.StopHelp);break;case n.GameEventAssistFailure:this.eventCallback(f.ReportCode.HelpFail);break;case n.GameEventJoinPvP:this.eventCallback(f.ReportCode.EnterFightSuccess);break;case n.GameEventLeavePvP:this.eventCallback(f.ReportCode.LeaveFightGame);break;case n.GameEventKickPvP:this.eventCallback(f.ReportCode.StopFight);break;case n.GameEventTermPvP:this.eventCallback(f.ReportCode.FightGameExit);break;case n.GameEventJoinPvPFailure:this.eventCallback(f.ReportCode.EnterFightFail);break;case n.GameEventSwitchScreenSuccess:this.eventCallback(f.ReportCode.BeChangeScreenSuccess);break;case n.GameEventSwitchScreenFailure:this.eventCallback(f.ReportCode.BeChangeScreenFail);break;case n.GameEventJoinWatch:this.eventCallback(f.ReportCode.EnterViewGameSuccess);break;case n.GameEventLeaveWatch:this.eventCallback(f.ReportCode.LeaveViewGameSuccess);break;case n.GameEventJoinWatchFailure:this.eventCallback(f.ReportCode.EnterViewGameFail);break;case n.GameEventJoinMeeting:this.eventCallback(f.ReportCode.EnterMeetingSuccess);break;case n.GameEventLeaveMeeting:this.eventCallback(f.ReportCode.LeaveMeetingSuccess);break;case n.GameEventTermMeeting:this.eventCallback(f.ReportCode.StopMeeting);break;case n.GameEventJoinMeetingFailure:this.eventCallback(f.ReportCode.EnterMeetingFail)}}}],[{key:"isSupport",value:function(){try{var e=b.lookupType("CGReqHeartbeat").encode({header:{token:"1"}}).finish();return e&&e.byteLength>0}catch(e){return!1}}}]),s}(d.default);e.default=I,(0,c.default)(I,"CmdTypeValues",S),(0,c.default)(I,"PbSystemEventValues",R),(0,c.default)(I,"timeoutBeConnect",6e4)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},8444:function(e,t,r){var n,o,i;r(95094),r(58188),r(73439),r(61229),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(83772),r(60270),r(36983),r(2588),r(81260),r(42891),r(93178)],n=function(e,t,n,o,i,a,s,u,c,l,f){"use strict";var d=r(14859);function h(e){var t=p();return function(){var r,n=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=d(t),n=d(n),o=d(o),i=d(i),a=d(a),s=d(s),u=d(u),c=d(c);var v=function(e){(0,a.default)(s,e);var r=h(s);function s(){var e;return(0,t.default)(this,s),e=r.call(this,{logger:l.ViuLogger.instance()}),(0,c.default)((0,o.default)(e),"GSMTAG","gsmConnection"),(0,c.default)((0,o.default)(e),"gsmConnectionStatus",{login:"LOGINED",logout:"LOGOUTED"}),(0,c.default)((0,o.default)(e),"status",e.gsmConnectionStatus.logout),(0,c.default)((0,o.default)(e),"userType",""),(0,c.default)((0,o.default)(e),"userID",""),e}return(0,n.default)(s,[{key:"init",value:function(e,t,r){(0,i.default)((0,u.default)(s.prototype),"initConnection",this).call(this,e,t,r)}},{key:"connect",value:function(){return(0,i.default)((0,u.default)(s.prototype),"connectBe",this).call(this)}},{key:"disconnect",value:function(){return(0,i.default)((0,u.default)(s.prototype),"disconnectBe",this).call(this)}},{key:"login",value:function(e,t){var r=this;return new Promise((function(n){var o={usertype:e,userid:t};r.userType=e,r.userID=t,l.ViuLogger.instance().debug(r.GSMTAG,"调用GSM登录,参数：".concat(JSON.stringify(o))),r.send("Login",o,"C","MsgType").then((function(e){l.ViuLogger.instance().debug(r.GSMTAG,"调用GSM登录成功,返回值：".concat(JSON.stringify(e))),e.ret?(r.status=r.gsmConnectionStatus.login,l.ViuLogger.instance().debug(r.GSMTAG,"获取GSM状态：".concat(r.getStatus())),n(e)):n(e)}))}))}},{key:"logout",value:function(){var e=this;return new Promise((function(t){e.send("Logout",{userType:e.userType,userID:e.userID},"C","MsgType").then((function(r){l.ViuLogger.instance().debug(e.GSMTAG,"调用GSM登出成功,返回值：".concat(JSON.stringify(r))),r.ret?(e.status=e.gsmConnectionStatus.logout,l.ViuLogger.instance().debug(e.GSMTAG,"获取GSM状态：".concat(e.getStatus())),t(r)):t(r)}))}))}},{key:"getStatus",value:function(){return this.status}}]),s}((f=d(f)).default);e.default=v},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},31877:function(e,t,r){var n,o,i;r(15735),r(95094),r(68625),r(58188),r(28673),r(52356),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(93178),r(66528),r(8444)],void 0===(i="function"==typeof(n=function(e,t,n,o){"use strict";var i=r(14859);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BeConnection",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"BeManager",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"GsmConnection",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"cloudgamePBJson",{enumerable:!0,get:function(){return n.cloudgamePBJson}}),t=i(t),n=u(n),o=i(o)})?n.apply(t,o):n)||(e.exports=i)},88702:function(e,t,r){var n,o,i;r(95094),r(34769),r(67890),r(68995),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260)],void 0===(i="function"==typeof(n=function(e,t,n,o){"use strict";var i=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.QualityCatch=void 0,t=i(t),n=i(n),o=i(o);var a=function(){function e(){(0,t.default)(this,e)}return(0,n.default)(e,null,[{key:"getCatchData",value:function(){var t=localStorage.getItem(e.catchKey);if(t)try{var r=JSON.parse(t);e.catchData=r}catch(t){e.catchData={}}else e.catchData={}}},{key:"saveCatchData",value:function(){localStorage.setItem(e.catchKey,JSON.stringify(e.catchData||{}))}},{key:"appendItem",value:function(t,r){if(e.catchData||e.getCatchData(),!e.catchData)return!1;if(!e.catchData[t]&&Object.keys(e.catchData).length>e.maxCatch){var n="",o=0;for(var i in e.catchData)if(Object.prototype.hasOwnProperty.call(e.catchData,i)){var a=parseInt(e.catchData[i].ts,10)||1;(0===o||a<o)&&(o=a,n=i)}n&&delete e.catchData[n]}return e.catchData[t]=r,e.saveCatchData(),!0}},{key:"getHistoryData",value:function(){return e.catchData||e.getCatchData(),e.catchData?Object.values(e.catchData):[]}}]),e}();e.QualityCatch=a,(0,o.default)(a,"catchKey","__VrviuQosTestPing__"),(0,o.default)(a,"catchData",null),(0,o.default)(a,"maxCatch",10)})?n.apply(t,o):n)||(e.exports=i)},81434:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886),r(14121);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959),r(88702)],n=function(e,t,n,o,i,s,u,c){"use strict";var l=r(14859);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.QualityReportWasmWork=void 0,n=l(n),o=l(o),i=l(i),s=l(s);var p="https://viu-sdk-cdn.yuntiancloud.com/h5/resources/",v="https://viu-sdk-cdn.yuntiancloud.com/h5/resources/vr-quality-test/",y=null,g=!1,m={rttPingTime:1e3,rttLostTime:1e3,rttHeightTime:60},b=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"setUseReport",value:function(e){return e}},{key:"isSupport",value:function(){return"function"==typeof Worker}},{key:"setLog",value:function(t){e.logger=t}},{key:"setUseDevReportModule",value:function(t){e.useDevReportModule=t}},{key:"setInitOptions",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y?e.logger.warn(e.TAG,"should set before loadReportScript"):(e.nowRetryTime=0,e.initReportOption=t,e.forceReportDetailQuality=r)}},{key:"loadReportScript",value:function(){var t=(0,n.default)(h().mark((function t(){var r,n=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:u.OssSource.qualityPath,t.abrupt("return",new Promise((function(t){if(y||!e.isSupport())return y||e.logger.warn(e.TAG,"unsupport webWorker"),void t(!1);var n=new Blob(['var CUSTOM_FETCH_DOMAIN = "'.concat(e.useDevReportModule?v:p,'";importScripts("').concat(e.useDevReportModule?u.OssSource.qualityDevPath:r,"?t=").concat(Date.now(),'")')],{type:"application/javascript"});y=new Worker(window.URL.createObjectURL(n)),e.loadWasmTimer&&(clearTimeout(e.loadWasmTimer),e.loadWasmTimer=null),e.loadWasmTimer=setTimeout((function(){e.logger.info(e.TAG,"wait worker ready timeout"),e.loadWasmTimer=null,e.retryLoadResource(r)}),1e4),y.onmessage=function(t){t.data&&("ready"===t.data.type&&(e.loadWasmTimer&&(clearTimeout(e.loadWasmTimer),e.loadWasmTimer=null),e.logger.info(e.TAG,"receive ready 1"),e.initReport()),e.dealWorkerMessage(t.data))},t(!0)})));case 2:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()},{key:"dealWorkerMessage",value:function(t){t.type&&("log"===t.type&&e.logger.info(e.TAG,t.data),"configData"===t.type&&(m.rttPingTime=t.data.rttPingTime,m.rttLostTime=t.data.rttLostTime,m.rttHeightTime=t.data.rttHeightTime),"testPing"===t.type&&c.QualityCatch.appendItem(t.data.key,t.data.value))}},{key:"retryLoadResource",value:function(t){e.nowRetryTime>=e.maxRetryTime?e.logger.info(e.TAG,"has retry max time"):(e.nowRetryTime++,e.logger.info(e.TAG,"retry load worker resource ".concat(e.nowRetryTime)),y&&(y.onmessage=null,y=null),e.loadReportScript(t))}},{key:"initReport",value:function(){return!!y&&(e.initReportOption?(y.onmessage=function(t){if(t.data&&"init"===t.data.type){if(!e.initReportOption)return e.logger.error(e.TAG,"need set options before init"),!1;g=t.data.data,e.logger.info(e.TAG,"init quality report res = > ".concat(g)),e.setDeviceSize(window.screen.width,window.screen.height),e.setDeviceInterval(e.initReportOption.deviceFrameDelay&&e.initReportOption.deviceFrameDelay>0?e.initReportOption.deviceFrameDelay:16.5),e.deviceAnimationTimer=requestAnimationFrame(e.startListenDeviceRenderUpdate)}e.dealWorkerMessage(t.data)},y.postMessage({type:"runFun",data:{name:"initQualityReport",args:[d(d({},e.initReportOption),{},{newFrameReportWay:!0}),e.forceReportDetailQuality]}}),!0):(e.logger.error(e.TAG,"need set options before initReport"),!1))}},{key:"quitQualityReport",value:function(){g&&y&&(g=!1,y.postMessage({type:"runFun",data:{name:"quitQualityReport",args:[]}}),e.deviceAnimationTimer&&cancelAnimationFrame(e.deviceAnimationTimer))}},{key:"setIsSystemToBackground",value:function(t){g&&y&&e.sendMsgToWorker("setIsSystemToBackgroundWithTime",[t,Date.now()])}},{key:"toStartDecodeFrame",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Picdata";g&&y&&e.sendMsgToWorker("toStartDecodeFrame",[t,r,n,Date.now()])}},{key:"startRenderFrame",value:function(t){g&&y&&e.sendMsgToWorker("startRenderFrameWithTime",[t,Date.now()])}},{key:"endRenderFrame",value:function(t){g&&y&&e.sendMsgToWorker("endRenderFrameWithTime",[t,Date.now()])}},{key:"requireIdr",value:function(){g&&y&&e.sendMsgToWorker("requireIdrWithTime",[Date.now()])}},{key:"sendRtt",value:function(){g&&y&&e.sendMsgToWorker("sendRtt",[])}},{key:"receiveRtt",value:function(t){g&&y&&e.sendMsgToWorker("receiveRttWithTime",[t,Date.now()])}},{key:"notifyPacketLoss",value:function(t){g&&y&&e.sendMsgToWorker("notifyPacketLossWithTime",[t,Date.now()])}},{key:"notifyKbps",value:function(t){g&&y&&e.sendMsgToWorker("notifyKbpsWithTime",[t,Date.now()])}},{key:"networkType",value:function(t){g&&y&&e.sendMsgToWorker("networkType",[t])}},{key:"getRttPingTime",value:function(){return m.rttPingTime}},{key:"getRttLostTime",value:function(){return m.rttLostTime}},{key:"getRttHightTime",value:function(){return m.rttHeightTime}},{key:"setVideoSize",value:function(t,r){g&&y&&e.sendMsgToWorker("setVideoSize",[t,r])}},{key:"setDeviceSize",value:function(t,r){g&&y&&e.sendMsgToWorker("setDeviceSize",[t,r])}},{key:"setDeviceInterval",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16.5;g&&y&&y.postMessage({type:"runFun",data:{name:"setDeviceInterval",args:[e]}})}},{key:"receiveRTCFrames",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();g&&y&&y.postMessage({type:"runFun",data:{name:"receiveFrames",args:[e,t,r]}})}},{key:"decodeRTCFrames",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();g&&y&&y.postMessage({type:"runFun",data:{name:"decodeFrames",args:[e,t,r]}})}},{key:"startListenDeviceRenderUpdate",value:function(){g&&(e.deviceAnimationTimer=requestAnimationFrame(e.deviceRenderInterval))}},{key:"deviceRenderInterval",value:function(){if(g&&y){var t=performance.now();e.lastAnimationFrameTime&&e.sendMsgToWorker("deviceRenderIntervalWithTime",[t-e.lastAnimationFrameTime,Date.now()]),e.lastAnimationFrameTime=t,e.deviceAnimationTimer=requestAnimationFrame(e.deviceRenderInterval)}}},{key:"sendMsgToWorker",value:function(t,r){e.WaitCallWorkFun.push({name:t,args:r}),e.WaitCallTimer||(e.WaitCallTimer=setTimeout((function(){e.WaitCallTimer=null,g&&y&&(y.postMessage({type:"delayCall",data:e.WaitCallWorkFun}),e.WaitCallWorkFun=[])}),500))}}]),e}();e.QualityReportWasmWork=b,(0,s.default)(b,"lastAnimationFrameTime",0),(0,s.default)(b,"deviceAnimationTimer",null),(0,s.default)(b,"loadWasmTimer",null),(0,s.default)(b,"maxRetryTime",3),(0,s.default)(b,"nowRetryTime",0),(0,s.default)(b,"initReportOption",null),(0,s.default)(b,"forceReportDetailQuality",!1),(0,s.default)(b,"TAG","QualityReportWasmWork"),(0,s.default)(b,"useDevReportModule",!1),(0,s.default)(b,"logger",{info:function(){},warn:function(){},error:function(){},debug:function(){}}),(0,s.default)(b,"WaitCallWorkFun",[]),(0,s.default)(b,"WaitCallTimer",null)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},76485:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(81434),r(88702)],void 0===(i="function"==typeof(n=function(e,t,n,o,i,a){"use strict";var s=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.getReportEnum=e.getHistoryTestPingData=e.default=e.QualityReport=void 0,t=s(t),n=s(n),o=s(o);var u=function(){function e(){(0,t.default)(this,e)}return(0,n.default)(e,null,[{key:"create",value:function(){return i.QualityReportWasmWork}}]),e}();e.QualityReport=u,(0,o.default)(u,"reportEnum",{LsProtocal:{Webrtc:"webrtc",Commonc:"commonc",Websocket:"websocket"},VideoEncodeType:{H264:"h264",H265:"h265"},VideoFrameType:{Picdata:"Picdata",SPS:"SPS",PPS:"PPS",VPS:"VPS",RequireIdr:"RequireIdr",ReceiveIdr:"ReceiveIdr"}});var c=function(){return u.reportEnum};e.getReportEnum=c;var l=function(){return a.QualityCatch.getHistoryData()};e.getHistoryTestPingData=l;var f=u.create();e.default=f})?n.apply(t,o):n)||(e.exports=i)},63420:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e,t){var r=document.createElement("div");r.style.position="absolute",r.style.width="380px",r.style.height="148px",r.style.borderRadius="20px",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="auto",r.style.zIndex="1000",r.style.background="#000",r.style.opacity="0.75",r.style.color="#fff";var n=document.createElement("div");n.style.textAlign="center",n.style.whiteSpace="nowrap",n.style.fontSize="16px",n.style.paddingTop="40px",n.style.paddingBottom="34px",n.innerText=e,r.appendChild(n);var o=document.createElement("div");function i(){var e=document.createElement("div");return e.style.width="80px",e.style.height="32px",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.borderRadius="32px",e.style.border="1px solid #6C6C6C",e.style.margin="0 20px",e.style.cursor="pointer",e.style.fontSize="16px",e}o.style.display="flex",o.style.justifyContent="center",r.appendChild(o);var a=i();a.innerText="取消",a.onclick=function(){t.cancelCallback&&t.cancelCallback()},o.appendChild(a);var s=i();return s.innerText="确定",s.onclick=function(){t.submitCallback&&t.submitCallback()},o.appendChild(s),t.container.appendChild(r),{el:r,destroy:function(){t.container.removeChild(r)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.showConfirm=t})?n.apply(t,o):n)||(e.exports=i)},71563:function(e,t,r){var n,o,i;r(34115),r(18178),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(37959),r(63420),r(90166),r(54348)],n=function(e,t,n,o,i,a,s,u){"use strict";var c=r(14859);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Object.defineProperty(e,"showConfirm",{enumerable:!0,get:function(){return a.showConfirm}}),Object.defineProperty(e,"showWaitUploadImage",{enumerable:!0,get:function(){return s.showWaitUploadImage}}),Object.defineProperty(e,"showWaiting",{enumerable:!0,get:function(){return s.showWaiting}}),Object.defineProperty(e,"toast",{enumerable:!0,get:function(){return u.toast}}),t=c(t),n=c(n),o=c(o);var d=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"options",void 0),(0,o.default)(this,"TAG","sdkUI"),(0,o.default)(this,"listeners",[]),(0,o.default)(this,"startBtn",void 0),(0,o.default)(this,"bForeground",!0),(0,o.default)(this,"screenHeight",0),(0,o.default)(this,"screenWidth",0),this.options=f({isContainerPlay:!1,onVisibilityChangedCallback:function(){},onUnloadCallback:function(){},onWindowBlurCallback:function(){},onGameViewChanged:function(){},logger:{debug:function(){},info:function(){},warn:function(){},error:function(){}}},r),this.options.logger.info(this.TAG,"init"),this.listeners=[],this.startBtn=document.createElement("span"),this.startBtn.style.position="absolute",this.startBtn.style.left="50%",this.startBtn.style.top="50%",this.startBtn.style.zIndex="11000",this.startBtn.style.transform="translate(-50%, -50%)",this.startBtn.style.height="50px",this.startBtn.style.width="50px",this.startBtn.style.backgroundRepeat="no-repeat",this.startBtn.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAB6CAYAAAB9RzejAAAABGdBTUEAALGPC/xhBQAAFKpJREFUeAHtnQtwFcWaxxNeIi8RgQW8CqJBRAFdhVs8VkIoZXkIuyggJQiC3OUlCusjsLvI5bqCwgIiL3EJTwsBodgrCWAVGBC4QnQFQUSiCBt5FCKiQC5CIPv7Dz25E3KSnJOcczLnnPmqvvSkp2e6v+9/+jHd/X0dHxdFlJubWwVxEuC7HVyb6+o+mKi4cz74NHHfODgzPj4+m/+jguIjVQrALUfZW8JJcCLcAr4NDrZMubwzC/4SToe3wHv5EVwljDgKtnJCqgBAvoMMusEd4US4FpxH3L988eLFrPPnzx/9+eefj548efIIfJrr7NOnT2efOHHiwuHDh7P37dt3QQ81b968auPGjavUr1+/au3atavcfPPNVerVq1cbbsR1w2rVqjWsXLnybYBbMS+TaxdnCNLhj+FU7n9PGBHkesAB8SY02Rt+Gm4P55X5t99+O/bjjz9mHDp06LP169fvX7hw4fFff/01qDWvRo0a5YYMGdKge/fu9zVp0uShOnXqtLrhhhtupRw2qQXYDi+FVwP+L/YNN4Z5ynNT4QBZ5eoCD4R7wJXhuKtXr/711KlT2zIzM3etXLkyY86cOScUH24aOXJk/b59+7ZKSEj4fd26dR8uV67cjaYMFwn/DC+BNwC+fgyuIlcBDtDl0U4/eBzczGjqKk1yxp49e9LGjh27mVBKdQ09+OCDN06dOjXp/vvv70o30IqClTOFO0A4GV4B8FdMXJkHrgAcoCuhCdXmZLixtEJzfeLgwYMfzJo1a0NKSsopxbmdBg8eXHf06NFdmjZt+gTNfn1T3sOEU+AlAH+prGUoU8BN0z0IJUyCfydlMOg6snv37sW9evXa8NNPP7mmZqhs/tItt9xSfu3atV1at249iEFfI/PcD4QT4MVl2dSXGeCArc+ouXA7OO7ChQuZ27dvXwjQm7Ozs13X96mMgVKVKlXiAb5T+/bth1StWlXzA6Id8AhA12de2CnsgAO0JkH+CI+Gy1++fPl0enr6jG7dum3iOuwKCEeGFStWjEtNTe2cmJg4hmtNBOXAb8OvArwmf8JGYQUcsLsi2btwA/gK38SrBgwYMH/nzp3Wd3HYpC6jjNq2bVt12bJlw/j270MRNEA9Dg8F9LRwFSksgAN0BQR6HX4Rjj937tyXc+fOnZycnJwZLkHdlM+UKVMSRowYMa569erq1tR9TYPHA7xqfkgp5IADtqY7V8Jt4Bw+q+YwmFkWrc23v2ipmWdwOoDPuZE8owqxE34S0DWNGzKyvxlDkgFgd+fFe+A2fGadnD9//tAHHngg5sGWsvWDly6kk0uXLp0kqi28x+hMSUJCIavhFPx5SjwDjmcee1v//v0nbtq06deQSBHhL+3cuXON5cuXT2Q+/2FEURM/hpr+VijECgnggK3+WrNluXv37p3dqlWrJbHehBcHnpr4jIyMgS1bthxFWuEyGdDHF/dcoPeDCjhAa+S5AB4MX96yZcukTp06bQi0ULGcfvPmzV2SkpI0QaMVuhT4DwAftAmooPXhgK0FjrXwYC1yrF69eqwHNtoIkKQz6U465FFVnLVGtwG+yXfyoABuarZG4j2uXLlydt68ecP79OnzF99ZerHFaUC6kw6lS+kUXml0XNyjxd4PCuDkombcAvu1114bOmrUqP3F5uwlKFID0qF06QBdOi41lboP55enJcBkNUH6VXpglxqTfC+YPXv2fcOHD59n1tyn0J9rMFxiKhXggK1Pr5nwZfU7XjNeYhyKfHDVqlVtevfuPZ1EGsi9UJpPthIDDtiaVNHujjhG4xO8AZo0EToyo/dJJocegL6+JLmVCHDA1nSpZtBq8Z39NtODS0qSufdMYBpgWlrf6c/x1Bn4fkAPeBo2YMABW/O+W+G2mkFjU99Yrj0KgwY0OXP8+PHpZkZOc+8dAD2gBZeSjNI1i9ZWc+OaLg2DnF4WRgOarZTOpXui2sLCIiAKCHBqt9aztcSZs2jRonHe3HhAug5KYulcuhcG8IsGE7/f7XeTzou1U+Ug3IC+5C2t9Pidi5cw6Br44osvtLSqr6TjcFOadr92zgQCuD4LxmjzApv0BnuLIUHHMKAXqj9nk2eK2UQxA8D9Gkv51aRTu1tQGo0Or2inigd2QNiEJLEwEBbCBH7OYFRsXsXWcF6kNJ/A7diDtuLOO+/8r2Lf6iUImwa+++67f2WPXD8y1G7Yf6CmF7nj158aPogXteMXdVobDrn2yEUaECbChiJpu/eg4opWJODU7kq8YJJeoq3EsbK7tDiluem+MBE2pkyTDGaFFrHIJp2Hh/LkAhkJYDfVT/2GR+7TgAZw2N+tMMYO2jChreA+qdAaDtjleUK2XnGyCPHA9qk/V0QKG2FkCpNssPNZtkJrOA/154llsvXiM6x3tJj/+NRCFETKrInPtNXGlm0AtXy5L7F81nDA1g/BWneVYZ8Hti/VuStOGAkrU6pxBsMChfRZw0msKdRU5mxP3Hrrrf8UqVacBaSN8ghZrR47dmydMVXuRi0vYMLks4ajl4HSjeyz3Qq2bLGPHj06DhcfiynjzF27dvXGLvuGKMe0SPGElTAziSwMr3+gQA2ndt9EIq3GVMK3SXc3GuPjb6UmZrjvMzqt7RRI36Nbt26d+cgjj2x0xsfStSoCvm60OeISXI9ans/njC/AnyXhuwzzd9WqVUt2T64jfLw8f9dddw0orGBnz57dPRl68803swpLE83xZ86cmcNn9O+RUZap/+2U1VeT/rQSsCJWoP13PliW14wr2heVf82aNVtjobnyq6++GtqoUSPtA4spcmBnYekUPl8Npzm/g5vfsQP1Is5qHuHBi87Ebrlm6+4nDs9JRRaLz8qja9asmcLGgYwiE0bRTTkaYsT+ETqSccid1PLvbfGur+FyehePa6ytbgVbBfcXbKXlu7ThU089NY+tQZMef/zxmxUX7fT5559b7s2QUxVamObR9YB31B36yN15KaLkAm+LXfHttmbHjh3/rKnIaCf5sjMyWpja8uYBTnOu60TdkNM7hdFG5cuXr4HbjX/j82URY7q7ok0+pzwODBMNttZtVXmLiHyAi/9lsuUYzWBPE+3KgLJ+FoSC5Xz77bcr2OD/jpu7r9LIyfjlf4yb0L+nH/9C78qr4VwnKUK+SxXGAFXQp92nn376wbp16x6ORnkdWFrYSkYn4FZbz0xNMGpPxOiPGlCvZ8+e01HOtGefffbvIqbgfhRUTodNsrx+3Al4c91MS0vb78e7oi4Jm/sT33nnnQ8Y4fbXnHQ0CCgP00YOC1tdW304fWIVrs8T5jBp0S7YLqhNpkELgtSHF1oeNnwcWrp06eu41rIVVmhaN9+Q629mHXfQf8taqBphtl3DE4iIp5PPcjvY4VAwO0eaYKK7iMWZ5I4dO1YLR56hyENYClNhCwvjvD68qf7RSQIKPbI0EH/77bc/8dFHH63BcvMfI1UnDkzvlgx2Dbf+YcHEA/w6ZCtUqHBLUlLSa+hm7ssvvyyr2YgiB6ZWpbYBbyIpdEZIREkTxsJG6oKMA1MLYxvwOtId882nw6jDiMuKQU+lZs2a/cvXX3/9Po70dPqB68mBqYWxDXh1lZwRXUx4NS4tSo4FmT+5fUHGgamFsQ24NRJljlm+wTzyUwMsyHRhznotCzK93Log48DUwtgG3EJf53r5KauXzGiABZnqLMiMd+uCjAPTfDXc+keHuHlIlkwDmO02f+WVVxbL41LJ3hCapxyYFgTcPrEvNFlH/1sZ1FV+7LHHXnSTpA5M8wHupjJ6ZQmhBuw+3HIXobM4Q5hX1L+aOf6LH3744TQ3CerA1MI4H+A6eNVNhY2ksuAKZd8bb7wxyG3eKB2YWoBrFUVk/aNTdq/96/31VwPsoD3HDtHZHTp0WONGC1sHpgVruI5U9ldQL11cHJ88G/v16/c4n2WuBFsYOTAtWMOxVvAA9+OXzJLj/7HXfXIk7HV3YJoPcGsOXYel+yFvzCZhUHaJefTFnKK46MiRIxHhDsOBqYWxPWg7JBS52Shm0SxGcNmrjR8//sl77713QaSALZEcmH6j/+1B20H9Q/VvqNCjv2kgJyfnzLZt22ZEqntwB6YW4HYNt/6pVq2aB/jfsM7Nyspa++ijj/aKVLAligPTfDU8k3u5LPvdpo1vsb6vTV6r2MT4n9GwiVGYCltYGF/b4qTdjFxnEVbECUAD3YhF0rktWKHMbNiwYf9IB1v4CUthyqWwtRbG7CZd9/fpD94V7lMYa4Sz/63sVO2Nl+jlLHVeiQb5HVh+actjD9r0/8dwtyZNmjxEGDMuM3TQ68aNG6difbJVSogmMlhKpHRbLifgWxTJkRYRsVfLFqAUoYwJ38eYcH60GhM6sLSwla6cTfpe/j8ja8ORI0fWL4UiXf+oFjpwCdI/ISFhZrSCLQyN5agOxBG2FuUBTqd+lZh0xfbt2zcqa7kWOnBG+zq2Y8+MGzfuW8kareTAMN1ga4maB7gRXP14HL/81ub/qAlY6NighY527dqtdeOqVrAVDYby4iSyML12mb9JV1wqnFu3bt0OnKchhzCuJHPyrl9l00LHe++9N7xBgwb/wemJat6inoQdGMrmXd/fwjSP8tVwqv733NkupznTp0/vlJfKZRfmGKciS6WFjgMHDiy45557+kbCqlaRwgR4U9gZx0fbDaZ5b8gHuIldqpBfSde8VC67wJ/ojqKKpIWO5OTkvpG20FGUTIHcc2BnYel81hfgq0lwkUn3VnLj6EzsluuXXnppMYsa1nKfs0xyvck5qP9O2UfEqhdGYSbshCEsLPNRAcBpAn4hhQ6RLTd69Ogu+VK75B98spxlVmwgixvrMIf9CleTO9hm9EaLFi16stARM5NGvuAwmAnXPxss8yWToXgBov9Tc+65zy6gGXdHlMZ99gZEO8CHe328Fruylrtb9WVTOmElzIQdLAwLUIEmXSloCjSc1yFoca1btx6k4xV07ZF7NSCMhJUp4WSDYYEC+wTcpFpBeJj11Eb8clz7iVZAohiNEEbCSpjBws4nFQo4vxAtEU7RU+3btx/iVnNYn1LFWKSwEUZG7CkGO59aKBRwk3oJ4Q86Dys1NbWzzzd4kWWuAWFjziz7gcIIs0KpSMD5pegYhQl6OjExcQwb7j3LlEJVWTY3hImwMblPMJgVWphiB2N8oinNJ7B32Gyhaiy7G0E/bJZfjEbsI+AcDNP6sI5sOXgrOxG9nG0NCAthImzgEQYr+7bPsNgabj9FTfcOjLeV4YJQAzX23oXmwHgj36uEx3UiPdOYA1wgc0wXQRgIC2ECCxu/qMhBm/MNNBcyRhsK57IaM3LevHnNnfe96/BpQLoXBsIC1lFVlqGgPyXwG3C9jBenEUyDKzzzzDOTO3fuXEPxHoVPA9K5dE+O2oA6zWDidwH87sPtN9KXK6NtcBv2cm9jJ8nYWNgyZMtflqH6bTwrTsfmW7tZ/gI/DOAasPlNAdVwvdVk0JfLM8o4IyNjoN+5eQlLpQF0PciAra1afQMFW5kHDLgeIqMsAgGd27Jly1G4l/ZW1KSYEJJ0jK7tfnugwSDgHEsEuHIhw/UEmuGJT0pKmuA2h3QqY7SQdCsdI4+64DFG9yUSr8SAKzcyfotAA4iKOJl9c/bs2TFplyZdhIqkU+mW98soUMue0nmJqVSAK1cKMJ4gRbskhw0bNnPixIl3lLg03oP5NCBdSqdmB2qK0XW+NIH+E/Ao3VcGjNzLE78W7oF1x9n58+e/MGrUqP2+0npx/mlANVtg47y3Jk9oj2EvAC+1VWtQAJcIgC7DhZVwDxkK4OXoZbc5qVM5I4HUZ6sZNzVbYGtErl2opaagAa6SmJq+gMvB8GW2DE+KZHcZkincpNG4GaCpz06B/xCMmm3LEVTA7ZcCvAZyyXDu3r17ZzMNuMS+54WFawBL1oH6zCWFcNEATeOjoFKpB22+SkNBxxH/gu4hwHMc8zjdm4b1palrcdKNdCRdmVQvhAJsvTskNdwUWk18d65Vu2vJHmzRokXjMCCwXIvYaWI91EII1iKTK1WqVA9daAZNkyqa4wgJhRRwlRjQbyPQYK4NnEOzNYfttMtiff5d8+Ja4jSrXlqf2Ak/CdiaxQwZhaRJd5bWCKDJ/qlweQR8Xgv3sbxzRrJLB9KFdGJ00yHUYJNPaJt0ZeAkartMmN6FG8BXOI9j1YABA+bjleGCM120XmvD4bJly4aZbUkCWpsXtJ6tZeewUMib9OulAHSdvfFHWAOUCrL4TE9Pn4HD2k3R2syr+dZWYu0u5bo2cmtJ8234VcD2e/MC6UtNYQfcLjHAt+B6LtxOcfJ+uH379oW9evXanJ2drZ0cEU8y/5FFiIwEzL5xybQD1obDPN9p4RS0zACXkICu/AfBk+DfwXG46DjCYGYxwG+IVAd5suKUYZ9svYz5j0STkYBWvBYDdpn9oMsUcGlBBPCVCLS+rsmaxnAcn3HHDx48uGbWrFkbUlJSTinO7SRjfNlnN23a9AljxakiH4ZlsrUEoC8poizJFYDbCgB4DWT6wZq4aWbir3Ikcgafc2ljx47d7Da/aoy0K8unCmFX43nB/vI5QPk147gCoEu96GF0UerAVYDb0pimXrtoVOt7wJZHKS3KnDp1amtmZuZuzvzMmDNnzgn7mXCGcnonP2hyjSVvSWaRQ0XQAocWO5bAG8qy6SZ/n+RKwJ0lBfyb+L83/DTcHs4rM83+MaYkM2j6P0tLS9u/cOHC48F2/S134vJK3LVr1/toqh+SO0vj4ZCiWKT+eDu8FF4NyL9YsS79k6c8l5YvX7EA/w4iusEd4US4FpxH3L/MoC8Lvy9H6QaO6rB0nZ+tI5UZAP5VB6/qLE77eEYd4qZzvXTUEwOtGzkUviq7cGvr2Aia54ZyLi9/44ColSsnaQo0Hf4YTuX+94QRQREFuFOjgKu+siWcBOsHIMMITeMGWybV4CxYawACeAu8F5CvEkYcBVs5ZaoAfgRVKEAC3BS+G24C14E12VPNhLoWizTpYfN5c/0j4SH4G/ggnAm42YRRQf8PKBIPm+KHiCIAAAAASUVORK5CYII=)",this.startBtn.style.backgroundSize="cover",this.startBtn.style.display="none",this.options.viewContainer.appendChild(this.startBtn),document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.padding="0",document.body.style.margin="0",document.body.style.height="100%",document.body.style.width="100%",document.body.style.overflow="hidden",document.body.style.position="relative",window.onbeforeunload=this._unloadNotify,this.addCombKey(),this.listeners.push((0,i.addListener)(document,"visibilitychange",this.onVisibilityChanged,this)),this.listeners.push((0,i.addListener)(window,"unload",this.onUnload,this)),this.listeners.push((0,i.addListener)(window,"onorientationchange"in window?"orientationchange":"resize",this.onWindowResized,this)),this.listeners.push((0,i.addListener)(window,"blur",this.onWindowBlur,this)),this.listeners.push((0,i.addListener)(window,"resize",this.resizeViewContainer,this))}return(0,n.default)(e,[{key:"getStartBtn",value:function(){return this.startBtn}},{key:"setViewContainer",value:function(e){this.options.viewContainer=e}},{key:"unInit",value:function(){this.options.logger.info(this.TAG,"unInit"),this.hideControl(),window.onbeforeunload===this._unloadNotify&&(window.onbeforeunload=null),(0,i.removeListeners)(this.listeners),this.options.onVisibilityChangedCallback=function(){},this.options.onUnloadCallback=function(){}}},{key:"hideControl",value:function(){this.startBtn.style.display="none"}},{key:"setViewDirection",value:function(e){this.options.viewDirection=e}},{key:"isForeground",value:function(){return this.bForeground}},{key:"addCombKey",value:function(){document.oncontextmenu=function(e){e.preventDefault()}}},{key:"onVisibilityChanged",value:function(){this.bForeground="visible"===document.visibilityState,this.options.logger.info(this.TAG,"onVisibilityChanged:".concat(this.bForeground)),this.options.onVisibilityChangedCallback(this.bForeground)}},{key:"onUnload",value:function(){this.options.logger.info(this.TAG,"onUnloadCallback"),this.options.onUnloadCallback()}},{key:"_unloadNotify",value:function(e){return(e=e||window.event)&&(e.returnValue="是否关闭页面"),"是否关闭页面"}},{key:"onWindowResized",value:function(){this.options.logger.info(this.TAG,"onWindowResized,isPhoneLandscape:".concat(this.isPhoneLandscape())),this.updateViewDirection()}},{key:"onWindowBlur",value:function(){this.options.logger.info(this.TAG,"onWindowBlurCallback"),this.options.onWindowBlurCallback()}},{key:"resizeViewContainer",value:function(){this.isViewHasTransform90()&&this.updateViewDirection()}},{key:"isViewHasTransform90",value:function(){return"rotate(90deg)"===this.options.viewContainer.style.transform}},{key:"updateViewDirection",value:function(e){var t=this;setTimeout((function(){var r,n;((0,i.ismobile)()||e===i.GAME_SCREEN_RATATION.LANDSCAPE||e===i.GAME_SCREEN_RATATION.PORTRAIT)&&(t.options.isContainerPlay?(r=t.options.viewContainer.clientHeight,n=t.options.viewContainer.clientWidth):(r=document.body.clientHeight,n=document.body.clientWidth),r>n?(t.screenHeight=r,t.screenWidth=n):(t.screenHeight=n,t.screenWidth=r),t.options.viewDirection===i.DF_VIEW_DIRECTION.ALWAYS_LANDSCAPE?(t.TestLog("before onWindowResized"),t.updateViewDirectionLANDSCAPE(e),t.TestLog("after onWindowResized")):t.viewLandscapeWithPhoneLandscape(),t.options.onGameViewChanged())}),300)}},{key:"updateViewDirectionLANDSCAPE",value:function(e){(0,i.ismobile)()?this.isPhoneLandscape()?this.viewLandscapeWithPhoneLandscape():this.viewPortraitWithPhoneLandscape():e===i.GAME_SCREEN_RATATION.LANDSCAPE?this.viewLandscapeWithPhoneLandscape():e===i.GAME_SCREEN_RATATION.PORTRAIT&&this.viewPortraitWithPhoneLandscape(i.GAME_SCREEN_RATATION.PORTRAIT),this.options.viewContainer.classList.add("landscape")}},{key:"viewLandscapeWithPhoneLandscape",value:function(){this.options.rotation===i.GAME_SCREEN_RATATION.PORTRAIT&&-90===window.orientation?(this.options.viewContainer.style.width="100%",this.options.viewContainer.style.height="100%",this.options.viewContainer.style.right="0px",this.options.viewContainer.style.bottom="0px",this.options.viewContainer.style.left="auto",this.options.viewContainer.style.top="auto",this.options.viewContainer.style.transform="rotate(180deg)"):(this.options.viewContainer.style.width="100%",this.options.viewContainer.style.height="100%",this.options.viewContainer.style.left="0px",this.options.viewContainer.style.top="0px",this.options.viewContainer.style.transform="rotate(0deg)")}},{key:"viewPortraitWithPhoneLandscape",value:function(e){var t=this.screenHeight,r=this.screenWidth;if(e===i.GAME_SCREEN_RATATION.PORTRAIT){var n=this.options.viewContainer.getBoundingClientRect();t=n.height,r=n.width}this.options.viewContainer.style.width="".concat(t,"px"),this.options.viewContainer.style.height="".concat(r,"px"),this.options.viewContainer.style.left="".concat((r-t)/2,"px"),this.options.viewContainer.style.top="".concat((t-r)/2,"px"),this.options.viewContainer.style.transform="rotate(90deg)"}},{key:"isPhoneLandscape",value:function(){return 90===window.orientation||-90===window.orientation||void 0===window.orientation&&this.screenWidth>this.screenHeight}},{key:"TestLog",value:function(e){this.options.logger.debug(this.TAG,"".concat(e,"  \n            window.orientation=").concat(window.orientation,",\n            window.screen=(").concat(this.screenWidth,",").concat(this.screenHeight,"),\n            window.avascreen=(").concat(window.screen.availWidth,",").concat(window.screen.availHeight,"),\n            document.documentElement.client=").concat(document.documentElement.clientWidth,",").concat(document.documentElement.clientHeight,",\n            viewContainer.style = (").concat(this.options.viewContainer.style.width,", ").concat(this.options.viewContainer.style.height,", ").concat(this.options.viewContainer.style.left,", ").concat(this.options.viewContainer.style.top,",").concat(this.options.viewContainer.style.transform,")"))}}]),e}();e.default=d},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},54348:function(e,t,r){var n,o,i;r(34115),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(81260)],n=function(e,t){"use strict";var n=r(14859);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){(0,t.default)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){var r=i({container:document.documentElement,time:3e3,width:300},t),n=document.createElement("div");n.innerText=e,n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.bottom="0",n.style.right="0",n.style.height="36px",n.style.width="".concat(r.width,"px"),n.style.textAlign="center",n.style.margin="auto",n.style.zIndex="1001",n.style.fontSize="24px",n.style.color="#fff",n.style.fontWeight="400",r.container.appendChild(n);var o=function(){r.container.removeChild(n)};setTimeout((function(){o()}),r.time)}Object.defineProperty(e,"__esModule",{value:!0}),e.toast=a,t=n(t)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},90166:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e,t){var r=document.createElement("div");r.style.position="absolute",r.style.zIndex="1000",r.style.top="0",r.style.left="0",r.style.bottom="0",r.style.right="0",r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",r.style.flexDirection="column";var n=document.createElement("div");if(n.style.pointerEvents="none",n.style.zIndex="-1",n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.bottom="0",n.style.right="0",n.style.background="#000",n.style.opacity="0.7",r.appendChild(n),t.icon){var o=document.createElement("img");o.src=t.icon,o.style.display="block",o.style.height="67px",o.style.width="67px",o.style.objectFit="contain",o.style.marginBottom="19px",r.appendChild(o)}var i=document.createElement("div");return i.style.color="#fff",i.style.fontSize="15px",i.style.textAlign="center",i.innerText=e,r.appendChild(i),t.container.appendChild(r),{el:r,destroy:function(){t.container.removeChild(r)}}}function r(e){var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAIABJREFUeF7tfQuUHNV55r316qru6p6HZqSRxEMDkkZCYEbhEcGanMjLxmSTnKxjn41znF3JDgZssMGJCdgGmyS2wQuJWS+Oyfohsdk1frCGtfGu7GBPeDjGAjwCJCQkwYxe8351T3dP9aPq7vmr7q2+dbuqex5qETQ9BzQ91VW3bt3/u////Y97C6Pmz7IeAbysn7758KgJgGUOgiYAmgBY5iOwzB+/qQGaAFjmI7DMH7+pAZoAWOYjsMwfv6kBmgBY5iOwzB+/qQGaAFjmI7DMH7+pAZoAqB4B27Y/izG+m31DCEEYYwJ/h32GY/SHffAPwCX8d+z6xfwW26J/i/f0/+b6Svh+C+1UXe84DpIkqeo4GwN2PXeeey58L46FOG6sH/RczK7B2J2L0A4/duyYOL7w9z9gjP/7UvEbqgEAAIVCYUc2mz0u3oB2NPS+4neSJPEP4N+LP48NBGswrH3aDhvgQJ+5gXOP1+ofa4fvPBVQ1Thwx0Egge8pOPjnqTon5HlCzwlpi+8efw3/OYYQ2t0wABBCPjs3NzdvAMCgU2RXAYMbdP8BooTEg4GdAwPkOI472GEC5IUuXh/WpzAwif0J64f4YBFgqnp+BlBCCMz2wPd8X6h2rQti2oCGEHqkoQDI5/M7Z2dnj4UNfC0BirOFPTE8LFWZ/iCEzb6otjltEph5MLBhMz9qZoszrpbmqaVNogBZQ6OETg5xTGr1hzOloAHODAAWMmC1VHBYO5wdDAwOP/CCBnC1AT/7eFsaBj6xrYhzwHZXzVBOGHXNgGBWop7HbYfxC/FZxDaitCpCqLEawLbtz1mWtSOXyw0y9VsL8dQEMEITOZAR6jfSfjJA8QPGaZSq6wRuEWmW6LPwJskFAL1faH9qcZMaggu0xcwB1Ya+JgsDdB1N0FgAEEI+Bxwgk8kc42dgKpU6T9f18zlV5Jou1tlazF68RmTl/LXQJseOGbP2j9Vg8Txz55l/wDOAL+hzuf2nAAPt4rJ/nt3DZ4H9B7wD/nw4l7bn/o7wJvwxC/OseE+Cfl9ACBUF+3FmAJDNZgf5GycSiXXxeBzY519XGbTmgdM+AoSQGwghOzDGAAKeQTYeAJQEDgoa4HzDMJoAOO2iDm/Qtu0bMMY7QAMIJqjhbiAzAaABfOQlk8nzdV1/RJblvzpDY7CsbyMCgDObesPjALwbyKSQSqVAA4D70QTAGYAmAECSpB2EEJ8DUF7QeADkcjk3DsAHZBKJRDflAE0AnAEAMA7ASCAXY2isCYBQMLiBmUzGDQUzECSTSUYCmwA4cwDYiRACEuj/YIwbCwBCyN3ZbHYnywVwADg/Ho83TcAZED7cgnKAKACAHP5hqV2JSgbdDRyATwaB+uE0QNMNrDPymUzmD+1y+XrbLr+zXC632rY9UbZLz2PH/sZ53Rv+z3wE95YBgBByFwAgk8mc4EOtHAlsAiBCgoSQVZZl7c6kZ64bHx9DuVwWEdtBkiIjPaYjXdeRJOGn7EzuT3ouv3yiFhAoB3hLNIALgGw2e4LvIEQCKQn8m/kgeLmdQwjRHcf55fFjA72nTp4A8oQkjF0Oxf6HsG8spiNVU/ePjE5csX37ditqnGzbvpEQslOSpMA5lAM01AQAAHbMzs6eZB0HHzSVSp1L4wBNAIRIzbKsL09OjN929MjrAYGLAIC/dd1Aakx/YNOmzbfXAQAEggp8NvVMAOAzNA4AAPATGqZpngskUJblJgAEqU0PDLTitpbh/a+8opfLJRcAILQq4SOMsOR9l2pptXJ5a/XWrVtnwkAAGgAigY7jBACAENIxxhCRbRgJBACABjjFu4EUALtlWf78clPv9Z53dHT0vdnZ9GPHBgcQxiB4r4AlbPazY6aZRJoee//69T3frQcA9j1NXBmNBsCnqQZwAcBAYJrmOVQDNAEgSOz48cHPTE5MfH5qcsKf/TwHcMHgFQP4oEgkTBSPx++6YP3GL0QBADgAQshiORmaOm64Bvh0LpeDkrChEACABgjtcL1ZcjZ/f/jwoc+kZ2Y+n56ZpqVroOY98sc0ATw/+wy/AQCmad617oL1NQFACLFkWeZL43RCCJjih5c6plFxgE9BKJgBgLmCyWRyLZBAVVWbABBG/tV9+/54rjD3nfTMjMf8qfB9AFDbz5uEtvYVSDf0961bd+H/DhMkIeRG27Z3AgCEbCBogMYBoFQqfWpubs4HAOucaZprE4kEaIAvLhV5Z9v1fX19rXFdG85k0jqv6j0wuNXRldmPMZIVBa1c1WWh9Ozq7mgSeBPUA4AJ4MdLkqTGagAKAGYCfC1hmuYayAaqqtowABBCVjqO82VCyEaE0D2Kovz47QKWZ57uu79ULHySVhGFegJMA6xY0YESpvngeed3fyLq+ZgGeCsAcCeQwFwuN0w757qCFAC7VVW9txFCIYSc5zjOD4vFolEqldKGYZyDMb5JUZQfNuJ+p7vNvl279NLqlS9gjC9mxJnnAEwbpFItqKWtbR8h+Kru7u5agSBRAzCX3PUCGsYBCoXCnZANnJ2dHeELFk3TXE01wGkHgGVZG1VVfdyyLFwsFkdhAGVZ1gzD6H47geBHP/pRR8LQHpUk6VoInhGHuCU1siyjWCyGwPUzjPiTZYd8sKenp2Yo2LbtmxzH2Ykxzgvl740FQKlUuoPGAVxBMBAkEonVEApWVfW+0zl7SqXSNZIkfXtubm6yWCxOM8ID5FOSpNjbDQQwNs888/M/VGTlelmWtymy0qEoyoysKM8pqvKNTZu2zDcZ5GoAIIFUo7jVy7IsuyQQY9wYL6BQKNxBNcAovyAjkUh0gRcQi8VOGwBKpdK/kyTp0Xw+f7xcLs9ErKDRoCAVIXSnoij/eDrB96+5LaYBEEJzvDuOEAINAF7A15ba/1A3sFQq/SV1A6sAQDXAl5Z6Y7ieEPKntm1/JZfLvWnb9izfJl1r4BejSJKkxePx9ZIkfe502L7T0f9Gt1EsFj9Ci0J9AFBNYMiyDKHghmmAvwQTkMvlxtiKHmC2yWRyFdUASwaAbdu3Q9o5m82+Vi6XfSIkLJLwF3eAOYAkCIAA1i1omrbkh2+0AJfaPgCA1gRWAaChGsCyrNshDgAA4B/CNM1VUBYei8X+y1IezrbtLxBCbslkMgcg0UF5Rs2VPnQxCCyrAk1wISHknrMdBLZtf8RxHIgDMAC4Y4QxbqwJyOfzt8Py8FwuN84EDZrAMAwXALqu378YABBCFITQN8vl8u9lMpmDhJASX3bOxbtDl1SxJWgMBNQcLDkjtphnORPXUABAJDAvLHuLUzewMRwgn89/0rKsnfl83gcAPHAikegEN3AxAIBiCYTQD8rl8hUzMzOvIYTcdVQCueEXT/pr9XgXiIWlKQguoJrgrAQB0wCEEJ4EwhglJEmCOEBDAbAjn8/7firVACupBnhgITOAENKCEHq8UChsymQyhzHGTPg1F2SKa/D52gQaUQNzcNaCAAAAuQCEUJ6bKGcEAH8BGiCXy00wNg7ZKF3XO4EExuPxeQOAEHI+IeTHc3NzCVhtHDLrRS3AFmiGbgrBLdR0v5dlWTUM4wJJku6RZXnJW6YsBNiNPpc3AbymxBiDCQA38O+X2odQNzCfz/85NQGgAWDjG9cdi8fjHbqu747H4387nxtblnWhpmn/b25uDkN5GSV7VZeKy7oZ4eP5B+MKYRswUBB0E0L+StO0swYExWLxo+AGUg7gL2GXJOmMAABI4BT1O113LJFIrKAA+Lt6ACCEXOU4zrdzuVyWmRJuk4i6a/v59tl1IVu3+O0ACGKxWLcsy5BA+nq9/r0dvucBIGhOxgEapgE+AW5gPp9nAHAHOh6Pt2ua9ohpmjUBUCqVrsUYPzo7O3vCsqx0xC4d4p5BbN09zwtc/DHNAbEIMEVh28LQpAuAYB2sXdQ07W0PAtu2PwocwHGcnBAfaSwAstnsJwqFQgAAMOiJRKKNcoAvR82gQqHwXoTQQ9ls9mSxWMxSDVK1Bct8NlkSd+WodQ3TDqAJdF0/T5Kkv1YU5Rtvh5ke1UcAAMQBbNvOC3skJSAS2DAOkM1mbwMNYFnWNBMg/DYMoz0Wi4EGCAVAsVi8zXGcT2cymTds265Kc9baZiVqr58QEEBEEExSpAchSRKA4FyM8d9omva2BUEIAFysYIwbrgFug3qAQqHgAoD9xOPxVgqAB0XUFgqFTzuO87FMJgNxfX45M8/yXbUPfAJUOf0ibN+/qmuoGWCbRIUFigL7CMqyrGiado4kSQCCb51uTVAoFD4gSVIvQugnqqo+dbrbh/YoACAQlGPtUzMIAAAv4KtLvW+oF5DNZm+lGiBQr67reivEAUzT/K/sxoQQuVAoPGDb9h/BamJCSFkgLIE+1tICgrkIFTLfmLi5kggoCoLVhJAvGIaxa6mDxa4vFov/GSH0cUJIAWMMAa5fQZEMxjiwkmqp92McACGU5fdKBA0ARaGapjUGAOl0+tZisbhjbm4uTYXiPouu6y1AAltaWnwAWJb11VKpdB0QPi66V3NWc2bF3TKNbpdWpREE95ABIgAMnhSyAefrCTDGqqZpKxFCX4Qo5lKFUiqVrnYc5ytAzDDGNo3NQ35elmX5W5IkfQtjLG7qtKjbFovFmxFCsDDE1QBsdZAsy43VAOl0+uNAAoHB84NqGEZKVVUAwFfY8Xw+f3JqauqouMdtSBTPvSRqb0DWHreVXOigCR5F1TliGhlOAMmoqtqOELrPMIz/uShpIIRyudwaWZa/51b6eHkMN2hFaxgAzCbGGGInX1RV9ZnF3oddZ9v2zbZt+wDgxsikJLBhGgAAsMOyrAwHAIgEggbY3dLS8t/Y8VwuNzQ1NfU6rynC2Dr/vejPi5tB8iSPv477XKUtogDH+inLsiTLchJjfH88Hn90ocIhhBiFQuExQkg7q9AR+0bBpmKMTYTQTwuFwt+apulWVS3mhwIA3EDXmzqTAPgYRAILhUKGZ+e6rqeoCfABkM/nT0xOTh7lI3Ti/r58G2EVP1HunqAtFsQJwoSDMZYURYnLsvxlwzC+PV+hUJ7zVcdxLgNhcKo4dIdRGpOAaJ1CCHlQVdXvLsYscABgxTIsJtJYDTA9Pf0x0ADFYtG9MVOruq4nY7EYaICHOA1wbGpq6k1+MOv579z3gWAQzwfCtlGlCSB39tfafJnTWu6pfMoZQKCqaooQArNzXubAsqyPY4x32rYNJjFsu1r/PjxoJU8tgdYZIITcp2naC/MFHZxXLBZvoRwgyzwnGBdZlk1KAn05LKTdgKzCLpyamrqlXC6DCQioHl3XTUVRHmlvb/dvnMlkBtPp9IDYDhVyVciXun9+fqHGps5hm0sHKoREEETsRxzoGgWRrChKqyRJ9xuGUbPG0LKs38UYf8m27SnHgRLfgCquGr4w4gqeAvADhND/nZubuz+VStWsBmaNMgDYtp3lx6nhAEin0zeDG8gieVQLkFgsxgDgkw/w+2dmZtxdxUOSOrzdCgVprUTQfAUakjyqKRj4UpIkWdO0dozxQ7quh5aXFYvF33AcBwpYZgkhdhioo/b7DyG7MHNbMcbA6L+iKEroimC+4xQAN0A62HEcIJ1luB/GONloDXAzuIHFYtEPQEDHNE1LAAlsb2/3kxDpdPpoOp12/V+egdczA1EmI0wj1KoLCLP1VMBVM19EBfUOOgghX4vH4z6vgfPy+fxaSZL+h23bBpC+sPwD28SatlsVmYTaLShrRwjFoJ4R4gSEkJcxxkdKpdJPDcOoeiEH30fLsjZIknQNxngTQgiCTufAnoG03a/LstwwE/BRcAMLhYKbhGBMR9O0OJBAAQCH0+k0v4w8lKwJy5tZbVtoNDBMqGKxqACgyO3ea10HbVAQdGKM/17XdRcEhBDNsqxHHMfZ4DhOVbWyCCQhTg8TQZMkCer2FEmSfmHb9s80TXsWY7xoj4D2a5Vt21cjhP49Qmjv6ch6hkYCJyYmPloqlXYUCgW3EoVW5GJVVeNAAtvb2/1SpJmZmUMzMzPDov/Ou3qiQOkSaT+rF2I+fIEKwHHHPiQt7MukngYR1Thl7BAnWCVJ0ncJIb8ihPxHQkhvuVz20+Gi0JmGE/oXA/uMMYYVVY/KsvwYxjgAoFA7+BYeDAXA1NTUR6gG8EuRQGiqqhoQCOro6PABMDU1dTCTyQSWkEWp5XmEgV2g0+haFYHk7W0UCCLsNA8Q/x7sICOGECeA8LHjOBYQL+57Uav5OQ0KIJjprbIsDzuO8zVN035Io4RvoWjnd+soDfARqgHmmM8Lzem6rsuy/EhnZ6dPmiYnJw/Mzs7C+oEomyvm/atKvmppC15I7DOnbZimqBkjiCJqYbNarEzmX+kicBz3noqitEiS5BBCvqRp2g/eLoL3xzUMJ+Pj4zcVi8WdpVIpsCAhFovpiqLs7uzs9KtwJycnX52dneWLRyPVMdMA4qtQakXxariJAWCxNqM0Q73oZNRsjwKPJEmKLMsdkiQ9lc/nP9va2hrInM5v/r31Z4VqgNHR0ZsgDlAqlSCn7w90LBaLQRyAB8D4+PjLUDrGijXZ+2J4N0gU+Hw8BPEcIQdQ691BjCeEvjKmHikM4Su+SWKegCzLhqIoYC7uVhTlB2+9GBffg1AAjI+P3wgcgF+yBbdQVTUGbmBnZ6dfeDk2Ntafz+f9tPF8qnYYkePKvapeDcfb8rAED7TBmwK+eJUfjsWATTQ7vBaQZblFVdVZVVWvB3du8UP/r+PKKA1wI2iAYrEI+W6/p6qqasABurq6fACMjo7+Op/Pi3V/oVG8sEemJMpPCbNEUJTqF9k3DwRRjdfKPM4nW8k0F+MFmqa1ybJ8rFgsXp9MJgOLZhYqzrGxMROVy71IknoIsc9xEOpwHGIi4sB/FkLOBMFosFwuHcjni/u3bNkSiMou9H5R54cCYGRk5IZyuQwcwF23x2LwiqKAm7O7q6vLL7gcHh5+CZJG83hxJHv5Us1aAUY6o1R1DTcvkgjWCjeHEdAwHqFpGrD8I5qmuRs2LEYA09PTlzqO/T7ikOsc4vTO5XJKoWChUqkE1T/IsW3X3sJOIpIsIwX+VzUkK3JZwtI+hMge7KAnzl+//qXF3D90AoYdBABAHrpYLLrvqmHCVRQFAhy716xZwwPghUKhAKHS0DdjCiw64D4JqtYXYI0ycN++02sDQg8BzZIyiAwImqalFEUZ0jTtjxcq/L6+PuWyy3o/4NjOLYVC8fKZ6Sk0m8m4m0jzzx/Fk+jkQ6qmudvLwmbTsiy/iBF5GJ8c/l/dNfYang9IQjXA0NDQDVCNWiqV3MoWBgJVVVXwArq6uvxCy5MnT+4tlUrwNCwUCpdU+c0iOtisjJqdomoPiyGIxLDeiyNFgkfvURVv4PsGizA0TbPK5fL7TdMcmc+gwjkg+CuuuOwDjkPuyqTT60eGTqJsFmJC3pBXkVw4HtSN7m6jcLBihb1zYKsZw4ijmBYbcTC6s6dn86IrnaIA8GEKALfqhXVYURQFliStXbuWB8DzorsoPmCYvQ0zGVGErZYtr0fy6gGHPV8YoaQ1hZDA+SNd1+dN+CzL6rHt0u5MOrPt1InjaHbWq6sJ9WzgzetUwjgCBN4EhF1GKXi81pCqKihhJsFEvCg7eOeGLVsOzBegvlzDLhgaGvowkEDbtn0AwHkwIMAB1q5d+0123cmTJ/+FksVQv5xvP4J4hUbZuNnpPS0HxBANE9A6IYEivxsLIIY4FovB3j53x2Kxx+c7sJZl3VwulR4YfPMNfWxshKlF/v6B7ke5u2HHGT+oYMYbFsMwkBGPWwiR2zZveceCVkqHaoBTp05dDySQpiD9zocB4MSJE79gpoJHeT3XjZ4bSOKwWIKoyuuVe9ULMUfMvir+wPEVAkUjsiw/E4/H/3w+wh8YGNDXrlnztdnZzM7XDx5AluXF0Cp9i1D9wpvXg8/i6gQX/lXHOcl5npSMEmYCfj88NjH1iVrvIeCfJxQAJ06cuB52p6IawD8HMmdgAs4991xfAxw7duw5x3GKLEgiDna95EzY+ZRQ8qQwIAOuTRakCZVRjZiEf12YKaKqH5j5e+ZTvAHCP2fNmsenpieve23/q4iQwOr3Ki3gyZQOqyBIQdNR/sU8MchUehaDBxbjCHAsHk8gWVb2jE9Nv2c+IIgEAHAA0ACM3dOMIHCA3eedd56/0GJwcPBZAApP8mpF8dgD1goYRan7enUBIpjqhX+jwsaxWAz8/Xvj8Xjdog3Y+MK27cfHx0auO3gAhE8qwvU6VFH/3N8AAIK8Vdfg8rW0tILgkGXlUT6X4yufKuCGbWeDpjCgZSiqXZMAIJicTtcFQRQA/owuSizzwoTKWnhvPQ+AgYGBp23bdmoJRzQHNXz9qrBrPZLHTIloNviAEeehRBVx+toGYh2qqo7E4/H3z6eQ07btr09NTlz/6su/doXm0RXvt//JBQE9xgGC2e/z1l0Afv53CLH32w75D7lsdtvoyDCd7lHqv9o78CcAQUg3DKQo6u539G79YC0TFgqAwcHBP6ObFNveQ3mdAAtAAeCvshkYGPhnB4rlCIHqF1FV1/wbvgy7hnEBPrYgVhoH7JgwqLVAE0UC2TUw+zHGf2Ga5s/q2X6o2s1lZx96ae/zbuRTdOMqE57TAkJf12/oQTFDf//KlV2+tjlxbPD7U1MT75uZnvEUiO8lUELAcQveRfQ/U01hxBNIUeRbLn7H1sj1A6EAOH78+IfoNuWw8oXfq09yHGd3d3e3D4A333yzj71ivSoSFOL6hKlp+jr3qgWfHCn0rQJnQup6HXCusM9+RR0LgqDnKqqqWqZpXlcvrVvMZnuRqv5y7/O/0K25Oc9Wc+GPKPeT6QLXjdNUtGnzxSOdK1eu5sH2xhtvvLNcLDw7MjzkEcCKTXT1CnSde3gWWXC1jHdf7xx4c0nCTFgqkns3XXqpu3ZD/InSAB+iW5SKGzm5GiAMAHzDddK7VZ2YDx8QgSNqDzrggZXDIWCrGRnUNA0yfA+Zprm73uwvFKz+I68f6h0ZPiWGvTyNGfzH16LA4mD7eNCsWiyGNl20ZbCjY2U3f7+BgcO9pYLdPzwEm6p4CPDa8yTvxgP88EGFTPLEkn0GkOlG/PmJyelrtm/fHli3WdEnwtMODg5+iO5P5wKAY91wN9AA/gAxDSAO2ELNgRCI4Wd8pNDqkbwwbcOHpvk+g/aCdQ/lcvnftrW1hb7EiZ1vWbkb0zOZh1/Z91Iom/ejfREgYIEdLaahzRdtGVwRCoBy//CQV2rJaxP/M0cIA9FC/3iFd4B7qKnqzs0XX1oVMQzVAAMDAx+k76oJ28oNNAAPgH/m1gVi1xZyL0dgD8DcRFoPGBh7/iE5oXKarzKfBKH7VocSTfjbBQwHKN60BBaUwDVc/QJ4uS8mk8mbas1+cPlWdnYOvNz/YheL5/skN6ivK1rAo7YCKYT0uoY2X3zJSEdHZ8AEDBw+3Fu0S/3Dw0MBWkH7G+ye265gFgIcAbibGzE8OTYx2S1qgVoAADcQdusO3BDcwO7ubh9JR48e3QlbofM//FJmdpydA9+pqkps23bvzR9n9+Lbg/PY3/BbvI6BjV9JRFfP+ECED/z3fDusD/Sa50zTfKUWALLp9K2T05MPHj4EWx1WfphbV5mN4e4fD3YQzMWX9s6sWNHRxrcFACjYpf6RoVP+7Pc4hqdbqoNLnqoJ5AyoxWDaJmGaSFOVKi0QBQDYlAAiga4LIGTZAgCoNVhn43cz09P9rx/c35tJzwR8fF7te35TRVAsqcMHnahXhS7p/Y2Z9vYV1QAoF/tdEuhzgGpPIpAsolrGu68HCP9fjJGiKshMJPdfdMk7LqlSv6KgBgYGAACgAQKziM6kR9avX1+XJJ2Nwp+cHNlWKti/fOXlX9PBrQRzaC0zFTyL2AW1AAnYbeS+N6h362UzrW3tAQAcPny41y4V+kdGhr3ZXskXBWY60wQBjyPAARgQPSikWloQwfIVl1xyyYtMPqEaANQ6LEoUhUgDOMsWABMTY/eODJ26c+jUSS7c4093Ybi8V8YJLkIVobvsim2opbU1IAcAQLlo9Y+OQjKJzmTaFi/0YFKo4gL6wmWawPUisBsh1A3jgc1bLvFfVxtlAmD2wwaF7vdC5M4nXkKYmLVFPRZvAFiAiENp4DymKjky5qtPev9AlJkniRzxqzwzd0/adlW/6Fs3XF7Ambi/S6VSNfPqY6Mj/UdeP9gL5I8XrR/3q9DWQDSQ8wmDNp0QdMW2q1Eq1SIA4EBvqVDuHxsdDa0JCA3+MJ0UEHrQFCmKClpg36aLLt5aTwPA7Act4P+w1UGiG8UneyLq+yOrdsT2+XAuF7GrKtjghBaYdWLImUNFVYUwD2pVVZMIodvb2tr6okzXwMBAq6Yp06+9ss8L+XLRORaDF2fkfAjhtquvgbeHBQFw4EBvoVzsnxgf8wM7Hph5hcJIX0icQNAWPI9oa28v5+YKqy+nr66P1AB0k+Kq8WBAEIQnCiJqM0eXH0VFDKPqCpmWCDNJ9JgfAIoCgdgGAwAcj8ViLbIs/0kqlQqNlsE5J04M/LaVt/oG3qB1IRFJHkbVK2mbQFSIn1DuZwBALp9Prly50q8RO3DggGsC4DW0wX574oI3ksJPdWbQPbsSPg7hDsmWVqTF1Gt7era4oe5IAFAvoAoAYYmcKAHxM5D77BYP8lmZkJRx3aRQlBYIuyftH59eDpShQ8EnvOUrlUpNRmmAU8cHb56amnrIi85FCNW7EW2CTVdOKNxwM0199TXbkWVZbXzw6UB/v+sGwmto2c2CwSB6NHAvemuRNNI4gcdFEDKTKaTHjVt6ei5y8wMLBgAbTDH9u9DZywZ6PtE8AWBhdQKhZiIiHs8CRT4I4vF4WzKZvLJW9u/YsYF7x0eH75ycGPeIma+OOXfLR08ggB8IC1fv60+IAAAJN0lEQVQu8677N7/12ygW0yEB5Ucf+/fu7S075X6vhpBhwAv4BLOKjPhVAk0+OvnwMQfJeNxE8UT8vp7NWz4VCQDwAuBdNcwN5GdFVNyeZQ0FYXmThUbn2Ge+eKRWHmCenCJS+FGgFIEBeyCnUqlLo2Y/HD82cHTX8PDQTng3cFD2FQAwLkAnGzW9PFh4beB93nrZlUhR1U6+8GTv3l/0Igf356oA4KOBU/PBBFAQMJXzPcxiFNN1lEy1fqNn06YP19MAfB65wm8py+YHEYTIp25DGL9r94MujFdGLoZ2ObCy9Qhi2+51Qhm6oJDcF0xBWNoNCbPzOXD6ngq7X2tra00AvHH08K6xkaGdmYy3c15VNM5f1hwc1iotFAjYYLR+w0akIal7dXe3/y6F/v69vcRG/enpqaBJ8RULcw3pvahwK9nASh9EjwEAkEq27t64ebMr31ATUGsmLNfvjrx+6B/HRof+lKnl0JIufji52H+YVmRkrWv1WiQpTvfmzVt9ABw40N/rlFH/+Bh4ARWyx2cGK6Hh6hAwfz/vPKhS8sQNsYBkS8vujT1NACwIy68f2v/1yfHx66HE2y/nquRpvVw8A0AgHkC1BasWCkw5jFKpFLJRqfuqq7b7AGCRwOpsYGXmM2/HBVJYephpKWqvWHi4CYAFib1y8sED+++dmZ6808sBeMepHQkE+0QQBN3BCo1jGkCRFWRj5+J3ves6v6Yf3EBMbDcX4N+D2apAIYsnXSj88GY9Z/N5M+WbCHjxl4nMpHnfhp7N0SRwkWN0Vl/22qsv3zo7m3kQlnZVAMAjQSBovjmo1AdWlXbR6l5MnK3bf+f39rEWDvb3r8Mx9eDk5IReLBSEIBYTuntxIE/AMn/B0rCKyoHjkA8wEuYtGzb0RLuBZ7UkF/lwr/z6hWuL5dI/TY6PCTV6lanHV/qymS9Us/iag8ECUtNExlu3b/8dHwBw0pGD+9/tIPzExPi4DgtIRTLpth9YKRTsR6A0gd4VANDW3oFkVfvdTZs27WmSwAWA4cUXX+xQJGd8dHiYiwF4rlXFHtC/K+46G/rKnWgEiJ0CRSGqIl979W+9q6oI9cjBg+92kOOCoFh0F2r7P2JSiLl5oicQ9AIwWtnVhchsrrOnVih4AeOyrE7d99LeVycnxy8ul7zSOj7vXs3/KpWbgVARi9PTCyAlrGmxpwpl8gdhCzlcEGDyxMT4mF4swIYtjAiGFYhU5rTfN8511DQVrejs3L9+wya/JqDpBi4Awi/tff7+fG72k/l8rsr+8i6amB30ARBB0mC1r6Zpe3JWOXQhx5EjB99NbPLEuAuCiiYImgU+B8ClhrmgZDKZQkkzdd+FPT0uAWyagAUIH0791XPPXU6w/cLMzHSAnbPQMEe3vLAQlzEMug6cqaB9cJd7x/Q9mZxVAwToifHxUR8EoQDgwtS+maCS7lzVhWK6uq27e+OvmgBYoPDZ6c//y9NHcrOz68tlVmFdCcSw4Iw/s8SMIRVOVBApnkggTTP2pLO5miCYnBjXYfFpwAQJ0cmAt4gwaBi0cuWqQxds2Lg5wCUWOQ7L9rLnn3365kKp8NDcXD6Y5OESBMFYT4AB+NXBPpPkQYIxSiSSEK/fM53ORoIAOfiJiYkxf0FK+LIzLkKIMVqxogPF48Zt3Rdu9F/30zQBi4BxX19fqyI5A3P5XCtxHLatacWeBtR+xdB6ZqIS160K8LiLRb2ooWkmUcww9kxNZ2qAAD0xOjKsw/5CwVQxg18lagjby6zqWj2CpZPd3d3bA6/za5LARYDg6b6nbrbLpYdcVu6uLeDcQSZzXgfzxaBVvMAjbJVIscfakskWFwSTU+ErfN84cuiObDZ739TUZGA1clW8AGPU0bkSGUbitu4LLwzM/qYGWITw4RLY/wc7hVeLxeIm0AL+DydcXxB+Uqh62XjFKWC5flDm9DyMUTKVQoZu7BkPAcGR117bVrSLvxwfYxuQ8xG/yud4wgQA7EP4+FXi7G8CYJEAgMt+/vOf/KZTKj9XLpcUNpCB2ReY9ZxT4Ffo8Dy8Es+vgMlrNdXSCruD7RmfDG74cPjQa7fO5fMPTk9DEVMw8sT6oSgKWrV6jaXL6rZzLrjg5bDHbZqAJYDgp3t+eAdyyH10dXRAE/iWmGkFPy3LIofUFwjSdT9ty5EK1NrWhmKasUeJ6df39PScOnhw/7sxQY9NjI+Z5TK/jVMlSAR2aVXXamTo+p3nd1/4pajHbAJgCQCAS3/y5BPfJ4i8j639Y64BI3lBj8C7GczQQJbQO1gRviAVyPYBMTTicVjnl7XLZRMKUyBH4LMPwZsAu59ImE+uu+DCP6j1iE0ALBEAu3bt0levbPsRRuhanguIGoDKuFKDw+UEmHcQqDLiJMMnlmj1VcW9COw84sUg29raYa3BHiSffE+Y3ecfuQmAJQIALv/e975ntiRj38cEX+dvEBWyn0+lOoeZgYr3IPIHjwGwTScqfEEM/vhl4LQcHLJ9CdN8yiqU3jOf/YWbADgNAIAmQBOcs3rF9xHCvw97/jJVXzXzA4UanCGociWDIGFp5UpJYZD1Q1q5fUUH0mL6Y8qp4f803y1kmwA4TQBgzfxsz5N3IIzvcRxbF8khn8KtkLxKXsCb8Vylka/oPTEFhV+pNABu0NraVpYl+a4Nmy6KJHxNL+A0CzuquZ//5Me/iSX8MCGot2yXK7t9hdUORJRuURVSoRX0Wq6oGHYB89xEQz+EJbxz48YtfpJnvo/a1ADzHakFnte3a5cunbv6RiKhO4lDuuxyGTnE4Vb78hU8nsXnzUZFQwRFBFoCQrsw6w0jMSNJ+J7h0Ymvhu3/M58uNwEwn1Fawjl9fbt0Ca29EWPpNkycdWX2XgA39ktTxtzGTwEQUE8B4sTw3gDI6OlGHN7cchRJ6OFikXxz69atNfczqtf1JgDqjdBp/P7Zvn96pyxJ70VY+n2EyXpYueQmlOC3a+Q9QLAXRgCxg21kVFWFPYCPYoyexIrynS1bLl2wqo96jCYATqOAF9LU3r6+LqLJl2GZbMJIPgch1CHJ7gumEUaSJUl4AmE8qEjy/nzRfvnKK6+c97sKFtKPJgAWMlpn4blNAJyFQl3IIzUBsJDROgvPbQLgLBTqQh7p/wMqkqueKJjYDgAAAABJRU5ErkJggg==";return t("图片上传中，请稍后",{container:e.container,icon:r})}Object.defineProperty(e,"__esModule",{value:!0}),e.showWaitUploadImage=r,e.showWaiting=t})?n.apply(t,o):n)||(e.exports=i)},95784:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(38695),r(15735),r(32501),r(85713),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(37959)],n=function(e,t,n,o,i,s,u){"use strict";var c=r(14859);function l(){l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.SpeedTest=void 0,n=c(n),o=c(o),i=c(i),s=c(s);var f=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"options",void 0),(0,s.default)(this,"repeatTimes",10),(0,s.default)(this,"num",0),(0,s.default)(this,"delayList",[]),this.options=t}return(0,i.default)(e,[{key:"getDownloadUrl",value:function(){var e=(0,n.default)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,n.default)(l().mark((function e(r,n){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Require)("".concat(t.options.domain,"/v1/servo/getspeedurl"),{method:"get",params:{real_ip:t.options.realIp,game_id:t.options.gameId,op_time:(new Date).toISOString(),dev_type:5,app_biz_type:t.options.bizType,app_userid:t.options.userId,uuid:t.options.uuid}});case 3:o=e.sent,r(o.body),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"speedTestDelay",value:function(e,t,r){var n,o,i=this,a=new XMLHttpRequest,s=Date.now();a.onreadystatechange=function(){if(2===a.readyState&&(a.abort(),s=Date.now()),4===a.readyState)if(n=Date.now(),o=(n-s)/2.2-20,i.num<i.repeatTimes)i.delayList.push(o),i.speedTestDelay(e,t,r),i.num++;else{for(var u=0,c=1;c<i.delayList.length;c++)u+=i.delayList[c];r({delay:Math.floor(u/i.delayList.length-1),speed:Math.floor(t)})}},a.open("GET","".concat(e,"?v=").concat(Math.random()),!0),a.send()}},{key:"speedTestDowload",value:function(e){var t=this;return this.num=0,this.delayList=[],new Promise(function(){var r=(0,n.default)(l().mark((function r(o){var i,a,s,u,c;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c=new XMLHttpRequest,i=Date.now(),c.onreadystatechange=(0,n.default)(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:2===c.readyState&&(i=Date.now()),4===c.readyState&&200===c.status&&(a=Date.now(),s=c.responseText.length,u=s/((a-i)/1e3)/1024,setTimeout((0,n.default)(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.speedTestDelay(e,u,o);case 2:case"end":return r.stop()}}),r)}))),2e3));case 2:case"end":return r.stop()}}),r)}))),c.onerror=function(){o(null)},c.open("GET","".concat(e,"?v=").concat(Math.random()),!0),c.send();case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}],[{key:"instance",value:function(t){return this._instance||(this._instance=new e(t)),this._instance}}]),e}();e.SpeedTest=f,(0,s.default)(f,"_instance",null)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},8195:function(e,t,r){var n,o,i;r(95094),r(68995),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.playStatus=e.clientBizId=e.VideoCodecProfilesMap=e.TouchPcMode=e.ServerMethod=e.SensorTypeMap=e.ResolutionMap=e.PermissionMap=e.OssSource=e.OpenFileOrUrlMode=e.MouseButtonMap=e.GravityMaping=e.GAME_SCREEN_RATATION=e.DF_VIEW_DIRECTION=e.DF_GAMETYPE=e.DF_DEVICE_TYPE=e.DF_BIZID_DEVTPYPE=e.AudioInputMode=void 0;var t={iphone:"lightplay_sdk_web",micro:"lightplay_sdk_web_micro",pc:"lightplay_sdk_pc_h5",mac:"lightplay_sdk_mac_h5"};e.clientBizId=t;var r={PC_PC:0,MOBILE_MOBILE:1,MOBILE_PC:2,PC_MOBILE:3,PC_MOBILEMOUSE:4};e.DF_DEVICE_TYPE=r;var n={opusBlob:"https://viu-sdk-cdn.yuntiancloud.com/h5/resources/opus.min.js",wasmPath:"https://viu-sdk-cdn.yuntiancloud.com/h5/resources/opus.wasm",decodeBlob:"https://viu-sdk-cdn.yuntiancloud.com/h5/resources/Decoder.js",avcWasmFile:"https://viu-sdk-cdn.yuntiancloud.com/h5/resources/avc.wasm",opusEncoder:"https://viu-sdk-cdn.yuntiancloud.com/h5/resources/opus_encoder.mini.js",qualityPath:"https://viu-sdk-cdn.yuntiancloud.com/h5/resources/vr-quality-worker-v2.js",qualityDevPath:"https://viu-sdk-cdn.yuntiancloud.com/h5/resources/vr-quality-test/vr-quality-worker-v2.js"};e.OssSource=n;var o={lightplay_sdk_web:5,lightplay_sdk_pc_h5:1e3,lightplay_sdk_web_micro:5,lightplay_sdk_mac_h5:1001};e.DF_BIZID_DEVTPYPE=o;var i={PS_IDLE:0,PS_GETTOKEN:1,PS_PREPAREAREA:2,PS_ALLOCRESOURCE:3,PS_REAPPLY_RESOURCE:4,PS_AVC_PLAYING:5,PS_DESTROY:7};e.playStatus=i;var a={STEAM:1,LEGEND:2,NATIVECLOUD:3};e.DF_GAMETYPE=a;var s={ALWAYS_LANDSCAPE:0,ALWAYS_PORTRAIT:1,AUTO:2};e.DF_VIEW_DIRECTION=s;var u={LANDSCAPE:"landscape",PORTRAIT:"portrait"};e.GAME_SCREEN_RATATION=u;var c={Absolute:0,RelativeMove:1,RelativeClick:2,Auto:3,WindowsTouch:4,AutoWithClick:5};e.TouchPcMode=c;var l={None:0,LeftRocker:1,RightRocker:2,Mouse:3};e.GravityMaping=l;var f={Direct:"1",Server:"2"};e.ServerMethod=f;var d={baseline:parseInt("".concat(1),10),high:parseInt("".concat(8),10)};e.VideoCodecProfilesMap=d;var h={NoSupport:0,Manual:1,Auto:2};e.AudioInputMode=h;var p={P480:1,P720:2,P1080:3,P1440:4,P2160:5,P1080_DAIYU:103,P1440_DAIYU:104};e.ResolutionMap=p;var v={left:1,middle:2,right:3,x1:4,x2:5};e.MouseButtonMap=v;var y={Url:1,File:2};e.OpenFileOrUrlMode=y;var g={ACCELEROMETER:1,MAGNETIC:2,GYROSCOPE:3,GPS:4,BDS:5};e.SensorTypeMap=g;var m={ChooseImage:"chooseImage"};e.PermissionMap=m})?n.apply(t,o):n)||(e.exports=i)},37212:function(e,t,r){var n,o,i;r(95094),r(58188),r(73439),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],n=function(e){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){var r=0,n=Date.now(),o=function o(){r++;var i=Date.now()-n;if(i>e){var a=i/r;t(a>0?a:16.5)}else requestAnimationFrame(o)},i=function(){requestAnimationFrame(o)};requestAnimationFrame(i)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.checkDeviceFrameInterval=t},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},56464:function(e,t,r){var n,o,i;r(74083),r(71245),r(61657),r(95094),r(68995),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(68006),r(8195)],void 0===(i="function"==typeof(n=function(e,t,r){"use strict";function n(e){var t,n;switch(parseInt("".concat(e),10)){case r.ResolutionMap.P480:t=854,n=480;break;case r.ResolutionMap.P720:t=1280,n=720;break;case r.ResolutionMap.P1080:t=1920,n=1080;break;case r.ResolutionMap.P1440:t=2560,n=1440;break;case r.ResolutionMap.P2160:t=3840,n=2160;break;case r.ResolutionMap.P1080_DAIYU:t=2560,n=1080;break;case r.ResolutionMap.P1440_DAIYU:t=3440,n=1440;break;default:t=1280,n=720}return{width:t,height:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.getDesiredSize=void 0,e.getVideoQuality=n;var o=function(e){var r=n(e.resolution);if(e.nativeFullScreen&&(0,t.ismobile)()){var o=r.width,i=r.height,a=e.container.clientWidth,s=e.container.clientHeight;e.fullScreenPlay&&(0,t.fullScreenEnabled)()&&(a=window.screen.width,s=window.screen.height),o=s>a?s:a,i=s>a?a:s;var u=r.height*o/i;(u=Number(u.toFixed()))%2==1&&(u+=1),r.width=u}else!(0,t.ismobile)()&&window.screen.width/window.screen.height>=2.3&&(1088===parseInt("".concat(e.gId),10)||1492===parseInt("".concat(e.gId),10)||1474===parseInt("".concat(e.gId),10)||1509===parseInt("".concat(e.gId),10)||1443===parseInt("".concat(e.gId),10)||1483===parseInt("".concat(e.gId),10)||1444===parseInt("".concat(e.gId),10)||1484===parseInt("".concat(e.gId),10))&&([1,2,3].indexOf(e.resolution)>-1?r=n(103):4===e.resolution&&(r=n(104)));return r};e.getDesiredSize=o})?n.apply(t,o):n)||(e.exports=i)},37959:function(e,t,r){var n,o,i;r(15735),r(95094),r(68625),r(58188),r(28673),r(52356),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(68006),r(56464),r(33398),r(8195),r(30845),r(90631),r(88102),r(89995),r(33632),r(37212)],void 0===(i="function"==typeof(n=function(e,t,n,o,i,s,u,c,l,f,d){"use strict";var h=r(14859);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AudioInputMode",{enumerable:!0,get:function(){return i.AudioInputMode}}),Object.defineProperty(e,"CancelRequire",{enumerable:!0,get:function(){return s.CancelRequire}}),Object.defineProperty(e,"DF_BIZID_DEVTPYPE",{enumerable:!0,get:function(){return i.DF_BIZID_DEVTPYPE}}),Object.defineProperty(e,"DF_DEVICE_TYPE",{enumerable:!0,get:function(){return i.DF_DEVICE_TYPE}}),Object.defineProperty(e,"DF_GAMETYPE",{enumerable:!0,get:function(){return i.DF_GAMETYPE}}),Object.defineProperty(e,"DF_VIEW_DIRECTION",{enumerable:!0,get:function(){return i.DF_VIEW_DIRECTION}}),e.Defined=void 0,Object.defineProperty(e,"GAME_SCREEN_RATATION",{enumerable:!0,get:function(){return i.GAME_SCREEN_RATATION}}),Object.defineProperty(e,"GravityMaping",{enumerable:!0,get:function(){return i.GravityMaping}}),Object.defineProperty(e,"Lowerchrome",{enumerable:!0,get:function(){return t.Lowerchrome}}),Object.defineProperty(e,"MouseButtonMap",{enumerable:!0,get:function(){return i.MouseButtonMap}}),Object.defineProperty(e,"OpenFileOrUrlMode",{enumerable:!0,get:function(){return i.OpenFileOrUrlMode}}),Object.defineProperty(e,"OssSource",{enumerable:!0,get:function(){return i.OssSource}}),Object.defineProperty(e,"PermissionMap",{enumerable:!0,get:function(){return i.PermissionMap}}),Object.defineProperty(e,"Require",{enumerable:!0,get:function(){return s.Require}}),Object.defineProperty(e,"RequireWithRetry",{enumerable:!0,get:function(){return s.RequireWithRetry}}),Object.defineProperty(e,"ResolutionMap",{enumerable:!0,get:function(){return i.ResolutionMap}}),Object.defineProperty(e,"SensorTypeMap",{enumerable:!0,get:function(){return i.SensorTypeMap}}),Object.defineProperty(e,"ServerMethod",{enumerable:!0,get:function(){return i.ServerMethod}}),Object.defineProperty(e,"TouchPcMode",{enumerable:!0,get:function(){return i.TouchPcMode}}),e.Utils=void 0,Object.defineProperty(e,"VideoCodecProfilesMap",{enumerable:!0,get:function(){return i.VideoCodecProfilesMap}}),Object.defineProperty(e,"addListener",{enumerable:!0,get:function(){return t.addListener}}),Object.defineProperty(e,"checkDeviceFrameInterval",{enumerable:!0,get:function(){return d.checkDeviceFrameInterval}}),Object.defineProperty(e,"copyMsgSafe",{enumerable:!0,get:function(){return t.copyMsgSafe}}),Object.defineProperty(e,"dateFormat",{enumerable:!0,get:function(){return t.dateFormat}}),Object.defineProperty(e,"doFullscreen",{enumerable:!0,get:function(){return t.doFullscreen}}),Object.defineProperty(e,"exitFullscreen",{enumerable:!0,get:function(){return t.exitFullscreen}}),Object.defineProperty(e,"fullScreenEnabled",{enumerable:!0,get:function(){return t.fullScreenEnabled}}),Object.defineProperty(e,"getAppUserId",{enumerable:!0,get:function(){return u.getAppUserId}}),Object.defineProperty(e,"getAvg",{enumerable:!0,get:function(){return t.getAvg}}),Object.defineProperty(e,"getClientType",{enumerable:!0,get:function(){return t.getClientType}}),Object.defineProperty(e,"getDesiredSize",{enumerable:!0,get:function(){return n.getDesiredSize}}),Object.defineProperty(e,"getFinger",{enumerable:!0,get:function(){return t.getFinger}}),Object.defineProperty(e,"getNetworkStatus",{enumerable:!0,get:function(){return t.getNetworkStatus}}),Object.defineProperty(e,"getNetworkType",{enumerable:!0,get:function(){return t.getNetworkType}}),Object.defineProperty(e,"getOSType",{enumerable:!0,get:function(){return t.getOSType}}),Object.defineProperty(e,"getRandomIDString",{enumerable:!0,get:function(){return t.getRandomIDString}}),Object.defineProperty(e,"getRowIdPre",{enumerable:!0,get:function(){return u.getRowIdPre}}),Object.defineProperty(e,"getVideoQuality",{enumerable:!0,get:function(){return n.getVideoQuality}}),Object.defineProperty(e,"iosGreaterThan10",{enumerable:!0,get:function(){return t.iosGreaterThan10}}),Object.defineProperty(e,"isAndroid",{enumerable:!0,get:function(){return t.isAndroid}}),Object.defineProperty(e,"isFullscreen",{enumerable:!0,get:function(){return t.isFullscreen}}),Object.defineProperty(e,"isIOS15",{enumerable:!0,get:function(){return t.isIOS15}}),Object.defineProperty(e,"isJSON",{enumerable:!0,get:function(){return t.isJSON}}),Object.defineProperty(e,"isLowIos",{enumerable:!0,get:function(){return t.isLowIos}}),Object.defineProperty(e,"isMac",{enumerable:!0,get:function(){return t.isMac}}),Object.defineProperty(e,"isMigu",{enumerable:!0,get:function(){return t.isMigu}}),Object.defineProperty(e,"isNoChrome",{enumerable:!0,get:function(){return t.isNoChrome}}),Object.defineProperty(e,"isSupportWasm",{enumerable:!0,get:function(){return c.isSupportWasm}}),Object.defineProperty(e,"isWeixin",{enumerable:!0,get:function(){return t.isWeixin}}),Object.defineProperty(e,"isWeixinMiniProgramWebview",{enumerable:!0,get:function(){return t.isWeixinMiniProgramWebview}}),Object.defineProperty(e,"isWin",{enumerable:!0,get:function(){return t.isWin}}),Object.defineProperty(e,"isiOS",{enumerable:!0,get:function(){return t.isiOS}}),Object.defineProperty(e,"ismobile",{enumerable:!0,get:function(){return t.ismobile}}),Object.defineProperty(e,"myBrowser",{enumerable:!0,get:function(){return t.myBrowser}}),Object.defineProperty(e,"playStatus",{enumerable:!0,get:function(){return i.playStatus}}),Object.defineProperty(e,"removeListeners",{enumerable:!0,get:function(){return t.removeListeners}}),Object.defineProperty(e,"serverConfigLocal",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"serverConfigLocalNew",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"showConfirm",{enumerable:!0,get:function(){return o.showConfirm}}),Object.defineProperty(e,"sleep",{enumerable:!0,get:function(){return t.sleep}}),Object.defineProperty(e,"vrSign",{enumerable:!0,get:function(){return u.vrSign}}),t=v(t),e.Utils=t,i=v(i),e.Defined=i,l=h(l),f=h(f)})?n.apply(t,o):n)||(e.exports=i)},30845:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(95342),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(81260),r(52954),r(89644),r(68006)],n=function(e,t,n,o,i,s){"use strict";var u=r(14859);function c(){c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.CancelRequire=g,e.Require=y,e.RequireWithRetry=p,n=u(n),o=u(o);var d=(i=u(i)).default.CancelToken,h={};function p(e,t){return v.apply(this,arguments)}function v(){return v=(0,o.default)(c().mark((function e(t,r){var n,o,i,a,u,l=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>2&&void 0!==l[2]?l[2]:3,o=l.length>3&&void 0!==l[3]?l[3]:300,i=l.length>4?l[4]:void 0,!(n<=0)){e.next=5;break}return e.abrupt("return",null);case 5:return a=null,e.prev=6,e.next=9,y(t,r,!1,i);case 9:a=e.sent,e.next=22;break;case 12:return e.prev=12,e.t0=e.catch(6),e.next=16,(0,s.sleep)(o);case 16:if(!r.cancelKey||h[r.cancelKey]){e.next=18;break}return e.abrupt("return",null);case 18:return e.next=20,p(t,r,n-1,o,i);case 20:return u=e.sent,e.abrupt("return",u);case 22:return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e,null,[[6,12]])}))),v.apply(this,arguments)}function y(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6e3,n=f({method:"post",headers:{"Content-Type":"text/plain;charset=UTF-8"}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),o=d.source();return n.cancelKey&&(h[n.cancelKey]={token:o,live:!0}),(0,i.default)({method:n.method,headers:n.headers,url:e,params:n.params?n.params:null,data:n.formData?n.formData:n.data?JSON.stringify(n.data):null,timeout:r,cancelToken:o.token}).then((function(e){return n.cancelKey&&(h[n.cancelKey]=null),200===e.status?t?{data:e.data,headers:e.headers}:e.data:null}))}function g(e){var t=h[e];t&&(t.token.cancel(),t.live=!1,h[e]=null)}},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},89995:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={migu_beta:{useUnion:!0,tokenHost:"https://tapi-bnd-zj.migufun.com:18113",unionHost:"https://tunion-access-zj.migufun.com:18112",reportUrl:"https://tpl-report-zj.migufun.com:18114",logReportUrl:"https://report-zj.migufun.com:15040/v1/logger?name=H5"},migu:{useUnion:!0,tokenHost:"https://api-bnd-zj.migufun.com:18113",unionHost:"https://union-access-zj.migufun.com:18112",reportUrl:"https://pl-report-zj.migufun.com:18114",logReportUrl:"https://report-zj.migufun.com:15050/v1/logger?name=H5"},metameeting:{useUnion:!0,tokenHost:"https://api-bnd-zj.migufun.com:18113",unionHost:"https://union-access-zj.migufun.com:18112",reportUrl:"https://pl-report-zj.migufun.com:18114",logReportUrl:"https://report-zj.migufun.com:15050/v1/logger?name=H5"},yuntian:{useUnion:!0,tokenHost:" https://api-bnd.yuntiancloud.com:18113",unionHost:"https://union-access.yuntiancloud.com:18112",reportUrl:"https://pl-report.yuntiancloud.com:18114",logReportUrl:"https://report.yuntiancloud.com:38100/v1/logger?name=H5"},vrviu:{useUnion:!1,tokenHost:"https://access.vrviu.com:18084",serverHost:"access.vrviu.com:18084",unionHost:"",reportUrl:"",logReportUrl:""},vrviu_1:{useUnion:!0,tokenHost:"https://tsapi-bnd.tongotech.com:18113",serverHost:"",unionHost:"https://tsunion-access.tongotech.com:18112",reportUrl:"",logReportUrl:""},netease:{useUnion:!0,tokenHost:"https://api-bnd.yuntiancloud.com:18113",unionHost:"https://union-access.yuntiancloud.com:18112",reportUrl:"https://pl-report.yuntiancloud.com:18114",logReportUrl:"https://report.yuntiancloud.com:38100/v1/logger?name=H5"},netease_beta:{useUnion:!0,tokenHost:"https://beta-02-api-bnd.yuntiancloud.com:18113",unionHost:"https://beta-02-union-access.yuntiancloud.com:18112",reportUrl:"https://beta-02-pl-report.yuntiancloud.com:18114",logReportUrl:"https://beta-02-report.yuntiancloud.com:15050/v1/logger?name=H5"},netease_ds_beta:{useUnion:!0,tokenHost:"https://beta-02-api-bnd.yuntiancloud.com:18113",unionHost:"https://beta-02-union-access.yuntiancloud.com:18112",reportUrl:"https://beta-02-pl-report.yuntiancloud.com:18114",logReportUrl:"https://beta-02-report.yuntiancloud.com:15050/v1/logger?name=H5"},mengyou_beta:{useUnion:!0,tokenHost:"https://beta-04-api-bnd.yuntiancloud.com:18213",unionHost:"https://beta-04-union-access.yuntiancloud.com:18212",reportUrl:"https://beta-04-pl-report.yuntiancloud.com:18214",logReportUrl:"https://beta-04-report.yuntiancloud.com:38200/v1/logger?name=H5"},mengyou_beta_micro:{useUnion:!0,tokenHost:"https://beta-04-api-bnd.yuntiancloud.com:18213",unionHost:"https://beta-04-union-access.yuntiancloud.com:18212",reportUrl:"https://beta-04-pl-report.yuntiancloud.com:18214",logReportUrl:"https://beta-04-report.yuntiancloud.com:38200/v1/logger?name=H5"},mengyou:{useUnion:!0,tokenHost:"https://api-bnd.yuntiancloud.com:18113",unionHost:"https://union-access.yuntiancloud.com:18112",reportUrl:"https://pl-report.yuntiancloud.com:18114",logReportUrl:"https://report.yuntiancloud.com:38100/v1/logger?name=H5"}};e.default=t})?n.apply(t,o):n)||(e.exports=i)},33632:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={accessKey:"220e9acb91f34dcb0b94361270d4ec13",bizType:42,bizID:"biz-basic",appID:"netease-yjwj",unionURL:"https://union-access.yuntiancloud.com:18112",logReportURL:"https://report.yuntiancloud.com:38100/v1/logger?name=H5",waterURL:"https://pl-report.yuntiancloud.com:18114",signatureURL:"https://pl-report.yuntiancloud.com:18114"};e.default=t})?n.apply(t,o):n)||(e.exports=i)},90631:function(e,t,r){var n,o,i;r(18178),r(16781),r(99805),r(95094),r(58188),r(77950),r(88233),r(48319),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(47710),r(8139),r(79174)],n=function(e,t,n,o){"use strict";var i=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.getAppUserId=h,e.getRandomIDString=f,e.getRowIdPre=d,e.vrSign=s,t=i(t),n=i(n),o=i(o);var a=function(e){var t=e.split("/");return t.splice(0,3),"/".concat(t.join("/"))};function s(e){var r=e.AccessKey,i=void 0===r?"":r,s=e.AccessKeySecret,u=void 0===s?"":s,c=e.url,l=void 0===c?"":c,f=e.HTTPMethod,d=void 0===f?"POST":f,h=e.body,p=void 0===h?"":h,v=e.Version,y=void 0===v?"2020-11-01":v,g=e.Timestamp,m=void 0===g?"":g,b=e.Format,w=void 0===b?"JSON":b,T=e.SignatureVersion,_=void 0===T?"1.1":T,k=e.SignatureNonce,E=void 0===k?"".concat((new Date).getTime()):k,C=e.SignatureMethod,S=void 0===C?"HMAC-SHA1":C,A=e.Ticket,R=void 0===A?"":A,O=e.TicketNonce,M=void 0===O?"":O;R&&(_="1.2",u=R,E=M),m||(m=(new Date).getTime().toString());var I=n.default.stringify((0,o.default)(p)),P=a(l),x="AccessKey=".concat(encodeURIComponent(i),"&Format=").concat(encodeURIComponent(w),"&SignatureMethod=").concat(encodeURIComponent(S),"&SignatureNonce=").concat(encodeURIComponent(E),"&SignatureVersion=").concat(encodeURIComponent(_));R&&(x+="&Ticket=".concat(encodeURIComponent(R),"&TicketNonce=").concat(encodeURIComponent(M))),x+="&Timestamp=".concat(encodeURIComponent(m),"&Version=").concat(encodeURIComponent(y));var L="".concat(d,"&").concat(encodeURIComponent(P),"&").concat(encodeURIComponent(I),"&").concat(encodeURIComponent(x)),D=(0,t.default)(L,"".concat(u,"&")),N=n.default.stringify(D),G="".concat(l,"?Format=").concat(encodeURIComponent(w),"&Version=").concat(encodeURIComponent(y),"&AccessKey=").concat(encodeURIComponent(i),"&Timestamp=").concat(encodeURIComponent(m),"&SignatureMethod=").concat(encodeURIComponent(S),"&SignatureVersion=").concat(encodeURIComponent(_),"&SignatureNonce=").concat(E,"&Signature=").concat(encodeURIComponent(N));return R&&(G+="&Ticket=".concat(encodeURIComponent(R),"&TicketNonce=").concat(encodeURIComponent(M))),G}function u(e){return(240&e)>>4}function c(e){return 15&e}function l(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),o=u(n),i=16*c(n)+o;t="".concat(t).concat(String.fromCharCode(i))}return t}function f(e){e=e||6;for(var t="ABCDEFGHJKLMNOPQRSTUVWXYZabcdeffhijklmnopqrstuvwxyz0123456789",r=t.length,n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*r));return n}function d(e,t){var r="".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"__CP","-CP-MOBILE-rowIdPre"),n=localStorage.getItem(r);return n||(n="".concat(e,":").concat(Date.now(),":").concat(t,":").concat(f(8)),localStorage.setItem(r,n)),n}function h(e){var t=l(e),r=(0,o.default)(t),n="".concat(e,":").concat(r);return window.btoa(n)}},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},88102:function(e,t,r){var n,o,i;r(95094),r(77950),r(74069),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(58921),r(68006)],void 0===(i="function"==typeof(n=function(e,t,n){"use strict";var o=r(14859);function i(){if((0,n.isLowIos)()||navigator.userAgent.toLowerCase().match(/firefox/i))return!1;var e=!1,r=window.WebAssembly;return"object"===(0,t.default)(r)&&"function"==typeof r.Memory&&("function"!=typeof r.instantiateStreaming&&"function"!=typeof r.instantiate||(e=!0)),e}Object.defineProperty(e,"__esModule",{value:!0}),e.isSupportWasm=i,t=o(t)})?n.apply(t,o):n)||(e.exports=i)},33398:function(e,t,r){var n,o,i;r(34115),r(95342),r(38695),r(76555),r(95094),r(68625),r(62775),r(34769),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(81260)],n=function(e,t){"use strict";var n=r(14859);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){(0,t.default)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i({container:window.document.documentElement,showSubmit:!0,submitText:"确定",submitCallback:function(){}},t),n=document.createElement("button");n.style.cursor="pointer",n.style.textAlign="center",n.style.background="#000",n.style.borderRadius="20px",n.style.border="1px solid #fff",n.style.color="#fff",n.style.padding="10px 20px",n.innerText=r.submitText;var o=document.createElement("div");o.style.position="absolute",o.style.top="50%",o.style.left="50%",o.style.transform="translate(-50%,-55%)",o.style.userSelect="text",o.style.webkitUserSelect="text",o.innerHTML='<p style="user-select: text; -webkit-user-select: text">'.concat(e,"</p>"),r.showSubmit&&o.appendChild(n);var a=document.createElement("div");return a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.zIndex="1000",a.style.width="100%",a.style.height="100%",a.style.background="rgba(0, 0, 0, 0.7)",a.style.color="#fff",a.style.textAlign="center",a.appendChild(o),n.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),r.container.removeChild(a),r.submitCallback()}),!1),r.container.appendChild(a),a}Object.defineProperty(e,"__esModule",{value:!0}),e.showConfirm=a,t=n(t)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},68006:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(95342),r(38695),r(27233),r(74083),r(15735),r(16781),r(43450),r(32501),r(26936),r(17525),r(18275),r(71245),r(95094),r(96928),r(52506),r(58188),r(68995),r(73439),r(17368),r(77950),r(88233),r(28673),r(74069),r(35734),r(85940),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(58921),r(52954),r(8195),r(95815)],n=function(e,t,n,o,i,s){"use strict";var u=r(14859);function c(){c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){return!!navigator.userAgent.toLowerCase().match(/ucbrowser|heytapbrowser|weibo|vivobrowser|trident|pkq1/i)}function p(){var e=0,t=0,r=/chrome\/(\d*)\.(\d*)\.(\d*).(\d*)/i.test(navigator.userAgent.toLowerCase());e=Number(RegExp.$1);var n=/qqbrowser\/(\d*)\.(\d*)/i.test(navigator.userAgent.toLowerCase());return t=Number(RegExp.$1),y()?!!(r&&e<76)||n&&t<7||v()&&r&&e<79:!(!(r&&e<76)||n)||n&&t<7}function v(){var e=navigator.userAgent.toLowerCase();return!e.match(/MicroMessenger/i)&&!e.match(/QQ/i)&&!e.match(/WeiBo/i)&&(null!=e.match(/Android/i)?null==e.match(/browser/i):null!=e.match(/iPhone/i)?null==e.match(/safari/i):null==e.match(/macintosh/i)&&null==e.match(/windows/i))}function y(){var e=["iPhone","iPad","HeyTapBrowser","Android","Windows Phone","BB10; Touch","BB10; Touch","PlayBook","Nokia"],t=navigator.userAgent;return e.filter((function(e){return t.indexOf(e)>0})).length>0}function g(){var e=document.documentElement,t=e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;if(t&&t.call(e),y())setTimeout((function(){window.scrollTo(0,1)}),1e3);else if(navigator.keyboard){var r=navigator.userAgent.toLocaleLowerCase();/wow64/.test(r)&&/qqbrowser\/10/.test(r)||navigator.keyboard.lock()}}function m(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)}function b(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)}function w(){b()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())}function T(){var e=navigator.userAgent.toLowerCase();return/micromessenger/.test(e)}function _(){var e=navigator.userAgent.toLowerCase();return T()&&/miniprogram/.test(e)}function k(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1;return t?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t?"IE":null}function E(e){return e&&e===i.clientBizId.mac?"web-mac-pc":y()?"web-phone":"web-pc"}function C(){return/Android/i.test(navigator.userAgent)}function S(){return/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)}function A(){return/windows|win32/i.test(navigator.userAgent)}function R(){return!(!/macintosh|mac os x/i.test(navigator.userAgent)||S())}function O(e){try{var t=document.createElement("input");return t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}catch(e){return!1}}function M(e){e=e||6;for(var t="ABCDEFGHJKLMNOPQRSTUVWXYZabcdeffhijklmnopqrstuvwxyz0123456789",r=t.length,n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*r));return n}function I(e){if(e.length<=0)return 0;for(var t=e.length,r=0,n=0;n<t;n++)r+=parseInt("".concat(e[n]),10);return parseInt("".concat(r/t),10)}function P(e){return x.apply(this,arguments)}function x(){return(x=(0,o.default)(c().mark((function e(t){var r,n,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=window)||void 0===r||null===(n=r.navigator)||void 0===n||null===(o=n.clipboard)||void 0===o||!o.writeText){e.next=12;break}return e.prev=1,e.next=4,window.navigator.clipboard.writeText(t);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",!1);case 10:e.next=16;break;case 12:if(!(i=k())||"Safari"!==i){e.next=15;break}return e.abrupt("return",!1);case 15:return e.abrupt("return",O(t));case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function L(){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{type:"unknown"},t=["unknown","ethernet","wifi","2g","3g","4g","none"];return"number"==typeof e.type?e.typeText=t[e.type]:e.typeText=e.type||e.effectiveType,"number"==typeof e.bandwidth&&(e.bandwidth>10?e.type="wifi":e.bandwidth>2?e.type="3g":e.bandwidth>0?e.type="2g":0===e.bandwidth?e.type="none":e.type="unknown"),e}function D(){var e={unknown:0,ethernet:4,wifi:1,"2g":30,"3g":30,"4g":40,none:0},t=L().typeText;return t?void 0===e[t=t.toLowerCase()]?0:e[t]:0}function N(e,t){var r,n={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString(),"N+":t.getMilliseconds().toString()};for(var o in n)(r=new RegExp("(".concat(o,")")).exec(e))&&(e=e.replace(r[1],1===r[1].length?n[o]:n[o].padStart(r[1].length,"0")));return e}function G(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function F(){return C()?1:S()?2:A()?3:R()?4:0}function B(e){try{var t=JSON.parse(e);return!("object"!==(0,n.default)(t)||!t)&&t}catch(e){return!1}}function j(e,t,r,n){if(void 0!==r&&void 0!==e){var o=n?r.bind(n):r;return e.addEventListener(t,o,!1),[e,t,o]}}function U(e){var t,r=l(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;void 0!==n&&n[0].removeEventListener(n[1],n[2])}}catch(e){r.e(e)}finally{r.f()}}function V(){return/iphone os 11/.test(navigator.userAgent.toLowerCase())}function H(){return/iphone os 15|iphone os 16/.test(navigator.userAgent.toLowerCase())}function K(){var e=0,t=/iphone(\s)os(\s)(\d*)/i.test(navigator.userAgent.toLocaleLowerCase());return e=Number(RegExp.$3),t&&e>10}function W(){return Y.apply(this,arguments)}function Y(){return(Y=(0,o.default)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){s.default.get((function(t){var r=t.map((function(e){return e.value})),n=s.default.x64hash128(r.join(""),31);e(n)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return/^migu/.test(e)||"metameeting"===e}Object.defineProperty(e,"__esModule",{value:!0}),e.Lowerchrome=p,e.addListener=j,e.copyMsg=O,e.copyMsgSafe=P,e.dateFormat=N,e.doFullscreen=g,e.exitFullscreen=w,e.fullScreenEnabled=m,e.getAvg=I,e.getClientType=E,e.getFinger=W,e.getNetworkStatus=L,e.getNetworkType=D,e.getOSType=F,e.getRandomIDString=M,e.iosGreaterThan10=K,e.isAndroid=C,e.isFullscreen=b,e.isIOS15=H,e.isJSON=B,e.isLowIos=V,e.isMac=R,e.isMigu=q,e.isNoChrome=h,e.isWeixin=T,e.isWeixinMiniProgramWebview=_,e.isWin=A,e.isiOS=S,e.ismobile=y,e.myBrowser=k,e.openInWebview=v,e.removeListeners=U,e.sleep=G,n=u(n),o=u(o),s=u(s)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},95815:function(e,t,r){var n,o,i;r(34115),r(634),r(18178),r(92656),r(95342),r(38695),r(74083),r(15735),r(16781),r(43450),r(43108),r(32501),r(43430),r(72994),r(26936),r(68625),r(58188),r(73439),r(77950),r(88233),r(74069),r(81382),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(1939),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[],n=function(){"use strict";var o,a,s;o="Fingerprint2",a=void 0,s=function(){void 0===Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},t=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},r=function(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},n=function(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},o=function(e,t){return[e[0]^t[0],e[1]^t[1]]},i=function(e){return e=o(e,[0,e[0]>>>1]),e=t(e,[4283543511,3981806797]),e=o(e,[0,e[0]>>>1]),e=t(e,[3301882366,444984403]),e=o(e,[0,e[0]>>>1])},a=function(a,s){s=s||0;for(var u=(a=a||"").length%16,c=a.length-u,l=[0,s],f=[0,s],d=[0,0],h=[0,0],p=[2277735313,289559509],v=[1291169091,658871167],y=0;y<c;y+=16)d=[255&a.charCodeAt(y+4)|(255&a.charCodeAt(y+5))<<8|(255&a.charCodeAt(y+6))<<16|(255&a.charCodeAt(y+7))<<24,255&a.charCodeAt(y)|(255&a.charCodeAt(y+1))<<8|(255&a.charCodeAt(y+2))<<16|(255&a.charCodeAt(y+3))<<24],h=[255&a.charCodeAt(y+12)|(255&a.charCodeAt(y+13))<<8|(255&a.charCodeAt(y+14))<<16|(255&a.charCodeAt(y+15))<<24,255&a.charCodeAt(y+8)|(255&a.charCodeAt(y+9))<<8|(255&a.charCodeAt(y+10))<<16|(255&a.charCodeAt(y+11))<<24],d=t(d,p),d=r(d,31),d=t(d,v),l=o(l,d),l=r(l,27),l=e(l,f),l=e(t(l,[0,5]),[0,1390208809]),h=t(h,v),h=r(h,33),h=t(h,p),f=o(f,h),f=r(f,31),f=e(f,l),f=e(t(f,[0,5]),[0,944331445]);switch(d=[0,0],h=[0,0],u){case 15:h=o(h,n([0,a.charCodeAt(y+14)],48));case 14:h=o(h,n([0,a.charCodeAt(y+13)],40));case 13:h=o(h,n([0,a.charCodeAt(y+12)],32));case 12:h=o(h,n([0,a.charCodeAt(y+11)],24));case 11:h=o(h,n([0,a.charCodeAt(y+10)],16));case 10:h=o(h,n([0,a.charCodeAt(y+9)],8));case 9:h=o(h,[0,a.charCodeAt(y+8)]),h=t(h,v),h=r(h,33),h=t(h,p),f=o(f,h);case 8:d=o(d,n([0,a.charCodeAt(y+7)],56));case 7:d=o(d,n([0,a.charCodeAt(y+6)],48));case 6:d=o(d,n([0,a.charCodeAt(y+5)],40));case 5:d=o(d,n([0,a.charCodeAt(y+4)],32));case 4:d=o(d,n([0,a.charCodeAt(y+3)],24));case 3:d=o(d,n([0,a.charCodeAt(y+2)],16));case 2:d=o(d,n([0,a.charCodeAt(y+1)],8));case 1:d=o(d,[0,a.charCodeAt(y)]),d=t(d,p),d=r(d,31),d=t(d,v),l=o(l,d)}return l=o(l,[0,a.length]),f=o(f,[0,a.length]),l=e(l,f),f=e(f,l),l=i(l),f=i(f),l=e(l,f),f=e(f,l),("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)+("00000000"+(f[0]>>>0).toString(16)).slice(-8)+("00000000"+(f[1]>>>0).toString(16)).slice(-8)},s={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0,adBlock:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},u=function(e,t){if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t);else if(e.length===+e.length)for(var r=0,n=e.length;r<n;r++)t(e[r],r,e);else for(var o in e)e.hasOwnProperty(o)&&t(e[o],o,e)},c=function(e,t){var r=[];return null==e?r:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(u(e,(function(e,n,o){r.push(t(e,n,o))})),r)},l=function(e,t){if(null==t)return e;var r,n;for(n in t)null==(r=t[n])||Object.prototype.hasOwnProperty.call(e,n)||(e[n]=r);return e},f=function(e,t){if(!d())return e(t.NOT_AVAILABLE);navigator.mediaDevices.enumerateDevices().then((function(t){e(t.map((function(e){return"id="+e.deviceId+";gid="+e.groupId+";"+e.kind+";"+e.label})))})).catch((function(t){e(t)}))},d=function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices},h=function(e,t){e(p(t))},p=function(e){var t=[window.screen.width,window.screen.height];return e.screen.detectScreenOrientation&&t.sort().reverse(),t},v=function(e,t){e(y(t))},y=function(e){if(window.screen.availWidth&&window.screen.availHeight){var t=[window.screen.availHeight,window.screen.availWidth];return e.screen.detectScreenOrientation&&t.sort().reverse(),t}return e.NOT_AVAILABLE},g=function(e,t){e(F(t))},m=function(e,t){e(B(t))},b=function(e,t){e(j(t))},w=function(e,t){e(V(t))},T=function(e,t){e(H(t))},_=function(e,t){e(K(t))},k=function(e,t){ee()?e(Y(t)):e(t.NOT_AVAILABLE)},E=function(e,t){te()?e(q()):e(t.NOT_AVAILABLE)},C=function(e){te()?e(z()):e()},S=function(e){e(J())},A=function(e){e(X())},R=function(e){e(Q())},O=function(e){e(Z())},M=function(e){e($())},I=function(e,t){return oe()?ie()?t.fonts.swfPath?void se((function(t){e(t)}),t):e("missing options.fonts.swfPath"):e("flash not installed"):e("swf object not loaded")},P=function(e,t){re()?t.plugins.excludeIE?e(t.EXCLUDED):e(L(t)):e(x(t))},x=function(e){if(null==navigator.plugins)return e.NOT_AVAILABLE;for(var t=[],r=0,n=navigator.plugins.length;r<n;r++)navigator.plugins[r]&&t.push(navigator.plugins[r]);return D(e)&&(t=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))),c(t,(function(e){var t=c(e,(function(e){return[e.type,e.suffixes]}));return[e.name,e.description,t]}))},L=function(e){var t=[];return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window?t=c(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],(function(t){try{return new window.ActiveXObject(t),t}catch(t){return e.ERROR}})):t.push(e.NOT_AVAILABLE),navigator.plugins&&(t=t.concat(x(e))),t},D=function(e){for(var t=!1,r=0,n=e.plugins.sortPluginsFor.length;r<n;r++){var o=e.plugins.sortPluginsFor[r];if(navigator.userAgent.match(o)){t=!0;break}}return t},N=function(e){e(W())},G=function(e,t){e(U(t))},F=function(e){try{return!!window.sessionStorage}catch(t){return e.ERROR}},B=function(e){try{return!!window.localStorage}catch(t){return e.ERROR}},j=function(e){if(ne())return e.EXCLUDED;try{return!!window.indexedDB}catch(t){return e.ERROR}},U=function(e){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:e.NOT_AVAILABLE},V=function(e){return navigator.cpuClass||e.NOT_AVAILABLE},H=function(e){return navigator.platform?navigator.platform:e.NOT_AVAILABLE},K=function(e){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:e.NOT_AVAILABLE},W=function(){var e,t=0;void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return[t,e,"ontouchstart"in window]},Y=function(e){var t=[],r=document.createElement("canvas");r.width=2e3,r.height=200,r.style.display="inline";var n=r.getContext("2d");return n.rect(0,0,10,10),n.rect(2,2,6,6),t.push("canvas winding:"+(!1===n.isPointInPath(5,5,"evenodd")?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",e.dontUseFakeFontInCanvas?n.font="11pt Arial":n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),r.toDataURL&&t.push("canvas fp:"+r.toDataURL()),t},q=function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"},r=function(e){var t=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");if(t){var r=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===r&&(r=2),r}return null};if(!(e=ue()))return null;var n=[],o="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",i="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a);var s=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),a.itemSize=3,a.numItems=3;var c=e.createProgram(),l=e.createShader(e.VERTEX_SHADER);e.shaderSource(l,o),e.compileShader(l);var f=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(f,i),e.compileShader(f),e.attachShader(c,l),e.attachShader(c,f),e.linkProgram(c),e.useProgram(c),c.vertexPosAttrib=e.getAttribLocation(c,"attrVertex"),c.offsetUniform=e.getUniformLocation(c,"uniformOffset"),e.enableVertexAttribArray(c.vertexPosArray),e.vertexAttribPointer(c.vertexPosAttrib,a.itemSize,e.FLOAT,!1,0,0),e.uniform2f(c.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,a.numItems);try{n.push(e.canvas.toDataURL())}catch(e){}n.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),n.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),n.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),n.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),n.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),n.push("webgl max anisotropy:"+r(e)),n.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+e.getParameter(e.RED_BITS)),n.push("webgl renderer:"+e.getParameter(e.RENDERER)),n.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),n.push("webgl vendor:"+e.getParameter(e.VENDOR)),n.push("webgl version:"+e.getParameter(e.VERSION));try{var d=e.getExtension("WEBGL_debug_renderer_info");d&&(n.push("webgl unmasked vendor:"+e.getParameter(d.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+e.getParameter(d.UNMASKED_RENDERER_WEBGL)))}catch(e){}return e.getShaderPrecisionFormat?(u(["FLOAT","INT"],(function(t){u(["VERTEX","FRAGMENT"],(function(r){u(["HIGH","MEDIUM","LOW"],(function(o){u(["precision","rangeMin","rangeMax"],(function(i){var a=e.getShaderPrecisionFormat(e[r+"_SHADER"],e[o+"_"+t])[i];"precision"!==i&&(i="precision "+i);var s=["webgl ",r.toLowerCase()," shader ",o.toLowerCase()," ",t.toLowerCase()," ",i,":",a].join("");n.push(s)}))}))}))})),ce(e),n):(ce(e),n)},z=function(){try{var e=ue(),t=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(t.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(t.UNMASKED_RENDERER_WEBGL);return ce(e),r}catch(e){return null}},J=function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t},X=function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},Q=function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},Z=function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.oscpu,n=navigator.platform.toLowerCase();if(e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("windows")>=0||t.indexOf("win16")>=0||t.indexOf("win32")>=0||t.indexOf("win64")>=0||t.indexOf("win95")>=0||t.indexOf("win98")>=0||t.indexOf("winnt")>=0||t.indexOf("wow64")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0||t.indexOf("cros")>=0||t.indexOf("x11")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0||t.indexOf("ipod")>=0||t.indexOf("crios")>=0||t.indexOf("fxios")>=0?"iOS":t.indexOf("macintosh")>=0||t.indexOf("mac_powerpc)")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows"!==e&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e&&-1===t.indexOf("cros"))return!0;if(void 0!==r){if((r=r.toLowerCase()).indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(r.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(r.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===r.indexOf("win")&&-1===r.indexOf("linux")&&-1===r.indexOf("mac"))!=("Other"===e))return!0}return n.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||(n.indexOf("linux")>=0||n.indexOf("android")>=0||n.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||(n.indexOf("mac")>=0||n.indexOf("ipad")>=0||n.indexOf("ipod")>=0||n.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||!(n.indexOf("arm")>=0&&"Windows Phone"===e)&&!(n.indexOf("pike")>=0&&t.indexOf("opera mini")>=0)&&((n.indexOf("win")<0&&n.indexOf("linux")<0&&n.indexOf("mac")<0&&n.indexOf("iphone")<0&&n.indexOf("ipad")<0&&n.indexOf("ipod")<0)!=("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)},$=function(){var e,t=navigator.userAgent.toLowerCase(),r=navigator.productSub;if(t.indexOf("edge/")>=0||t.indexOf("iemobile/")>=0)return!1;if(t.indexOf("opera mini")>=0)return!1;if(("Chrome"==(e=t.indexOf("firefox/")>=0?"Firefox":t.indexOf("opera/")>=0||t.indexOf(" opr/")>=0?"Opera":t.indexOf("chrome/")>=0?"Chrome":t.indexOf("safari/")>=0?t.indexOf("android 1.")>=0||t.indexOf("android 2.")>=0||t.indexOf("android 3.")>=0||t.indexOf("android 4.")>=0?"AOSP":"Safari":t.indexOf("trident/")>=0?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==r)return!0;var n,o=eval.toString().length;if(37===o&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===o&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===o&&"Chrome"!==e&&"AOSP"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(e){try{e.toSource(),n=!0}catch(e){n=!1}}return n&&"Firefox"!==e&&"Other"!==e},ee=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},te=function(){if(!ee())return!1;var e=ue(),t=!!window.WebGLRenderingContext&&!!e;return ce(e),t},re=function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},ne=function(){return("msWriteProfilerMark"in window)+("msLaunchUri"in navigator)+("msSaveBlob"in navigator)>=2},oe=function(){return void 0!==window.swfobject},ie=function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},ae=function(e){var t=document.createElement("div");t.setAttribute("id",e.fonts.swfContainerId),document.body.appendChild(t)},se=function(e,t){var r="___fp_swf_loaded";window[r]=function(t){e(t)};var n=t.fonts.swfContainerId;ae();var o={onReady:r},i={allowScriptAccess:"always",menu:"false"};window.swfobject.embedSWF(t.fonts.swfPath,n,"1","1","9.0.0",!1,o,i,{})},ue=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},ce=function(e){var t=e.getExtension("WEBGL_lose_context");null!=t&&t.loseContext()},le=[{key:"userAgent",getData:function(e){e(navigator.userAgent)}},{key:"webdriver",getData:function(e,t){e(null==navigator.webdriver?t.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(e,t){e(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||t.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(e,t){e(window.screen.colorDepth||t.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(e,t){e(navigator.deviceMemory||t.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(e,t){e(window.devicePixelRatio||t.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:G},{key:"screenResolution",getData:h},{key:"availableScreenResolution",getData:v},{key:"timezoneOffset",getData:function(e){e((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(e,t){window.Intl&&window.Intl.DateTimeFormat?e((new window.Intl.DateTimeFormat).resolvedOptions().timeZone||t.NOT_AVAILABLE):e(t.NOT_AVAILABLE)}},{key:"sessionStorage",getData:g},{key:"localStorage",getData:m},{key:"indexedDb",getData:b},{key:"addBehavior",getData:function(e){e(!!window.HTMLElement.prototype.addBehavior)}},{key:"openDatabase",getData:function(e){e(!!window.openDatabase)}},{key:"cpuClass",getData:w},{key:"platform",getData:T},{key:"doNotTrack",getData:_},{key:"plugins",getData:P},{key:"canvas",getData:k},{key:"webgl",getData:E},{key:"webglVendorAndRenderer",getData:C},{key:"adBlock",getData:S},{key:"hasLiedLanguages",getData:A},{key:"hasLiedResolution",getData:R},{key:"hasLiedOs",getData:O},{key:"hasLiedBrowser",getData:M},{key:"touchSupport",getData:N},{key:"fonts",getData:function(e,t){var r=["monospace","sans-serif","serif"],n=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];if(t.fonts.extendedJsFonts){var o=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"];n=n.concat(o)}n=(n=n.concat(t.fonts.userDefinedFonts)).filter((function(e,t){return n.indexOf(e)===t}));var i="mmmmmmmmmmlli",a="72px",s=document.getElementsByTagName("body")[0],u=document.createElement("div"),c=document.createElement("div"),l={},f={},d=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize=a,e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="normal",e.style.lineBreak="auto",e.style.lineHeight="normal",e.style.textTransform="none",e.style.textAlign="left",e.style.textDecoration="none",e.style.textShadow="none",e.style.whiteSpace="normal",e.style.wordBreak="normal",e.style.wordSpacing="normal",e.innerHTML=i,e},h=function(e,t){var r=d();return r.style.fontFamily="'"+e+"',"+t,r},p=function(){for(var e=[],t=0,n=r.length;t<n;t++){var o=d();o.style.fontFamily=r[t],u.appendChild(o),e.push(o)}return e},v=function(){for(var e={},t=0,o=n.length;t<o;t++){for(var i=[],a=0,s=r.length;a<s;a++){var u=h(n[t],r[a]);c.appendChild(u),i.push(u)}e[n[t]]=i}return e},y=function(e){for(var t=!1,n=0;n<r.length;n++)if(t=e[n].offsetWidth!==l[r[n]]||e[n].offsetHeight!==f[r[n]])return t;return t},g=p();s.appendChild(u);for(var m=0,b=r.length;m<b;m++)l[r[m]]=g[m].offsetWidth,f[r[m]]=g[m].offsetHeight;var w=v();s.appendChild(c);for(var T=[],_=0,k=n.length;_<k;_++)y(w[n[_]])&&T.push(n[_]);s.removeChild(c),s.removeChild(u),e(T)},pauseBefore:!0},{key:"fontsFlash",getData:I,pauseBefore:!0},{key:"audio",getData:function(e,t){var r=t.audio;if(r.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return e(t.EXCLUDED);var n=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==n)return e(t.NOT_AVAILABLE);var o=new n(1,44100,44100),i=o.createOscillator();i.type="triangle",i.frequency.setValueAtTime(1e4,o.currentTime);var a=o.createDynamicsCompressor();u([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],(function(e){void 0!==a[e[0]]&&"function"==typeof a[e[0]].setValueAtTime&&a[e[0]].setValueAtTime(e[1],o.currentTime)})),i.connect(a),a.connect(o.destination),i.start(0),o.startRendering();var s=setTimeout((function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/fingerprintjs/fingerprintjs with your user agent: "'+navigator.userAgent+'".'),o.oncomplete=function(){},o=null,e("audioTimeout")}),r.timeout);o.oncomplete=function(t){var r;try{clearTimeout(s),r=t.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce((function(e,t){return e+Math.abs(t)}),0).toString(),i.disconnect(),a.disconnect()}catch(t){return void e(t)}e(r)}}},{key:"enumerateDevices",getData:f}],fe=function(e){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/fingerprintjs/fingerprintjs#upgrade-guide-from-182-to-200")};return fe.get=function(e,t){t?e||(e={}):(t=e,e={}),l(e,s),e.components=e.extraComponents.concat(le);var r={data:[],addPreprocessedComponent:function(t,n){"function"==typeof e.preprocessor&&(n=e.preprocessor(t,n)),r.data.push({key:t,value:n})}},n=-1;!function o(i){if((n+=1)>=e.components.length)t(r.data);else{var a=e.components[n];if(e.excludes[a.key])o(!1);else{if(!i&&a.pauseBefore)return n-=1,void setTimeout((function(){o(!0)}),1);try{a.getData((function(e){r.addPreprocessedComponent(a.key,e),o(!1)}),e)}catch(e){r.addPreprocessedComponent(a.key,String(e)),o(!1)}}}}(!1)},fe.getPromise=function(e){return new Promise((function(t,r){fe.get(e,t)}))},fe.getV18=function(e,t){return null==t&&(t=e,e={}),fe.get(e,(function(r){for(var n=[],o=0;o<r.length;o++){var i=r[o];if(i.value===(e.NOT_AVAILABLE||"not available"))n.push({key:i.key,value:"unknown"});else if("plugins"===i.key)n.push({key:"plugins",value:c(i.value,(function(e){var t=c(e[2],(function(e){return e.join?e.join("~"):e})).join(",");return[e[0],e[1],t].join("::")}))});else if(-1!==["canvas","webgl"].indexOf(i.key)&&Array.isArray(i.value))n.push({key:i.key,value:i.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(i.key)){if(!i.value)continue;n.push({key:i.key,value:1})}else i.value?n.push(i.value.join?{key:i.key,value:i.value.join(";")}:i):n.push({key:i.key,value:i.value})}var s=a(c(n,(function(e){return e.value})).join("~~~"),31);t(s,n)}))},fe.x64hash128=a,fe.VERSION="2.1.4",fe},"undefined"!=typeof window&&r.amdO?void 0===(i="function"==typeof(n=s)?n.call(t,r,t,e):n)||(e.exports=i):e.exports?e.exports=s():a.exports?a.exports=s():a[o]=s()},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},69679:function(e,t,r){var n,o,i;r(95094),r(58188),r(88233),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(86e3)],void 0===(i="function"==typeof(n=function(e,t,n,o,i){"use strict";var a=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.AudioStreamPlayer=void 0,t=a(t),n=a(n),o=a(o);var s=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"options",void 0),(0,o.default)(this,"stream",void 0),(0,o.default)(this,"audioSource",void 0),(0,o.default)(this,"gainNode",null),(0,o.default)(this,"TAG","AudioStreamPlayer"),this.options=r,this.gainNode=this.options.audioContext.createGain(),this.gainNode.gain.value=void 0===this.options.localVolume?1:this.options.localVolume}return(0,n.default)(e,[{key:"setStream",value:function(e){if(e&&!(e.getAudioTracks().length<=0)){this.stream=e;var t=document.createElement("video");t.srcObject=e,t.muted=!0,t.play()}}},{key:"setVolume",value:function(e){this.gainNode&&(this.gainNode.gain.value=e)}},{key:"play",value:function(){if(this.stream)if(this.audioSource)this.options.audioContext.resume();else try{this.audioSource=this.options.audioContext.createMediaStreamSource(this.stream),this.audioSource.connect(this.gainNode).connect(this.options.audioContext.destination),this.options.audioContext.resume(),this.options.logger.info(this.TAG,"play audio by audio stream track")}catch(t){var e;this.options.logger.warn(this.TAG,"play by audio context err => ".concat(t.toString())),null===(e=this.options.waterReport)||void 0===e||e.report(i.ReportCode.AudioPlayFailed)}}},{key:"pause",value:function(){var e;null===(e=this.audioSource)||void 0===e||e.disconnect(),this.audioSource=void 0}}]),e}();e.AudioStreamPlayer=s})?n.apply(t,o):n)||(e.exports=i)},47868:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(73439),r(77950),r(28673),r(74069),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(25047),r(52954),r(36908),r(37959),r(41808),r(33081),r(54690),r(32087)],n=function(e,t,n,o,i,s,u,c,l,f,d,h){"use strict";var p=r(14859);function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=p.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(b,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.isSupportH264Hard=e.VideoPlayerType=e.VideoPlayer=void 0,t=p(t),n=p(n),o=p(o),s=p(s);var y={Stream:"stream",Video:"video",Canvas:"canvas",SrVideo:"sr-video"};e.VideoPlayerType=y;var g=function(){var e=(0,s.default)(v().mark((function e(){var t,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.isNoChrome)()&&!(0,c.Lowerchrome)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,t=new window.RTCPeerConnection,e.next=6,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 6:return r=e.sent,e.abrupt("return",/H264\/90000/.test(r.sdp||""));case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();e.isSupportH264Hard=g;var m=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"options",void 0),(0,o.default)(this,"TAG","videoplayer"),(0,o.default)(this,"playerInstance",null),this.options=r,this.initPlayer(this.options.playerType)}return(0,n.default)(e,[{key:"appendSource",value:function(e){var t;null===(t=this.playerInstance)||void 0===t||t.appendSource(e)}},{key:"close",value:function(){var e;this.options.logger.info(this.TAG,"close video"),null===(e=this.playerInstance)||void 0===e||e.close()}},{key:"getVideoTag",value:function(){return this.playerInstance?this.playerInstance.getVideoTag():null}},{key:"setVideoIsFill",value:function(e){var t=this.getVideoTag();t&&(t.style.objectFit=e?"fill":"contain")}},{key:"setVolume",value:function(e){this.playerInstance&&this.playerInstance.setVolume&&this.playerInstance.setVolume(e)}},{key:"play",value:function(){var e;null===(e=this.playerInstance)||void 0===e||e.play()}},{key:"pause",value:function(){var e;null===(e=this.playerInstance)||void 0===e||e.pause()}},{key:"playAudio",value:function(){var e;null!==(e=this.playerInstance)&&void 0!==e&&e.playAudio&&this.playerInstance.playAudio()}},{key:"notifyReceiveIdr",value:function(e){var t;null!==(t=this.playerInstance)&&void 0!==t&&t.notifyReceiveIdr&&this.playerInstance.notifyReceiveIdr(e)}},{key:"getPlayerParams",value:function(){return this.playerInstance?this.playerInstance.getPlayerParams():{frameWidth:0,frameHight:0}}},{key:"initPlayer",value:function(){var t=(0,s.default)(v().mark((function t(r){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkSupportType(r);case 2:this.options.playerType=t.sent,this.options.logger.info(this.TAG,"video player type is ".concat(this.options.playerType)),t.t0=this.options.playerType,t.next=t.t0===e.PlayerType.Stream?7:t.t0===e.PlayerType.Video?9:t.t0===e.PlayerType.Canvas?11:t.t0===e.PlayerType.SrVideo?13:15;break;case 7:return this.playerInstance=new f.StreamPlayer({waterReport:this.options.waterReport,logger:this.options.logger,container:this.options.container,fullScreenWileFirstClick:this.options.fullScreenWileFirstClick,muteAudioFirst:this.options.muteAudioFirst,videoFps:this.options.videoFps,playBtn:this.options.playBtn,audioContext:this.options.audioContext,isContainerPlay:this.options.isContainerPlay,localVolume:this.options.localVolume,handlerStateChange:this.options.handlerStateChange,startDecodeFrame:this.options.startDecodeFrame,successDecode:this.options.onDecoded,afterRenderFrame:this.options.afterRenderFrame}),t.abrupt("break",16);case 9:return this.playerInstance=new l.MediaSourcePlayer({logger:this.options.logger,container:this.options.container,fullScreenWileFirstClick:this.options.fullScreenWileFirstClick,videoFps:this.options.videoFps,playBtn:this.options.playBtn,isContainerPlay:this.options.isContainerPlay,handlerStateChange:this.options.handlerStateChange,startDecodeFrame:this.options.startDecodeFrame,successDecode:this.options.onDecoded,afterRenderFrame:this.options.afterRenderFrame}),t.abrupt("break",16);case 11:return this.playerInstance=new d.SoftPlayer({logger:this.options.logger,container:this.options.container,decoderScript:this.options.decoderScript,wasmFile:this.options.wasmFile,handlerStateChange:this.options.handlerStateChange,startDecodeFrame:this.options.startDecodeFrame,successDecode:this.options.onDecoded,afterRenderFrame:this.options.afterRenderFrame,fullScreenWileFirstClick:this.options.fullScreenWileFirstClick,videoFps:this.options.videoFps,playBtn:this.options.playBtn,isContainerPlay:this.options.isContainerPlay}),t.abrupt("break",16);case 13:return this.playerInstance=new h.SrVideo({logger:this.options.logger,container:this.options.container,playBtn:this.options.playBtn,fullScreenWileFirstClick:this.options.fullScreenWileFirstClick,videoFps:this.options.videoFps,isContainerPlay:this.options.isContainerPlay,afterRenderFrame:this.options.afterRenderFrame,handlerStateChange:this.options.handlerStateChange,startDecodeFrame:this.options.startDecodeFrame,successDecode:this.options.onDecoded,config:{codec:"avc1.64081f"},targetWidth:this.options.srTargetWidth||1280,targetHieght:this.options.srTargetHeight||720,audioContext:this.options.audioContext,localVolume:this.options.localVolume}),t.abrupt("break",16);case 15:return t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,this)})));function r(e){return t.apply(this,arguments)}return r}()}],[{key:"isSupportWssVideo",value:function(){return!(!window.MediaSource||!MediaSource.isTypeSupported(l.MediaSourcePlayer.getMimeCodec())||navigator.userAgent.toLowerCase().match(/firefox/i)||navigator.userAgent.toLowerCase().match(/heytapbrowser/i)||navigator.userAgent.toLowerCase().match(/vivo y66l/)&&navigator.userAgent.toLowerCase().match(/chrome\/64/)||navigator.userAgent.toLowerCase().match(/android 10; mi 10/)&&navigator.userAgent.toLowerCase().match(/chrome\/71/))}},{key:"checkSupportType",value:function(){var t=(0,s.default)(v().mark((function t(r){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return",r);case 2:return t.next=4,e.isSupportH264Hard();case 4:if(!t.sent){t.next=7;break}return t.abrupt("return",e.PlayerType.Stream);case 7:if(!e.isSupportWssVideo()){t.next=9;break}return t.abrupt("return",e.PlayerType.Video);case 9:return t.abrupt("return",e.PlayerType.Canvas);case 10:case"end":return t.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},{key:"isSupportH264Hard",value:function(){var e=(0,s.default)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g());case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isSupportSrVideo",value:function(){return h.SrVideo.isSupport()}}]),e}();e.VideoPlayer=m,(0,o.default)(m,"PlayerType",y)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},41808:function(e,t,r){var n,o,i;r(15735),r(65388),r(72994),r(95094),r(58188),r(68995),r(61229),r(88233),r(28673),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(6886),r(14121),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(57749)],n=function(e,t,n,o,i,a,s,u,c){"use strict";var l=r(14859);function f(e){var t=d();return function(){var r,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.MediaSourcePlayer=void 0,t=l(t),n=l(n),o=l(o),i=l(i),a=l(a),s=l(s),u=l(u);var h=function(e){(0,i.default)(a,e);var r=f(a);function a(e){var n;return(0,t.default)(this,a),n=r.call(this,{logger:e.logger,container:e.container,fullScreenWileFirstClick:e.fullScreenWileFirstClick,afterRenderFrame:e.afterRenderFrame,videoFps:e.videoFps,playBtn:e.playBtn,isContainerPlay:e.isContainerPlay,handlerStateChange:e.handlerStateChange}),(0,u.default)((0,o.default)(n),"mediaOptions",void 0),(0,u.default)((0,o.default)(n),"mediaSource",null),(0,u.default)((0,o.default)(n),"videoSource",null),(0,u.default)((0,o.default)(n),"frameList",[]),(0,u.default)((0,o.default)(n),"_decodeDelay",0),(0,u.default)((0,o.default)(n),"_startDecodeTime",0),n.TAG="mediasourceplayer",n.mediaOptions=e,n.create(),n}return(0,n.default)(a,[{key:"appendSource",value:function(e){e instanceof ArrayBuffer&&this._appendWebrtcDataFrame(e)}},{key:"create",value:function(){this.createVideo(),this.addVideoEvent(),this._initMediaSource()}},{key:"close",value:function(){this.mediaOptions.logger.info(this.TAG,"close mediasource video"),this._closeWebrtcData()}},{key:"_checkIsIdr",value:function(e){return e[4]===parseInt("0x66",10)&&e[5]===parseInt("0x74",10)&&e[6]===parseInt("0x79",10)&&e[7]===parseInt("0x70",10)||e[124]===parseInt("0x65",10)}},{key:"_appendWebrtcDataFrame",value:function(e){this.frameList.push(new Uint8Array(e)),this._playWebrtcDataFrame()}},{key:"_initMediaSource",value:function(){var e=this;this.el?(this.mediaOptions.logger.info(this.TAG,"create mediasource"),this.mediaSource=new MediaSource,this.mediaSource.addEventListener("sourceopen",(function(){e.mediaSource&&(e.mediaOptions.logger.info(e.TAG,"mediasource open"),e.videoSource=e.mediaSource.addSourceBuffer(a.mimeCodec),e.videoSource.mode="sequence",e.videoSource.addEventListener("update",e._mediasourceDecoded.bind(e)),e.videoSource.onerror=function(t){e.mediaOptions.logger.error(e.TAG,"mediasource error => ".concat(JSON.stringify(t)))},e.statusChange("ready"),e.play())})),this.el.src=URL.createObjectURL(this.mediaSource)):this.mediaOptions.logger.info(this.TAG,"need create video before")}},{key:"_mediasourceDecoded",value:function(){this._startDecodeTime&&Date.now()-this._startDecodeTime&&(this._decodeDelay=Date.now()-this._startDecodeTime,this.mediaOptions.successDecode&&this.mediaOptions.successDecode(this._decodeDelay),this._startDecodeTime=0),this._playWebrtcDataFrame()}},{key:"_playWebrtcDataFrame",value:function(){if(this.videoSource&&!this.videoSource.updating){var e=this.frameList.shift();try{e&&(this._startDecodeTime||(this._startDecodeTime=Date.now()),this.mediaOptions.startDecodeFrame&&this.mediaOptions.startDecodeFrame({isIdr:this._checkIsIdr(e),bitSize:8*e.byteLength}),this.videoSource.appendBuffer(e))}catch(e){this.mediaOptions.logger.error(this.TAG,"append mediasource frame error => ".concat(e.toString()))}}}},{key:"_closeWebrtcData",value:function(){var e;null===(e=this.el)||void 0===e||e.pause(),this.removeVideoEvent(),this.mediaSource&&(this.videoSource&&(this.videoSource.removeEventListener("update",this._mediasourceDecoded.bind(this)),this.mediaSource.removeSourceBuffer(this.videoSource),this.videoSource=null),"open"===this.mediaSource.readyState&&this.mediaSource.endOfStream(),this.el&&URL.revokeObjectURL(this.el.src),this.mediaSource=null),this.removeVideo()}}],[{key:"getMimeCodec",value:function(){return a.mimeCodec}}]),a}(c.VideoBase);e.MediaSourcePlayer=h,(0,u.default)(h,"mimeCodec",'video/mp4; codecs="avc1.64081f"')},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},54690:function(e,t,r){var n,o,i;r(18178),r(15735),r(65388),r(72994),r(95094),r(58188),r(68995),r(88233),r(28673),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(6886),r(14121),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(38474)],void 0===(i="function"==typeof(n=function(e,t,n,o,i){"use strict";var a=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.SoftPlayer=void 0,t=a(t),n=a(n),o=a(o);var s=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"options",void 0),(0,o.default)(this,"TAG","softplayer"),(0,o.default)(this,"OssDecodeBlob","https://viu-sdk-cdn.yuntiancloud.com/h5/resources/Decoder.js"),(0,o.default)(this,"OssWasmUrl","https://viu-sdk-cdn.yuntiancloud.com/h5/resources/avc.wasm"),(0,o.default)(this,"decoderScript",void 0),(0,o.default)(this,"wasmFile",void 0),(0,o.default)(this,"player",null),(0,o.default)(this,"_decodeDelay",0),(0,o.default)(this,"state","pause"),this.options=r;var n=new Blob(['importScripts("'.concat(r.decoderScript||this.OssDecodeBlob,"?t=").concat(Date.now(),'")')],{type:"application/javascript"});this.decoderScript=window.URL.createObjectURL(n),this.wasmFile="".concat(r.wasmFile||this.OssWasmUrl,"?t=").concat(Date.now()),this.create()}return(0,n.default)(e,[{key:"appendSource",value:function(e){if(this.player&&e instanceof ArrayBuffer)try{var t=new Uint8Array(e);this.options.startDecodeFrame&&this.options.startDecodeFrame({isIdr:this._checkIdr(t),bitSize:8*t.byteLength}),this.player.decode(t,{}),"play"!==this.state&&this._statusChange("play")}catch(e){this.options.logger.error(this.TAG,"player decode frame error => ".concat(e.toString()))}}},{key:"close",value:function(){this.options.logger.info(this.TAG,"close soft video"),this._statusChange("pause"),this.options.container&&this.options.container.removeChild(this.player.canvas)}},{key:"create",value:function(){var e=this,t=!1;t="undefined"!=typeof Worker,this.player=new i.Player({webgl:!0,reuseMemory:!0,useWorker:this.decoderScript&&t,workerFile:this.decoderScript,wasmFile:this.wasmFile});var r=-1,n=-1;this.player.onPictureDecoded=function(t,o,i,a){a&&a[0]&&(e._decodeDelay=a[0].finishDecoding-a[0].startDecoding,e.options.successDecode&&e.options.successDecode(e._decodeDelay),n=Date.now(),e.options.afterRenderFrame&&e.options.afterRenderFrame(-1!==r?n-r:0),r=n)},this.player.canvas.style.width="100%",this.player.canvas.style.height="100%",this.player.canvas.style.position="absolute",this.player.canvas.style.left=0,this.player.canvas.style.right=0,this.player.canvas.style.bottom=0,this.player.canvas.style.top=0,this.player.canvas.style.margin="auto",this.player.canvas.style.objectFit="contain",this.player.canvas.style.backgroundColor="#000000",this.options.container.appendChild(this.player.canvas),this.player.canvas.onmousemove=this._preventVideoMove.bind(this),this._statusChange("ready")}},{key:"play",value:function(){this._statusChange("play")}},{key:"pause",value:function(){this._statusChange("pause")}},{key:"getPlayerParams",value:function(){return this.player&&this.player.canvas&&this.player.canvas.width?{frameWidth:this.player.canvas.width,frameHight:this.player.canvas.height}:{frameWidth:0,frameHight:0}}},{key:"getVideoTag",value:function(){return this.player?this.player.canvas:null}},{key:"_checkIdr",value:function(e){return e[38]===parseInt("0x65",10)}},{key:"_statusChange",value:function(e){this.state=e,this.options.handlerStateChange({state:e})}},{key:"_preventVideoMove",value:function(e){var t=e||window.event;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1}}]),e}();e.SoftPlayer=s})?n.apply(t,o):n)||(e.exports=i)},93843:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(38695),r(15735),r(32501),r(65388),r(72994),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260)],n=function(e,t,n,o,i,s){"use strict";var u=r(14859);function c(){c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.DecodeFrame=void 0,n=u(n),o=u(o),i=u(i),s=u(s);var l=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"decode",void 0),(0,s.default)(this,"decodeCallack",void 0),this.decodeCallack=t.decodeCallack,this.decode=new VideoDecoder({output:this.handlerFrame.bind(this),error:this.decodeErrorHandler.bind(this)}),this.decode.configure(t.config)}return(0,i.default)(e,[{key:"decodeFrame",value:function(){var e=(0,n.default)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new EncodedVideoChunk({timestamp:480684231,data:t instanceof ArrayBuffer?t:t.buffer,type:"key"}),this.decode.decode(r);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlerFrame",value:function(){var e=(0,n.default)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.decodeCallack(t)}catch(e){}t.close();case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"decodeErrorHandler",value:function(e){console.error(e.message,111)}}],[{key:"isSupport",value:function(){return"VideoDecoder"in window&&"VideoFrame"in window&&"EncodedVideoChunk"in window}}]),e}();e.DecodeFrame=l},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},61971:function(e,t,r){var n,o,i;r(15735),r(72994),r(95094),r(58188),r(81382),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(81586),r(21858)],void 0===(i="function"==typeof(n=function(e,t,n,o,i,a){"use strict";var s=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.SrImage=void 0,t=s(t),n=s(n),o=s(o),i=s(i),a=s(a);var u=function(){function e(r){if((0,t.default)(this,e),(0,o.default)(this,"tarCanvas",void 0),(0,o.default)(this,"tarCtxWebgl",void 0),(0,o.default)(this,"tarPrograme",null),(0,o.default)(this,"positionBuf",null),(0,o.default)(this,"positionAttributeLocation",void 0),(0,o.default)(this,"tarWidth",void 0),(0,o.default)(this,"tarHeight",void 0),(0,o.default)(this,"tarVertex",void 0),this.tarCanvas=r.targetCanvas,this.tarCtxWebgl=this.tarCanvas.getContext("webgl"),this.tarWidth=r.targetWidth||this.tarCanvas.width,this.tarHeight=r.targetHieght||this.tarCanvas.height,this.tarCtxWebgl){this.tarCtxWebgl.viewport(0,0,this.tarCanvas.width,this.tarCanvas.height);var n=this.setupShader(this.tarCtxWebgl.VERTEX_SHADER,i.default),s=this.setupShader(this.tarCtxWebgl.FRAGMENT_SHADER,a.default);n&&s&&(this.tarPrograme=this.createProgram(n,s),this.tarPrograme&&this.tarCtxWebgl.useProgram(this.tarPrograme))}this.initVertexArray()}return(0,n.default)(e,[{key:"initVertexArray",value:function(){if(!this.tarCtxWebgl)throw new Error("need create WebGLRenderingContext before");if(!this.tarPrograme)throw new Error("need create WebGLProgram before");for(var e=[],t=0;t<this.tarHeight;t++)for(var r=0;r<this.tarWidth;r++)e.push(r+this.tarWidth*t);this.tarVertex=new Float32Array(e),this.positionBuf=this.tarCtxWebgl.createBuffer(),this.tarCtxWebgl.bindBuffer(this.tarCtxWebgl.ARRAY_BUFFER,this.positionBuf),this.tarCtxWebgl.bufferData(this.tarCtxWebgl.ARRAY_BUFFER,this.tarVertex,this.tarCtxWebgl.STATIC_DRAW),this.positionAttributeLocation=this.tarCtxWebgl.getAttribLocation(this.tarPrograme,"a_position"),this.tarCtxWebgl.vertexAttribPointer(this.positionAttributeLocation,1,this.tarCtxWebgl.FLOAT,!1,0,0),this.tarCtxWebgl.enableVertexAttribArray(this.positionAttributeLocation),this.tarCtxWebgl.uniform1f(this.tarCtxWebgl.getUniformLocation(this.tarPrograme,"tarWidth"),this.tarWidth),this.tarCtxWebgl.uniform1f(this.tarCtxWebgl.getUniformLocation(this.tarPrograme,"tarHeight"),this.tarHeight)}},{key:"scaleImage",value:function(e,t,r){if(this.tarCtxWebgl&&this.tarVertex&&this.tarPrograme){this.tarCtxWebgl.clearColor(0,0,0,0),this.tarCtxWebgl.clear(this.tarCtxWebgl.COLOR_BUFFER_BIT),this.tarCtxWebgl.uniform1f(this.tarCtxWebgl.getUniformLocation(this.tarPrograme,"oriWidth"),t),this.tarCtxWebgl.uniform1f(this.tarCtxWebgl.getUniformLocation(this.tarPrograme,"oriHeight"),r);var n=this.tarCtxWebgl.createTexture();this.tarCtxWebgl.pixelStorei(this.tarCtxWebgl.UNPACK_FLIP_Y_WEBGL,!0),this.tarCtxWebgl.bindTexture(this.tarCtxWebgl.TEXTURE_2D,n),this.tarCtxWebgl.texImage2D(this.tarCtxWebgl.TEXTURE_2D,0,this.tarCtxWebgl.RGBA,this.tarCtxWebgl.RGBA,this.tarCtxWebgl.UNSIGNED_BYTE,e),this.tarCtxWebgl.texParameteri(this.tarCtxWebgl.TEXTURE_2D,this.tarCtxWebgl.TEXTURE_MAG_FILTER,this.tarCtxWebgl.LINEAR),this.tarCtxWebgl.texParameteri(this.tarCtxWebgl.TEXTURE_2D,this.tarCtxWebgl.TEXTURE_MIN_FILTER,this.tarCtxWebgl.LINEAR),this.tarCtxWebgl.texParameteri(this.tarCtxWebgl.TEXTURE_2D,this.tarCtxWebgl.TEXTURE_WRAP_S,this.tarCtxWebgl.CLAMP_TO_EDGE),this.tarCtxWebgl.texParameteri(this.tarCtxWebgl.TEXTURE_2D,this.tarCtxWebgl.TEXTURE_WRAP_T,this.tarCtxWebgl.CLAMP_TO_EDGE),this.tarCtxWebgl.generateMipmap(this.tarCtxWebgl.TEXTURE_2D),this.tarCtxWebgl.bindTexture(this.tarCtxWebgl.TEXTURE_2D,null),this.tarCtxWebgl.activeTexture(this.tarCtxWebgl.TEXTURE0),this.tarCtxWebgl.bindTexture(this.tarCtxWebgl.TEXTURE_2D,n),this.tarCtxWebgl.uniform1i(this.tarCtxWebgl.getUniformLocation(this.tarPrograme,"uSampler"),0),this.tarCtxWebgl.drawArrays(this.tarCtxWebgl.POINTS,0,this.tarVertex.length)}}},{key:"createProgram",value:function(e,t){if(this.tarCtxWebgl){var r=this.tarCtxWebgl.createProgram(),n="is not support WebGLProgram";if(r){if(this.tarCtxWebgl.attachShader(r,e),this.tarCtxWebgl.attachShader(r,t),this.tarCtxWebgl.linkProgram(r),this.tarCtxWebgl.getProgramParameter(r,this.tarCtxWebgl.LINK_STATUS))return r;n=this.tarCtxWebgl.getProgramInfoLog(r)||"linkProgram failed"}throw this.tarCtxWebgl.deleteProgram(r),new Error(n)}return null}},{key:"setupShader",value:function(e,t){if(this.tarCtxWebgl){var r=this.tarCtxWebgl.createShader(e),n="is not support shader";if(r){if(this.tarCtxWebgl.shaderSource(r,t),this.tarCtxWebgl.compileShader(r),this.tarCtxWebgl.getShaderParameter(r,this.tarCtxWebgl.COMPILE_STATUS))return r;n=this.tarCtxWebgl.getShaderInfoLog(r)||"compileShader failed"}throw this.tarCtxWebgl.deleteShader(r),new Error(n)}return null}}],[{key:"isSupport",value:function(){try{var t=document.createElement("canvas");return!!t.getContext("webgl")&&(new e({targetCanvas:t}),!0)}catch(e){return!1}}}]),e}();e.SrImage=u})?n.apply(t,o):n)||(e.exports=i)},91975:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(38695),r(15735),r(32501),r(65388),r(72994),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(93843),r(61971),r(69679)],n=function(e,t,n,o,i,s,u,c,l){"use strict";var f=r(14859);function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.SrVideo=void 0,n=f(n),o=f(o),i=f(i),s=f(s);var h=function(){function e(t){var r=this;(0,o.default)(this,e),(0,s.default)(this,"trackProcessor",null),(0,s.default)(this,"trackGenerator",null),(0,s.default)(this,"transformer",null),(0,s.default)(this,"decoder",void 0),(0,s.default)(this,"srImage",void 0),(0,s.default)(this,"playCanvas",void 0),(0,s.default)(this,"TAG","SrVideo"),(0,s.default)(this,"state","pause"),(0,s.default)(this,"oriWidth",0),(0,s.default)(this,"oriHeight",0),(0,s.default)(this,"options",void 0),(0,s.default)(this,"_waitNotifyIdrNum",0),(0,s.default)(this,"auidoStreamPlayer",null),(0,s.default)(this,"isReadyToPlayAudio",!1),(0,s.default)(this,"lastRenderTime",0),(0,s.default)(this,"nowRenderTime",0),this.options=t,this.options.logger.info(this.TAG,JSON.stringify(t)),this.playCanvas=document.createElement("canvas"),this.playCanvas.width=t.targetWidth,this.playCanvas.height=t.targetHieght,this.playCanvas.style.width="100%",this.playCanvas.style.height="100%",this.playCanvas.style.position="absolute",this.playCanvas.style.objectFit="contain",this.playCanvas.style.left="0",this.playCanvas.style.right="0",this.playCanvas.style.bottom="0",this.playCanvas.style.top="0",this.playCanvas.style.margin="auto",this.playCanvas.style.background="#000",t.container.appendChild(this.playCanvas),this.srImage=new c.SrImage({targetCanvas:this.playCanvas,targetWidth:t.targetWidth,targetHieght:t.targetHieght}),this.decoder=new u.DecodeFrame({config:t.config,decodeCallack:function(e){r.renderFrame(e)}}),this.options.audioContext&&(this.auidoStreamPlayer=new l.AudioStreamPlayer({waterReport:this.options.waterReport,audioContext:this.options.audioContext,logger:this.options.logger}))}return(0,i.default)(e,[{key:"getVideoTag",value:function(){return this.playCanvas}},{key:"play",value:function(){this.setStatus("play")}},{key:"pause",value:function(){this.setStatus("pause")}},{key:"playAudio",value:function(){this.auidoStreamPlayer&&this.isReadyToPlayAudio&&this.auidoStreamPlayer.play()}},{key:"setVolume",value:function(e){this.auidoStreamPlayer&&this.auidoStreamPlayer.setVolume(e)}},{key:"getPlayerParams",value:function(){return{frameWidth:this.oriWidth,frameHight:this.oriHeight}}},{key:"setStatus",value:function(e){this.state=e,this.options.handlerStateChange&&this.options.handlerStateChange({state:e}),"play"===this.state&&(this.options.onVideoPlay&&this.options.onVideoPlay(),this.isReadyToPlayAudio=!0,this.playAudio()),"pause"===this.state&&(this.options.onVideoPause&&this.options.onVideoPause(),this.auidoStreamPlayer&&this.auidoStreamPlayer.pause())}},{key:"close",value:function(){this.closeStream();try{this.options.container.removeChild(this.playCanvas)}catch(e){}}},{key:"appendSource",value:function(e){e instanceof MediaStream?(this.closeStream(),this.playMediaStream(e),this.auidoStreamPlayer&&e.getAudioTracks().length>0&&this.auidoStreamPlayer.setStream(e)):e instanceof ArrayBuffer&&this.decoder.decodeFrame(e)}},{key:"notifyReceiveIdr",value:function(e){this._waitNotifyIdrNum=e}},{key:"playMediaStream",value:function(e){var t=e.getVideoTracks()[0];this.trackProcessor=new MediaStreamTrackProcessor({track:t}),this.trackGenerator=new MediaStreamTrackGenerator({kind:"video"});var r=this;this.transformer=new TransformStream({transform:function(e,t){return(0,n.default)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.oriWidth=e.codedWidth,r.oriHeight=e.codedHeight,r.options.startDecodeFrame&&r.options.startDecodeFrame({isIdr:r._waitNotifyIdrNum>0,bitSize:0}),r._waitNotifyIdrNum>0&&r._waitNotifyIdrNum--,r.options.successDecode&&r.options.successDecode(0),r.renderFrame(e),t.enqueue(e);case 7:case"end":return n.stop()}}),n)})))()}}),this.trackProcessor.readable.pipeThrough(this.transformer).pipeTo(this.trackGenerator.writable)}},{key:"closeStream",value:function(){var e,t;null===(e=this.trackProcessor)||void 0===e||e.readable.cancel(),null===(t=this.trackGenerator)||void 0===t||t.stop(),this.trackGenerator=null,this.transformer=null,this.trackProcessor=null}},{key:"renderFrame",value:function(e){"play"===this.state&&(this.srImage.scaleImage(e,e.codedWidth,e.codedHeight),this.options.afterRenderFrame&&(this.nowRenderTime=Date.now(),this.options.afterRenderFrame(this.lastRenderTime?this.nowRenderTime-this.lastRenderTime:0),this.lastRenderTime=this.nowRenderTime))}}],[{key:"isSupport",value:function(){return"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window&&"TransformStream"in window&&"VideoFrame"in window&&!!u.DecodeFrame.isSupport()&&!!c.SrImage.isSupport()}}]),e}();e.SrVideo=h},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},32087:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(61971),r(93843),r(91975)],void 0===(i="function"==typeof(n=function(e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DecodeFrame",{enumerable:!0,get:function(){return r.DecodeFrame}}),Object.defineProperty(e,"SrImage",{enumerable:!0,get:function(){return t.SrImage}}),Object.defineProperty(e,"SrVideo",{enumerable:!0,get:function(){return n.SrVideo}})})?n.apply(t,o):n)||(e.exports=i)},33081:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(38695),r(27233),r(15735),r(32501),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(73439),r(61229),r(88233),r(28673),r(1939),r(6886),r(14121);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(38111),r(60270),r(36983),r(2588),r(81260),r(57749),r(86e3)],n=function(e,t,n,o,i,s,u,c,l,f,d,h){"use strict";var p=r(14859);function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=p.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=p,u(b,"constructor",p),u(p,"constructor",h),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function g(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=w();return function(){var r,n=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.StreamPlayer=void 0,n=p(n),o=p(o),i=p(i),s=p(s),u=p(u),c=p(c),l=p(l),f=p(f);var T=function(e){(0,u.default)(r,e);var t=b(r);function r(e){var n;return(0,o.default)(this,r),n=t.call(this,{logger:e.logger,container:e.container,fullScreenWileFirstClick:e.fullScreenWileFirstClick,afterRenderFrame:function(e){n._handlerParentAfterRenderFrameEvent(e)},videoFps:e.videoFps,playBtn:e.playBtn,isContainerPlay:e.isContainerPlay,handlerStateChange:e.handlerStateChange,onVideoPlay:function(){n._handlerStreamVideoPlay()},onVideoPause:function(){n._handlerStreamVidoePause()}}),(0,f.default)((0,s.default)(n),"streamOptions",void 0),(0,f.default)((0,s.default)(n),"readyToPlayAudio",!1),(0,f.default)((0,s.default)(n),"muteAudio",void 0),(0,f.default)((0,s.default)(n),"_waitNotifyIdrNum",0),(0,f.default)((0,s.default)(n),"audioSource",void 0),(0,f.default)((0,s.default)(n),"gainNode",null),n.TAG="streamplayer",n.streamOptions=e,n.streamOptions.audioContext&&(n.gainNode=n.streamOptions.audioContext.createGain(),n.gainNode.gain.value=void 0===n.streamOptions.localVolume?1:n.streamOptions.localVolume),n.muteAudio=!!e.muteAudioFirst,n.create(),n}return(0,i.default)(r,[{key:"setVolume",value:function(e){this.gainNode&&(this.gainNode.gain.value=e)}},{key:"appendSource",value:function(e){e instanceof MediaStream&&this._addStream(e)}},{key:"close",value:function(){var e;this.streamOptions.logger.info(this.TAG,"close strean player"),null===(e=this.el)||void 0===e||e.pause(),this.removeVideoEvent(),this.removeVideo()}},{key:"create",value:function(){this.streamOptions.logger.info(this.TAG,"create stream player"),this.createVideo(),this.addVideoEvent(),this.statusChange("ready")}},{key:"playAudio",value:function(){this.muteAudio=!1,this._playAuido()}},{key:"notifyReceiveIdr",value:function(e){this._waitNotifyIdrNum=e}},{key:"_handlerParentAfterRenderFrameEvent",value:function(e){this.streamOptions.startDecodeFrame&&this.streamOptions.startDecodeFrame({isIdr:this._waitNotifyIdrNum>0,bitSize:0}),this._waitNotifyIdrNum>0&&this._waitNotifyIdrNum--,this.streamOptions.successDecode&&this.streamOptions.successDecode(0),this.streamOptions.afterRenderFrame&&this.streamOptions.afterRenderFrame(e)}},{key:"_handlerStreamVideoPlay",value:function(){this.readyToPlayAudio=!0,this._playAuido()}},{key:"_playAuido",value:function(){var e,t;if(null!==(e=this.el)&&void 0!==e&&e.srcObject){var r,n,o=!1,i=y(this.el.srcObject.getTracks());try{for(i.s();!(r=i.n()).done;)"audio"===r.value.kind&&(o=!0)}catch(e){i.e(e)}finally{i.f()}if(!o)return null===(n=this.streamOptions.waterReport)||void 0===n||n.report(h.ReportCode.AudioPlayFailed),void this.streamOptions.logger.warn(this.TAG,"play by stream audio  err => stream has no audioTrack")}if(this.streamOptions.audioContext&&null!==(t=this.el)&&void 0!==t&&t.srcObject&&this.readyToPlayAudio&&!this.muteAudio)if(this.audioSource)try{this.streamOptions.audioContext.resume(),this.streamOptions.logger.info(this.TAG,"resume audio context success")}catch(e){var a;this.streamOptions.logger.warn(this.TAG,"resume audio context faied"),null===(a=this.streamOptions.waterReport)||void 0===a||a.report(h.ReportCode.AudioPlayFailed)}else{this.streamOptions.logger.warn(this.TAG,"play by audio context");try{this.audioSource=this.streamOptions.audioContext.createMediaStreamSource(this.el.srcObject),this.audioSource.connect(this.gainNode).connect(this.streamOptions.audioContext.destination),this.streamOptions.audioContext.resume()}catch(e){var s;this.streamOptions.logger.warn(this.TAG,"play by audio context err => ".concat(e.toString())),null===(s=this.streamOptions.waterReport)||void 0===s||s.report(h.ReportCode.AudioPlayFailed)}}}},{key:"_handlerStreamVidoePause",value:function(){var e;null===(e=this.audioSource)||void 0===e||e.disconnect(),this.audioSource=null}},{key:"_addStream",value:function(){var e=(0,n.default)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.el){e.next=13;break}this.streamOptions.logger.info(this.TAG,"add stream"),e.prev=2,this.el.srcObject=t,e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(2),e.next=10,window.URL.createObjectURL(t);case 10:this.el.src=e.sent,this.streamOptions.logger.info(this.TAG,"srcObject error => ".concat(e.t0.toString()));case 12:this.play();case 13:case"end":return e.stop()}}),e,this,[[2,6]])})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(d.VideoBase);e.StreamPlayer=T},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},57749:function(e,t,r){var n,o,i;r(74083),r(95094),r(58188),r(68995),r(88233),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260),r(37959)],void 0===(i="function"==typeof(n=function(e,t,n,o,i){"use strict";var a=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),e.VideoBase=void 0,t=a(t),n=a(n),o=a(o);var s=function(){function e(r){(0,t.default)(this,e),(0,o.default)(this,"baseOptions",void 0),(0,o.default)(this,"TAG","videobaseplayer"),(0,o.default)(this,"el",null),(0,o.default)(this,"state","pause"),(0,o.default)(this,"isFirstClick",void 0),(0,o.default)(this,"canPlay",!1),(0,o.default)(this,"renderFpsAniTimer",null),this.baseOptions=r,this.isFirstClick=this.baseOptions.fullScreenWileFirstClick}return(0,n.default)(e,[{key:"removeVideoEvent",value:function(){this.el&&(this.el.removeEventListener("play",this._handlerVideoPlay.bind(this)),this.el.removeEventListener("pause",this._handlerVideoPause.bind(this)),this.el.removeEventListener("error",this._handlerVideoError.bind(this)),this.el.removeEventListener("touchmove",this._preventVideoMove.bind(this)),this.el.removeEventListener("canplay",this._handlerVideoCanplay.bind(this)))}},{key:"removeVideo",value:function(){this.baseOptions.container&&this.el&&this.baseOptions.container.removeChild(this.el),this.renderFpsAniTimer&&cancelAnimationFrame(this.renderFpsAniTimer)}},{key:"createVideo",value:function(){var e=this;this.el=document.createElement("video"),this.el.setAttribute("crossOrigin","*"),this.el.setAttribute("autoplay","autoplay"),this.el.muted=!0,this.el.setAttribute("webkit-playsinline","true"),this.el.setAttribute("x5-playsinline","true"),this.el.setAttribute("playsinline","true"),this.el.setAttribute("x-webkit-airplay","allow"),this.el.setAttribute("x5-video-player-type","h5"),this.el.setAttribute("x5-video-player-fullscreen","true"),this.el.setAttribute("x5-video-orientation","landscape"),this.el.setAttribute("disablePictureInPicture","true"),this.el.style.width="100%",this.el.style.height="100%",this.el.style.position="absolute",this.el.style.left="0",this.el.style.right="0",this.el.style.bottom="0",this.el.style.top="0",this.baseOptions.isContainerPlay?this.el.setAttribute("tabindex","0"):this.el.style.zIndex="-1",this.el.style.margin="auto",this.el.style.objectFit="contain",this.el.style.background="#000",this.el.addEventListener("click",(function(){e._clickVideo()})),this.baseOptions.container.appendChild(this.el),this._listenVideoFrameUpdate(),this.hideControls()}},{key:"hideControls",value:function(){var e;null!==(e=this.el)&&void 0!==e&&e.hasAttribute("controls")&&(this.el.controls=!1,this.el.removeAttribute("controls"))}},{key:"addVideoEvent",value:function(){var e,t,r,n,o;null===(e=this.el)||void 0===e||e.addEventListener("play",this._handlerVideoPlay.bind(this)),null===(t=this.el)||void 0===t||t.addEventListener("pause",this._handlerVideoPause.bind(this)),null===(r=this.el)||void 0===r||r.addEventListener("error",this._handlerVideoError.bind(this)),null===(n=this.el)||void 0===n||n.addEventListener("touchmove",this._preventVideoMove.bind(this),{passive:!1}),null===(o=this.el)||void 0===o||o.addEventListener("canplay",this._handlerVideoCanplay.bind(this))}},{key:"playAudio",value:function(){}},{key:"statusChange",value:function(e){this.state=e,this.baseOptions.handlerStateChange({state:e})}},{key:"getVideoState",value:function(){return this.state}},{key:"play",value:function(e){var t=this;setTimeout((function(){t._videoPlay(e)}),100)}},{key:"pause",value:function(){var e;null===(e=this.el)||void 0===e||e.pause()}},{key:"getVideoTag",value:function(){return this.el}},{key:"getPlayerParams",value:function(){return this.el&&this.el.videoWidth?{frameWidth:this.el.videoWidth,frameHight:this.el.videoHeight}:{frameWidth:0,frameHight:0}}},{key:"_clickVideo",value:function(){var e;null===(e=this.el)||void 0===e||e.play(),this.isFirstClick&&((0,i.doFullscreen)(),this.isFirstClick=!1)}},{key:"_listenVideoFrameUpdate",value:function(){var e=this,t=-1,r=-1;this.canPlay=!0,function n(o){e.el&&((r=o||1e3*e.el.currentTime)!==t&&(e.baseOptions.afterRenderFrame&&-1!==t&&e.baseOptions.afterRenderFrame(parseInt((r-t).toString(),10)),t=r),"requestVideoFrameCallback"in HTMLVideoElement.prototype?e.el.requestVideoFrameCallback(n):e.renderFpsAniTimer=requestAnimationFrame(n))}()}},{key:"_handlerVideoCanplay",value:function(){var e;this.play("canplay"),null===(e=this.el)||void 0===e||e.removeEventListener("canplay",this._handlerVideoCanplay.bind(this))}},{key:"_handlerVideoPlay",value:function(){var e=this;this.baseOptions.logger.info(this.TAG,"video play"),setTimeout((function(){e.baseOptions.playBtn&&(e.baseOptions.playBtn.style.display="none")}),0),this.statusChange("play"),this.baseOptions.onVideoPlay&&this.baseOptions.onVideoPlay()}},{key:"_handlerVideoPause",value:function(){this.baseOptions.logger.info(this.TAG,"video pause"),this.statusChange("pause"),this.baseOptions.onVideoPause&&this.baseOptions.onVideoPause()}},{key:"_handlerVideoError",value:function(e){this.baseOptions.logger.error(this.TAG,"video error => ".concat(e.toString())),this.statusChange("error")}},{key:"_preventVideoMove",value:function(e){var t=e||window.event;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1}},{key:"_videoPlay",value:function(e){var t=this;(0,i.isWeixin)()?window.WeixinJSBridge?window.WeixinJSBridge.invoke("getNetworkType",{},(function(){t._doVideoPlay(e)}),!1):window.parent&&window.parent.WeixinJSBridge?window.parent.WeixinJSBridge.invoke("getNetworkType",{},(function(){t._doVideoPlay(e)}),!1):document.addEventListener("WeixinJSBridgeReady",(function(){window.WeixinJSBridge.invoke("getNetworkType",{},(function(){t._doVideoPlay(e)}))}),!1):setTimeout((function(){t._doVideoPlay(e)}),1)}},{key:"_doVideoPlay",value:function(e){var t,r=this,n=null===(t=this.el)||void 0===t?void 0:t.play();this.playAudio(),n&&(n.catch((function(t){var n=t.toString();("canplay"===e||r.canPlay)&&(n.indexOf("NotAllowedError")>=0||n.indexOf("request was interrupted")>=0)&&(r.statusChange("autoplay-error"),r.baseOptions.playBtn&&(r.baseOptions.playBtn.onclick=function(){r.baseOptions.playBtn.style.display="none",r._clickVideo()},setTimeout((function(){r.baseOptions.playBtn.style.display="block"}),1)))})),setTimeout((function(){var e,t,n,o=r.getVideoState();4==(null===(e=r.el)||void 0===e?void 0:e.readyState)&&1==(null===(t=r.el)||void 0===t?void 0:t.networkState)&&"pause"==o&&(null===(n=r.el)||void 0===n||n.load())}),100))}}]),e}();e.VideoBase=s})?n.apply(t,o):n)||(e.exports=i)},91781:function(module,exports,__webpack_require__){var __dirname="/",__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;__webpack_require__(18178),__webpack_require__(28986),__webpack_require__(38695),__webpack_require__(74083),__webpack_require__(15735),__webpack_require__(16781),__webpack_require__(43450),__webpack_require__(32501),__webpack_require__(99805),__webpack_require__(65388),__webpack_require__(72994),__webpack_require__(26936),__webpack_require__(88276),__webpack_require__(1100),__webpack_require__(36348),__webpack_require__(31969),__webpack_require__(71245),__webpack_require__(95094),__webpack_require__(58188),__webpack_require__(68995),__webpack_require__(73439),__webpack_require__(77950),__webpack_require__(88233),__webpack_require__(74069),__webpack_require__(85940),__webpack_require__(44112),__webpack_require__(81382),__webpack_require__(91982),__webpack_require__(73229),__webpack_require__(24074),__webpack_require__(64696),__webpack_require__(13675),__webpack_require__(13161),__webpack_require__(90723),__webpack_require__(5825),__webpack_require__(67170),__webpack_require__(38857),__webpack_require__(58329),__webpack_require__(76279),__webpack_require__(427),__webpack_require__(11159),__webpack_require__(42516),__webpack_require__(64349),__webpack_require__(15273),__webpack_require__(16729),__webpack_require__(41801),__webpack_require__(50574),__webpack_require__(5787),__webpack_require__(39271),__webpack_require__(73160),__webpack_require__(65688),__webpack_require__(93157),__webpack_require__(33333),__webpack_require__(70315),__webpack_require__(28314),__webpack_require__(50556),__webpack_require__(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,factory=function(_exports,_typeof2){"use strict";var _interopRequireDefault=__webpack_require__(14859),global;function initglobal(){(global=this)||("undefined"!=typeof window?global=window:"undefined"!=typeof self&&(global=self))}function error(e){console.error(e),console.trace()}function assert(e,t){e||error(t)}if(Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.Decoder=Decoder,_typeof2=_interopRequireDefault(_typeof2),initglobal(),"object"===(0,_typeof2.default)(window.WebAssembly)&&"function"==typeof window.WebAssembly.Memory&&"function"==typeof window.WebAssembly.Table){console.log("使用wasm模式解码+++++++++++++++");var getModule=function(e,t,r){var n,o=void 0!==o?o:{},i={};for(n in o)o.hasOwnProperty(n)&&(i[n]=o[n]);o.arguments=[],o.thisProgram="./this.program",o.quit=function(e,t){throw t},o.preRun=[],o.postRun=[];var a,s,u=!1,c=!1,l=!1,f=!1;if(o.ENVIRONMENT)if("WEB"===o.ENVIRONMENT)u=!0;else if("WORKER"===o.ENVIRONMENT)c=!0;else if("NODE"===o.ENVIRONMENT)l=!0;else{if("SHELL"!==o.ENVIRONMENT)throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");f=!0}else u="object"===("undefined"==typeof window?"undefined":(0,_typeof2.default)(window)),c="function"==typeof importScripts,l="object"===("undefined"==typeof process?"undefined":(0,_typeof2.default)(process))&&!1,f=!u&&!l&&!c;if(l)o.read=function(e,t){var r;return a||(a=null("fs")),s||(s=null("path")),e=s.normalize(e),r=a.readFileSync(e),t?r:r.toString()},o.readBinary=function(e){var t=o.read(e,!0);return t.buffer||(t=new Uint8Array(t)),m(t.buffer),t},process.argv.length>1&&(o.thisProgram=process.argv[1].replace(/\\/g,"/")),o.arguments=process.argv.slice(2),module.exports=o,process.on("uncaughtException",(function(e){if(!(e instanceof Ce))throw e})),process.on("unhandledRejection",(function(e,t){process.exit(1)})),o.inspect=function(){return"[Emscripten Module object]"};else if(f)"undefined"!=typeof read&&(o.read=function(e){return read(e)}),o.readBinary=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(t=read(e,"binary"),m("object"===(0,_typeof2.default)(t)),t)},"undefined"!=typeof scriptArgs?o.arguments=scriptArgs:void 0!==arguments&&(o.arguments=arguments),"function"==typeof quit&&(o.quit=function(e,t){quit(e)});else{if(!u&&!c)throw new Error("not compiled for this environment");o.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c&&(o.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),o.readAsync=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},o.setWindowTitle=function(e){document.title=e}}for(n in o.print="undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null,o.printErr="undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||o.print,o.print=o.print,o.printErr=o.printErr,i)i.hasOwnProperty(n)&&(o[n]=i[n]);i=void 0;var d=16;function h(e){m(!O);var t=R;return R=R+e+15&-16,t}function p(e,t){return t||(t=d),e=Math.ceil(e/t)*t}var v={"f64-rem":function(e,t){return e%t},debugger:function(){}},y=(new Array(0),1024),g=0;function m(e,t){e||Re("Assertion failed: ".concat(t))}function b(e,t){if(0===t||!e)return"";for(var r,n=0,o=0;n|=r=E[e+o>>0],(0!=r||t)&&(o++,!t||o!=t););t||(t=o);var i="";if(n<128){for(var a,s=1024;t>0;)a=String.fromCharCode.apply(String,E.subarray(e,e+Math.min(t,s))),i=i?i+a:a,e+=s,t-=s;return i}return _(e)}var w="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function T(e,t){for(var r,n,o,i,a,s=t;e[s];)++s;if(s-t>16&&e.subarray&&w)return w.decode(e.subarray(t,s));for(var u="";;){if(!(r=e[t++]))return u;if(128&r)if(n=63&e[t++],192!=(224&r))if(o=63&e[t++],224==(240&r)?r=(15&r)<<12|n<<6|o:(i=63&e[t++],240==(248&r)?r=(7&r)<<18|n<<12|o<<6|i:(a=63&e[t++],r=248==(252&r)?(3&r)<<24|n<<18|o<<12|i<<6|a:(1&r)<<30|n<<24|o<<18|i<<12|a<<6|63&e[t++])),r<65536)u+=String.fromCharCode(r);else{var c=r-65536;u+=String.fromCharCode(55296|c>>10,56320|1023&c)}else u+=String.fromCharCode((31&r)<<6|n);else u+=String.fromCharCode(r)}}function _(e){return T(E,e)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var k,E,C,S,A,R,O,M,I,P,x,L=65536,D=16777216;function N(e,t){return e%t>0&&(e+=t-e%t),e}function G(e){o.buffer=k=e}function F(){o.HEAP8=new Int8Array(k),o.HEAP16=C=new Int16Array(k),o.HEAP32=S=new Int32Array(k),o.HEAPU8=E=new Uint8Array(k),o.HEAPU16=new Uint16Array(k),o.HEAPU32=new Uint32Array(k),o.HEAPF32=new Float32Array(k),o.HEAPF64=new Float64Array(k)}function B(){Re("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value ".concat(V,", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 "))}function j(){B()}A=R=M=I=P=x=0,O=!1;var U=o.TOTAL_STACK||5242880,V=o.TOTAL_MEMORY||52428800;function H(){return V}if(V<U&&o.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was ".concat(V,"! (TOTAL_STACK=").concat(U,")")),o.buffer?k=o.buffer:("object"===("undefined"==typeof WebAssembly?"undefined":(0,_typeof2.default)(WebAssembly))&&"function"==typeof WebAssembly.Memory?(o.wasmMemory=new WebAssembly.Memory({initial:V/L,maximum:V/L}),k=o.wasmMemory.buffer):k=new ArrayBuffer(V),o.buffer=k),F(),S[0]=1668509029,C[1]=25459,115!==E[2]||99!==E[3])throw"Runtime error: expected the system to be little-endian!";function K(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?o.dynCall_v(r):o.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}var W=[],Y=[],q=[],z=[],J=[],X=!1;function Q(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)re(o.preRun.shift());K(W)}function Z(){X||(X=!0,K(Y))}function $(){K(q)}function ee(){K(z)}function te(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)ne(o.postRun.shift());K(J)}function re(e){W.unshift(e)}function ne(e){J.unshift(e)}Math.abs,Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt,Math.ceil,Math.floor,Math.pow,Math.imul,Math.fround,Math.round,Math.min,Math.max,Math.clz32,Math.trunc;var oe=0,ie=null,ae=null;function se(e){oe++,o.monitorRunDependencies&&o.monitorRunDependencies(oe)}function ue(e){if(oe--,o.monitorRunDependencies&&o.monitorRunDependencies(oe),0==oe&&(null!==ie&&(clearInterval(ie),ie=null),ae)){var t=ae;ae=null,t()}}o.preloadedImages={},o.preloadedAudios={};var ce="data:application/octet-stream;base64,";function le(e){return String.prototype.startsWith?e.startsWith(ce):0===e.indexOf(ce)}function fe(){var e="avc.wast",t=r||"/static/wasm/avc.wasm",n="avc.temp.asm.js";"function"==typeof o.locateFile&&(le(e)||(e=o.locateFile(e)),le(t)||(t=o.locateFile(t)),le(n)||(n=o.locateFile(n)));var i={global:null,env:null,asm2wasm:v,parent:o},a=null;function s(){try{if(o.wasmBinary)return new Uint8Array(o.wasmBinary);if(o.readBinary)return o.readBinary(t);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(e){Re(e)}}function l(e,r,n){if("object"!==("undefined"==typeof WebAssembly?"undefined":(0,_typeof2.default)(WebAssembly)))return o.printErr("no native wasm support detected"),!1;if(!(o.wasmMemory instanceof WebAssembly.Memory))return o.printErr("no native wasm Memory in use"),!1;function l(e,t){(a=e.exports).memory&&function(e){var t=o.buffer;e.byteLength<t.byteLength&&o.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var r=new Int8Array(t);new Int8Array(e).set(r),G(e),F()}(a.memory),o.asm=a,o.usingWasm=!0,ue()}if(r.memory=o.wasmMemory,i.global={NaN:NaN,Infinity:1/0},i["global.Math"]=Math,i.env=r,se(),o.instantiateWasm)try{return o.instantiateWasm(i,l)}catch(e){return o.printErr("Module.instantiateWasm callback failed with error: ".concat(e)),!1}function f(e){l(e.instance,e.module)}function d(e){(o.wasmBinary||!u&&!c||"function"!=typeof fetch?new Promise((function(e,t){e(s())})):fetch(t,{credentials:"same-origin",mode:"cors"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '".concat(t,"'");return e.arrayBuffer()})).catch((function(){return s()}))).then((function(e){return WebAssembly.instantiate(e,i)})).then(e).catch((function(e){o.printErr("failed to asynchronously prepare wasm: ".concat(e)),Re(e)}))}return o.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||le(t)||"function"!=typeof fetch?d(f):WebAssembly.instantiateStreaming(fetch(t,{credentials:"same-origin",mode:"no-cors"}),i).then(f).catch((function(e){o.printErr("wasm streaming compile failed: ".concat(e)),o.printErr("falling back to ArrayBuffer instantiation"),d(f)})),{}}o.asmPreload=o.asm;var f=o.reallocBuffer;o.reallocBuffer=function(e){return"asmjs"===d?f(e):function(e){e=N(e,o.usingWasm?L:D);var t=o.buffer.byteLength;if(o.usingWasm)try{return-1!==o.wasmMemory.grow((e-t)/65536)?o.buffer=o.wasmMemory.buffer:null}catch(e){return null}}(e)};var d="";o.asm=function(e,t,r){if(!t.table){var n=o.wasmTableSize;void 0===n&&(n=1024);var i=o.wasmMaxTableSize;"object"===("undefined"==typeof WebAssembly?"undefined":(0,_typeof2.default)(WebAssembly))&&"function"==typeof WebAssembly.Table?t.table=void 0!==i?new WebAssembly.Table({initial:n,maximum:i,element:"anyfunc"}):new WebAssembly.Table({initial:n,element:"anyfunc"}):t.table=new Array(n),o.wasmTable=t.table}var a;return t.memoryBase||(t.memoryBase=o.STATIC_BASE),t.tableBase||(t.tableBase=0),m(a=l(0,t),"no binaryen method succeeded."),a}}fe(),R=(A=y)+9888,Y.push();var de=9888;o.STATIC_BASE=A,o.STATIC_BUMP=de,R+=16;var he={varargs:0,get:function(e){return he.varargs+=4,S[he.varargs-4>>2]},getStr:function(){return b(he.get())},get64:function(){var e=he.get(),t=he.get();return m(e>=0?0===t:-1===t),e},getZero:function(){m(0===he.get())}};function pe(e,t){he.varargs=t;try{var r=he.getStreamFromFD(),n=(he.get(),he.get()),o=he.get(),i=he.get(),a=n;return FS.llseek(r,a,i),S[o>>2]=r.position,r.getdents&&0===a&&0===i&&(r.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Re(e),-e.errno}}function ve(e,t){he.varargs=t;try{var r=he.get(),n=he.get(),i=he.get(),a=0;ve.buffers||(ve.buffers=[null,[],[]],ve.printChar=function(e,t){var r=ve.buffers[e];m(r),0===t||10===t?((1===e?o.print:o.printErr)(T(r,0)),r.length=0):r.push(t)});for(var s=0;s<i;s++){for(var u=S[n+8*s>>2],c=S[n+(8*s+4)>>2],l=0;l<c;l++)ve.printChar(r,E[u+l]);a+=c}return a}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Re(e),-e.errno}}function ye(e,t){he.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Re(e),-e.errno}}function ge(e,t){he.varargs=t;try{var r=he.getStreamFromFD();return FS.close(r),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||Re(e),-e.errno}}function me(){e()}function be(e,r,n){t(e,r,n)}function we(e,t,r){return E.set(E.subarray(t,t+r),e),e}function Te(e){return o.___errno_location&&(S[o.___errno_location()>>2]=e),e}o._broadwayOnHeadersDecoded=me,o._broadwayOnPictureDecoded=be,x=h(4),M=I=p(R),P=p(M+U),S[x>>2]=P,O=!0,o.wasmTableSize=10,o.wasmMaxTableSize=10,o.asmGlobalArg={},o.asmLibraryArg={abort:Re,enlargeMemory:j,getTotalMemory:H,abortOnCannotGrowMemory:B,___setErrNo:Te,___syscall140:pe,___syscall146:ve,___syscall54:ye,___syscall6:ge,_broadwayOnHeadersDecoded:me,_broadwayOnPictureDecoded:be,_emscripten_memcpy_big:we,DYNAMICTOP_PTR:x,STACKTOP:I};var _e,ke,Ee=o.asm(o.asmGlobalArg,o.asmLibraryArg,k);function Ce(e){this.name="ExitStatus",this.message="Program terminated with exit(".concat(e,")"),this.status=e}function Se(e){function t(){o.calledRun||(o.calledRun=!0,g||(Z(),$(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),te()))}e=e||o.arguments,oe>0||(Q(),oe>0||o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}function Ae(e,t){t&&o.noExitRuntime&&0===e||(o.noExitRuntime||(g=!0,I=_e,ee(),o.onExit&&o.onExit(e)),l&&process.exit(e),o.quit(e,new Ce(e)))}function Re(e){throw o.onAbort&&o.onAbort(e),void 0!==e?(o.print(e),o.printErr(e),e=JSON.stringify(e)):e="",g=!0,"abort(".concat(e,"). Build with -s ASSERTIONS=1 for more info.")}if(o.asm=Ee,o._broadwayCreateStream=function(){return o.asm._broadwayCreateStream.apply(null,arguments)},o._broadwayExit=function(){return o.asm._broadwayExit.apply(null,arguments)},o._broadwayGetMajorVersion=function(){return o.asm._broadwayGetMajorVersion.apply(null,arguments)},o._broadwayGetMinorVersion=function(){return o.asm._broadwayGetMinorVersion.apply(null,arguments)},o._broadwayInit=function(){return o.asm._broadwayInit.apply(null,arguments)},o._broadwayPlayStream=function(){return o.asm._broadwayPlayStream.apply(null,arguments)},o.asm=Ee,Ce.prototype=new Error,Ce.prototype.constructor=Ce,ae=function e(){o.calledRun||Se(),o.calledRun||(ae=e)},o.run=Se,o.exit=Ae,o.abort=Re,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();o.noExitRuntime=!0,Se(),void 0!==global&&global.Module&&(ke=global.Module),void 0!==o&&(ke=o),ke._broadwayOnHeadersDecoded=e,ke._broadwayOnPictureDecoded=t;var Oe,Me=!1,Ie=function(){Me=!0,Oe&&Oe(ke)};return ke.onRuntimeInitialized=function(){Ie(ke)},function(e){Me?e(ke):Oe=e}}}else var getModule=function getModule(par_broadwayOnHeadersDecoded,par_broadwayOnPictureDecoded,wasmFile){console.log("使用asm模式解码+++++++++++++++");var Module=function(){var Module;Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"===("undefined"==typeof window?"undefined":(0,_typeof2.default)(window)),ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"===("undefined"==typeof process?"undefined":(0,_typeof2.default)(process))&&!1,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write("".concat(e,"\n"))}),Module.printErr||(Module.printErr=function(e){process.stderr.write("".concat(e,"\n"))});var nodeFS=null("fs"),nodePath=null("path");Module.read=function(e,t){e=nodePath.normalize(e);var r=nodeFS.readFileSync(e);return r||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),r=nodeFS.readFileSync(e)),r&&!t&&(r=r.toString()),r},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",(function(e){if(!(e instanceof ExitStatus))throw e})),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"===(0,_typeof2.default)(t)),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},void 0!==arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":case"float":return 4;case"i64":case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,t,r){return r||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,r){return r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,t),Module["dynCall_".concat(e)].apply(null,r)):Module["dynCall_".concat(e)].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var r=Runtime.funcWrappers[t];return r[e]||(r[e]=function(){return Runtime.dynCall(t,e,arguments)}),r[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=15+(STACKTOP=STACKTOP+e|0)&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=15+(STATICTOP=STATICTOP+e|0)&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;return(DYNAMICTOP=15+(DYNAMICTOP=DYNAMICTOP+e|0)&-16)>=TOTAL_MEMORY&&!enlargeMemory()?(DYNAMICTOP=t,0):t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,r){return r?Number(e>>>0)+4294967296*Number(t>>>0):Number(e>>>0)+4294967296*Number(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,t){e||abort("Assertion failed: ".concat(t))}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_".concat(ident)];if(!func)try{func=eval("_".concat(ident))}catch(e){}return assert(func,"Cannot call unknown function ".concat(ident," (perhaps LLVM optimizations or closure removed it?)")),func}function setValue(e,t,r,n){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,Number(Math_abs(tempDouble))>=1?tempDouble>0?(0|Math_min(Number(Math_floor(tempDouble/4294967296)),4294967295))>>>0:~~Number(Math_ceil((tempDouble-Number(~~tempDouble>>>0))/4294967296))>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: ".concat(r))}}function getValue(e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: ".concat(t))}return null}(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!=e&&0!==e&&(t=Runtime.stackAlloc(1+(e.length<<2)),writeStringToMemory(e,t)),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,r,n,o){var i=getCFunc(e),a=[],s=0;if(n)for(var u=0;u<n.length;u++){var c=toC[r[u]];c?(0===s&&(s=Runtime.stackSave()),a[u]=c(n[u])):a[u]=n[u]}var l=i.apply(null,a);if("string"===t&&(l=Pointer_stringify(l)),0!==s){if(o&&o.async)return void EmterpreterAsync.asyncFinalizers.push((function(){Runtime.stackRestore(s)}));Runtime.stackRestore(s)}return l};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){if(e.toString().match(sourceRegex)){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every((function(e){return"number"===e})),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map((function(e,t){return"$".concat(t)})),funcstr="(function(".concat(argNames.join(","),") {"),nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = ".concat(JSsource.stackSave.body,";");for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource["".concat(type,"ToC")];funcstr+="var ".concat(convertCode.arguments," = ").concat(arg,";"),funcstr+="".concat(convertCode.body,";"),funcstr+="".concat(arg,"=").concat(convertCode.returnValue,";")}}}var cfuncname=parseJSFunc((function(){return cfunc})).returnValue;if(funcstr+="var ret = ".concat(cfuncname,"(").concat(argNames.join(","),");"),!numericRet){var strgfy=parseJSFunc((function(){return Pointer_stringify})).returnValue;funcstr+="ret = ".concat(strgfy,"(ret);")}return numericArgs||(funcstr+="".concat(JSsource.stackRestore.body.replace("()","(stack)"),";")),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,r,n){var o,i;"number"==typeof e?(o=!0,i=e):(o=!1,i=e.length);var a,s="string"==typeof t?t:null;if(a=r==ALLOC_NONE?n:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===r?ALLOC_STATIC:r](Math.max(i,s?1:t.length)),o){var u;for(n=a,assert(0==(3&a)),u=a+(-4&i);n<u;n+=4)HEAP32[n>>2]=0;for(u=a+i;n<u;)HEAP8[n++>>0]=0;return a}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,a):HEAPU8.set(new Uint8Array(e),a),a;for(var c,l,f,d=0;d<i;){var h=e[d];"function"==typeof h&&(h=Runtime.getFunctionIndex(h)),0!==(c=s||t[d])?("i64"==c&&(c="i32"),setValue(a+d,h,c),f!==c&&(l=Runtime.getNativeTypeSize(c),f=c),d+=l):d++}return a}function getMemory(e){return staticSealed?void 0!==_sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var r,n=0,o=0;n|=r=HEAPU8[e+o>>0],(0!=r||t)&&(o++,!t||o!=t););t||(t=o);var i="";if(n<128){for(var a,s=1024;t>0;)a=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,s))),i=i?i+a:a,e+=s,t-=s;return i}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var r=HEAP8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var r,n,o,i,a,s="";;){if(!(r=e[t++]))return s;if(128&r)if(n=63&e[t++],192!=(224&r))if(o=63&e[t++],224==(240&r)?r=(15&r)<<12|n<<6|o:(i=63&e[t++],240==(248&r)?r=(7&r)<<18|n<<12|o<<6|i:(a=63&e[t++],r=248==(252&r)?(3&r)<<24|n<<18|o<<12|i<<6|a:(1&r)<<30|n<<24|o<<18|i<<12|a<<6|63&e[t++])),r<65536)s+=String.fromCharCode(r);else{var u=r-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}else s+=String.fromCharCode((31&r)<<6|n);else s+=String.fromCharCode(r)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=2097151){if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=67108863){if(r+4>=i)break;t[r++]=248|s>>24,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+5>=i)break;t[r++]=252|s>>30,t[r++]=128|s>>24&63,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:n<=2097151?4:n<=67108863?5:6}return t}function UTF16ToString(e){for(var t=0,r="";;){var n=HEAP16[e+2*t>>1];if(0==n)return r;++t,r+=String.fromCharCode(n)}}function stringToUTF16(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=t,o=(r-=2)<2*e.length?r/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var t=0,r="";;){var n=HEAP32[e+4*t>>2];if(0==n)return r;if(++t,n>=65536){var o=n-65536;r+=String.fromCharCode(55296|o>>10,56320|1023&o)}else r+=String.fromCharCode(n)}}function stringToUTF32(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t,o=n+r-4,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),HEAP32[t>>2]=a,(t+=4)+4>o)break}return HEAP32[t>>2]=0,t-n}function lengthBytesUTF32(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t}function demangle(e){var t=!!Module.___cxa_demangle;if(t)try{var r=_malloc(e.length);writeStringToMemory(e.substr(1),r);var n=_malloc(4),o=Module.___cxa_demangle(r,0,0,n);if(0===getValue(n,"i32")&&o)return Pointer_stringify(o)}catch(e){}finally{r&&_free(r),n&&_free(n),o&&_free(o)}var i=3,a={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},s=[],u=!0,c=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}c=function t(r,n,o){n=n||1/0;var c,l="",f=[];if("N"===e[i]){if(c=function(){i++,"K"===e[i]&&i++;for(var t=[];"E"!==e[i];)if("S"!==e[i])if("C"!==e[i]){var r=parseInt(e.substr(i)),n=r.toString().length;if(!r||!n){i--;break}var o=e.substr(i+n,r);t.push(o),s.push(o),i+=n+r}else t.push(t[t.length-1]),i+=2;else{i++;var a=e.indexOf("_",i),u=e.substring(i,a)||0;t.push(s[u]||"?"),i=a+1}return i++,t}().join("::"),0==--n)return r?[c]:c}else if(("K"===e[i]||u&&"L"===e[i])&&i++,y=parseInt(e.substr(i))){var d=y.toString().length;c=e.substr(i+d,y),i+=d+y}if(u=!1,"I"===e[i]){i++;var h=t(!0),p=t(!0,1,!0);l+="".concat(p[0]," ").concat(c,"<").concat(h.join(", "),">")}else l=c;e:for(;i<e.length&&n-- >0;){var v=e[i++];if(v in a)f.push(a[v]);else switch(v){case"P":f.push("".concat(t(!0,1,!0)[0],"*"));break;case"R":f.push("".concat(t(!0,1,!0)[0],"&"));break;case"L":i++;var y=e.indexOf("E",i)-i;f.push(e.substr(i,y)),i+=y+2;break;case"A":if(y=parseInt(e.substr(i)),i+=y.toString().length,"_"!==e[i])throw"?";i++,f.push("".concat(t(!0,1,!0)[0]," [").concat(y,"]"));break;case"E":break e;default:l+="?".concat(v);break e}}return o||1!==f.length||"void"!==f[0]||(f=[]),r?(l&&f.push("".concat(l,"?")),f):l+"(".concat(f.join(", "),")")}()}catch(e){c+="?"}return c.indexOf("?")>=0&&!t&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),c}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,(function(e){var t=demangle(e);return e===t?e:"".concat(e," [").concat(t,"]")}))}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value ".concat(TOTAL_MEMORY,", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 "))}function enlargeMemory(){abortOnCannotGrowMemory()}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||52428800,totalMemory=65536,buffer;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?Runtime.dynCall("v",r):Runtime.dynCall("vi",r,[t.arg]):r(void 0===t.arg?null:t.arg)}else t()}}totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,r){var n=r>0?r:lengthBytesUTF8(e)+1,o=new Array(n),i=stringToUTF8Array(e,o,0,o.length);return t&&(o.length=i),o}function intArrayToString(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n>255&&(n&=255),t.push(String.fromCharCode(n))}return t.join("")}function writeStringToMemory(e,t,r){for(var n=intArrayFromString(e,r),o=0;o<n.length;){var i=n[o];HEAP8[t+o>>0]=i,o+=1}}function writeArrayToMemory(e,t){for(var r=0;r<e.length;r++)HEAP8[t++>>0]=e[r]}function writeAsciiToMemory(e,t,r){for(var n=0;n<e.length;++n)HEAP8[t++>>0]=e.charCodeAt(n);r||(HEAP8[t>>0]=0)}function unSign(e,t,r){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,r){if(e<=0)return e;var n=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=n&&(t<=32||e>n)&&(e=-2*n+e),e}Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16)*n+r*(t>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[];STATIC_BASE=8,STATICTOP=STATIC_BASE+8896,__ATINIT__.push(),allocate([10,0,0,0,13,0,0,0,16,0,0,0,11,0,0,0,14,0,0,0,18,0,0,0,13,0,0,0,16,0,0,0,20,0,0,0,14,0,0,0,18,0,0,0,23,0,0,0,16,0,0,0,20,0,0,0,25,0,0,0,18,0,0,0,23,0,0,0,29,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,34,0,0,0,35,0,0,0,35,0,0,0,36,0,0,0,36,0,0,0,37,0,0,0,37,0,0,0,37,0,0,0,38,0,0,0,38,0,0,0,38,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,3,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,12,0,0,0,13,0,0,0,10,0,0,0,11,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,0,0,0,0,15,0,0,0,4,0,0,0,10,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,11,0,0,0,4,0,0,0,14,0,0,0,0,0,0,0,17,0,0,0,4,0,0,0,16,0,0,0,0,0,0,0,19,0,0,0,4,0,0,0,18,0,0,0,0,0,0,0,21,0,0,0,4,0,0,0,20,0,0,0,0,0,0,0,23,0,0,0,4,0,0,0,22,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,13,0,0,0,1,0,0,0,18,0,0,0,1,0,0,0,19,0,0,0,4,0,0,0,16,0,0,0,4,0,0,0,17,0,0,0,1,0,0,0,22,0,0,0,1,0,0,0,23,0,0,0,4,0,0,0,20,0,0,0,4,0,0,0,21,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,4,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,4,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,12,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,4,0,0,0,13,0,0,0,255,0,0,0,8,0,0,0,1,0,0,0,19,0,0,0,2,0,0,0,18,0,0,0,4,0,0,0,17,0,0,0,255,0,0,0,16,0,0,0,1,0,0,0,23,0,0,0,2,0,0,0,22,0,0,0,4,0,0,0,21,0,0,0,255,0,0,0,20,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,3,0,0,0,19,0,0,0,1,0,0,0,18,0,0,0,0,0,0,0,17,0,0,0,4,0,0,0,16,0,0,0,3,0,0,0,23,0,0,0,1,0,0,0,22,0,0,0,0,0,0,0,21,0,0,0,4,0,0,0,20,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,0,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,13,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,0,0,0,0,15,0,0,0,4,0,0,0,10,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,11,0,0,0,4,0,0,0,14,0,0,0,1,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,4,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,13,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,4,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,4,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,12,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,4,0,0,0,13,0,0,0,255,0,0,0,8,0,0,0,3,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,0,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,13,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,192,30,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,102,32,38,16,6,8,101,24,101,24,67,16,67,16,67,16,67,16,67,16,67,16,67,16,67,16,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,0,0,0,0,0,0,0,0,106,64,74,48,42,40,10,32,105,56,105,56,73,40,73,40,41,32,41,32,9,24,9,24,104,48,104,48,104,48,104,48,72,32,72,32,72,32,72,32,40,24,40,24,40,24,40,24,8,16,8,16,8,16,8,16,103,40,103,40,103,40,103,40,103,40,103,40,103,40,103,40,71,24,71,24,71,24,71,24,71,24,71,24,71,24,71,24,110,96,78,88,46,80,14,80,110,88,78,80,46,72,14,72,13,64,13,64,77,72,77,72,45,64,45,64,13,56,13,56,109,80,109,80,77,64,77,64,45,56,45,56,13,48,13,48,107,72,107,72,107,72,107,72,107,72,107,72,107,72,107,72,75,56,75,56,75,56,75,56,75,56,75,56,75,56,75,56,43,48,43,48,43,48,43,48,43,48,43,48,43,48,43,48,11,40,11,40,11,40,11,40,11,40,11,40,11,40,11,40,0,0,0,0,47,104,47,104,16,128,80,128,48,128,16,120,112,128,80,120,48,120,16,112,112,120,80,112,48,112,16,104,111,112,111,112,79,104,79,104,47,96,47,96,15,96,15,96,111,104,111,104,79,96,79,96,47,88,47,88,15,88,15,88,0,0,0,0,0,0,0,0,102,56,70,32,38,32,6,16,102,48,70,24,38,24,6,8,101,40,101,40,37,16,37,16,100,32,100,32,100,32,100,32,100,24,100,24,100,24,100,24,67,16,67,16,67,16,67,16,67,16,67,16,67,16,67,16,0,0,0,0,0,0,0,0,105,72,73,56,41,56,9,48,8,40,8,40,72,48,72,48,40,48,40,48,8,32,8,32,103,64,103,64,103,64,103,64,71,40,71,40,71,40,71,40,39,40,39,40,39,40,39,40,7,24,7,24,7,24,7,24,0,0,0,0,109,120,109,120,110,128,78,128,46,128,14,128,46,120,14,120,78,120,46,112,77,112,77,112,13,112,13,112,109,112,109,112,77,104,77,104,45,104,45,104,13,104,13,104,109,104,109,104,77,96,77,96,45,96,45,96,13,96,13,96,12,88,12,88,12,88,12,88,76,88,76,88,76,88,76,88,44,88,44,88,44,88,44,88,12,80,12,80,12,80,12,80,108,96,108,96,108,96,108,96,76,80,76,80,76,80,76,80,44,80,44,80,44,80,44,80,12,72,12,72,12,72,12,72,107,88,107,88,107,88,107,88,107,88,107,88,107,88,107,88,75,72,75,72,75,72,75,72,75,72,75,72,75,72,75,72,43,72,43,72,43,72,43,72,43,72,43,72,43,72,43,72,11,64,11,64,11,64,11,64,11,64,11,64,11,64,11,64,107,80,107,80,107,80,107,80,107,80,107,80,107,80,107,80,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,43,64,43,64,43,64,43,64,43,64,43,64,43,64,43,64,11,56,11,56,11,56,11,56,11,56,11,56,11,56,11,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,24,70,56,38,56,6,16,102,72,70,48,38,48,6,8,37,40,37,40,69,40,69,40,37,32,37,32,69,32,69,32,37,24,37,24,101,64,101,64,69,24,69,24,37,16,37,16,100,56,100,56,100,56,100,56,100,48,100,48,100,48,100,48,100,40,100,40,100,40,100,40,100,32,100,32,100,32,100,32,100,24,100,24,100,24,100,24,68,16,68,16,68,16,68,16,36,8,36,8,36,8,36,8,4,0,4,0,4,0,4,0,0,0,10,128,106,128,74,128,42,128,10,120,106,120,74,120,42,120,10,112,106,112,74,112,42,112,10,104,41,104,41,104,9,96,9,96,73,104,73,104,41,96,41,96,9,88,9,88,105,104,105,104,73,96,73,96,41,88,41,88,9,80,9,80,104,96,104,96,104,96,104,96,72,88,72,88,72,88,72,88,40,80,40,80,40,80,40,80,8,72,8,72,8,72,8,72,104,88,104,88,104,88,104,88,72,80,72,80,72,80,72,80,40,72,40,72,40,72,40,72,8,64,8,64,8,64,8,64,7,56,7,56,7,56,7,56,7,56,7,56,7,56,7,56,7,48,7,48,7,48,7,48,7,48,7,48,7,48,7,48,71,72,71,72,71,72,71,72,71,72,71,72,71,72,71,72,7,40,7,40,7,40,7,40,7,40,7,40,7,40,7,40,103,80,103,80,103,80,103,80,103,80,103,80,103,80,103,80,71,64,71,64,71,64,71,64,71,64,71,64,71,64,71,64,39,64,39,64,39,64,39,64,39,64,39,64,39,64,39,64,7,32,7,32,7,32,7,32,7,32,7,32,7,32,7,32,6,8,38,8,0,0,6,0,6,16,38,16,70,16,0,0,6,24,38,24,70,24,102,24,6,32,38,32,70,32,102,32,6,40,38,40,70,40,102,40,6,48,38,48,70,48,102,48,6,56,38,56,70,56,102,56,6,64,38,64,70,64,102,64,6,72,38,72,70,72,102,72,6,80,38,80,70,80,102,80,6,88,38,88,70,88,102,88,6,96,38,96,70,96,102,96,6,104,38,104,70,104,102,104,6,112,38,112,70,112,102,112,6,120,38,120,70,120,102,120,6,128,38,128,70,128,102,128,0,0,67,16,2,0,2,0,33,8,33,8,33,8,33,8,103,32,103,32,72,32,40,32,71,24,71,24,39,24,39,24,6,32,6,32,6,32,6,32,6,24,6,24,6,24,6,24,6,16,6,16,6,16,6,16,102,24,102,24,102,24,102,24,38,16,38,16,38,16,38,16,6,8,6,8,6,8,6,8,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,7,7,7,7,7,7,8,8,8,8,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,0,16,1,2,4,8,32,3,5,10,12,15,47,7,11,13,14,6,9,31,35,37,42,44,33,34,36,40,39,43,45,46,17,18,20,24,19,21,26,28,23,27,29,30,22,25,38,41,47,31,15,0,23,27,29,30,7,11,13,14,39,43,45,46,16,3,5,10,12,19,21,26,28,35,37,42,44,1,2,4,8,17,18,20,24,6,9,22,25,32,33,34,36,40,38,41,0,0,101,85,68,68,52,52,35,35,35,35,19,19,19,19,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,249,233,217,200,200,184,184,167,167,167,167,151,151,151,151,134,134,134,134,134,134,134,134,118,118,118,118,118,118,118,118,230,214,198,182,165,165,149,149,132,132,132,132,116,116,116,116,100,100,100,100,84,84,84,84,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,3,3,3,3,3,3,3,3,214,182,197,197,165,165,149,149,132,132,132,132,84,84,84,84,68,68,68,68,4,4,4,4,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,197,181,165,5,148,148,116,116,52,52,36,36,131,131,131,131,99,99,99,99,83,83,83,83,67,67,67,67,19,19,19,19,181,149,164,164,132,132,36,36,20,20,4,4,115,115,115,115,99,99,99,99,83,83,83,83,67,67,67,67,51,51,51,51,166,6,21,21,132,132,132,132,147,147,147,147,147,147,147,147,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,83,83,83,83,83,83,83,83,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,150,6,21,21,116,116,116,116,131,131,131,131,131,131,131,131,99,99,99,99,99,99,99,99,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,134,6,37,37,20,20,20,20,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,22,6,117,117,36,36,36,36,83,83,83,83,83,83,83,83,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,21,5,100,100,35,35,35,35,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,4,20,35,35,51,51,83,83,65,65,65,65,65,65,65,65,4,20,67,67,34,34,34,34,49,49,49,49,49,49,49,49,3,19,50,50,33,33,33,33,2,18,33,33,17,1,34,18,1,1,50,34,18,2,67,51,34,34,18,18,2,2,83,67,51,35,18,18,2,2,19,35,67,51,99,83,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,5,6,7,8,9,10,12,13,15,17,20,22,25,28,32,36,40,45,50,56,63,71,80,90,101,113,127,144,162,182,203,226,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,3,3,3,3,4,4,4,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,2,1,2,3,1,2,3,2,2,3,2,2,4,2,3,4,2,3,4,3,3,5,3,4,6,3,4,6,4,5,7,4,5,8,4,6,9,5,7,10,6,8,11,6,8,13,7,10,14,8,11,16,9,12,18,10,13,20,11,15,23,13,17,25,68,69,67,79,68,69,82,32,73,78,73,84,73,65,76,73,90,65,84,73,79,78,32,70,65,73,76,69,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}assert(tempDoublePtr%8==0);var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===("undefined"==typeof navigator?"undefined":(0,_typeof2.default)(navigator))&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function _pthread_cleanup_push(e,t){__ATEXIT__.push((function(){Runtime.dynCall("vi",e,[t])})),_pthread_cleanup_push.level=__ATEXIT__.length}function _broadwayOnPictureDecoded(e,t,r){par_broadwayOnPictureDecoded(e,t,r)}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function _abort(){Module.abort()}function _emscripten_memcpy_big(e,t,r){return HEAPU8.set(HEAPU8.subarray(t,t+r),e),e}Module._memset=_memset,Module._broadwayOnPictureDecoded=_broadwayOnPictureDecoded,Module._memcpy=_memcpy;var SYSCALLS={varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}},Module;function ___syscall6(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var r=DYNAMICTOP;return 0==e||t.alloc(e)?r:-1>>>0}function _broadwayOnHeadersDecoded(){par_broadwayOnHeadersDecoded()}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _pthread_self(){return 0}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get(),i=SYSCALLS.get(),a=SYSCALLS.get(),s=o;return assert(0===n),FS.llseek(r,s,a),HEAP32[i>>2]=r.position,r.getdents&&0===s&&0===a&&(r.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{SYSCALLS.get();var r=SYSCALLS.get(),n=SYSCALLS.get(),o=0;___syscall146.buffer||(___syscall146.buffer=[]);for(var i=___syscall146.buffer,a=0;a<n;a++){for(var s=HEAP32[r+8*a>>2],u=HEAP32[r+(8*a+4)>>2],c=0;c<u;c++){var l=HEAPU8[s+c];0===l||10===l?(Module.print(UTF8ArrayToString(i,0)),i.length=0):i.push(l)}o+=u}return o}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall54(e,t){SYSCALLS.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiii(e,t,r,n){try{return Module.dynCall_iiii(e,t,r,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,t,r,n,o,i){try{Module.dynCall_viiiii(e,t,r,n,o,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}Module._broadwayOnHeadersDecoded=_broadwayOnHeadersDecoded,STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack"),Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,invoke_ii:invoke_ii,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_vi:invoke_vi,_broadwayOnPictureDecoded:_broadwayOnPictureDecoded,_pthread_cleanup_pop:_pthread_cleanup_pop,_pthread_self:_pthread_self,___syscall6:___syscall6,___setErrNo:___setErrNo,_abort:_abort,_sbrk:_sbrk,_time:_time,_pthread_cleanup_push:_pthread_cleanup_push,_emscripten_memcpy_big:_emscripten_memcpy_big,___syscall54:___syscall54,_broadwayOnHeadersDecoded:_broadwayOnHeadersDecoded,___syscall140:___syscall140,_sysconf:_sysconf,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT},Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"===("undefined"==typeof window?"undefined":(0,_typeof2.default)(window)),ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"===("undefined"==typeof process?"undefined":(0,_typeof2.default)(process))&&!1,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write("".concat(e,"\n"))}),Module.printErr||(Module.printErr=function(e){process.stderr.write("".concat(e,"\n"))});var nodeFS=null("fs"),nodePath=null("path");Module.read=function(e,t){e=nodePath.normalize(e);var r=nodeFS.readFileSync(e);return r||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),r=nodeFS.readFileSync(e)),r&&!t&&(r=r.toString()),r},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",(function(e){if(!(e instanceof ExitStatus))throw e})),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"===(0,_typeof2.default)(t)),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},void 0!==arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":case"float":return 4;case"i64":case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,t,r){return r||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,r){return r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,t),Module["dynCall_".concat(e)].apply(null,r)):Module["dynCall_".concat(e)].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var r=Runtime.funcWrappers[t];return r[e]||(r[e]=function(){return Runtime.dynCall(t,e,arguments)}),r[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=15+(STACKTOP=STACKTOP+e|0)&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=15+(STATICTOP=STATICTOP+e|0)&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;return(DYNAMICTOP=15+(DYNAMICTOP=DYNAMICTOP+e|0)&-16)>=TOTAL_MEMORY&&!enlargeMemory()?(DYNAMICTOP=t,0):t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,r){return r?Number(e>>>0)+4294967296*Number(t>>>0):Number(e>>>0)+4294967296*Number(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,t){e||abort("Assertion failed: ".concat(t))}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_".concat(ident)];if(!func)try{func=eval("_".concat(ident))}catch(e){}return assert(func,"Cannot call unknown function ".concat(ident," (perhaps LLVM optimizations or closure removed it?)")),func}function setValue(e,t,r,n){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,Number(Math_abs(tempDouble))>=1?tempDouble>0?(0|Math_min(Number(Math_floor(tempDouble/4294967296)),4294967295))>>>0:~~Number(Math_ceil((tempDouble-Number(~~tempDouble>>>0))/4294967296))>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: ".concat(r))}}function getValue(e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: ".concat(t))}return null}(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!=e&&0!==e&&(t=Runtime.stackAlloc(1+(e.length<<2)),writeStringToMemory(e,t)),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,r,n,o){var i=getCFunc(e),a=[],s=0;if(n)for(var u=0;u<n.length;u++){var c=toC[r[u]];c?(0===s&&(s=Runtime.stackSave()),a[u]=c(n[u])):a[u]=n[u]}var l=i.apply(null,a);if("string"===t&&(l=Pointer_stringify(l)),0!==s){if(o&&o.async)return void EmterpreterAsync.asyncFinalizers.push((function(){Runtime.stackRestore(s)}));Runtime.stackRestore(s)}return l};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){if(e.toString().match(sourceRegex)){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every((function(e){return"number"===e})),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map((function(e,t){return"$".concat(t)})),funcstr="(function(".concat(argNames.join(","),") {"),nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = ".concat(JSsource.stackSave.body,";");for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource["".concat(type,"ToC")];funcstr+="var ".concat(convertCode.arguments," = ").concat(arg,";"),funcstr+="".concat(convertCode.body,";"),funcstr+="".concat(arg,"=").concat(convertCode.returnValue,";")}}}var cfuncname=parseJSFunc((function(){return cfunc})).returnValue;if(funcstr+="var ret = ".concat(cfuncname,"(").concat(argNames.join(","),");"),!numericRet){var strgfy=parseJSFunc((function(){return Pointer_stringify})).returnValue;funcstr+="ret = ".concat(strgfy,"(ret);")}return numericArgs||(funcstr+="".concat(JSsource.stackRestore.body.replace("()","(stack)"),";")),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,r,n){var o,i;"number"==typeof e?(o=!0,i=e):(o=!1,i=e.length);var a,s="string"==typeof t?t:null;if(a=r==ALLOC_NONE?n:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===r?ALLOC_STATIC:r](Math.max(i,s?1:t.length)),o){var u;for(n=a,assert(0==(3&a)),u=a+(-4&i);n<u;n+=4)HEAP32[n>>2]=0;for(u=a+i;n<u;)HEAP8[n++>>0]=0;return a}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,a):HEAPU8.set(new Uint8Array(e),a),a;for(var c,l,f,d=0;d<i;){var h=e[d];"function"==typeof h&&(h=Runtime.getFunctionIndex(h)),0!==(c=s||t[d])?("i64"==c&&(c="i32"),setValue(a+d,h,c),f!==c&&(l=Runtime.getNativeTypeSize(c),f=c),d+=l):d++}return a}function getMemory(e){return staticSealed?void 0!==_sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var r,n=0,o=0;n|=r=HEAPU8[e+o>>0],(0!=r||t)&&(o++,!t||o!=t););t||(t=o);var i="";if(n<128){for(var a,s=1024;t>0;)a=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,s))),i=i?i+a:a,e+=s,t-=s;return i}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var r=HEAP8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var r,n,o,i,a,s="";;){if(!(r=e[t++]))return s;if(128&r)if(n=63&e[t++],192!=(224&r))if(o=63&e[t++],224==(240&r)?r=(15&r)<<12|n<<6|o:(i=63&e[t++],240==(248&r)?r=(7&r)<<18|n<<12|o<<6|i:(a=63&e[t++],r=248==(252&r)?(3&r)<<24|n<<18|o<<12|i<<6|a:(1&r)<<30|n<<24|o<<18|i<<12|a<<6|63&e[t++])),r<65536)s+=String.fromCharCode(r);else{var u=r-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}else s+=String.fromCharCode((31&r)<<6|n);else s+=String.fromCharCode(r)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=2097151){if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else if(s<=67108863){if(r+4>=i)break;t[r++]=248|s>>24,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+5>=i)break;t[r++]=252|s>>30,t[r++]=128|s>>24&63,t[r++]=128|s>>18&63,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:n<=2097151?4:n<=67108863?5:6}return t}function UTF16ToString(e){for(var t=0,r="";;){var n=HEAP16[e+2*t>>1];if(0==n)return r;++t,r+=String.fromCharCode(n)}}function stringToUTF16(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=t,o=(r-=2)<2*e.length?r/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var t=0,r="";;){var n=HEAP32[e+4*t>>2];if(0==n)return r;if(++t,n>=65536){var o=n-65536;r+=String.fromCharCode(55296|o>>10,56320|1023&o)}else r+=String.fromCharCode(n)}}function stringToUTF32(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t,o=n+r-4,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),HEAP32[t>>2]=a,(t+=4)+4>o)break}return HEAP32[t>>2]=0,t-n}function lengthBytesUTF32(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t}function demangle(e){var t=!!Module.___cxa_demangle;if(t)try{var r=_malloc(e.length);writeStringToMemory(e.substr(1),r);var n=_malloc(4),o=Module.___cxa_demangle(r,0,0,n);if(0===getValue(n,"i32")&&o)return Pointer_stringify(o)}catch(e){}finally{r&&_free(r),n&&_free(n),o&&_free(o)}var i=3,a={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},s=[],u=!0,c=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}c=function t(r,n,o){n=n||1/0;var c,l="",f=[];if("N"===e[i]){if(c=function(){i++,"K"===e[i]&&i++;for(var t=[];"E"!==e[i];)if("S"!==e[i])if("C"!==e[i]){var r=parseInt(e.substr(i)),n=r.toString().length;if(!r||!n){i--;break}var o=e.substr(i+n,r);t.push(o),s.push(o),i+=n+r}else t.push(t[t.length-1]),i+=2;else{i++;var a=e.indexOf("_",i),u=e.substring(i,a)||0;t.push(s[u]||"?"),i=a+1}return i++,t}().join("::"),0==--n)return r?[c]:c}else if(("K"===e[i]||u&&"L"===e[i])&&i++,y=parseInt(e.substr(i))){var d=y.toString().length;c=e.substr(i+d,y),i+=d+y}if(u=!1,"I"===e[i]){i++;var h=t(!0),p=t(!0,1,!0);l+="".concat(p[0]," ").concat(c,"<").concat(h.join(", "),">")}else l=c;e:for(;i<e.length&&n-- >0;){var v=e[i++];if(v in a)f.push(a[v]);else switch(v){case"P":f.push("".concat(t(!0,1,!0)[0],"*"));break;case"R":f.push("".concat(t(!0,1,!0)[0],"&"));break;case"L":i++;var y=e.indexOf("E",i)-i;f.push(e.substr(i,y)),i+=y+2;break;case"A":if(y=parseInt(e.substr(i)),i+=y.toString().length,"_"!==e[i])throw"?";i++,f.push("".concat(t(!0,1,!0)[0]," [").concat(y,"]"));break;case"E":break e;default:l+="?".concat(v);break e}}return o||1!==f.length||"void"!==f[0]||(f=[]),r?(l&&f.push("".concat(l,"?")),f):l+"(".concat(f.join(", "),")")}()}catch(e){c+="?"}return c.indexOf("?")>=0&&!t&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),c}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,(function(e){var t=demangle(e);return e===t?e:"".concat(e," [").concat(t,"]")}))}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value ".concat(TOTAL_MEMORY,", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 "))}function enlargeMemory(){abortOnCannotGrowMemory()}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||52428800,totalMemory=65536,buffer;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?Runtime.dynCall("v",r):Runtime.dynCall("vi",r,[t.arg]):r(void 0===t.arg?null:t.arg)}else t()}}totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,r){var n=r>0?r:lengthBytesUTF8(e)+1,o=new Array(n),i=stringToUTF8Array(e,o,0,o.length);return t&&(o.length=i),o}function intArrayToString(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n>255&&(n&=255),t.push(String.fromCharCode(n))}return t.join("")}function writeStringToMemory(e,t,r){for(var n=intArrayFromString(e,r),o=0;o<n.length;){var i=n[o];HEAP8[t+o>>0]=i,o+=1}}function writeArrayToMemory(e,t){for(var r=0;r<e.length;r++)HEAP8[t++>>0]=e[r]}function writeAsciiToMemory(e,t,r){for(var n=0;n<e.length;++n)HEAP8[t++>>0]=e.charCodeAt(n);r||(HEAP8[t>>0]=0)}function unSign(e,t,r){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,r){if(e<=0)return e;var n=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=n&&(t<=32||e>n)&&(e=-2*n+e),e}Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16)*n+r*(t>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[];STATIC_BASE=8,STATICTOP=STATIC_BASE+8896,__ATINIT__.push(),allocate([10,0,0,0,13,0,0,0,16,0,0,0,11,0,0,0,14,0,0,0,18,0,0,0,13,0,0,0,16,0,0,0,20,0,0,0,14,0,0,0,18,0,0,0,23,0,0,0,16,0,0,0,20,0,0,0,25,0,0,0,18,0,0,0,23,0,0,0,29,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,34,0,0,0,35,0,0,0,35,0,0,0,36,0,0,0,36,0,0,0,37,0,0,0,37,0,0,0,37,0,0,0,38,0,0,0,38,0,0,0,38,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,3,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,12,0,0,0,13,0,0,0,10,0,0,0,11,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,0,0,0,0,15,0,0,0,4,0,0,0,10,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,11,0,0,0,4,0,0,0,14,0,0,0,0,0,0,0,17,0,0,0,4,0,0,0,16,0,0,0,0,0,0,0,19,0,0,0,4,0,0,0,18,0,0,0,0,0,0,0,21,0,0,0,4,0,0,0,20,0,0,0,0,0,0,0,23,0,0,0,4,0,0,0,22,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,13,0,0,0,1,0,0,0,18,0,0,0,1,0,0,0,19,0,0,0,4,0,0,0,16,0,0,0,4,0,0,0,17,0,0,0,1,0,0,0,22,0,0,0,1,0,0,0,23,0,0,0,4,0,0,0,20,0,0,0,4,0,0,0,21,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,4,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,4,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,12,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,4,0,0,0,13,0,0,0,255,0,0,0,8,0,0,0,1,0,0,0,19,0,0,0,2,0,0,0,18,0,0,0,4,0,0,0,17,0,0,0,255,0,0,0,16,0,0,0,1,0,0,0,23,0,0,0,2,0,0,0,22,0,0,0,4,0,0,0,21,0,0,0,255,0,0,0,20,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,3,0,0,0,19,0,0,0,1,0,0,0,18,0,0,0,0,0,0,0,17,0,0,0,4,0,0,0,16,0,0,0,3,0,0,0,23,0,0,0,1,0,0,0,22,0,0,0,0,0,0,0,21,0,0,0,4,0,0,0,20,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,0,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,13,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,0,0,0,0,15,0,0,0,4,0,0,0,10,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,11,0,0,0,4,0,0,0,14,0,0,0,1,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,4,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,13,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,4,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,4,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,12,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,4,0,0,0,13,0,0,0,255,0,0,0,8,0,0,0,3,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,0,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,13,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,192,30,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,102,32,38,16,6,8,101,24,101,24,67,16,67,16,67,16,67,16,67,16,67,16,67,16,67,16,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,0,0,0,0,0,0,0,0,106,64,74,48,42,40,10,32,105,56,105,56,73,40,73,40,41,32,41,32,9,24,9,24,104,48,104,48,104,48,104,48,72,32,72,32,72,32,72,32,40,24,40,24,40,24,40,24,8,16,8,16,8,16,8,16,103,40,103,40,103,40,103,40,103,40,103,40,103,40,103,40,71,24,71,24,71,24,71,24,71,24,71,24,71,24,71,24,110,96,78,88,46,80,14,80,110,88,78,80,46,72,14,72,13,64,13,64,77,72,77,72,45,64,45,64,13,56,13,56,109,80,109,80,77,64,77,64,45,56,45,56,13,48,13,48,107,72,107,72,107,72,107,72,107,72,107,72,107,72,107,72,75,56,75,56,75,56,75,56,75,56,75,56,75,56,75,56,43,48,43,48,43,48,43,48,43,48,43,48,43,48,43,48,11,40,11,40,11,40,11,40,11,40,11,40,11,40,11,40,0,0,0,0,47,104,47,104,16,128,80,128,48,128,16,120,112,128,80,120,48,120,16,112,112,120,80,112,48,112,16,104,111,112,111,112,79,104,79,104,47,96,47,96,15,96,15,96,111,104,111,104,79,96,79,96,47,88,47,88,15,88,15,88,0,0,0,0,0,0,0,0,102,56,70,32,38,32,6,16,102,48,70,24,38,24,6,8,101,40,101,40,37,16,37,16,100,32,100,32,100,32,100,32,100,24,100,24,100,24,100,24,67,16,67,16,67,16,67,16,67,16,67,16,67,16,67,16,0,0,0,0,0,0,0,0,105,72,73,56,41,56,9,48,8,40,8,40,72,48,72,48,40,48,40,48,8,32,8,32,103,64,103,64,103,64,103,64,71,40,71,40,71,40,71,40,39,40,39,40,39,40,39,40,7,24,7,24,7,24,7,24,0,0,0,0,109,120,109,120,110,128,78,128,46,128,14,128,46,120,14,120,78,120,46,112,77,112,77,112,13,112,13,112,109,112,109,112,77,104,77,104,45,104,45,104,13,104,13,104,109,104,109,104,77,96,77,96,45,96,45,96,13,96,13,96,12,88,12,88,12,88,12,88,76,88,76,88,76,88,76,88,44,88,44,88,44,88,44,88,12,80,12,80,12,80,12,80,108,96,108,96,108,96,108,96,76,80,76,80,76,80,76,80,44,80,44,80,44,80,44,80,12,72,12,72,12,72,12,72,107,88,107,88,107,88,107,88,107,88,107,88,107,88,107,88,75,72,75,72,75,72,75,72,75,72,75,72,75,72,75,72,43,72,43,72,43,72,43,72,43,72,43,72,43,72,43,72,11,64,11,64,11,64,11,64,11,64,11,64,11,64,11,64,107,80,107,80,107,80,107,80,107,80,107,80,107,80,107,80,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,43,64,43,64,43,64,43,64,43,64,43,64,43,64,43,64,11,56,11,56,11,56,11,56,11,56,11,56,11,56,11,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,24,70,56,38,56,6,16,102,72,70,48,38,48,6,8,37,40,37,40,69,40,69,40,37,32,37,32,69,32,69,32,37,24,37,24,101,64,101,64,69,24,69,24,37,16,37,16,100,56,100,56,100,56,100,56,100,48,100,48,100,48,100,48,100,40,100,40,100,40,100,40,100,32,100,32,100,32,100,32,100,24,100,24,100,24,100,24,68,16,68,16,68,16,68,16,36,8,36,8,36,8,36,8,4,0,4,0,4,0,4,0,0,0,10,128,106,128,74,128,42,128,10,120,106,120,74,120,42,120,10,112,106,112,74,112,42,112,10,104,41,104,41,104,9,96,9,96,73,104,73,104,41,96,41,96,9,88,9,88,105,104,105,104,73,96,73,96,41,88,41,88,9,80,9,80,104,96,104,96,104,96,104,96,72,88,72,88,72,88,72,88,40,80,40,80,40,80,40,80,8,72,8,72,8,72,8,72,104,88,104,88,104,88,104,88,72,80,72,80,72,80,72,80,40,72,40,72,40,72,40,72,8,64,8,64,8,64,8,64,7,56,7,56,7,56,7,56,7,56,7,56,7,56,7,56,7,48,7,48,7,48,7,48,7,48,7,48,7,48,7,48,71,72,71,72,71,72,71,72,71,72,71,72,71,72,71,72,7,40,7,40,7,40,7,40,7,40,7,40,7,40,7,40,103,80,103,80,103,80,103,80,103,80,103,80,103,80,103,80,71,64,71,64,71,64,71,64,71,64,71,64,71,64,71,64,39,64,39,64,39,64,39,64,39,64,39,64,39,64,39,64,7,32,7,32,7,32,7,32,7,32,7,32,7,32,7,32,6,8,38,8,0,0,6,0,6,16,38,16,70,16,0,0,6,24,38,24,70,24,102,24,6,32,38,32,70,32,102,32,6,40,38,40,70,40,102,40,6,48,38,48,70,48,102,48,6,56,38,56,70,56,102,56,6,64,38,64,70,64,102,64,6,72,38,72,70,72,102,72,6,80,38,80,70,80,102,80,6,88,38,88,70,88,102,88,6,96,38,96,70,96,102,96,6,104,38,104,70,104,102,104,6,112,38,112,70,112,102,112,6,120,38,120,70,120,102,120,6,128,38,128,70,128,102,128,0,0,67,16,2,0,2,0,33,8,33,8,33,8,33,8,103,32,103,32,72,32,40,32,71,24,71,24,39,24,39,24,6,32,6,32,6,32,6,32,6,24,6,24,6,24,6,24,6,16,6,16,6,16,6,16,102,24,102,24,102,24,102,24,38,16,38,16,38,16,38,16,6,8,6,8,6,8,6,8,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,7,7,7,7,7,7,8,8,8,8,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,0,16,1,2,4,8,32,3,5,10,12,15,47,7,11,13,14,6,9,31,35,37,42,44,33,34,36,40,39,43,45,46,17,18,20,24,19,21,26,28,23,27,29,30,22,25,38,41,47,31,15,0,23,27,29,30,7,11,13,14,39,43,45,46,16,3,5,10,12,19,21,26,28,35,37,42,44,1,2,4,8,17,18,20,24,6,9,22,25,32,33,34,36,40,38,41,0,0,101,85,68,68,52,52,35,35,35,35,19,19,19,19,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,249,233,217,200,200,184,184,167,167,167,167,151,151,151,151,134,134,134,134,134,134,134,134,118,118,118,118,118,118,118,118,230,214,198,182,165,165,149,149,132,132,132,132,116,116,116,116,100,100,100,100,84,84,84,84,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,3,3,3,3,3,3,3,3,214,182,197,197,165,165,149,149,132,132,132,132,84,84,84,84,68,68,68,68,4,4,4,4,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,197,181,165,5,148,148,116,116,52,52,36,36,131,131,131,131,99,99,99,99,83,83,83,83,67,67,67,67,19,19,19,19,181,149,164,164,132,132,36,36,20,20,4,4,115,115,115,115,99,99,99,99,83,83,83,83,67,67,67,67,51,51,51,51,166,6,21,21,132,132,132,132,147,147,147,147,147,147,147,147,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,83,83,83,83,83,83,83,83,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,150,6,21,21,116,116,116,116,131,131,131,131,131,131,131,131,99,99,99,99,99,99,99,99,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,134,6,37,37,20,20,20,20,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,22,6,117,117,36,36,36,36,83,83,83,83,83,83,83,83,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,21,5,100,100,35,35,35,35,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,4,20,35,35,51,51,83,83,65,65,65,65,65,65,65,65,4,20,67,67,34,34,34,34,49,49,49,49,49,49,49,49,3,19,50,50,33,33,33,33,2,18,33,33,17,1,34,18,1,1,50,34,18,2,67,51,34,34,18,18,2,2,83,67,51,35,18,18,2,2,19,35,67,51,99,83,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,5,6,7,8,9,10,12,13,15,17,20,22,25,28,32,36,40,45,50,56,63,71,80,90,101,113,127,144,162,182,203,226,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,3,3,3,3,4,4,4,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,2,1,2,3,1,2,3,2,2,3,2,2,4,2,3,4,2,3,4,3,3,5,3,4,6,3,4,6,4,5,7,4,5,8,4,6,9,5,7,10,6,8,11,6,8,13,7,10,14,8,11,16,9,12,18,10,13,20,11,15,23,13,17,25,68,69,67,79,68,69,82,32,73,78,73,84,73,65,76,73,90,65,84,73,79,78,32,70,65,73,76,69,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}assert(tempDoublePtr%8==0);var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===("undefined"==typeof navigator?"undefined":(0,_typeof2.default)(navigator))&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function _pthread_cleanup_push(e,t){__ATEXIT__.push((function(){Runtime.dynCall("vi",e,[t])})),_pthread_cleanup_push.level=__ATEXIT__.length}function _broadwayOnPictureDecoded(e,t,r){par_broadwayOnPictureDecoded(e,t,r)}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function _abort(){Module.abort()}function _emscripten_memcpy_big(e,t,r){return HEAPU8.set(HEAPU8.subarray(t,t+r),e),e}Module._memset=_memset,Module._broadwayOnPictureDecoded=_broadwayOnPictureDecoded,Module._memcpy=_memcpy;var SYSCALLS={varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall6(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var r=DYNAMICTOP;return 0==e||t.alloc(e)?r:-1>>>0}function _broadwayOnHeadersDecoded(){par_broadwayOnHeadersDecoded()}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _pthread_self(){return 0}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get(),i=SYSCALLS.get(),a=SYSCALLS.get(),s=o;return assert(0===n),FS.llseek(r,s,a),HEAP32[i>>2]=r.position,r.getdents&&0===s&&0===a&&(r.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{SYSCALLS.get();var r=SYSCALLS.get(),n=SYSCALLS.get(),o=0;___syscall146.buffer||(___syscall146.buffer=[]);for(var i=___syscall146.buffer,a=0;a<n;a++){for(var s=HEAP32[r+8*a>>2],u=HEAP32[r+(8*a+4)>>2],c=0;c<u;c++){var l=HEAPU8[s+c];0===l||10===l?(Module.print(UTF8ArrayToString(i,0)),i.length=0):i.push(l)}o+=u}return o}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall54(e,t){SYSCALLS.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiii(e,t,r,n){try{return Module.dynCall_iiii(e,t,r,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,t,r,n,o,i){try{Module.dynCall_viiiii(e,t,r,n,o,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}Module._broadwayOnHeadersDecoded=_broadwayOnHeadersDecoded,STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack"),Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,invoke_ii:invoke_ii,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_vi:invoke_vi,_broadwayOnPictureDecoded:_broadwayOnPictureDecoded,_pthread_cleanup_pop:_pthread_cleanup_pop,_pthread_self:_pthread_self,___syscall6:___syscall6,___setErrNo:___setErrNo,_abort:_abort,_sbrk:_sbrk,_time:_time,_pthread_cleanup_push:_pthread_cleanup_push,_emscripten_memcpy_big:_emscripten_memcpy_big,___syscall54:___syscall54,_broadwayOnHeadersDecoded:_broadwayOnHeadersDecoded,___syscall140:___syscall140,_sysconf:_sysconf,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT};var asm=function(e,t,r){"use asm";var n=new e.Int8Array(r);var o=new e.Int16Array(r);var i=new e.Int32Array(r);var a=new e.Uint8Array(r);var s=new e.Uint16Array(r);var u=new e.Uint32Array(r);var c=new e.Float32Array(r);var l=new e.Float64Array(r);var f=t.STACKTOP|0;var d=t.STACK_MAX|0;var h=t.tempDoublePtr|0;var p=t.ABORT|0;var v=0;var y=0;var g=0;var m=0;var b=e.NaN;var w=e.Infinity;var T=0;var _=0;var k=0;var E=0;var C=0.0;var S=0;var A=0;var R=0;var O=0.0;var M=0;var I=0;var P=0;var x=0;var L=0;var D=0;var N=0;var G=0;var F=0;var B=0;var j=e.Math.floor;var U=e.Math.abs;var V=e.Math.sqrt;var H=e.Math.pow;var K=e.Math.cos;var W=e.Math.sin;var Y=e.Math.tan;var q=e.Math.acos;var z=e.Math.asin;var J=e.Math.atan;var X=e.Math.atan2;var Q=e.Math.exp;var Z=e.Math.log;var $=e.Math.ceil;var ee=e.Math.imul;var te=e.Math.min;var re=e.Math.clz32;var ne=t.abort;var oe=t.assert;var ie=t.invoke_ii;var ae=t.invoke_iiii;var se=t.invoke_viiiii;var ue=t.invoke_vi;var ce=t._broadwayOnPictureDecoded;var le=t._pthread_cleanup_pop;var fe=t._pthread_self;var de=t.___syscall6;var he=t.___setErrNo;var pe=t._abort;var ve=t._sbrk;var ye=t._time;var ge=t._pthread_cleanup_push;var me=t._emscripten_memcpy_big;var be=t.___syscall54;var we=t._broadwayOnHeadersDecoded;var Te=t.___syscall140;var _e=t._sysconf;var ke=t.___syscall146;var Ee=0.0;function Ce(e){e=e|0;var t=0;t=f;f=f+e|0;f=f+15&-16;return t|0}function Se(){return f|0}function Ae(e){e=e|0;f=e}function Re(e,t){e=e|0;t=t|0;f=e;d=t}function Oe(e,t){e=e|0;t=t|0;if(!v){v=e;y=t}}function Me(e){e=e|0;n[h>>0]=n[e>>0];n[h+1>>0]=n[e+1>>0];n[h+2>>0]=n[e+2>>0];n[h+3>>0]=n[e+3>>0]}function Ie(e){e=e|0;n[h>>0]=n[e>>0];n[h+1>>0]=n[e+1>>0];n[h+2>>0]=n[e+2>>0];n[h+3>>0]=n[e+3>>0];n[h+4>>0]=n[e+4>>0];n[h+5>>0]=n[e+5>>0];n[h+6>>0]=n[e+6>>0];n[h+7>>0]=n[e+7>>0]}function Pe(e){e=e|0;M=e}function xe(){return M|0}function Le(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var o=0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;o=a[5472+t>>0]|0;c=a[5524+t>>0]|0;s=i[8+(c*12|0)>>2]<<o;t=i[8+(c*12|0)+4>>2]<<o;o=i[8+(c*12|0)+8>>2]<<o;if(!r){i[e>>2]=ee(i[e>>2]|0,s)|0}e:do{if(!(n&65436)){if(n&98){c=ee(i[e+4>>2]|0,t)|0;l=ee(i[e+20>>2]|0,s)|0;s=ee(i[e+24>>2]|0,t)|0;o=i[e>>2]|0;n=l+32+o+((s>>1)+c)>>6;i[e>>2]=n;r=o-l+32+((c>>1)-s)>>6;i[e+4>>2]=r;u=o-l+32-((c>>1)-s)>>6;i[e+8>>2]=u;c=l+32+o-((s>>1)+c)>>6;i[e+12>>2]=c;i[e+48>>2]=n;i[e+32>>2]=n;i[e+16>>2]=n;i[e+52>>2]=r;i[e+36>>2]=r;i[e+20>>2]=r;i[e+56>>2]=u;i[e+40>>2]=u;i[e+24>>2]=u;i[e+60>>2]=c;i[e+44>>2]=c;i[e+28>>2]=c;if((n+512|r+512|u+512|c+512)>>>0>1023){t=1}else{break}return t|0}t=(i[e>>2]|0)+32>>6;if((t+512|0)>>>0>1023){l=1;return l|0}i[e+60>>2]=t;i[e+56>>2]=t;i[e+52>>2]=t;i[e+48>>2]=t;i[e+44>>2]=t;i[e+40>>2]=t;i[e+36>>2]=t;i[e+32>>2]=t;i[e+28>>2]=t;i[e+24>>2]=t;i[e+20>>2]=t;i[e+16>>2]=t;i[e+12>>2]=t;i[e+8>>2]=t;i[e+4>>2]=t;i[e>>2]=t;break}else{n=ee(i[e+4>>2]|0,t)|0;u=ee(i[e+56>>2]|0,t)|0;f=ee(i[e+60>>2]|0,o)|0;d=ee(i[e+8>>2]|0,t)|0;g=ee(i[e+20>>2]|0,s)|0;p=ee(i[e+16>>2]|0,o)|0;m=ee(i[e+32>>2]|0,t)|0;r=ee(i[e+12>>2]|0,s)|0;y=ee(i[e+24>>2]|0,t)|0;h=ee(i[e+28>>2]|0,t)|0;v=ee(i[e+48>>2]|0,o)|0;l=ee(i[e+36>>2]|0,t)|0;o=ee(i[e+40>>2]|0,o)|0;s=ee(i[e+44>>2]|0,s)|0;b=ee(i[e+52>>2]|0,t)|0;t=i[e>>2]|0;i[e>>2]=t+g+((y>>1)+n);i[e+4>>2]=t-g+((n>>1)-y);i[e+8>>2]=t-g-((n>>1)-y);i[e+12>>2]=t+g-((y>>1)+n);i[e+16>>2]=(v>>1)+p+(h+d);i[e+20>>2]=(p>>1)-v+(d-h);i[e+24>>2]=d-h-((p>>1)-v);i[e+28>>2]=h+d-((v>>1)+p);i[e+32>>2]=(b>>1)+m+(s+r);i[e+36>>2]=(m>>1)-b+(r-s);i[e+40>>2]=r-s-((m>>1)-b);i[e+44>>2]=s+r-((b>>1)+m);i[e+48>>2]=(f>>1)+o+(u+l);i[e+52>>2]=(o>>1)-f+(l-u);i[e+56>>2]=l-u-((o>>1)-f);i[e+60>>2]=u+l-((f>>1)+o);c=3;r=(b>>1)+m+(s+r)|0;n=t+g+((y>>1)+n)|0;t=(v>>1)+p+(h+d)|0;o=(f>>1)+o+(u+l)|0;while(1){u=(t>>1)-o|0;o=(o>>1)+t|0;s=r+32+n|0;i[e>>2]=s+o>>6;t=n-r+32|0;i[e+16>>2]=t+u>>6;i[e+32>>2]=t-u>>6;i[e+48>>2]=s-o>>6;if(((s+o>>6)+512|(t+u>>6)+512)>>>0>1023){t=1;o=14;break}if(((t-u>>6)+512|(s-o>>6)+512)>>>0>1023){t=1;o=14;break}t=e+4|0;if(!c){break e}r=i[e+36>>2]|0;b=i[e+20>>2]|0;o=i[e+52>>2]|0;e=t;c=c+-1|0;n=i[t>>2]|0;t=b}if((o|0)==14){return t|0}}}while(0);b=0;return b|0}function De(e,t,r,u,c,l,d,h){e=e|0;t=t|0;r=r|0;u=u|0;c=c|0;l=l|0;d=d|0;h=h|0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;var E=0;var C=0;var S=0;var A=0;var R=0;var O=0;var M=0;var I=0;var P=0;var x=0;var L=0;var D=0;var N=0;var G=0;var F=0;var B=0;var j=0;var U=0;var V=0;var H=0;var K=0;var W=0;var Y=0;var q=0;var z=0;var J=0;var X=0;var Q=0;var Z=0;var $=0;Z=f;f=f+80|0;P=i[t>>2]|0;i[e>>2]=P;p=(i[e+196>>2]|0)+1|0;i[e+196>>2]=p;J=i[r+4>>2]|0;X=ee(i[r+8>>2]|0,J)|0;z=i[r>>2]|0;i[r+12>>2]=z+((l-((l>>>0)%(J>>>0)|0)<<8)+(((l>>>0)%(J>>>0)|0)<<4));J=(((l>>>0)%(J>>>0)|0)<<3)+(X<<8)+(l-((l>>>0)%(J>>>0)|0)<<6)|0;i[r+16>>2]=z+J;i[r+20>>2]=z+(J+(X<<6));if((P|0)==31){i[e+20>>2]=0;if(p>>>0>1){o[e+28>>1]=16;o[e+30>>1]=16;o[e+32>>1]=16;o[e+34>>1]=16;o[e+36>>1]=16;o[e+38>>1]=16;o[e+40>>1]=16;o[e+42>>1]=16;o[e+44>>1]=16;o[e+46>>1]=16;o[e+48>>1]=16;o[e+50>>1]=16;o[e+52>>1]=16;o[e+54>>1]=16;o[e+56>>1]=16;o[e+58>>1]=16;o[e+60>>1]=16;o[e+62>>1]=16;o[e+64>>1]=16;o[e+66>>1]=16;o[e+68>>1]=16;o[e+70>>1]=16;o[e+72>>1]=16;o[e+74>>1]=16;h=0;f=Z;return h|0}c=23;v=t+328|0;y=h;p=e+28|0;while(1){o[p>>1]=16;n[y>>0]=i[v>>2];n[y+1>>0]=i[v+4>>2];n[y+2>>0]=i[v+8>>2];n[y+3>>0]=i[v+12>>2];n[y+4>>0]=i[v+16>>2];n[y+5>>0]=i[v+20>>2];n[y+6>>0]=i[v+24>>2];n[y+7>>0]=i[v+28>>2];n[y+8>>0]=i[v+32>>2];n[y+9>>0]=i[v+36>>2];n[y+10>>0]=i[v+40>>2];n[y+11>>0]=i[v+44>>2];n[y+12>>0]=i[v+48>>2];n[y+13>>0]=i[v+52>>2];n[y+14>>0]=i[v+56>>2];n[y+15>>0]=i[v+60>>2];if(!c){break}else{c=c+-1|0;v=v+64|0;y=y+16|0;p=p+2|0}}Ze(r,h);h=0;f=Z;return h|0}do{if(!P){p=e+28|0;y=p+54|0;do{n[p>>0]=0;p=p+1|0}while((p|0)<(y|0));i[e+20>>2]=i[c>>2];g=0}else{p=e+28|0;v=t+272|0;y=p+54|0;do{n[p>>0]=n[v>>0]|0;p=p+1|0;v=v+1|0}while((p|0)<(y|0));v=i[t+8>>2]|0;p=i[c>>2]|0;do{if(v){i[c>>2]=p+v;if((p+v|0)<0){i[c>>2]=p+v+52;p=p+v+52|0;break}if((p+v|0)>51){i[c>>2]=p+v+-52;p=p+v+-52|0}else{p=p+v|0}}}while(0);i[e+20>>2]=p;e:do{if(P>>>0>6){if(!(o[e+76>>1]|0)){g=t+1992|0;v=15;y=t+328|0;c=320;m=e+28|0}else{I=n[5524+p>>0]|0;v=n[5472+p>>0]|0;E=i[t+1872>>2]|0;w=i[t+1884>>2]|0;_=i[t+1880>>2]|0;S=i[t+1896>>2]|0;X=i[t+1876>>2]|0;m=i[t+1888>>2]|0;C=i[t+1892>>2]|0;k=i[t+1912>>2]|0;J=i[t+1900>>2]|0;M=i[t+1904>>2]|0;A=i[t+1908>>2]|0;z=i[t+1916>>2]|0;T=i[t+1864>>2]|0;b=i[t+1868>>2]|0;y=b+m+(T+w)|0;i[t+1864>>2]=y;c=b-m+(T-w)|0;i[t+1868>>2]=c;g=T-w-(b-m)|0;i[t+1872>>2]=g;m=T+w-(b+m)|0;i[t+1876>>2]=m;b=k+_+(C+E)|0;i[t+1880>>2]=b;w=_-k+(E-C)|0;i[t+1884>>2]=w;T=E-C-(_-k)|0;i[t+1888>>2]=T;_=C+E-(k+_)|0;i[t+1892>>2]=_;k=z+S+(A+X)|0;i[t+1896>>2]=k;E=S-z+(X-A)|0;i[t+1900>>2]=E;C=X-A-(S-z)|0;i[t+1904>>2]=C;S=A+X-(z+S)|0;i[t+1908>>2]=S;z=i[t+1920>>2]|0;X=i[t+1924>>2]|0;A=X+M+(z+J)|0;i[t+1912>>2]=A;R=M-X+(J-z)|0;i[t+1916>>2]=R;O=J-z-(M-X)|0;i[t+1920>>2]=O;M=z+J-(X+M)|0;i[t+1924>>2]=M;I=i[8+((I&255)*12|0)>>2]|0;if(p>>>0>11){p=I<<(v&255)+-2;i[t+1864>>2]=ee(A+b+(y+k)|0,p)|0;i[t+1880>>2]=ee(b-A+(y-k)|0,p)|0;i[t+1896>>2]=ee(y-k-(b-A)|0,p)|0;i[t+1912>>2]=ee(y+k-(A+b)|0,p)|0;i[t+1868>>2]=ee(R+w+(c+E)|0,p)|0;i[t+1884>>2]=ee(w-R+(c-E)|0,p)|0;i[t+1900>>2]=ee(c-E-(w-R)|0,p)|0;i[t+1916>>2]=ee(c+E-(R+w)|0,p)|0;i[t+1872>>2]=ee(O+T+(g+C)|0,p)|0;i[t+1888>>2]=ee(T-O+(g-C)|0,p)|0;i[t+1904>>2]=ee(g-C-(T-O)|0,p)|0;i[t+1920>>2]=ee(g+C-(O+T)|0,p)|0;i[t+1876>>2]=ee(M+_+(m+S)|0,p)|0;i[t+1892>>2]=ee(_-M+(m-S)|0,p)|0;i[t+1908>>2]=ee(m-S-(_-M)|0,p)|0;p=ee(m+S-(M+_)|0,p)|0}else{X=(p+-6|0)>>>0<6?1:2;p=2-(v&255)|0;i[t+1864>>2]=(ee(A+b+(y+k)|0,I)|0)+X>>p;i[t+1880>>2]=(ee(b-A+(y-k)|0,I)|0)+X>>p;i[t+1896>>2]=(ee(y-k-(b-A)|0,I)|0)+X>>p;i[t+1912>>2]=(ee(y+k-(A+b)|0,I)|0)+X>>p;i[t+1868>>2]=(ee(R+w+(c+E)|0,I)|0)+X>>p;i[t+1884>>2]=(ee(w-R+(c-E)|0,I)|0)+X>>p;i[t+1900>>2]=(ee(c-E-(w-R)|0,I)|0)+X>>p;i[t+1916>>2]=(ee(c+E-(R+w)|0,I)|0)+X>>p;i[t+1872>>2]=(ee(O+T+(g+C)|0,I)|0)+X>>p;i[t+1888>>2]=(ee(T-O+(g-C)|0,I)|0)+X>>p;i[t+1904>>2]=(ee(g-C-(T-O)|0,I)|0)+X>>p;i[t+1920>>2]=(ee(g+C-(O+T)|0,I)|0)+X>>p;i[t+1876>>2]=(ee(M+_+(m+S)|0,I)|0)+X>>p;i[t+1892>>2]=(ee(_-M+(m-S)|0,I)|0)+X>>p;i[t+1908>>2]=(ee(m-S-(_-M)|0,I)|0)+X>>p;p=(ee(m+S-(M+_)|0,I)|0)+X>>p}i[t+1924>>2]=p;g=t+1992|0;v=15;y=t+328|0;c=320;m=e+28|0}while(1){X=i[t+1864+(i[c>>2]<<2)>>2]|0;c=c+4|0;i[y>>2]=X;if((X|0)==0?(o[m>>1]|0)==0:0){i[y>>2]=16777215}else{Q=21}if((Q|0)==21?(Q=0,(Le(y,i[e+20>>2]|0,1,i[g>>2]|0)|0)!=0):0){p=1;break}b=m+2|0;p=g+4|0;if(!v){c=g;T=m;break e}else{g=p;v=v+-1|0;y=y+64|0;m=b}}f=Z;return p|0}c=t+1992|0;v=15;y=t+328|0;g=e+28|0;while(1){if(o[g>>1]|0){if(Le(y,i[e+20>>2]|0,0,i[c>>2]|0)|0){p=1;break}}else{i[y>>2]=16777215}m=g+2|0;p=c+4|0;if(!v){T=g;b=m;break e}else{c=p;v=v+-1|0;y=y+64|0;g=m}}f=Z;return p|0}while(0);v=(i[e+24>>2]|0)+(i[e+20>>2]|0)|0;v=(v|0)<0?0:(v|0)>51?51:v;w=i[80+(v<<2)>>2]|0;if((o[e+78>>1]|0)==0?(o[e+80>>1]|0)==0:0){m=t+1932|0;g=i[t+1928>>2]|0}else{g=i[8+((a[5524+w>>0]|0)*12|0)>>2]|0;if((v+-6|0)>>>0<46){g=g<<(a[5472+w>>0]|0)+-1;v=0}else{v=1}m=i[t+1928>>2]|0;J=i[t+1936>>2]|0;z=i[t+1932>>2]|0;q=i[t+1940>>2]|0;X=(ee(q+z+(J+m)|0,g)|0)>>v;i[t+1928>>2]=X;i[t+1932>>2]=(ee(J+m-(q+z)|0,g)|0)>>v;i[t+1936>>2]=(ee(z-q+(m-J)|0,g)|0)>>v;i[t+1940>>2]=(ee(m-J-(z-q)|0,g)|0)>>v;q=i[t+1944>>2]|0;z=i[t+1952>>2]|0;J=i[t+1948>>2]|0;m=i[t+1956>>2]|0;i[t+1944>>2]=(ee(m+J+(z+q)|0,g)|0)>>v;i[t+1948>>2]=(ee(z+q-(m+J)|0,g)|0)>>v;i[t+1952>>2]=(ee(J-m+(q-z)|0,g)|0)>>v;i[t+1956>>2]=(ee(q-z-(J-m)|0,g)|0)>>v;m=t+1932|0;g=X}v=y+64|0;i[v>>2]=g;if((g|0)==0?(o[b>>1]|0)==0:0){i[v>>2]=16777215}else{Q=36}if((Q|0)==36?(Le(v,w,1,i[p>>2]|0)|0)!=0:0){h=1;f=Z;return h|0}v=c+8|0;X=i[m>>2]|0;p=y+128|0;i[p>>2]=X;if((X|0)==0?(o[T+4>>1]|0)==0:0){i[p>>2]=16777215}else{Q=40}if((Q|0)==40?(Le(p,w,1,i[v>>2]|0)|0)!=0:0){h=1;f=Z;return h|0}p=c+12|0;X=i[t+1936>>2]|0;v=y+192|0;i[v>>2]=X;if((X|0)==0?(o[T+6>>1]|0)==0:0){i[v>>2]=16777215}else{Q=44}if((Q|0)==44?(Le(v,w,1,i[p>>2]|0)|0)!=0:0){h=1;f=Z;return h|0}p=c+16|0;X=i[t+1940>>2]|0;v=y+256|0;i[v>>2]=X;if((X|0)==0?(o[T+8>>1]|0)==0:0){i[v>>2]=16777215}else{Q=48}if((Q|0)==48?(Le(v,w,1,i[p>>2]|0)|0)!=0:0){h=1;f=Z;return h|0}p=c+20|0;X=i[t+1944>>2]|0;v=y+320|0;i[v>>2]=X;if((X|0)==0?(o[T+10>>1]|0)==0:0){i[v>>2]=16777215}else{Q=52}if((Q|0)==52?(Le(v,w,1,i[p>>2]|0)|0)!=0:0){h=1;f=Z;return h|0}p=c+24|0;X=i[t+1948>>2]|0;v=y+384|0;i[v>>2]=X;if((X|0)==0?(o[T+12>>1]|0)==0:0){i[v>>2]=16777215}else{Q=56}if((Q|0)==56?(Le(v,w,1,i[p>>2]|0)|0)!=0:0){h=1;f=Z;return h|0}p=c+28|0;X=i[t+1952>>2]|0;v=y+448|0;i[v>>2]=X;if((X|0)==0?(o[T+14>>1]|0)==0:0){i[v>>2]=16777215}else{Q=60}if((Q|0)==60?(Le(v,w,1,i[p>>2]|0)|0)!=0:0){h=1;f=Z;return h|0}v=c+32|0;X=i[t+1956>>2]|0;p=y+512|0;i[p>>2]=X;if((X|0)==0?(o[T+16>>1]|0)==0:0){i[p>>2]=16777215}else{Q=64}if((Q|0)==64?(Le(p,w,1,i[v>>2]|0)|0)!=0:0){h=1;f=Z;return h|0}if(P>>>0<6){g=i[e>>2]|0;break}do{if(l){P=i[r+4>>2]|0;x=ee(i[r+8>>2]|0,P)|0;L=ee((l>>>0)/(P>>>0)|0,P)|0;v=i[r>>2]|0;p=(l-L<<4)+(ee(P<<8,(l>>>0)/(P>>>0)|0)|0)|0;if((l>>>0)/(P>>>0)|0){I=p-(P<<4|1)|0;n[Z>>0]=n[v+I>>0]|0;n[Z+1>>0]=n[v+(I+1)>>0]|0;n[Z+2>>0]=n[v+(I+2)>>0]|0;n[Z+3>>0]=n[v+(I+3)>>0]|0;n[Z+4>>0]=n[v+(I+4)>>0]|0;n[Z+5>>0]=n[v+(I+5)>>0]|0;n[Z+6>>0]=n[v+(I+6)>>0]|0;n[Z+7>>0]=n[v+(I+7)>>0]|0;n[Z+8>>0]=n[v+(I+8)>>0]|0;n[Z+9>>0]=n[v+(I+9)>>0]|0;n[Z+10>>0]=n[v+(I+10)>>0]|0;n[Z+11>>0]=n[v+(I+11)>>0]|0;n[Z+12>>0]=n[v+(I+12)>>0]|0;n[Z+13>>0]=n[v+(I+13)>>0]|0;n[Z+14>>0]=n[v+(I+14)>>0]|0;n[Z+15>>0]=n[v+(I+15)>>0]|0;n[Z+16>>0]=n[v+(I+16)>>0]|0;n[Z+17>>0]=n[v+(I+17)>>0]|0;n[Z+18>>0]=n[v+(I+18)>>0]|0;n[Z+19>>0]=n[v+(I+19)>>0]|0;n[Z+20>>0]=n[v+(I+20)>>0]|0;I=Z+21|0;D=22;N=23;G=24;F=25;B=26;j=27;U=28;V=29;H=30;K=31;W=32;Y=33;u=34;q=35;z=36;J=37;X=38}else{I=Z;D=1;N=2;G=3;F=4;B=5;j=6;U=7;V=8;H=9;K=10;W=11;Y=12;u=13;q=14;z=15;J=16;X=17}if((L|0)!=(l|0)){n[Z+40>>0]=n[v+(p+-1)>>0]|0;n[Z+40+1>>0]=n[v+(p+-1+(P<<4))>>0]|0;p=p+-1+(P<<4)+(P<<4)|0;n[Z+40+2>>0]=n[v+p>>0]|0;n[Z+40+3>>0]=n[v+(p+(P<<4))>>0]|0;n[Z+40+4>>0]=n[v+(p+(P<<4)+(P<<4))>>0]|0;p=p+(P<<4)+(P<<4)+(P<<4)|0;n[Z+40+5>>0]=n[v+p>>0]|0;n[Z+40+6>>0]=n[v+(p+(P<<4))>>0]|0;n[Z+40+7>>0]=n[v+(p+(P<<4)+(P<<4))>>0]|0;p=p+(P<<4)+(P<<4)+(P<<4)|0;n[Z+40+8>>0]=n[v+p>>0]|0;n[Z+40+9>>0]=n[v+(p+(P<<4))>>0]|0;n[Z+40+10>>0]=n[v+(p+(P<<4)+(P<<4))>>0]|0;p=p+(P<<4)+(P<<4)+(P<<4)|0;n[Z+40+11>>0]=n[v+p>>0]|0;n[Z+40+12>>0]=n[v+(p+(P<<4))>>0]|0;n[Z+40+13>>0]=n[v+(p+(P<<4)+(P<<4))>>0]|0;p=p+(P<<4)+(P<<4)+(P<<4)|0;n[Z+40+14>>0]=n[v+p>>0]|0;n[Z+40+15>>0]=n[v+(p+(P<<4))>>0]|0;p=Z+40+16|0;c=17;g=18;m=19;b=20;w=21;T=22;_=23;k=24;E=25;C=26;S=27;A=28;R=29;O=30;M=31}else{p=Z+40|0;c=1;g=2;m=3;b=4;w=5;T=6;_=7;k=8;E=9;C=10;S=11;A=12;R=13;O=14;M=15}y=i[r>>2]|0;v=(ee(((l>>>0)/(P>>>0)|0)<<3,P<<3&2147483640)|0)+(x<<8)+(l-L<<3)|0;if((l>>>0)/(P>>>0)|0){$=v-(P<<3&2147483640|1)|0;n[I>>0]=n[y+$>>0]|0;n[Z+D>>0]=n[y+($+1)>>0]|0;n[Z+N>>0]=n[y+($+2)>>0]|0;n[Z+G>>0]=n[y+($+3)>>0]|0;n[Z+F>>0]=n[y+($+4)>>0]|0;n[Z+B>>0]=n[y+($+5)>>0]|0;n[Z+j>>0]=n[y+($+6)>>0]|0;n[Z+U>>0]=n[y+($+7)>>0]|0;n[Z+V>>0]=n[y+($+8)>>0]|0;n[Z+H>>0]=n[y+($+(x<<6))>>0]|0;n[Z+K>>0]=n[y+($+(x<<6)+1)>>0]|0;n[Z+W>>0]=n[y+($+(x<<6)+2)>>0]|0;n[Z+Y>>0]=n[y+($+(x<<6)+3)>>0]|0;n[Z+u>>0]=n[y+($+(x<<6)+4)>>0]|0;n[Z+q>>0]=n[y+($+(x<<6)+5)>>0]|0;n[Z+z>>0]=n[y+($+(x<<6)+6)>>0]|0;n[Z+J>>0]=n[y+($+(x<<6)+7)>>0]|0;n[Z+X>>0]=n[y+($+(x<<6)+8)>>0]|0}if((L|0)==(l|0)){break}n[p>>0]=n[y+(v+-1)>>0]|0;n[Z+40+c>>0]=n[y+(v+-1+(P<<3&2147483640))>>0]|0;$=v+-1+(P<<3&2147483640)+(P<<3&2147483640)|0;n[Z+40+g>>0]=n[y+$>>0]|0;n[Z+40+m>>0]=n[y+($+(P<<3&2147483640))>>0]|0;n[Z+40+b>>0]=n[y+($+(P<<3&2147483640)+(P<<3&2147483640))>>0]|0;$=$+(P<<3&2147483640)+(P<<3&2147483640)+(P<<3&2147483640)|0;n[Z+40+w>>0]=n[y+$>>0]|0;n[Z+40+T>>0]=n[y+($+(P<<3&2147483640))>>0]|0;n[Z+40+_>>0]=n[y+($+(P<<3&2147483640)+(P<<3&2147483640))>>0]|0;$=(x-P<<6)+(P<<3&2147483640)+($+(P<<3&2147483640)+(P<<3&2147483640))|0;n[Z+40+k>>0]=n[y+$>>0]|0;n[Z+40+E>>0]=n[y+($+(P<<3&2147483640))>>0]|0;n[Z+40+C>>0]=n[y+($+(P<<3&2147483640)+(P<<3&2147483640))>>0]|0;$=$+(P<<3&2147483640)+(P<<3&2147483640)+(P<<3&2147483640)|0;n[Z+40+S>>0]=n[y+$>>0]|0;n[Z+40+A>>0]=n[y+($+(P<<3&2147483640))>>0]|0;n[Z+40+R>>0]=n[y+($+(P<<3&2147483640)+(P<<3&2147483640))>>0]|0;$=$+(P<<3&2147483640)+(P<<3&2147483640)+(P<<3&2147483640)|0;n[Z+40+O>>0]=n[y+$>>0]|0;n[Z+40+M>>0]=n[y+($+(P<<3&2147483640))>>0]|0}}while(0);m=i[e>>2]|0;e:do{if(m>>>0>6){p=i[e+200>>2]|0;do{if(!p){g=(d|0)!=0;c=0}else{v=(i[e+4>>2]|0)==(i[p+4>>2]|0);if(!((d|0)!=0&v)){g=(d|0)!=0;c=v&1;break}g=1;c=(i[p>>2]|0)>>>0<6?0:v&1}}while(0);p=i[e+204>>2]|0;do{if(!p){y=0}else{v=(i[e+4>>2]|0)==(i[p+4>>2]|0);if(!(g&v)){y=v&1;break}y=(i[p>>2]|0)>>>0<6?0:v&1}}while(0);p=i[e+212>>2]|0;do{if(!p){p=0}else{v=(i[e+4>>2]|0)==(i[p+4>>2]|0);if(!(g&v)){p=v&1;break}p=(i[p>>2]|0)>>>0<6?0:v&1}}while(0);switch(m+1&3|0){case 0:{if(!y){break e}p=h;v=0;while(1){n[p>>0]=n[Z+1>>0]|0;n[p+1>>0]=n[Z+2>>0]|0;n[p+2>>0]=n[Z+3>>0]|0;n[p+3>>0]=n[Z+4>>0]|0;n[p+4>>0]=n[Z+5>>0]|0;n[p+5>>0]=n[Z+6>>0]|0;n[p+6>>0]=n[Z+7>>0]|0;n[p+7>>0]=n[Z+8>>0]|0;n[p+8>>0]=n[Z+9>>0]|0;n[p+9>>0]=n[Z+10>>0]|0;n[p+10>>0]=n[Z+11>>0]|0;n[p+11>>0]=n[Z+12>>0]|0;n[p+12>>0]=n[Z+13>>0]|0;n[p+13>>0]=n[Z+14>>0]|0;n[p+14>>0]=n[Z+15>>0]|0;n[p+15>>0]=n[Z+16>>0]|0;v=v+1|0;if((v|0)==16){break}else{p=p+16|0}}break}case 1:{if(!c){break e}else{p=h;v=0}while(1){$=Z+40+v|0;n[p>>0]=n[$>>0]|0;n[p+1>>0]=n[$>>0]|0;n[p+2>>0]=n[$>>0]|0;n[p+3>>0]=n[$>>0]|0;n[p+4>>0]=n[$>>0]|0;n[p+5>>0]=n[$>>0]|0;n[p+6>>0]=n[$>>0]|0;n[p+7>>0]=n[$>>0]|0;n[p+8>>0]=n[$>>0]|0;n[p+9>>0]=n[$>>0]|0;n[p+10>>0]=n[$>>0]|0;n[p+11>>0]=n[$>>0]|0;n[p+12>>0]=n[$>>0]|0;n[p+13>>0]=n[$>>0]|0;n[p+14>>0]=n[$>>0]|0;n[p+15>>0]=n[$>>0]|0;v=v+1|0;if((v|0)==16){break}else{p=p+16|0}}break}case 2:{v=(c|0)!=0;p=(y|0)!=0;do{if(v&p){p=((a[Z+1>>0]|0)+16+(a[Z+40>>0]|0)+(a[Z+2>>0]|0)+(a[Z+40+1>>0]|0)+(a[Z+3>>0]|0)+(a[Z+40+2>>0]|0)+(a[Z+4>>0]|0)+(a[Z+40+3>>0]|0)+(a[Z+5>>0]|0)+(a[Z+40+4>>0]|0)+(a[Z+6>>0]|0)+(a[Z+40+5>>0]|0)+(a[Z+7>>0]|0)+(a[Z+40+6>>0]|0)+(a[Z+8>>0]|0)+(a[Z+40+7>>0]|0)+(a[Z+9>>0]|0)+(a[Z+40+8>>0]|0)+(a[Z+10>>0]|0)+(a[Z+40+9>>0]|0)+(a[Z+11>>0]|0)+(a[Z+40+10>>0]|0)+(a[Z+12>>0]|0)+(a[Z+40+11>>0]|0)+(a[Z+13>>0]|0)+(a[Z+40+12>>0]|0)+(a[Z+14>>0]|0)+(a[Z+40+13>>0]|0)+(a[Z+15>>0]|0)+(a[Z+40+14>>0]|0)+(a[Z+16>>0]|0)+(a[Z+40+15>>0]|0)|0)>>>5}else{if(v){p=((a[Z+40>>0]|0)+8+(a[Z+40+1>>0]|0)+(a[Z+40+2>>0]|0)+(a[Z+40+3>>0]|0)+(a[Z+40+4>>0]|0)+(a[Z+40+5>>0]|0)+(a[Z+40+6>>0]|0)+(a[Z+40+7>>0]|0)+(a[Z+40+8>>0]|0)+(a[Z+40+9>>0]|0)+(a[Z+40+10>>0]|0)+(a[Z+40+11>>0]|0)+(a[Z+40+12>>0]|0)+(a[Z+40+13>>0]|0)+(a[Z+40+14>>0]|0)+(a[Z+40+15>>0]|0)|0)>>>4;break}if(!p){p=128;break}p=((a[Z+1>>0]|0)+8+(a[Z+2>>0]|0)+(a[Z+3>>0]|0)+(a[Z+4>>0]|0)+(a[Z+5>>0]|0)+(a[Z+6>>0]|0)+(a[Z+7>>0]|0)+(a[Z+8>>0]|0)+(a[Z+9>>0]|0)+(a[Z+10>>0]|0)+(a[Z+11>>0]|0)+(a[Z+12>>0]|0)+(a[Z+13>>0]|0)+(a[Z+14>>0]|0)+(a[Z+15>>0]|0)+(a[Z+16>>0]|0)|0)>>>4}}while(0);bt(h|0,p&255|0,256)|0;break}default:{if(!((c|0)!=0&(y|0)!=0&(p|0)!=0)){break e}p=a[Z+16>>0]|0;v=a[Z+40+15>>0]|0;c=a[Z>>0]|0;y=(((a[Z+9>>0]|0)-(a[Z+7>>0]|0)+((a[Z+10>>0]|0)-(a[Z+6>>0]|0)<<1)+(((a[Z+11>>0]|0)-(a[Z+5>>0]|0)|0)*3|0)+((a[Z+12>>0]|0)-(a[Z+4>>0]|0)<<2)+(((a[Z+13>>0]|0)-(a[Z+3>>0]|0)|0)*5|0)+(((a[Z+14>>0]|0)-(a[Z+2>>0]|0)|0)*6|0)+(((a[Z+15>>0]|0)-(a[Z+1>>0]|0)|0)*7|0)+(p-c<<3)|0)*5|0)+32>>6;c=(((a[Z+40+8>>0]|0)-(a[Z+40+6>>0]|0)+(v-c<<3)+((a[Z+40+9>>0]|0)-(a[Z+40+5>>0]|0)<<1)+(((a[Z+40+10>>0]|0)-(a[Z+40+4>>0]|0)|0)*3|0)+((a[Z+40+11>>0]|0)-(a[Z+40+3>>0]|0)<<2)+(((a[Z+40+12>>0]|0)-(a[Z+40+2>>0]|0)|0)*5|0)+(((a[Z+40+13>>0]|0)-(a[Z+40+1>>0]|0)|0)*6|0)+(((a[Z+40+14>>0]|0)-(a[Z+40>>0]|0)|0)*7|0)|0)*5|0)+32>>6;b=0;do{g=(v+p<<4)+16+(ee(b+-7|0,c)|0)|0;m=b<<4;w=0;do{$=g+(ee(w+-7|0,y)|0)>>5;n[h+(w+m)>>0]=($|0)<0?0:($|0)>255?-1:$&255;w=w+1|0}while((w|0)!=16);b=b+1|0}while((b|0)!=16)}}je(h,t+328|0,0);je(h,t+392|0,1);je(h,t+456|0,2);je(h,t+520|0,3);je(h,t+584|0,4);je(h,t+648|0,5);je(h,t+712|0,6);je(h,t+776|0,7);je(h,t+840|0,8);je(h,t+904|0,9);je(h,t+968|0,10);je(h,t+1032|0,11);je(h,t+1096|0,12);je(h,t+1160|0,13);je(h,t+1224|0,14);je(h,t+1288|0,15);p=e+200|0;Q=179}else{F=0;while(1){$=384+(F<<3)|0;m=i[$+4>>2]|0;switch(i[$>>2]|0){case 0:{p=e+200|0;Q=113;break}case 1:{p=e+204|0;Q=113;break}case 2:{p=e+208|0;Q=113;break}case 3:{p=e+212|0;Q=113;break}case 4:{p=e;Q=114;break}default:{g=0;y=0}}if((Q|0)==113){Q=0;p=i[p>>2]|0;if(!p){g=0;y=0}else{Q=114}}do{if((Q|0)==114){v=(i[e+4>>2]|0)==(i[p+4>>2]|0);if(!((d|0)!=0&v)){g=p;y=v&1;break}g=p;y=(i[p>>2]|0)>>>0<6?0:v&1}}while(0);$=576+(F<<3)|0;c=i[$+4>>2]|0;switch(i[$>>2]|0){case 0:{p=e+200|0;Q=120;break}case 1:{p=e+204|0;Q=120;break}case 2:{p=e+208|0;Q=120;break}case 3:{p=e+212|0;Q=120;break}case 4:{p=e;Q=122;break}default:Q=121}if((Q|0)==120){p=i[p>>2]|0;if(!p){Q=121}else{Q=122}}do{if((Q|0)==121){Q=0;R=0;A=0;S=(y|0)!=0;p=2}else if((Q|0)==122){Q=0;v=(i[e+4>>2]|0)==(i[p+4>>2]|0);if((d|0)!=0&v){v=(i[p>>2]|0)>>>0<6?0:v&1}else{v=v&1}y=(y|0)!=0;v=(v|0)!=0;if(!(y&v)){R=0;A=v;S=y;p=2;break}if((i[g>>2]|0)==6){v=a[(m&255)+(g+82)>>0]|0}else{v=2}if((i[p>>2]|0)==6){p=a[(c&255)+(p+82)>>0]|0}else{p=2}R=1;A=1;S=1;p=v>>>0<p>>>0?v:p}}while(0);if(!(i[t+12+(F<<2)>>2]|0)){$=i[t+76+(F<<2)>>2]|0;p=($>>>0>=p>>>0&1)+$|0}n[e+82+F>>0]=p;switch(i[768+(F<<3)>>2]|0){case 0:{v=e+200|0;Q=136;break}case 1:{v=e+204|0;Q=136;break}case 2:{v=e+208|0;Q=136;break}case 3:{v=e+212|0;Q=136;break}case 4:{v=e;Q=137;break}default:C=0}if((Q|0)==136){Q=0;v=i[v>>2]|0;if(!v){C=0}else{Q=137}}do{if((Q|0)==137){Q=0;y=(i[e+4>>2]|0)==(i[v+4>>2]|0);if(!((d|0)!=0&y)){C=y&1;break}C=(i[v>>2]|0)>>>0<6?0:y&1}}while(0);switch(i[960+(F<<3)>>2]|0){case 0:{v=e+200|0;Q=143;break}case 1:{v=e+204|0;Q=143;break}case 2:{v=e+208|0;Q=143;break}case 3:{v=e+212|0;Q=143;break}case 4:{v=e;Q=144;break}default:E=0}if((Q|0)==143){Q=0;v=i[v>>2]|0;if(!v){E=0}else{Q=144}}do{if((Q|0)==144){Q=0;y=(i[e+4>>2]|0)==(i[v+4>>2]|0);if(!((d|0)!=0&y)){E=y&1;break}E=(i[v>>2]|0)>>>0<6?0:y&1}}while(0);N=i[1152+(F<<2)>>2]|0;G=i[1216+(F<<2)>>2]|0;w=(1285>>>F&1|0)!=0;if(w){y=Z+40+(G+1)|0;v=Z+40+G|0;c=Z+40+(G+3)|0;g=Z+40+(G+2)|0}else{y=h+((G<<4)+N+15)|0;v=h+((G<<4)+N+-1)|0;c=h+((G<<4)+N+47)|0;g=h+((G<<4)+N+31)|0}D=n[v>>0]|0;L=n[y>>0]|0;x=n[c>>0]|0;P=n[g>>0]|0;do{if(!(51>>>F&1)){v=(G+-1<<4)+N|0;y=n[h+v>>0]|0;g=n[h+(v+1)>>0]|0;m=n[h+(v+2)>>0]|0;T=n[h+(v+3)>>0]|0;k=n[h+(v+4)>>0]|0;c=n[h+(v+5)>>0]|0;_=n[h+(v+6)>>0]|0;b=n[h+(v+7)>>0]|0;if(w){w=Z+40+(G+-1)|0;I=T;M=_;v=k;break}else{w=h+(v+-1)|0;I=T;M=_;v=k;break}}else{w=Z+N|0;y=n[Z+(N+1)>>0]|0;g=n[Z+(N+2)>>0]|0;m=n[Z+(N+3)>>0]|0;I=n[Z+(N+4)>>0]|0;b=n[Z+(N+8)>>0]|0;M=n[Z+(N+7)>>0]|0;c=n[Z+(N+6)>>0]|0;v=n[Z+(N+5)>>0]|0}}while(0);O=n[w>>0]|0;switch(p|0){case 0:{if(!A){break e}v=I;c=m;b=g;w=y;T=I;_=m;k=g;E=y;C=I;S=m;A=g;R=y;p=(m&255)<<16|(I&255)<<24|(g&255)<<8|y&255;break}case 1:{if(!S){break e}w=ee(D&255,16843009)|0;E=ee(L&255,16843009)|0;R=ee(P&255,16843009)|0;v=w>>>24&255;c=w>>>16&255;b=w>>>8&255;w=w&255;T=E>>>24&255;_=E>>>16&255;k=E>>>8&255;E=E&255;C=R>>>24&255;S=R>>>16&255;A=R>>>8&255;R=R&255;p=ee(x&255,16843009)|0;break}case 2:{do{if(R){p=((D&255)+4+(L&255)+(x&255)+(P&255)+(I&255)+(m&255)+(g&255)+(y&255)|0)>>>3}else{if(S){p=((D&255)+2+(L&255)+(x&255)+(P&255)|0)>>>2;break}if(!A){p=128;break}p=((I&255)+2+(m&255)+(g&255)+(y&255)|0)>>>2}}while(0);p=ee(p&255,16843009)|0;v=p>>>24&255;c=p>>>16&255;b=p>>>8&255;w=p&255;T=p>>>24&255;_=p>>>16&255;k=p>>>8&255;E=p&255;C=p>>>24&255;S=p>>>16&255;A=p>>>8&255;R=p&255;break}case 3:{if(!A){break e}$=(C|0)==0;E=g&255;R=m&255;J=I&255;X=($?I:v)&255;l=($?I:c)&255;A=(J+2+l+(X<<1)|0)>>>2&255;p=($?I:M)&255;S=(X+2+p+(l<<1)|0)>>>2&255;$=($?I:b)&255;v=A;c=(X+(J<<1)+(R+2)|0)>>>2&255;b=(E+(J+2)+(R<<1)|0)>>>2&255;w=((y&255)+(R+2)+(E<<1)|0)>>>2&255;T=S;_=A;k=(X+(J<<1)+(R+2)|0)>>>2&255;E=(E+(J+2)+(R<<1)|0)>>>2&255;C=(l+2+$+(p<<1)|0)>>>2&255;R=(X+(J<<1)+(R+2)|0)>>>2&255;p=(J+2+l+(X<<1)|0)>>>2&255|(p+2+($*3|0)|0)>>>2<<24|(X+2+p+(l<<1)|0)>>>2<<8&65280|(l+2+$+(p<<1)|0)>>>2<<16&16711680;break}case 4:{if(!(R&(E|0)!=0)){break e}p=y&255;S=(p+2+(D&255)+((O&255)<<1)|0)>>>2&255;C=g&255;T=m&255;A=((L&255)+((D&255)<<1)+((O&255)+2)|0)>>>2&255;v=((I&255)+2+C+(T<<1)|0)>>>2&255;c=((C<<1)+T+(p+2)|0)>>>2&255;b=((p<<1)+C+((O&255)+2)|0)>>>2&255;w=S;T=((C<<1)+T+(p+2)|0)>>>2&255;_=((p<<1)+C+((O&255)+2)|0)>>>2&255;k=S;E=A;C=((p<<1)+C+((O&255)+2)|0)>>>2&255;R=((D&255)+2+((L&255)<<1)+(P&255)|0)>>>2&255;p=((L&255)+2+(x&255)+((P&255)<<1)|0)>>>2&255|((D&255)+2+((L&255)<<1)+(P&255)|0)>>>2<<8&65280|(p+2+(D&255)+((O&255)<<1)|0)>>>2<<24|((L&255)+((D&255)<<1)+((O&255)+2)|0)>>>2<<16&16711680;break}case 5:{if(!(R&(E|0)!=0)){break e}p=y&255;$=g&255;l=m&255;T=I&255;v=(T+1+l|0)>>>1&255;c=(l+1+$|0)>>>1&255;b=($+1+p|0)>>>1&255;w=(p+1+(O&255)|0)>>>1&255;T=(T+2+$+(l<<1)|0)>>>2&255;_=(($<<1)+l+(p+2)|0)>>>2&255;k=($+2+(p<<1)+(O&255)|0)>>>2&255;E=(p+2+(D&255)+((O&255)<<1)|0)>>>2&255;C=(l+1+$|0)>>>1&255;S=($+1+p|0)>>>1&255;A=(p+1+(O&255)|0)>>>1&255;R=((L&255)+2+((D&255)<<1)+(O&255)|0)>>>2&255;p=(($<<1)+l+(p+2)|0)>>>2<<24|((D&255)+2+((L&255)<<1)+(P&255)|0)>>>2&255|($+2+(p<<1)+(O&255)|0)>>>2<<16&16711680|(p+2+(D&255)+((O&255)<<1)|0)>>>2<<8&65280;break}case 6:{if(!(R&(E|0)!=0)){break e}T=y&255;c=g&255;v=((m&255)+2+(c<<1)+T|0)>>>2&255;c=(c+2+(T<<1)+(O&255)|0)>>>2&255;b=(T+((D&255)+2)+((O&255)<<1)|0)>>>2&255;w=((O&255)+((D&255)+1)|0)>>>1&255;T=(T+((D&255)+2)+((O&255)<<1)|0)>>>2&255;_=((O&255)+((D&255)+1)|0)>>>1&255;k=(((D&255)<<1)+2+(L&255)+(O&255)|0)>>>2&255;E=((D&255)+1+(L&255)|0)>>>1&255;C=(((D&255)<<1)+2+(L&255)+(O&255)|0)>>>2&255;S=((D&255)+1+(L&255)|0)>>>1&255;A=(((L&255)<<1)+((D&255)+2)+(P&255)|0)>>>2&255;R=((L&255)+1+(P&255)|0)>>>1&255;p=((x&255)+1+(P&255)|0)>>>1&255|(((L&255)<<1)+((D&255)+2)+(P&255)|0)>>>2<<24|((L&255)+1+(P&255)|0)>>>1<<16&16711680|(L&255)+2+(x&255)+((P&255)<<1)<<6&65280;break}case 7:{if(!A){break e}J=(C|0)==0;E=y&255;z=g&255;p=m&255;$=I&255;l=(J?I:v)&255;X=(J?I:c)&255;v=($+1+l|0)>>>1&255;c=($+1+p|0)>>>1&255;b=(p+1+z|0)>>>1&255;w=(z+1+E|0)>>>1&255;T=($+2+X+(l<<1)|0)>>>2&255;_=(l+($<<1)+(p+2)|0)>>>2&255;k=(z+($+2)+(p<<1)|0)>>>2&255;E=(E+(p+2)+(z<<1)|0)>>>2&255;C=(l+1+X|0)>>>1&255;S=($+1+l|0)>>>1&255;A=($+1+p|0)>>>1&255;R=(p+1+z|0)>>>1&255;p=(z+($+2)+(p<<1)|0)>>>2&255|(l+2+((J?I:M)&255)+(X<<1)|0)>>>2<<24|($+2+X+(l<<1)|0)>>>2<<16&16711680|(l+($<<1)+(p+2)|0)>>>2<<8&65280;break}default:{if(!S){break e}v=((L&255)+2+(x&255)+((P&255)<<1)|0)>>>2&255;c=((L&255)+1+(P&255)|0)>>>1&255;b=((D&255)+2+((L&255)<<1)+(P&255)|0)>>>2&255;w=((D&255)+1+(L&255)|0)>>>1&255;T=((P&255)+2+((x&255)*3|0)|0)>>>2&255;_=((x&255)+1+(P&255)|0)>>>1&255;k=((L&255)+2+(x&255)+((P&255)<<1)|0)>>>2&255;E=((L&255)+1+(P&255)|0)>>>1&255;C=x;S=x;A=((P&255)+2+((x&255)*3|0)|0)>>>2&255;R=((x&255)+1+(P&255)|0)>>>1&255;p=(x&255)<<8|x&255|(x&255)<<16|(x&255)<<24}}i[h+((G<<4)+N)>>2]=(c&255)<<16|(v&255)<<24|(b&255)<<8|w&255;i[h+((G<<4)+N+16)>>2]=(_&255)<<16|(T&255)<<24|(k&255)<<8|E&255;i[h+((G<<4)+N+32)>>2]=(S&255)<<16|(C&255)<<24|(A&255)<<8|R&255;i[h+((G<<4)+N+48)>>2]=p;je(h,t+328+(F<<6)|0,F);F=F+1|0;if(F>>>0>=16){p=e+200|0;Q=179;break e}}}}while(0);e:do{if((Q|0)==179){M=i[t+140>>2]|0;p=i[p>>2]|0;do{if(!p){y=(d|0)!=0;g=0}else{v=(i[e+4>>2]|0)==(i[p+4>>2]|0);if(!((d|0)!=0&v)){y=(d|0)!=0;g=v&1;break}y=1;g=(i[p>>2]|0)>>>0<6?0:v&1}}while(0);p=i[e+204>>2]|0;do{if(!p){c=0}else{v=(i[e+4>>2]|0)==(i[p+4>>2]|0);if(!(y&v)){c=v&1;break}c=(i[p>>2]|0)>>>0<6?0:v&1}}while(0);p=i[e+212>>2]|0;do{if(!p){p=0}else{v=(i[e+4>>2]|0)==(i[p+4>>2]|0);if(!(y&v)){p=v&1;break}p=(i[p>>2]|0)>>>0<6?0:v&1}}while(0);R=(g|0)!=0;O=(c|0)!=0;A=R&O&(p|0)!=0;S=(g|0)==0;C=(c|0)==0;_=h+256|0;k=Z+40+16|0;E=Z+21|0;b=t+1352|0;w=16;T=0;while(1){switch(M|0){case 0:{y=E+1|0;do{if(R&O){p=((a[y>>0]|0)+4+(a[E+2>>0]|0)+(a[E+3>>0]|0)+(a[E+4>>0]|0)+(a[k>>0]|0)+(a[k+1>>0]|0)+(a[k+2>>0]|0)+(a[k+3>>0]|0)|0)>>>3;v=((a[E+5>>0]|0)+2+(a[E+6>>0]|0)+(a[E+7>>0]|0)+(a[E+8>>0]|0)|0)>>>2}else{if(O){p=((a[y>>0]|0)+2+(a[E+2>>0]|0)+(a[E+3>>0]|0)+(a[E+4>>0]|0)|0)>>>2;v=((a[E+5>>0]|0)+2+(a[E+6>>0]|0)+(a[E+7>>0]|0)+(a[E+8>>0]|0)|0)>>>2;break}if(!R){p=128;v=128;break}v=((a[k>>0]|0)+2+(a[k+1>>0]|0)+(a[k+2>>0]|0)+(a[k+3>>0]|0)|0)>>>2;p=v}}while(0);t=p&255;$=v&255;m=_+32|0;bt(_|0,t|0,4)|0;bt(_+4|0,$|0,4)|0;bt(_+8|0,t|0,4)|0;bt(_+12|0,$|0,4)|0;bt(_+16|0,t|0,4)|0;bt(_+20|0,$|0,4)|0;bt(_+24|0,t|0,4)|0;bt(_+28|0,$|0,4)|0;do{if(R){p=a[k+4>>0]|0;v=a[k+5>>0]|0;y=a[k+6>>0]|0;c=a[k+7>>0]|0;if(!O){g=(p+2+v+y+c|0)>>>2;p=(p+2+v+y+c|0)>>>2;break}g=(p+2+v+y+c|0)>>>2;p=(p+4+v+y+c+(a[E+5>>0]|0)+(a[E+6>>0]|0)+(a[E+7>>0]|0)+(a[E+8>>0]|0)|0)>>>3}else{if(!O){g=128;p=128;break}g=((a[y>>0]|0)+2+(a[E+2>>0]|0)+(a[E+3>>0]|0)+(a[E+4>>0]|0)|0)>>>2;p=((a[E+5>>0]|0)+2+(a[E+6>>0]|0)+(a[E+7>>0]|0)+(a[E+8>>0]|0)|0)>>>2}}while(0);t=g&255;$=p&255;bt(m|0,t|0,4)|0;bt(_+36|0,$|0,4)|0;bt(_+40|0,t|0,4)|0;bt(_+44|0,$|0,4)|0;bt(_+48|0,t|0,4)|0;bt(_+52|0,$|0,4)|0;bt(_+56|0,t|0,4)|0;bt(_+60|0,$|0,4)|0;break}case 1:{if(S){break e}bt(_|0,n[k>>0]|0,8)|0;bt(_+8|0,n[k+1>>0]|0,8)|0;bt(_+16|0,n[k+2>>0]|0,8)|0;bt(_+24|0,n[k+3>>0]|0,8)|0;bt(_+32|0,n[k+4>>0]|0,8)|0;bt(_+40|0,n[k+5>>0]|0,8)|0;bt(_+48|0,n[k+6>>0]|0,8)|0;bt(_+56|0,n[k+7>>0]|0,8)|0;break}case 2:{if(C){break e}$=n[E+1>>0]|0;n[_>>0]=$;n[_+8>>0]=$;n[_+16>>0]=$;n[_+24>>0]=$;n[_+32>>0]=$;n[_+40>>0]=$;n[_+48>>0]=$;n[_+56>>0]=$;$=n[E+2>>0]|0;n[_+1>>0]=$;n[_+9>>0]=$;n[_+17>>0]=$;n[_+25>>0]=$;n[_+33>>0]=$;n[_+41>>0]=$;n[_+49>>0]=$;n[_+57>>0]=$;$=n[E+3>>0]|0;n[_+2>>0]=$;n[_+10>>0]=$;n[_+18>>0]=$;n[_+26>>0]=$;n[_+34>>0]=$;n[_+42>>0]=$;n[_+50>>0]=$;n[_+58>>0]=$;$=n[E+4>>0]|0;n[_+3>>0]=$;n[_+11>>0]=$;n[_+19>>0]=$;n[_+27>>0]=$;n[_+35>>0]=$;n[_+43>>0]=$;n[_+51>>0]=$;n[_+59>>0]=$;$=n[E+5>>0]|0;n[_+4>>0]=$;n[_+12>>0]=$;n[_+20>>0]=$;n[_+28>>0]=$;n[_+36>>0]=$;n[_+44>>0]=$;n[_+52>>0]=$;n[_+60>>0]=$;$=n[E+6>>0]|0;n[_+5>>0]=$;n[_+13>>0]=$;n[_+21>>0]=$;n[_+29>>0]=$;n[_+37>>0]=$;n[_+45>>0]=$;n[_+53>>0]=$;n[_+61>>0]=$;$=n[E+7>>0]|0;n[_+6>>0]=$;n[_+14>>0]=$;n[_+22>>0]=$;n[_+30>>0]=$;n[_+38>>0]=$;n[_+46>>0]=$;n[_+54>>0]=$;n[_+62>>0]=$;$=n[E+8>>0]|0;n[_+7>>0]=$;n[_+15>>0]=$;n[_+23>>0]=$;n[_+31>>0]=$;n[_+39>>0]=$;n[_+47>>0]=$;n[_+55>>0]=$;n[_+63>>0]=$;break}default:{if(!A){break e}g=a[E+8>>0]|0;m=a[k+7>>0]|0;y=a[E>>0]|0;v=(((a[E+5>>0]|0)-(a[E+3>>0]|0)+((a[E+6>>0]|0)-(a[E+2>>0]|0)<<1)+(((a[E+7>>0]|0)-(a[E+1>>0]|0)|0)*3|0)+(g-y<<2)|0)*17|0)+16>>5;y=(((a[k+4>>0]|0)-(a[k+2>>0]|0)+(m-y<<2)+((a[k+5>>0]|0)-(a[k+1>>0]|0)<<1)+(((a[k+6>>0]|0)-(a[k>>0]|0)|0)*3|0)|0)*17|0)+16>>5;c=ee(v,-3)|0;p=_;g=(m+g<<4)+16+(ee(y,-3)|0)|0;m=8;while(1){m=m+-1|0;$=g+c|0;n[p>>0]=n[6294+(($>>5)+512)>>0]|0;n[p+1>>0]=n[6294+(($+v>>5)+512)>>0]|0;n[p+2>>0]=n[6294+(($+v+v>>5)+512)>>0]|0;n[p+3>>0]=n[6294+(($+v+v+v>>5)+512)>>0]|0;n[p+4>>0]=n[6294+(($+v+v+v+v>>5)+512)>>0]|0;$=$+v+v+v+v+v|0;n[p+5>>0]=n[6294+(($>>5)+512)>>0]|0;n[p+6>>0]=n[6294+(($+v>>5)+512)>>0]|0;n[p+7>>0]=n[6294+(($+v+v>>5)+512)>>0]|0;if(!m){break}else{p=p+8|0;g=g+y|0}}}}je(_,b,w);$=w|1;je(_,b+64|0,$);je(_,b+128|0,$+1|0);je(_,b+192|0,w|3);T=T+1|0;if(T>>>0>=2){break}else{_=_+64|0;k=k+8|0;E=E+9|0;b=b+256|0;w=w+4|0}}if((i[e+196>>2]|0)>>>0<=1){Ze(r,h)}$=0;f=Z;return $|0}}while(0);$=1;f=Z;return $|0}}while(0);$=i[r+4>>2]|0;W=((l>>>0)/($>>>0)|0)<<4;Y=l-(ee((l>>>0)/($>>>0)|0,$)|0)<<4;i[Z+4>>2]=$;i[Z+8>>2]=i[r+8>>2];e:do{switch(g|0){case 1:case 0:{C=i[t+144>>2]|0;p=i[e+200>>2]|0;if((p|0)!=0?(i[p+4>>2]|0)==(i[e+4>>2]|0):0){if((i[p>>2]|0)>>>0<6){T=s[p+152>>1]|s[p+152+2>>1]<<16;c=1;m=i[p+104>>2]|0;p=T>>>16&65535;T=T&65535}else{c=1;m=-1;p=0;T=0}}else{c=0;m=-1;p=0;T=0}v=i[e+204>>2]|0;if((v|0)!=0?(i[v+4>>2]|0)==(i[e+4>>2]|0):0){if((i[v>>2]|0)>>>0<6){w=s[v+172>>1]|s[v+172+2>>1]<<16;y=1;b=i[v+108>>2]|0;_=w>>>16&65535;w=w&65535}else{y=1;b=-1;_=0;w=0}}else{y=0;b=-1;_=0;w=0}do{if(!g){if(!((c|0)==0|(y|0)==0)){if((m|0)==0?((p&65535)<<16|T&65535|0)==0:0){v=0;p=0;break}if((b|0)==0?((_&65535)<<16|w&65535|0)==0:0){v=0;p=0}else{Q=230}}else{v=0;p=0}}else{Q=230}}while(0);if((Q|0)==230){k=o[t+160>>1]|0;E=o[t+162>>1]|0;v=i[e+208>>2]|0;if((v|0)!=0?(i[v+4>>2]|0)==(i[e+4>>2]|0):0){if((i[v>>2]|0)>>>0<6){g=i[v+108>>2]|0;c=s[v+172>>1]|s[v+172+2>>1]<<16;Q=239}else{g=-1;c=0;Q=239}}else{Q=234}do{if((Q|0)==234){v=i[e+212>>2]|0;if((v|0)!=0?(i[v+4>>2]|0)==(i[e+4>>2]|0):0){if((i[v>>2]|0)>>>0>=6){g=-1;c=0;Q=239;break}g=i[v+112>>2]|0;c=s[v+192>>1]|s[v+192+2>>1]<<16;Q=239;break}if((c|0)==0|(y|0)!=0){g=-1;c=0;Q=239}else{v=T}}}while(0);do{if((Q|0)==239){y=(m|0)==(C|0);v=(b|0)==(C|0);if(((v&1)+(y&1)+((g|0)==(C|0)&1)|0)!=1){X=T<<16>>16;z=w<<16>>16;v=c<<16>>16;q=w<<16>>16>T<<16>>16;J=q?z:X;X=q?X:(z|0)<(X|0)?z:X;z=p<<16>>16;q=_<<16>>16;$=c>>16;p=_<<16>>16>p<<16>>16;d=p?q:z;p=p?z:(q|0)<(z|0)?q:z;v=((J|0)<(v|0)?J:(X|0)>(v|0)?X:v)&65535;p=((d|0)<($|0)?d:(p|0)>($|0)?p:$)&65535;break}if(y|v){v=y?T:w;p=y?p:_}else{v=c&65535;p=c>>>16&65535}}}while(0);v=(v&65535)+(k&65535)|0;p=(p&65535)+(E&65535)|0;if(((v<<16>>16)+8192|0)>>>0>16383){Q=427;break e}if(((p<<16>>16)+2048|0)>>>0>4095){Q=427;break e}else{v=v&65535;p=p&65535}}if(((C>>>0<=16?(D=i[(i[u+4>>2]|0)+(C<<2)>>2]|0,(D|0)!=0):0)?(i[D+20>>2]|0)>>>0>1:0)?(N=i[D>>2]|0,(N|0)!=0):0){o[e+192>>1]=v;o[e+194>>1]=p;$=s[e+192>>1]|s[e+192+2>>1]<<16;o[e+188>>1]=$;o[e+188+2>>1]=$>>>16;o[e+184>>1]=$;o[e+184+2>>1]=$>>>16;o[e+180>>1]=$;o[e+180+2>>1]=$>>>16;o[e+176>>1]=$;o[e+176+2>>1]=$>>>16;o[e+172>>1]=$;o[e+172+2>>1]=$>>>16;o[e+168>>1]=$;o[e+168+2>>1]=$>>>16;o[e+164>>1]=$;o[e+164+2>>1]=$>>>16;o[e+160>>1]=$;o[e+160+2>>1]=$>>>16;o[e+156>>1]=$;o[e+156+2>>1]=$>>>16;o[e+152>>1]=$;o[e+152+2>>1]=$>>>16;o[e+148>>1]=$;o[e+148+2>>1]=$>>>16;o[e+144>>1]=$;o[e+144+2>>1]=$>>>16;o[e+140>>1]=$;o[e+140+2>>1]=$>>>16;o[e+136>>1]=$;o[e+136+2>>1]=$>>>16;o[e+132>>1]=$;o[e+132+2>>1]=$>>>16;i[e+100>>2]=C;i[e+104>>2]=C;i[e+108>>2]=C;i[e+112>>2]=C;i[e+116>>2]=N;i[e+120>>2]=N;i[e+124>>2]=N;i[e+128>>2]=N;i[Z>>2]=N;qe(h,e+132|0,Z,Y,W,0,0,16,16)}else{Q=427}break}case 2:{T=o[t+160>>1]|0;_=o[t+162>>1]|0;k=i[t+144>>2]|0;p=i[e+204>>2]|0;if((p|0)!=0?(i[p+4>>2]|0)==(i[e+4>>2]|0):0){if((i[p>>2]|0)>>>0<6){w=s[p+172>>1]|s[p+172+2>>1]<<16;p=i[p+108>>2]|0;g=1;b=w&65535;w=w>>>16&65535}else{p=-1;g=1;b=0;w=0}}else{p=-1;g=0;b=0;w=0}t:do{if((p|0)!=(k|0)){p=i[e+200>>2]|0;if((p|0)!=0?(i[p+4>>2]|0)==(i[e+4>>2]|0):0){if((i[p>>2]|0)>>>0<6){$=s[p+152>>1]|s[p+152+2>>1]<<16;c=1;m=i[p+104>>2]|0;v=$&65535;p=$>>>16&65535}else{c=1;m=-1;v=0;p=0}}else{c=0;m=-1;v=0;p=0}y=i[e+208>>2]|0;if((y|0)!=0?(i[y+4>>2]|0)==(i[e+4>>2]|0):0){if((i[y>>2]|0)>>>0<6){g=i[y+108>>2]|0;c=s[y+172>>1]|s[y+172+2>>1]<<16}else{g=-1;c=0}}else{Q=263}do{if((Q|0)==263){y=i[e+212>>2]|0;if((y|0)!=0?(i[y+4>>2]|0)==(i[e+4>>2]|0):0){if((i[y>>2]|0)>>>0>=6){g=-1;c=0;break}g=i[y+112>>2]|0;c=s[y+192>>1]|s[y+192+2>>1]<<16;break}if((g|0)!=0|(c|0)==0){g=-1;c=0}else{break t}}}while(0);y=(m|0)==(k|0);if((((g|0)==(k|0)&1)+(y&1)|0)!=1){z=v<<16>>16;q=b<<16>>16;X=c<<16>>16;v=b<<16>>16>v<<16>>16;J=v?q:z;v=v?z:(q|0)<(z|0)?q:z;z=p<<16>>16;q=w<<16>>16;$=c>>16;p=w<<16>>16>p<<16>>16;d=p?q:z;p=p?z:(q|0)<(z|0)?q:z;v=((J|0)<(X|0)?J:(v|0)>(X|0)?v:X)&65535;p=((d|0)<($|0)?d:(p|0)>($|0)?p:$)&65535;break}if(y){v=y?v:b;p=y?p:w}else{v=c&65535;p=c>>>16&65535}}else{v=b;p=w}}while(0);v=(v&65535)+(T&65535)|0;p=(p&65535)+(_&65535)|0;if((((((v<<16>>16)+8192|0)>>>0<=16383?!(k>>>0>16|((p<<16>>16)+2048|0)>>>0>4095):0)?(L=i[(i[u+4>>2]|0)+(k<<2)>>2]|0,(L|0)!=0):0)?(i[L+20>>2]|0)>>>0>1:0)?(F=i[L>>2]|0,(F|0)!=0):0){o[e+160>>1]=v;o[e+162>>1]=p;c=s[e+160>>1]|s[e+160+2>>1]<<16;o[e+156>>1]=c;o[e+156+2>>1]=c>>>16;o[e+152>>1]=c;o[e+152+2>>1]=c>>>16;o[e+148>>1]=c;o[e+148+2>>1]=c>>>16;o[e+144>>1]=c;o[e+144+2>>1]=c>>>16;o[e+140>>1]=c;o[e+140+2>>1]=c>>>16;o[e+136>>1]=c;o[e+136+2>>1]=c>>>16;o[e+132>>1]=c;o[e+132+2>>1]=c>>>16;i[e+100>>2]=k;i[e+104>>2]=k;i[e+116>>2]=F;i[e+120>>2]=F;m=o[t+164>>1]|0;b=o[t+166>>1]|0;w=i[t+148>>2]|0;v=i[e+200>>2]|0;if(((v|0)!=0?(i[v+4>>2]|0)==(i[e+4>>2]|0):0)?(i[v>>2]|0)>>>0<6:0){g=s[v+184>>1]|s[v+184+2>>1]<<16;p=i[v+112>>2]|0;y=g>>>16&65535;g=g&65535}else{p=-1;y=0;g=0}do{if((p|0)!=(w|0)){if(((v|0)!=0?(i[v+4>>2]|0)==(i[e+4>>2]|0):0)?(i[v>>2]|0)>>>0<6:0){p=i[v+104>>2]|0;v=s[v+160>>1]|s[v+160+2>>1]<<16}else{p=-1;v=0}if((((p|0)==(w|0)&1)+((k|0)==(w|0)&1)|0)==1){y=(k|0)==(w|0)?c>>>16:v>>>16;p=(k|0)==(w|0)?c:v;break}else{$=g<<16>>16;p=v<<16>>16;z=(c&65535)<<16>>16>g<<16>>16;d=z?c<<16>>16:$;$=z?$:(c<<16>>16|0)<($|0)?c<<16>>16:$;z=y<<16>>16;X=v>>16;y=(c>>>16&65535)<<16>>16>y<<16>>16;J=y?c>>16:z;y=y?z:(c>>16|0)<(z|0)?c>>16:z;y=(J|0)<(X|0)?J:(y|0)>(X|0)?y:X;p=(d|0)<(p|0)?d:($|0)>(p|0)?$:p;break}}else{p=y&65535;y=p;p=p<<16|g&65535}}while(0);v=(p&65535)+(m&65535)|0;p=(y&65535)+(b&65535)|0;if((((((v<<16>>16)+8192|0)>>>0<=16383?!(w>>>0>16|((p<<16>>16)+2048|0)>>>0>4095):0)?(B=i[(i[u+4>>2]|0)+(w<<2)>>2]|0,(B|0)!=0):0)?(i[B+20>>2]|0)>>>0>1:0)?(j=i[B>>2]|0,(j|0)!=0):0){o[e+192>>1]=v;o[e+194>>1]=p;$=s[e+192>>1]|s[e+192+2>>1]<<16;o[e+188>>1]=$;o[e+188+2>>1]=$>>>16;o[e+184>>1]=$;o[e+184+2>>1]=$>>>16;o[e+180>>1]=$;o[e+180+2>>1]=$>>>16;o[e+176>>1]=$;o[e+176+2>>1]=$>>>16;o[e+172>>1]=$;o[e+172+2>>1]=$>>>16;o[e+168>>1]=$;o[e+168+2>>1]=$>>>16;o[e+164>>1]=$;o[e+164+2>>1]=$>>>16;i[e+108>>2]=w;i[e+112>>2]=w;i[e+124>>2]=j;i[e+128>>2]=j;i[Z>>2]=F;qe(h,e+132|0,Z,Y,W,0,0,16,8);i[Z>>2]=i[e+124>>2];qe(h,e+164|0,Z,Y,W,0,8,16,8)}else{Q=427}}else{Q=427}break}case 3:{w=o[t+160>>1]|0;T=o[t+162>>1]|0;_=i[t+144>>2]|0;p=i[e+200>>2]|0;if((p|0)!=0?(i[p+4>>2]|0)==(i[e+4>>2]|0):0){if((i[p>>2]|0)>>>0<6){$=s[p+152>>1]|s[p+152+2>>1]<<16;v=i[p+104>>2]|0;y=1;b=$&65535;p=$>>>16&65535}else{v=-1;y=1;b=0;p=0}}else{v=-1;y=0;b=0;p=0}t:do{if((v|0)!=(_|0)){c=i[e+204>>2]|0;if((c|0)!=0?(i[c+4>>2]|0)==(i[e+4>>2]|0):0){if((i[c>>2]|0)>>>0<6){g=s[c+172>>1]|s[c+172+2>>1]<<16;y=i[c+108>>2]|0;m=i[c+112>>2]|0;v=g&65535;c=s[c+188>>1]|s[c+188+2>>1]<<16;g=g>>>16&65535}else{y=-1;m=-1;v=0;c=0;g=0}}else{Q=305}do{if((Q|0)==305){c=i[e+212>>2]|0;if((c|0)!=0?(i[c+4>>2]|0)==(i[e+4>>2]|0):0){if((i[c>>2]|0)>>>0>=6){y=-1;m=-1;v=0;c=0;g=0;break}y=-1;m=i[c+112>>2]|0;v=0;c=s[c+192>>1]|s[c+192+2>>1]<<16;g=0;break}if(!y){y=-1;m=-1;v=0;c=0;g=0}else{v=b;break t}}}while(0);y=(y|0)==(_|0);if(((y&1)+((m|0)==(_|0)&1)|0)!=1){z=b<<16>>16;q=v<<16>>16;X=c<<16>>16;v=v<<16>>16>b<<16>>16;J=v?q:z;v=v?z:(q|0)<(z|0)?q:z;z=p<<16>>16;q=g<<16>>16;$=c>>16;p=g<<16>>16>p<<16>>16;d=p?q:z;p=p?z:(q|0)<(z|0)?q:z;v=((J|0)<(X|0)?J:(v|0)>(X|0)?v:X)&65535;p=((d|0)<($|0)?d:(p|0)>($|0)?p:$)&65535;break}if(y){p=g}else{v=c&65535;p=c>>>16&65535}}else{v=b}}while(0);v=(v&65535)+(w&65535)|0;p=(p&65535)+(T&65535)|0;if((((((v<<16>>16)+8192|0)>>>0<=16383?!(_>>>0>16|((p<<16>>16)+2048|0)>>>0>4095):0)?(x=i[(i[u+4>>2]|0)+(_<<2)>>2]|0,(x|0)!=0):0)?(i[x+20>>2]|0)>>>0>1:0)?(V=i[x>>2]|0,(V|0)!=0):0){o[e+176>>1]=v;o[e+178>>1]=p;p=s[e+176>>1]|s[e+176+2>>1]<<16;o[e+172>>1]=p;o[e+172+2>>1]=p>>>16;o[e+168>>1]=p;o[e+168+2>>1]=p>>>16;o[e+164>>1]=p;o[e+164+2>>1]=p>>>16;o[e+144>>1]=p;o[e+144+2>>1]=p>>>16;o[e+140>>1]=p;o[e+140+2>>1]=p>>>16;o[e+136>>1]=p;o[e+136+2>>1]=p>>>16;o[e+132>>1]=p;o[e+132+2>>1]=p>>>16;i[e+100>>2]=_;i[e+108>>2]=_;i[e+116>>2]=V;i[e+124>>2]=V;m=o[t+164>>1]|0;b=o[t+166>>1]|0;w=i[t+148>>2]|0;v=i[e+208>>2]|0;if((v|0)!=0?(i[v+4>>2]|0)==(i[e+4>>2]|0):0){if((i[v>>2]|0)>>>0<6){c=i[v+108>>2]|0;g=s[v+172>>1]|s[v+172+2>>1]<<16;y=1}else{c=-1;g=0;y=1}}else{v=i[e+204>>2]|0;if((v|0)!=0?(i[v+4>>2]|0)==(i[e+4>>2]|0):0){if((i[v>>2]|0)>>>0<6){c=i[v+108>>2]|0;g=s[v+176>>1]|s[v+176+2>>1]<<16;y=1}else{c=-1;g=0;y=1}}else{c=-1;g=0;y=0}}do{if((c|0)!=(w|0)){v=i[e+204>>2]|0;if((v|0)!=0?(i[v+4>>2]|0)==(i[e+4>>2]|0):0){if((i[v>>2]|0)>>>0<6){y=s[v+188>>1]|s[v+188+2>>1]<<16;v=i[v+112>>2]|0;c=y&65535;y=y>>>16&65535}else{v=-1;c=0;y=0}}else if(!y){y=p>>>16;break}else{v=-1;c=0;y=0}v=(v|0)==(w|0);if(((v&1)+((_|0)==(w|0)&1)|0)!=1){d=c<<16>>16;$=g<<16>>16;q=c<<16>>16>(p&65535)<<16>>16;X=q?d:p<<16>>16;d=q?p<<16>>16:(d|0)<(p<<16>>16|0)?d:p<<16>>16;q=y<<16>>16;J=g>>16;y=y<<16>>16>(p>>>16&65535)<<16>>16;z=y?q:p>>16;y=y?p>>16:(q|0)<(p>>16|0)?q:p>>16;y=(z|0)<(J|0)?z:(y|0)>(J|0)?y:J;p=(X|0)<($|0)?X:(d|0)>($|0)?d:$;break}if((_|0)!=(w|0)){if(v){p=y&65535;y=p;p=p<<16|c&65535;break}else{y=g>>>16;p=g;break}}else{y=p>>>16}}else{y=g>>>16;p=g}}while(0);v=(p&65535)+(m&65535)|0;p=(y&65535)+(b&65535)|0;if((((((v<<16>>16)+8192|0)>>>0<=16383?!(w>>>0>16|((p<<16>>16)+2048|0)>>>0>4095):0)?(H=i[(i[u+4>>2]|0)+(w<<2)>>2]|0,(H|0)!=0):0)?(i[H+20>>2]|0)>>>0>1:0)?(K=i[H>>2]|0,(K|0)!=0):0){o[e+192>>1]=v;o[e+194>>1]=p;$=s[e+192>>1]|s[e+192+2>>1]<<16;o[e+188>>1]=$;o[e+188+2>>1]=$>>>16;o[e+184>>1]=$;o[e+184+2>>1]=$>>>16;o[e+180>>1]=$;o[e+180+2>>1]=$>>>16;o[e+160>>1]=$;o[e+160+2>>1]=$>>>16;o[e+156>>1]=$;o[e+156+2>>1]=$>>>16;o[e+152>>1]=$;o[e+152+2>>1]=$>>>16;o[e+148>>1]=$;o[e+148+2>>1]=$>>>16;i[e+104>>2]=w;i[e+112>>2]=w;i[e+120>>2]=K;i[e+128>>2]=K;i[Z>>2]=V;qe(h,e+132|0,Z,Y,W,0,0,8,16);i[Z>>2]=i[e+120>>2];qe(h,e+148|0,Z,Y,W,8,0,8,16)}else{Q=427}}else{Q=427}break}default:{p=0;do{I=t+176+(p<<2)|0;switch(i[I>>2]|0){case 0:{M=1;break}case 2:case 1:{M=2;break}default:M=4}P=t+192+(p<<2)|0;i[e+100+(p<<2)>>2]=i[P>>2];y=i[P>>2]|0;if(y>>>0>16){Q=353;break}v=i[(i[u+4>>2]|0)+(y<<2)>>2]|0;if(!v){Q=353;break}if((i[v+20>>2]|0)>>>0<=1){Q=353;break}$=i[v>>2]|0;i[e+116+(p<<2)>>2]=$;if(!$){Q=427;break e}O=p<<2;v=0;while(1){S=o[t+208+(p<<4)+(v<<2)>>1]|0;A=o[t+208+(p<<4)+(v<<2)+2>>1]|0;R=i[I>>2]|0;switch(i[1280+(p<<7)+(R<<5)+(v<<3)>>2]|0){case 0:{c=i[e+200>>2]|0;Q=361;break}case 1:{c=i[e+204>>2]|0;Q=361;break}case 2:{c=i[e+208>>2]|0;Q=361;break}case 3:{c=i[e+212>>2]|0;Q=361;break}case 4:{c=e;Q=361;break}default:{w=0;_=-1;c=0;C=0}}if((Q|0)==361){Q=0;g=a[1280+(p<<7)+(R<<5)+(v<<3)+4>>0]|0;if((c|0)!=0?(i[c+4>>2]|0)==(i[e+4>>2]|0):0){if((i[c>>2]|0)>>>0<6){C=c+132+(g<<2)|0;C=s[C>>1]|s[C+2>>1]<<16;w=1;_=i[c+100+(g>>>2<<2)>>2]|0;c=C&65535;C=C>>>16&65535}else{w=1;_=-1;c=0;C=0}}else{w=0;_=-1;c=0;C=0}}switch(i[1792+(p<<7)+(R<<5)+(v<<3)>>2]|0){case 0:{m=i[e+200>>2]|0;Q=370;break}case 1:{m=i[e+204>>2]|0;Q=370;break}case 2:{m=i[e+208>>2]|0;Q=370;break}case 3:{m=i[e+212>>2]|0;Q=370;break}case 4:{m=e;Q=370;break}default:{b=0;T=-1;k=0;E=0}}if((Q|0)==370){g=a[1792+(p<<7)+(R<<5)+(v<<3)+4>>0]|0;if((m|0)!=0?(i[m+4>>2]|0)==(i[e+4>>2]|0):0){if((i[m>>2]|0)>>>0<6){E=m+132+(g<<2)|0;E=s[E>>1]|s[E+2>>1]<<16;b=1;T=i[m+100+(g>>>2<<2)>>2]|0;k=E&65535;E=E>>>16&65535}else{b=1;T=-1;k=0;E=0}}else{b=0;T=-1;k=0;E=0}}switch(i[2304+(p<<7)+(R<<5)+(v<<3)>>2]|0){case 0:{m=i[e+200>>2]|0;Q=379;break}case 1:{m=i[e+204>>2]|0;Q=379;break}case 2:{m=i[e+208>>2]|0;Q=379;break}case 3:{m=i[e+212>>2]|0;Q=379;break}case 4:{m=e;Q=379;break}default:Q=383}if((Q|0)==379){g=a[2304+(p<<7)+(R<<5)+(v<<3)+4>>0]|0;if((m|0)!=0?(i[m+4>>2]|0)==(i[e+4>>2]|0):0){if((i[m>>2]|0)>>>0<6){w=m+132+(g<<2)|0;b=i[m+100+(g>>>2<<2)>>2]|0;w=s[w>>1]|s[w+2>>1]<<16;Q=393}else{b=-1;w=0;Q=393}}else{Q=383}}do{if((Q|0)==383){Q=0;switch(i[2816+(p<<7)+(R<<5)+(v<<3)>>2]|0){case 0:{G=i[e+200>>2]|0;Q=388;break}case 1:{G=i[e+204>>2]|0;Q=388;break}case 2:{G=i[e+208>>2]|0;Q=388;break}case 3:{G=i[e+212>>2]|0;Q=388;break}case 4:{G=e;Q=388;break}default:{}}if(((Q|0)==388?(Q=0,U=a[2816+(p<<7)+(R<<5)+(v<<3)+4>>0]|0,(G|0)!=0):0)?(i[G+4>>2]|0)==(i[e+4>>2]|0):0){if((i[G>>2]|0)>>>0>=6){b=-1;w=0;Q=393;break}w=G+132+(U<<2)|0;b=i[G+100+(U>>>2<<2)>>2]|0;w=s[w>>1]|s[w+2>>1]<<16;Q=393;break}if((w|0)==0|(b|0)!=0){b=-1;w=0;Q=393}else{y=C}}}while(0);do{if((Q|0)==393){Q=0;m=(_|0)==(y|0);g=(T|0)==(y|0);if(((g&1)+(m&1)+((b|0)==(y|0)&1)|0)!=1){$=c<<16>>16;z=k<<16>>16;X=w<<16>>16;c=k<<16>>16>c<<16>>16;J=c?z:$;c=c?$:(z|0)<($|0)?z:$;$=C<<16>>16;z=E<<16>>16;y=w>>16;q=E<<16>>16>C<<16>>16;d=q?z:$;$=q?$:(z|0)<($|0)?z:$;c=((J|0)<(X|0)?J:(c|0)>(X|0)?c:X)&65535;y=((d|0)<(y|0)?d:($|0)>(y|0)?$:y)&65535;break}if(m|g){c=m?c:k;y=m?C:E}else{c=w&65535;y=w>>>16&65535}}}while(0);c=(c&65535)+(S&65535)|0;y=(y&65535)+(A&65535)|0;if(((c<<16>>16)+8192|0)>>>0>16383){Q=427;break e}if(((y<<16>>16)+2048|0)>>>0>4095){Q=427;break e}switch(R|0){case 0:{o[e+132+(O<<2)>>1]=c;o[e+132+(O<<2)+2>>1]=y;o[e+132+((O|1)<<2)>>1]=c;o[e+132+((O|1)<<2)+2>>1]=y;o[e+132+((O|2)<<2)>>1]=c;o[e+132+((O|2)<<2)+2>>1]=y;o[e+132+((O|3)<<2)>>1]=c;o[e+132+((O|3)<<2)+2>>1]=y;break}case 1:{$=(v<<1)+O|0;o[e+132+($<<2)>>1]=c;o[e+132+($<<2)+2>>1]=y;o[e+132+(($|1)<<2)>>1]=c;o[e+132+(($|1)<<2)+2>>1]=y;break}case 2:{$=v+O|0;o[e+132+($<<2)>>1]=c;o[e+132+($<<2)+2>>1]=y;o[e+132+($+2<<2)>>1]=c;o[e+132+($+2<<2)+2>>1]=y;break}case 3:{$=v+O|0;o[e+132+($<<2)>>1]=c;o[e+132+($<<2)+2>>1]=y;break}default:{}}v=v+1|0;if(v>>>0>=M>>>0){break}y=i[P>>2]|0}p=p+1|0}while(p>>>0<4);if((Q|0)==353){i[e+116+(p<<2)>>2]=0;Q=427;break e}y=0;while(1){i[Z>>2]=i[e+116+(y<<2)>>2];p=y<<3&8;v=y>>>0<2?0:8;switch(i[t+176+(y<<2)>>2]|0){case 0:{qe(h,e+132+(y<<2<<2)|0,Z,Y,W,p,v,8,8);break}case 1:{$=y<<2;qe(h,e+132+($<<2)|0,Z,Y,W,p,v,8,4);qe(h,e+132+(($|2)<<2)|0,Z,Y,W,p,v|4,8,4);break}case 2:{$=y<<2;qe(h,e+132+($<<2)|0,Z,Y,W,p,v,4,8);qe(h,e+132+(($|1)<<2)|0,Z,Y,W,p|4,v,4,8);break}default:{$=y<<2;qe(h,e+132+($<<2)|0,Z,Y,W,p,v,4,4);qe(h,e+132+(($|1)<<2)|0,Z,Y,W,p|4,v,4,4);qe(h,e+132+(($|2)<<2)|0,Z,Y,W,p,v|4,4,4);qe(h,e+132+(($|3)<<2)|0,Z,Y,W,p|4,v|4,4,4)}}y=y+1|0;if((y|0)==4){break e}}}}}while(0);if((Q|0)==427){$=1;f=Z;return $|0}do{if((i[e+196>>2]|0)>>>0<=1){if(!(i[e>>2]|0)){Ze(r,h);break}_=i[r+4>>2]|0;m=i[r+8>>2]|0;T=i[r>>2]|0;g=0;do{v=i[1152+(g<<2)>>2]|0;y=i[1216+(g<<2)>>2]|0;p=(l-((l>>>0)%(_>>>0)|0)<<8)+(((l>>>0)%(_>>>0)|0)<<4)+v+(ee(y,_<<4)|0)|0;c=i[t+328+(g<<6)>>2]|0;if((c|0)==16777215){$=i[h+((y<<4)+v+16)>>2]|0;i[T+p>>2]=i[h+((y<<4)+v)>>2];i[T+p+((_<<2&1073741820)<<2)>>2]=$;$=i[h+((y<<4)+v+48)>>2]|0;i[T+p+((_<<2&1073741820)<<1<<2)>>2]=i[h+((y<<4)+v+32)>>2];i[T+p+((_<<2&1073741820)*3<<2)>>2]=$}else{$=a[h+((y<<4)+v+1)>>0]|0;r=i[t+328+(g<<6)+4>>2]|0;n[T+p>>0]=n[6294+(c+512+(a[h+((y<<4)+v)>>0]|0))>>0]|0;e=a[h+((y<<4)+v+2)>>0]|0;Q=i[t+328+(g<<6)+8>>2]|0;n[T+(p+1)>>0]=n[6294+(($|512)+r)>>0]|0;r=a[h+((y<<4)+v+3)>>0]|0;$=i[t+328+(g<<6)+12>>2]|0;n[T+(p+2)>>0]=n[6294+(Q+512+e)>>0]|0;n[T+(p+3)>>0]=n[6294+($+512+r)>>0]|0;r=a[h+((y<<4)+v+17)>>0]|0;$=i[t+328+(g<<6)+20>>2]|0;n[T+(p+(_<<4))>>0]=n[6294+((i[t+328+(g<<6)+16>>2]|0)+512+(a[h+((y<<4)+v+16)>>0]|0))>>0]|0;e=a[h+((y<<4)+v+18)>>0]|0;Q=i[t+328+(g<<6)+24>>2]|0;n[T+(p+(_<<4)+1)>>0]=n[6294+((r|512)+$)>>0]|0;$=a[h+((y<<4)+v+19)>>0]|0;r=i[t+328+(g<<6)+28>>2]|0;n[T+(p+(_<<4)+2)>>0]=n[6294+(Q+512+e)>>0]|0;n[T+(p+(_<<4)+3)>>0]=n[6294+(r+512+$)>>0]|0;$=p+(_<<4)+(_<<4)|0;r=a[h+((y<<4)+v+33)>>0]|0;e=i[t+328+(g<<6)+36>>2]|0;n[T+$>>0]=n[6294+((i[t+328+(g<<6)+32>>2]|0)+512+(a[h+((y<<4)+v+32)>>0]|0))>>0]|0;Q=a[h+((y<<4)+v+34)>>0]|0;d=i[t+328+(g<<6)+40>>2]|0;n[T+($+1)>>0]=n[6294+((r|512)+e)>>0]|0;e=a[h+((y<<4)+v+35)>>0]|0;r=i[t+328+(g<<6)+44>>2]|0;n[T+($+2)>>0]=n[6294+(d+512+Q)>>0]|0;n[T+($+3)>>0]=n[6294+(r+512+e)>>0]|0;e=a[h+((y<<4)+v+49)>>0]|0;r=i[t+328+(g<<6)+52>>2]|0;n[T+($+(_<<4))>>0]=n[6294+((i[t+328+(g<<6)+48>>2]|0)+512+(a[h+((y<<4)+v+48)>>0]|0))>>0]|0;Q=a[h+((y<<4)+v+50)>>0]|0;d=i[t+328+(g<<6)+56>>2]|0;n[T+($+(_<<4)+1)>>0]=n[6294+((e|512)+r)>>0]|0;r=a[h+((y<<4)+v+51)>>0]|0;e=i[t+328+(g<<6)+60>>2]|0;n[T+($+(_<<4)+2)>>0]=n[6294+(d+512+Q)>>0]|0;n[T+($+(_<<4)+3)>>0]=n[6294+(e+512+r)>>0]|0}g=g+1|0}while((g|0)!=16);y=ee(m,_)|0;b=16;do{g=b&3;c=i[1152+(g<<2)>>2]|0;g=i[1216+(g<<2)>>2]|0;w=b>>>0>19;p=w?320:256;v=(g<<3)+c+p|0;w=(((l>>>0)%(_>>>0)|0)<<3)+(y<<8)+(l-((l>>>0)%(_>>>0)|0)<<6)+c+(w?y<<6:0)+(ee(g,_<<3&2147483640)|0)|0;m=i[t+328+(b<<6)>>2]|0;if((m|0)==16777215){$=i[h+((g<<3)+c+(p|8))>>2]|0;i[T+w>>2]=i[h+v>>2];i[T+w+((_<<3&2147483640)>>>2<<2)>>2]=$;$=i[h+((g<<3)+c+(p|24))>>2]|0;i[T+w+((_<<3&2147483640)>>>1<<2)>>2]=i[h+((g<<3)+c+(p|16))>>2];i[T+w+(((_<<3&2147483640)>>>1)+((_<<3&2147483640)>>>2)<<2)>>2]=$}else{e=a[h+(v+1)>>0]|0;$=i[t+328+(b<<6)+4>>2]|0;n[T+w>>0]=n[6294+(m+512+(a[h+v>>0]|0))>>0]|0;r=a[h+(v+2)>>0]|0;Q=i[t+328+(b<<6)+8>>2]|0;n[T+(w+1)>>0]=n[6294+((e|512)+$)>>0]|0;$=a[h+(v+3)>>0]|0;e=i[t+328+(b<<6)+12>>2]|0;n[T+(w+2)>>0]=n[6294+(Q+512+r)>>0]|0;n[T+(w+3)>>0]=n[6294+(e+512+$)>>0]|0;$=w+(_<<3&2147483640)|0;e=a[h+(v+9)>>0]|0;r=i[t+328+(b<<6)+20>>2]|0;n[T+$>>0]=n[6294+((i[t+328+(b<<6)+16>>2]|0)+512+(a[h+(v+8)>>0]|0))>>0]|0;Q=a[h+(v+10)>>0]|0;d=i[t+328+(b<<6)+24>>2]|0;n[T+($+1)>>0]=n[6294+((e|512)+r)>>0]|0;r=a[h+(v+11)>>0]|0;e=i[t+328+(b<<6)+28>>2]|0;n[T+($+2)>>0]=n[6294+(d+512+Q)>>0]|0;n[T+($+3)>>0]=n[6294+(e+512+r)>>0]|0;$=$+(_<<3&2147483640)|0;r=a[h+(v+17)>>0]|0;e=i[t+328+(b<<6)+36>>2]|0;n[T+$>>0]=n[6294+((i[t+328+(b<<6)+32>>2]|0)+512+(a[h+(v+16)>>0]|0))>>0]|0;Q=a[h+(v+18)>>0]|0;d=i[t+328+(b<<6)+40>>2]|0;n[T+($+1)>>0]=n[6294+((r|512)+e)>>0]|0;e=a[h+(v+19)>>0]|0;r=i[t+328+(b<<6)+44>>2]|0;n[T+($+2)>>0]=n[6294+(d+512+Q)>>0]|0;n[T+($+3)>>0]=n[6294+(r+512+e)>>0]|0;e=a[h+(v+25)>>0]|0;r=i[t+328+(b<<6)+52>>2]|0;n[T+($+(_<<3&2147483640))>>0]=n[6294+((i[t+328+(b<<6)+48>>2]|0)+512+(a[h+(v+24)>>0]|0))>>0]|0;Q=a[h+(v+26)>>0]|0;d=i[t+328+(b<<6)+56>>2]|0;n[T+($+(_<<3&2147483640)+1)>>0]=n[6294+((e|512)+r)>>0]|0;r=a[h+(v+27)>>0]|0;e=i[t+328+(b<<6)+60>>2]|0;n[T+($+(_<<3&2147483640)+2)>>0]=n[6294+(d+512+Q)>>0]|0;n[T+($+(_<<3&2147483640)+3)>>0]=n[6294+(e+512+r)>>0]|0}b=b+1|0}while((b|0)!=24)}}while(0);$=0;f=Z;return $|0}function Ne(e,t,r){e=e|0;t=t|0;r=r|0;var a=0;var s=0;var u=0;s=n[384+(t<<3)+4>>0]|0;u=n[576+(t<<3)+4>>0]|0;if(11205370>>>t&1){a=o[r+((s&255)<<1)>>1]|0;if(13434828>>>t&1){e=a+1+(o[r+((u&255)<<1)>>1]|0)>>1;return e|0}t=i[e+204>>2]|0;if(!t){e=a;return e|0}if((i[e+4>>2]|0)!=(i[t+4>>2]|0)){e=a;return e|0}e=a+1+(o[t+28+((u&255)<<1)>>1]|0)>>1;return e|0}if(13434828>>>t&1){t=o[r+((u&255)<<1)>>1]|0;a=i[e+200>>2]|0;if(!a){e=t;return e|0}if((i[e+4>>2]|0)!=(i[a+4>>2]|0)){e=t;return e|0}e=t+1+(o[a+28+((s&255)<<1)>>1]|0)>>1;return e|0}t=i[e+200>>2]|0;if((t|0)!=0?(i[e+4>>2]|0)==(i[t+4>>2]|0):0){a=o[t+28+((s&255)<<1)>>1]|0;r=1}else{a=0;r=0}t=i[e+204>>2]|0;if(!t){e=a;return e|0}if((i[e+4>>2]|0)!=(i[t+4>>2]|0)){e=a;return e|0}t=o[t+28+((u&255)<<1)>>1]|0;if(!r){e=t;return e|0}e=a+1+t>>1;return e|0}function Ge(e,t){e=e|0;t=t|0;var r=0;var n=0;var o=0;var s=0;var u=0;var c=0;o=i[e+4>>2]|0;u=i[e+12>>2]<<3;c=i[e+16>>2]|0;if((u-c|0)>31){n=i[e+8>>2]|0;r=(a[o+1>>0]|0)<<16|(a[o>>0]|0)<<24|(a[o+2>>0]|0)<<8|(a[o+3>>0]|0);if(!n){n=e+8|0}else{r=(a[o+4>>0]|0)>>>(8-n|0)|r<<n;n=e+8|0}}else if((u-c|0)>0){n=i[e+8>>2]|0;r=(a[o>>0]|0)<<n+24;if((u-c+-8+n|0)>0){s=u-c+-8+n|0;n=n+24|0;while(1){o=o+1|0;n=n+-8|0;r=(a[o>>0]|0)<<n|r;if((s|0)<=8){n=e+8|0;break}else{s=s+-8|0}}}else{n=e+8|0}}else{r=0;n=e+8|0}i[e+16>>2]=c+t;i[n>>2]=c+t&7;if((c+t|0)>>>0>u>>>0){c=0;e=32-t|0;e=r>>>e;e=c?e:-1;return e|0}i[e+4>>2]=(i[e>>2]|0)+((c+t|0)>>>3);c=1;e=32-t|0;e=r>>>e;e=c?e:-1;return e|0}function Fe(e,t){e=e|0;t=t|0;var r=0;var n=0;var o=0;var s=0;var u=0;var c=0;o=i[e+4>>2]|0;c=i[e+12>>2]<<3;u=i[e+16>>2]|0;if((c-u|0)>31){n=i[e+8>>2]|0;r=(a[o+1>>0]|0)<<16|(a[o>>0]|0)<<24|(a[o+2>>0]|0)<<8|(a[o+3>>0]|0);if(!n){n=7}else{r=(a[o+4>>0]|0)>>>(8-n|0)|r<<n;n=7}}else if((c-u|0)>0){n=i[e+8>>2]|0;r=(a[o>>0]|0)<<n+24;if((c-u+-8+n|0)>0){s=c-u+-8+n|0;n=n+24|0;while(1){o=o+1|0;n=n+-8|0;r=(a[o>>0]|0)<<n|r;if((s|0)<=8){n=7;break}else{s=s+-8|0}}}else{n=7}}else{r=0;n=21}do{if((n|0)==7){if((r|0)<0){i[e+16>>2]=u+1;i[e+8>>2]=u+1&7;if((u+1|0)>>>0<=c>>>0){i[e+4>>2]=(i[e>>2]|0)+((u+1|0)>>>3)}i[t>>2]=0;t=0;return t|0}if(r>>>0>1073741823){i[e+16>>2]=u+3;i[e+8>>2]=u+3&7;if((u+3|0)>>>0>c>>>0){t=1;return t|0}i[e+4>>2]=(i[e>>2]|0)+((u+3|0)>>>3);i[t>>2]=(r>>>29&1)+1;t=0;return t|0}if(r>>>0>536870911){i[e+16>>2]=u+5;i[e+8>>2]=u+5&7;if((u+5|0)>>>0>c>>>0){t=1;return t|0}i[e+4>>2]=(i[e>>2]|0)+((u+5|0)>>>3);i[t>>2]=(r>>>27&3)+3;t=0;return t|0}if(r>>>0<=268435455){if(!(r&134217728)){n=21;break}else{o=4;r=0;break}}i[e+16>>2]=u+7;i[e+8>>2]=u+7&7;if((u+7|0)>>>0>c>>>0){t=1;return t|0}i[e+4>>2]=(i[e>>2]|0)+((u+7|0)>>>3);i[t>>2]=(r>>>25&7)+7;t=0;return t|0}}while(0);if((n|0)==21){n=134217728;o=0;while(1){s=o+1|0;n=n>>>1;if(!((n|0)!=0&(n&r|0)==0)){break}else{o=s}}r=o+5|0;if((r|0)==32){i[t>>2]=0;r=(i[e+16>>2]|0)+32|0;i[e+16>>2]=r;i[e+8>>2]=r&7;if(r>>>0<=i[e+12>>2]<<3>>>0){i[e+4>>2]=(i[e>>2]|0)+(r>>>3)}if((Ge(e,1)|0)!=1){t=1;return t|0}o=i[e+4>>2]|0;u=i[e+12>>2]<<3;c=i[e+16>>2]|0;if((u-c|0)>31){n=i[e+8>>2]|0;r=(a[o+1>>0]|0)<<16|(a[o>>0]|0)<<24|(a[o+2>>0]|0)<<8|(a[o+3>>0]|0);if(n){r=(a[o+4>>0]|0)>>>(8-n|0)|r<<n}}else if((u-c|0)>0){n=i[e+8>>2]|0;r=(a[o>>0]|0)<<n+24;if((u-c+-8+n|0)>0){s=u-c+-8+n|0;n=n+24|0;while(1){o=o+1|0;n=n+-8|0;r=(a[o>>0]|0)<<n|r;if((s|0)<=8){break}else{s=s+-8|0}}}}else{r=0}i[e+16>>2]=c+32;i[e+8>>2]=c+32&7;if((c+32|0)>>>0>u>>>0){t=1;return t|0}i[e+4>>2]=(i[e>>2]|0)+((c+32|0)>>>3);switch(r|0){case 0:{i[t>>2]=-1;t=0;return t|0}case 1:{i[t>>2]=-1;t=1;return t|0}default:{t=1;return t|0}}}else{o=r;r=s}}r=r+5+u|0;i[e+16>>2]=r;i[e+8>>2]=r&7;if(r>>>0<=c>>>0){i[e+4>>2]=(i[e>>2]|0)+(r>>>3)}r=Ge(e,o)|0;if((r|0)==-1){t=1;return t|0}i[t>>2]=(1<<o)+-1+r;t=0;return t|0}function Be(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var o=0;var u=0;var c=0;var l=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;var E=0;var C=0;var S=0;var A=0;var R=0;var O=0;var M=0;var I=0;var P=0;var x=0;var L=0;var D=0;var N=0;var G=0;var F=0;var B=0;var j=0;var U=0;var V=0;V=f;f=f+128|0;v=i[e+4>>2]|0;F=i[e+12>>2]<<3;p=i[e+16>>2]|0;if((F-p|0)>31){o=i[e+8>>2]|0;d=(a[v+1>>0]|0)<<16|(a[v>>0]|0)<<24|(a[v+2>>0]|0)<<8|(a[v+3>>0]|0);if(o){d=(a[v+4>>0]|0)>>>(8-o|0)|d<<o}}else if((F-p|0)>0){o=i[e+8>>2]|0;d=(a[v>>0]|0)<<o+24;if((F-p+-8+o|0)>0){y=F-p+-8+o|0;o=o+24|0;while(1){v=v+1|0;o=o+-8|0;d=(a[v>>0]|0)<<o|d;if((y|0)<=8){break}else{y=y+-8|0}}}}else{d=0}o=d>>>16;do{if(r>>>0<2){if((d|0)>=0){if(d>>>0>201326591){g=s[4160+(d>>>26<<1)>>1]|0;b=31;break}if(d>>>0>16777215){g=s[4224+(d>>>22<<1)>>1]|0;b=31;break}if(d>>>0>2097151){g=s[4320+((d>>>18)+-8<<1)>>1]|0;b=31;break}else{g=s[4432+(o<<1)>>1]|0;b=31;break}}else{m=1}}else if(r>>>0<4){if((d|0)<0){m=(o&16384|0)!=0?2:2082;break}if(d>>>0>268435455){g=s[4496+(d>>>26<<1)>>1]|0;b=31;break}if(d>>>0>33554431){g=s[4560+(d>>>23<<1)>>1]|0;b=31;break}else{g=s[4624+(d>>>18<<1)>>1]|0;b=31;break}}else{if(r>>>0<8){o=d>>>26;if((o+-8|0)>>>0<56){g=s[4880+(o<<1)>>1]|0;b=31;break}g=s[5008+(d>>>22<<1)>>1]|0;b=31;break}if(r>>>0<17){g=s[5264+(d>>>26<<1)>>1]|0;b=31;break}o=d>>>29;if(o){g=s[5392+(o<<1)>>1]|0;b=31;break}g=s[5408+(d>>>24<<1)>>1]|0;b=31;break}}while(0);if((b|0)==31){if(!g){e=1;f=V;return e|0}m=g}g=m&31;o=d<<g;N=m>>>11&31;if(N>>>0>n>>>0){e=1;f=V;return e|0}_=m>>>5&63;do{if(N){if(!_){v=32-g|0;d=0}else{do{if((32-g|0)>>>0<_>>>0){i[e+16>>2]=p+g;r=p+m&7;i[e+8>>2]=r;if(F>>>0<(p+g|0)>>>0){e=1;f=V;return e|0}d=i[e>>2]|0;v=(p+g|0)>>>3;i[e+4>>2]=d+v;if((F-(p+g)|0)>31){o=(a[d+(v+1)>>0]|0)<<16|(a[d+v>>0]|0)<<24|(a[d+(v+2)>>0]|0)<<8|(a[d+(v+3)>>0]|0);if(!r){p=p+g|0;g=32;y=o;break}p=p+g|0;g=32;y=(a[d+(v+4)>>0]|0)>>>(8-r|0)|o<<r;break}if((F-(p+g)|0)>0){o=(a[d+v>>0]|0)<<(r|24);if((F-(p+g)+-8+r|0)>0){v=d+v|0;y=F-(p+g)+-8+r|0;d=r|24;while(1){v=v+1|0;d=d+-8|0;o=(a[v>>0]|0)<<d|o;if((y|0)<=8){p=p+g|0;g=32;y=o;break}else{y=y+-8|0}}}else{p=p+g|0;g=32;y=o}}else{p=p+g|0;g=32;y=0}}else{g=32-g|0;y=o}}while(0);o=y>>>(32-_|0);r=0;d=1<<_+-1;do{i[V+64+(r<<2)>>2]=(d&o|0)!=0?-1:1;d=d>>>1;r=r+1|0}while((d|0)!=0);v=g-_|0;o=y<<_;d=r}e:do{if(d>>>0<N>>>0){y=o;T=d;w=N>>>0>10&_>>>0<3&1;t:while(1){do{if(v>>>0<16){y=p+(32-v)|0;i[e+16>>2]=y;i[e+8>>2]=y&7;if(F>>>0<y>>>0){G=1;b=158;break t}d=i[e>>2]|0;i[e+4>>2]=d+(y>>>3);if((F-y|0)>31){o=(a[d+((y>>>3)+1)>>0]|0)<<16|(a[d+(y>>>3)>>0]|0)<<24|(a[d+((y>>>3)+2)>>0]|0)<<8|(a[d+((y>>>3)+3)>>0]|0);if(!(y&7)){p=y;m=32;g=o;break}p=y;m=32;g=(a[d+((y>>>3)+4)>>0]|0)>>>(8-(y&7)|0)|o<<(y&7);break}if((F-y|0)<=0){G=1;b=158;break t}o=(a[d+(y>>>3)>>0]|0)<<(y&7|24);if((F-y+-8+(y&7)|0)>0){p=d+(y>>>3)|0;v=F-y+-8+(y&7)|0;d=y&7|24;while(1){p=p+1|0;d=d+-8|0;o=(a[p>>0]|0)<<d|o;if((v|0)<=8){p=y;m=32;g=o;break}else{v=v+-8|0}}}else{p=y;m=32;g=o}}else{m=v;g=y}}while(0);do{if((g|0)>=0){if(g>>>0<=1073741823){if(g>>>0<=536870911){if(g>>>0<=268435455){if(g>>>0<=134217727){if(g>>>0<=67108863){if(g>>>0<=33554431){if(g>>>0<=16777215){if(g>>>0>8388607){D=8;b=75}else{if(g>>>0>4194303){D=9;b=75;break}if(g>>>0>2097151){D=10;b=75;break}if(g>>>0>1048575){D=11;b=75;break}if(g>>>0>524287){D=12;b=75;break}if(g>>>0>262143){D=13;b=75;break}if(g>>>0>131071){d=m+-15|0;v=g<<15;o=14;y=w;r=(w|0)!=0?w:4}else{if(g>>>0<65536){G=1;b=158;break t}d=m+-16|0;v=g<<16;o=15;y=(w|0)!=0?w:1;r=12}L=o<<y;P=d;x=(y|0)==0;I=v;M=y;O=r;b=76}}else{D=7;b=75}}else{D=6;b=75}}else{D=5;b=75}}else{D=4;b=75}}else{D=3;b=75}}else{D=2;b=75}}else{D=1;b=75}}else{D=0;b=75}}while(0);if((b|0)==75){b=0;o=D+1|0;v=g<<o;o=m-o|0;d=D<<w;if(!w){R=1;A=p;C=o;S=v;k=d;E=0}else{L=d;P=o;x=0;I=v;M=w;O=w;b=76}}if((b|0)==76){do{if(P>>>0<O>>>0){y=p+(32-P)|0;i[e+16>>2]=y;i[e+8>>2]=y&7;if(F>>>0<y>>>0){G=1;b=158;break t}d=i[e>>2]|0;i[e+4>>2]=d+(y>>>3);if((F-y|0)>31){o=(a[d+((y>>>3)+1)>>0]|0)<<16|(a[d+(y>>>3)>>0]|0)<<24|(a[d+((y>>>3)+2)>>0]|0)<<8|(a[d+((y>>>3)+3)>>0]|0);if(!(y&7)){p=y;v=32;break}p=y;v=32;o=(a[d+((y>>>3)+4)>>0]|0)>>>(8-(y&7)|0)|o<<(y&7);break}if((F-y|0)>0){o=(a[d+(y>>>3)>>0]|0)<<(y&7|24);if((F-y+-8+(y&7)|0)>0){p=d+(y>>>3)|0;v=F-y+-8+(y&7)|0;d=y&7|24;while(1){p=p+1|0;d=d+-8|0;o=(a[p>>0]|0)<<d|o;if((v|0)<=8){p=y;v=32;break}else{v=v+-8|0}}}else{p=y;v=32}}else{p=y;v=32;o=0}}else{v=P;o=I}}while(0);R=x;A=p;C=v-O|0;S=o<<O;k=(o>>>(32-O|0))+L|0;E=M}o=_>>>0<3&(T|0)==(_|0)?k+2|0:k;d=R?1:E;i[V+64+(T<<2)>>2]=(o&1|0)==0?(o+2|0)>>>1:0-((o+2|0)>>>1)|0;T=T+1|0;if(T>>>0>=N>>>0){h=A;l=C;c=S;break e}else{p=A;v=C;y=S;w=((d>>>0<6?((o+2|0)>>>1|0)>(3<<d+-1|0):0)&1)+d|0}}if((b|0)==158){f=V;return G|0}}else{h=p;l=v;c=o}}while(0);if(N>>>0<n>>>0){do{if(l>>>0<9){p=h+(32-l)|0;i[e+16>>2]=p;i[e+8>>2]=p&7;if(F>>>0<p>>>0){e=1;f=V;return e|0}c=i[e>>2]|0;i[e+4>>2]=c+(p>>>3);if((F-p|0)>31){o=(a[c+((p>>>3)+1)>>0]|0)<<16|(a[c+(p>>>3)>>0]|0)<<24|(a[c+((p>>>3)+2)>>0]|0)<<8|(a[c+((p>>>3)+3)>>0]|0);if(!(p&7)){h=p;l=32;c=o;break}h=p;l=32;c=(a[c+((p>>>3)+4)>>0]|0)>>>(8-(p&7)|0)|o<<(p&7);break}if((F-p|0)>0){o=(a[c+(p>>>3)>>0]|0)<<(p&7|24);if((F-p+-8+(p&7)|0)>0){l=c+(p>>>3)|0;d=F-p+-8+(p&7)|0;c=p&7|24;while(1){l=l+1|0;c=c+-8|0;o=(a[l>>0]|0)<<c|o;if((d|0)<=8){h=p;l=32;c=o;break}else{d=d+-8|0}}}else{h=p;l=32;c=o}}else{h=p;l=32;c=0}}}while(0);o=c>>>23;e:do{if((n|0)==4){if((c|0)>=0){if((N|0)!=3){if(c>>>0<=1073741823){if((N|0)==2){o=34}else{o=c>>>0>536870911?35:51}}else{o=18}}else{o=17}}else{o=1}}else{do{switch(N|0){case 1:{if(c>>>0>268435455){o=a[5672+(c>>>27)>>0]|0}else{o=a[5704+o>>0]|0}break}case 2:{o=a[5736+(c>>>26)>>0]|0;break}case 3:{o=a[5800+(c>>>26)>>0]|0;break}case 4:{o=a[5864+(c>>>27)>>0]|0;break}case 5:{o=a[5896+(c>>>27)>>0]|0;break}case 6:{o=a[5928+(c>>>26)>>0]|0;break}case 7:{o=a[5992+(c>>>26)>>0]|0;break}case 8:{o=a[6056+(c>>>26)>>0]|0;break}case 9:{o=a[6120+(c>>>26)>>0]|0;break}case 10:{o=a[6184+(c>>>27)>>0]|0;break}case 11:{o=a[6216+(c>>>28)>>0]|0;break}case 12:{o=a[6232+(c>>>28)>>0]|0;break}case 13:{o=a[6248+(c>>>29)>>0]|0;break}case 14:{o=a[6256+(c>>>30)>>0]|0;break}default:{o=c>>31&16|1;break e}}}while(0);if(!o){e=1;f=V;return e|0}}}while(0);d=o&15;l=l-d|0;c=c<<d;d=o>>>4&15}else{d=0}if(!(N+-1|0)){i[t+(d<<2)>>2]=i[V+64>>2];B=l;j=1<<d;break}o=c;y=0;v=d;e:while(1){if(!v){i[V+(y<<2)>>2]=1;c=h;U=l;u=0}else{do{if(l>>>0<11){p=h+(32-l)|0;i[e+16>>2]=p;i[e+8>>2]=p&7;if(F>>>0<p>>>0){G=1;b=158;break e}c=i[e>>2]|0;i[e+4>>2]=c+(p>>>3);if((F-p|0)>31){o=(a[c+((p>>>3)+1)>>0]|0)<<16|(a[c+(p>>>3)>>0]|0)<<24|(a[c+((p>>>3)+2)>>0]|0)<<8|(a[c+((p>>>3)+3)>>0]|0);if(!(p&7)){h=p;l=32;d=o;break}h=p;l=32;d=(a[c+((p>>>3)+4)>>0]|0)>>>(8-(p&7)|0)|o<<(p&7);break}if((F-p|0)>0){o=(a[c+(p>>>3)>>0]|0)<<(p&7|24);if((F-p+-8+(p&7)|0)>0){l=c+(p>>>3)|0;d=F-p+-8+(p&7)|0;c=p&7|24;while(1){l=l+1|0;c=c+-8|0;o=(a[l>>0]|0)<<c|o;if((d|0)<=8){h=p;l=32;d=o;break}else{d=d+-8|0}}}else{h=p;l=32;d=o}}else{h=p;l=32;d=0}}else{d=o}}while(0);switch(v|0){case 1:{o=a[6260+(d>>>31)>>0]|0;break}case 2:{o=a[6262+(d>>>30)>>0]|0;break}case 3:{o=a[6266+(d>>>30)>>0]|0;break}case 4:{o=a[6270+(d>>>29)>>0]|0;break}case 5:{o=a[6278+(d>>>29)>>0]|0;break}case 6:{o=a[6286+(d>>>29)>>0]|0;break}default:{do{if(d>>>0<=536870911){if(d>>>0<=268435455){if(d>>>0<=134217727){if(d>>>0<=67108863){if(d>>>0>33554431){o=167}else{if(d>>>0>16777215){o=184;break}if(d>>>0>8388607){o=201;break}if(d>>>0>4194303){o=218;break}o=d>>>0<2097152?0:235}}else{o=150}}else{o=133}}else{o=116}}else{o=d>>>29<<4^115}}while(0);if((o>>>4&15)>>>0>v>>>0){G=1;b=158;break e}}}if(!o){G=1;b=158;break}n=o&15;u=o>>>4&15;i[V+(y<<2)>>2]=u+1;c=h;U=l-n|0;o=d<<n;u=v-u|0}y=y+1|0;if(y>>>0>=(N+-1|0)>>>0){b=154;break}else{h=c;l=U;v=u}}if((b|0)==154){i[t+(u<<2)>>2]=i[V+64+(N+-1<<2)>>2];c=N+-2|0;o=1<<u;while(1){u=(i[V+(c<<2)>>2]|0)+u|0;o=1<<u|o;i[t+(u<<2)>>2]=i[V+64+(c<<2)>>2];if(!c){B=U;j=o;break}else{c=c+-1|0}}}else if((b|0)==158){f=V;return G|0}}else{B=32-g|0;j=0}}while(0);o=(i[e+16>>2]|0)+(32-B)|0;i[e+16>>2]=o;i[e+8>>2]=o&7;if(o>>>0>i[e+12>>2]<<3>>>0){e=1;f=V;return e|0}i[e+4>>2]=(i[e>>2]|0)+(o>>>3);e=j<<16|N<<4;f=V;return e|0}function je(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;var s=0;var u=0;var c=0;var l=0;o=i[t>>2]|0;if((o|0)==16777215){return}s=r>>>0<16?16:8;r=r>>>0<16?r:r&3;r=(ee(i[1216+(r<<2)>>2]|0,s)|0)+(i[1152+(r<<2)>>2]|0)|0;l=i[t+4>>2]|0;c=a[e+(r+1)>>0]|0;n[e+r>>0]=n[6294+(o+512+(a[e+r>>0]|0))>>0]|0;u=i[t+8>>2]|0;o=a[e+(r+2)>>0]|0;n[e+(r+1)>>0]=n[6294+(l+512+c)>>0]|0;c=n[6294+((i[t+12>>2]|0)+512+(a[e+(r+3)>>0]|0))>>0]|0;n[e+(r+2)>>0]=n[6294+(u+512+o)>>0]|0;n[e+(r+3)>>0]=c;c=i[t+20>>2]|0;o=a[e+(r+s+1)>>0]|0;n[e+(r+s)>>0]=n[6294+((i[t+16>>2]|0)+512+(a[e+(r+s)>>0]|0))>>0]|0;u=i[t+24>>2]|0;l=a[e+(r+s+2)>>0]|0;n[e+(r+s+1)>>0]=n[6294+(c+512+o)>>0]|0;o=n[6294+((i[t+28>>2]|0)+512+(a[e+(r+s+3)>>0]|0))>>0]|0;n[e+(r+s+2)>>0]=n[6294+(u+512+l)>>0]|0;n[e+(r+s+3)>>0]=o;r=r+s+s|0;o=i[t+36>>2]|0;l=a[e+(r+1)>>0]|0;n[e+r>>0]=n[6294+((i[t+32>>2]|0)+512+(a[e+r>>0]|0))>>0]|0;u=i[t+40>>2]|0;c=a[e+(r+2)>>0]|0;n[e+(r+1)>>0]=n[6294+(o+512+l)>>0]|0;l=n[6294+((i[t+44>>2]|0)+512+(a[e+(r+3)>>0]|0))>>0]|0;n[e+(r+2)>>0]=n[6294+(u+512+c)>>0]|0;n[e+(r+3)>>0]=l;l=i[t+52>>2]|0;c=a[e+(r+s+1)>>0]|0;n[e+(r+s)>>0]=n[6294+((i[t+48>>2]|0)+512+(a[e+(r+s)>>0]|0))>>0]|0;u=i[t+56>>2]|0;o=a[e+(r+s+2)>>0]|0;n[e+(r+s+1)>>0]=n[6294+(l+512+c)>>0]|0;t=n[6294+((i[t+60>>2]|0)+512+(a[e+(r+s+3)>>0]|0))>>0]|0;n[e+(r+s+2)>>0]=n[6294+(u+512+o)>>0]|0;n[e+(r+s+3)>>0]=t}function Ue(e,t,r,n,o,i,a,s,u){e=e|0;t=t|0;r=r|0;n=n|0;o=o|0;i=i|0;a=a|0;s=s|0;u=u|0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;var v=0;var y=0;y=(r|0)<0|(a+r|0)>(o|0)?2:1;v=(s+n|0)<0?0-s|0:n;h=(a+r|0)<0?0-a|0:r;v=(v|0)>(i|0)?i:v;h=(h|0)>(o|0)?o:h;r=(h|0)>0?e+h|0:e;p=r+(ee(v,o)|0)|0;r=(v|0)>0?p:r;p=(h|0)<0?0-h|0:0;h=(h+a|0)>(o|0)?h+a-o|0:0;f=(v|0)<0?0-v|0:0;d=(v+s|0)>(i|0)?v+s-i|0:0;if(f){c=s+-1+((s+n|0)>0?0-(s+n)|0:0)|0;c=(c|0)>(~i|0)?c:~i;e=t;l=0-v|0;while(1){Lt[y&3](r,e,p,a-p-h|0,h);l=l+-1|0;if(!l){break}else{e=e+u|0}}t=t+(ee(c+1+((c|0)<-1?~c:0)|0,u)|0)|0}if((s-f|0)!=(d|0)){n=s+-1-((s+n|0)>0?s+n|0:0)|0;n=(n|0)>(~i|0)?n:~i;n=i+-1+s-n+((n|0)<-1?n+1|0:0)-((s+-1-n|0)<(i|0)?i:s+-1-n|0)|0;c=t;l=r;e=s-f-d|0;while(1){Lt[y&3](l,c,p,a-p-h|0,h);e=e+-1|0;if(!e){break}else{c=c+u|0;l=l+o|0}}t=t+(ee(n,u)|0)|0;r=r+(ee(n,o)|0)|0}e=r+(0-o)|0;if(!d){return}r=v+s-i|0;while(1){Lt[y&3](e,t,p,a-p-h|0,h);r=r+-1|0;if(!r){break}else{t=t+u|0}}}function Ve(e,t,r,o,i,s,u,c,l){e=e|0;t=t|0;r=r|0;o=o|0;i=i|0;s=s|0;u=u|0;c=c|0;l=l|0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;var E=0;m=f;f=f+448|0;if(((r|0)>=0?!((o|0)<0|(u+r|0)>>>0>i>>>0):0)?(o+5+c|0)>>>0<=s>>>0:0){s=r}else{Ue(e,m,r,o,i,s,u,c+5|0,u);e=m;s=0;o=0;i=u}o=s+i+(ee(o,i)|0)|0;if(!(c>>>2)){f=m;return}v=i<<2;y=0-i|0;g=i<<1;if(!u){f=m;return}p=t;d=c>>>2;h=e+o|0;l=e+(o+(ee(i,l+2|0)|0))|0;t=e+(o+(i*5|0))|0;while(1){o=p;s=u;e=h;r=l;c=t;while(1){b=a[c+(y<<1)>>0]|0;k=a[c+y>>0]|0;w=a[c+i>>0]|0;E=a[c>>0]|0;T=a[e+g>>0]|0;n[o+48>>0]=((a[6294+(((a[c+g>>0]|0)+16-(w+b)-(w+b<<2)+T+((E+k|0)*20|0)>>5)+512)>>0]|0)+1+(a[r+g>>0]|0)|0)>>>1;_=a[e+i>>0]|0;n[o+32>>0]=((a[6294+((w+16+((k+b|0)*20|0)-(T+E)-(T+E<<2)+_>>5)+512)>>0]|0)+1+(a[r+i>>0]|0)|0)>>>1;w=a[e>>0]|0;n[o+16>>0]=((a[6294+((E+16+((T+b|0)*20|0)-(_+k)-(_+k<<2)+w>>5)+512)>>0]|0)+1+(a[r>>0]|0)|0)>>>1;n[o>>0]=((a[6294+((k+16+((_+T|0)*20|0)-(w+b)-(w+b<<2)+(a[e+y>>0]|0)>>5)+512)>>0]|0)+1+(a[r+y>>0]|0)|0)>>>1;s=s+-1|0;if(!s){break}else{o=o+1|0;e=e+1|0;r=r+1|0;c=c+1|0}}d=d+-1|0;if(!d){break}else{p=p+64|0;h=h+v|0;l=l+v|0;t=t+v|0}}f=m}function He(e,t,r,o,i,s,u,c,l){e=e|0;t=t|0;r=r|0;o=o|0;i=i|0;s=s|0;u=u|0;c=c|0;l=l|0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;g=f;f=f+448|0;if((r|0)>=0?!((c+o|0)>>>0>s>>>0|((o|0)<0|(r+5+u|0)>>>0>i>>>0)):0){s=i}else{Ue(e,g,r,o,i,s,u+5|0,c,u+5|0);e=g;r=0;o=0;s=u+5|0}if(!c){f=g;return}y=s-u|0;s=e+(r+5+(ee(o,s)|0))|0;while(1){if(u>>>2){r=a[s+-1>>0]|0;d=a[s+-2>>0]|0;i=a[s+-3>>0]|0;o=a[s+-4>>0]|0;e=a[s+-5>>0]|0;v=t+(u>>>2<<2)|0;if(!l){p=s;h=r;r=u>>>2;while(1){m=h+o|0;b=o;o=a[p>>0]|0;n[t>>0]=(i+1+(a[6294+((e+16-m+((d+i|0)*20|0)-(m<<2)+o>>5)+512)>>0]|0)|0)>>>1;m=o+i|0;e=i;i=a[p+1>>0]|0;n[t+1>>0]=(d+1+(a[6294+((b+16+((h+d|0)*20|0)-m-(m<<2)+i>>5)+512)>>0]|0)|0)>>>1;m=i+d|0;b=d;d=a[p+2>>0]|0;n[t+2>>0]=(h+1+(a[6294+((e+16+((o+h|0)*20|0)-m-(m<<2)+d>>5)+512)>>0]|0)|0)>>>1;m=d+h|0;e=a[p+3>>0]|0;n[t+3>>0]=(o+1+(a[6294+((b+16+((i+o|0)*20|0)-m-(m<<2)+e>>5)+512)>>0]|0)|0)>>>1;r=r+-1|0;if(!r){break}else{b=h;t=t+4|0;p=p+4|0;h=e;e=b}}}else{p=s;h=r;r=u>>>2;while(1){b=h+o|0;m=o;o=a[p>>0]|0;n[t>>0]=(d+1+(a[6294+((e+16-b+((d+i|0)*20|0)-(b<<2)+o>>5)+512)>>0]|0)|0)>>>1;b=o+i|0;e=i;i=a[p+1>>0]|0;n[t+1>>0]=(h+1+(a[6294+((m+16+((h+d|0)*20|0)-b-(b<<2)+i>>5)+512)>>0]|0)|0)>>>1;b=i+d|0;m=d;d=a[p+2>>0]|0;n[t+2>>0]=(o+1+(a[6294+((e+16+((o+h|0)*20|0)-b-(b<<2)+d>>5)+512)>>0]|0)|0)>>>1;b=d+h|0;e=a[p+3>>0]|0;n[t+3>>0]=(i+1+(a[6294+((m+16+((i+o|0)*20|0)-b-(b<<2)+e>>5)+512)>>0]|0)|0)>>>1;r=r+-1|0;if(!r){break}else{b=h;t=t+4|0;p=p+4|0;h=e;e=b}}}t=v;s=s+(u>>>2<<2)|0}c=c+-1|0;if(!c){break}else{t=t+(16-u)|0;s=s+y|0}}f=g}function Ke(e,t,r,o,i,s,u,c,l){e=e|0;t=t|0;r=r|0;o=o|0;i=i|0;s=s|0;u=u|0;c=c|0;l=l|0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;T=f;f=f+448|0;if(((r|0)>=0?!((o|0)<0|(r+5+u|0)>>>0>i>>>0):0)?(o+5+c|0)>>>0<=s>>>0:0){s=r}else{Ue(e,T,r,o,i,s,u+5|0,c+5|0,u+5|0);e=T;s=0;o=0;i=u+5|0}o=(ee(o,i)|0)+s|0;w=i+(l&1|2)+o|0;d=e+w|0;if(!c){f=T;return}b=i-u|0;s=t;o=e+((ee(i,l>>>1&1|2)|0)+5+o)|0;m=c;while(1){if(u>>>2){t=s;l=o;h=a[o+-1>>0]|0;p=a[o+-2>>0]|0;v=a[o+-3>>0]|0;y=a[o+-4>>0]|0;r=a[o+-5>>0]|0;g=u>>>2;while(1){_=h+y|0;k=y;y=a[l>>0]|0;n[t>>0]=n[6294+((r+16-_+((p+v|0)*20|0)-(_<<2)+y>>5)+512)>>0]|0;_=y+v|0;r=v;v=a[l+1>>0]|0;n[t+1>>0]=n[6294+((k+16+((h+p|0)*20|0)-_-(_<<2)+v>>5)+512)>>0]|0;_=v+p|0;k=p;p=a[l+2>>0]|0;n[t+2>>0]=n[6294+((r+16+((y+h|0)*20|0)-_-(_<<2)+p>>5)+512)>>0]|0;_=p+h|0;r=a[l+3>>0]|0;n[t+3>>0]=n[6294+((k+16+((v+y|0)*20|0)-_-(_<<2)+r>>5)+512)>>0]|0;g=g+-1|0;if(!g){break}else{k=h;t=t+4|0;l=l+4|0;h=r;r=k}}s=s+(u>>>2<<2)|0;o=o+(u>>>2<<2)|0}m=m+-1|0;if(!m){break}else{s=s+(16-u)|0;o=o+b|0}}if(!(c>>>2)){f=T;return}p=i<<2;v=0-i|0;y=i<<1;if(!u){f=T;return}h=s+(16-u-(c<<4))|0;l=e+(w+(i*5|0))|0;t=c>>>2;while(1){o=h;s=d;e=l;r=u;while(1){k=a[e+(v<<1)>>0]|0;b=a[e+v>>0]|0;m=a[e+i>>0]|0;g=a[e>>0]|0;c=a[s+y>>0]|0;w=o+48|0;n[w>>0]=((a[6294+(((a[e+y>>0]|0)+16-(m+k)-(m+k<<2)+c+((g+b|0)*20|0)>>5)+512)>>0]|0)+1+(a[w>>0]|0)|0)>>>1;w=a[s+i>>0]|0;_=o+32|0;n[_>>0]=((a[6294+((m+16+((b+k|0)*20|0)-(c+g)-(c+g<<2)+w>>5)+512)>>0]|0)+1+(a[_>>0]|0)|0)>>>1;_=a[s>>0]|0;m=o+16|0;n[m>>0]=((a[6294+((g+16+((c+k|0)*20|0)-(w+b)-(w+b<<2)+_>>5)+512)>>0]|0)+1+(a[m>>0]|0)|0)>>>1;n[o>>0]=((a[6294+((b+16+((w+c|0)*20|0)-(_+k)-(_+k<<2)+(a[s+v>>0]|0)>>5)+512)>>0]|0)+1+(a[o>>0]|0)|0)>>>1;r=r+-1|0;if(!r){break}else{o=o+1|0;s=s+1|0;e=e+1|0}}t=t+-1|0;if(!t){break}else{h=h+64|0;d=d+p|0;l=l+p|0}}f=T}function We(e,t,r,o,s,u,c,l,d){e=e|0;t=t|0;r=r|0;o=o|0;s=s|0;u=u|0;c=c|0;l=l|0;d=d|0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;w=f;f=f+1792|0;if(((r|0)>=0?!((o|0)<0|(r+5+c|0)>>>0>s>>>0):0)?(o+5+l|0)>>>0<=u>>>0:0){h=r+5|0;r=s;s=l+5|0}else{Ue(e,w+1344|0,r,o,s,u,c+5|0,l+5|0,c+5|0);e=w+1344|0;h=5;o=0;r=c+5|0;s=l+5|0}if(s){b=r-c|0;u=w;e=e+(h+(ee(o,r)|0))|0;while(1){if(c>>>2){o=u;h=e;p=a[e+-1>>0]|0;v=a[e+-2>>0]|0;y=a[e+-3>>0]|0;g=a[e+-4>>0]|0;r=a[e+-5>>0]|0;m=c>>>2;while(1){T=p+g|0;_=g;g=a[h>>0]|0;i[o>>2]=r-T+((v+y|0)*20|0)-(T<<2)+g;T=g+y|0;r=y;y=a[h+1>>0]|0;i[o+4>>2]=((p+v|0)*20|0)+_-T+y-(T<<2);T=y+v|0;_=v;v=a[h+2>>0]|0;i[o+8>>2]=r-T+v+((g+p|0)*20|0)-(T<<2);T=v+p|0;r=a[h+3>>0]|0;i[o+12>>2]=_-T+r+((y+g|0)*20|0)-(T<<2);m=m+-1|0;if(!m){break}else{_=p;o=o+16|0;h=h+4|0;p=r;r=_}}u=u+(c>>>2<<2<<2)|0;e=e+(c>>>2<<2)|0}s=s+-1|0;if(!s){break}else{e=e+b|0}}}if(!(l>>>2)){f=w;return}u=w+(c<<2)|0;e=w+((ee(d+2|0,c)|0)+c<<2)|0;r=w+(c*6<<2)|0;y=l>>>2;while(1){if(c){o=t;s=u;h=e;p=r;v=c;while(1){_=i[p+(0-c<<1<<2)>>2]|0;b=i[p+(0-c<<2)>>2]|0;T=i[p+(c<<2)>>2]|0;m=i[p>>2]|0;l=i[s+(c<<1<<2)>>2]|0;n[o+48>>0]=((a[6294+(((i[p+(c<<1<<2)>>2]|0)+512-(T+_)-(T+_<<2)+l+((m+b|0)*20|0)>>10)+512)>>0]|0)+1+(a[6294+(((i[h+(c<<1<<2)>>2]|0)+16>>5)+512)>>0]|0)|0)>>>1;d=i[s+(c<<2)>>2]|0;n[o+32>>0]=((a[6294+((T+512+((b+_|0)*20|0)-(l+m)-(l+m<<2)+d>>10)+512)>>0]|0)+1+(a[6294+(((i[h+(c<<2)>>2]|0)+16>>5)+512)>>0]|0)|0)>>>1;T=i[s>>2]|0;n[o+16>>0]=((a[6294+((m+512+((l+_|0)*20|0)-(d+b)-(d+b<<2)+T>>10)+512)>>0]|0)+1+(a[6294+(((i[h>>2]|0)+16>>5)+512)>>0]|0)|0)>>>1;n[o>>0]=((a[6294+((b+512+((d+l|0)*20|0)-(T+_)-(T+_<<2)+(i[s+(0-c<<2)>>2]|0)>>10)+512)>>0]|0)+1+(a[6294+(((i[h+(0-c<<2)>>2]|0)+16>>5)+512)>>0]|0)|0)>>>1;v=v+-1|0;if(!v){break}else{o=o+1|0;s=s+4|0;h=h+4|0;p=p+4|0}}t=t+c|0;u=u+(c<<2)|0;e=e+(c<<2)|0;r=r+(c<<2)|0}y=y+-1|0;if(!y){break}else{t=t+(64-c)|0;u=u+(c*3<<2)|0;e=e+(c*3<<2)|0;r=r+(c*3<<2)|0}}f=w}function Ye(e,t,r,o,s,u,c,l,d){e=e|0;t=t|0;r=r|0;o=o|0;s=s|0;u=u|0;c=c|0;l=l|0;d=d|0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;var E=0;var C=0;var S=0;w=f;f=f+1792|0;if(((r|0)>=0?!((o|0)<0|(r+5+c|0)>>>0>s>>>0):0)?(o+5+l|0)>>>0<=u>>>0:0){u=r}else{Ue(e,w+1344|0,r,o,s,u,c+5|0,l+5|0,c+5|0);e=w+1344|0;u=0;o=0;s=c+5|0}o=u+s+(ee(o,s)|0)|0;if(l>>>2){g=(s<<2)-c+-5|0;m=0-s|0;b=s<<1;y=w+(c+5<<2)|0;u=e+o|0;e=e+(o+(s*5|0))|0;v=l>>>2;while(1){if(!(c+5|0)){o=y}else{o=y;r=u;h=e;p=c+5|0;while(1){T=a[h+(m<<1)>>0]|0;C=a[h+m>>0]|0;_=a[h+s>>0]|0;S=a[h>>0]|0;k=a[r+b>>0]|0;i[o+(c+5<<1<<2)>>2]=(a[h+b>>0]|0)-(_+T)-(_+T<<2)+k+((S+C|0)*20|0);E=a[r+s>>0]|0;i[o+(c+5<<2)>>2]=((C+T|0)*20|0)+_-(k+S)+E-(k+S<<2);_=a[r>>0]|0;i[o>>2]=S-(E+C)+_+((k+T|0)*20|0)-(E+C<<2);i[o+(-5-c<<2)>>2]=C-(_+T)+(a[r+m>>0]|0)+((E+k|0)*20|0)-(_+T<<2);p=p+-1|0;if(!p){break}else{o=o+4|0;r=r+1|0;h=h+1|0}}o=y+(c+5<<2)|0;u=u+(c+5)|0;e=e+(c+5)|0}v=v+-1|0;if(!v){break}else{y=o+((c+5|0)*3<<2)|0;u=u+g|0;e=e+g|0}}}if(!l){f=w;return}o=w+(d+2<<2)|0;u=w+20|0;while(1){if(c>>>2){r=t;s=o;h=u;p=i[u+-4>>2]|0;v=i[u+-8>>2]|0;y=i[u+-12>>2]|0;g=i[u+-16>>2]|0;e=i[u+-20>>2]|0;m=c>>>2;while(1){S=p+g|0;C=g;g=i[h>>2]|0;n[r>>0]=((a[6294+((e+512-S+((v+y|0)*20|0)-(S<<2)+g>>10)+512)>>0]|0)+1+(a[6294+(((i[s>>2]|0)+16>>5)+512)>>0]|0)|0)>>>1;S=g+y|0;e=y;y=i[h+4>>2]|0;n[r+1>>0]=((a[6294+((C+512+((p+v|0)*20|0)-S-(S<<2)+y>>10)+512)>>0]|0)+1+(a[6294+(((i[s+4>>2]|0)+16>>5)+512)>>0]|0)|0)>>>1;S=y+v|0;C=v;v=i[h+8>>2]|0;n[r+2>>0]=((a[6294+((e+512+((g+p|0)*20|0)-S-(S<<2)+v>>10)+512)>>0]|0)+1+(a[6294+(((i[s+8>>2]|0)+16>>5)+512)>>0]|0)|0)>>>1;S=v+p|0;e=i[h+12>>2]|0;n[r+3>>0]=((a[6294+((C+512+((y+g|0)*20|0)-S-(S<<2)+e>>10)+512)>>0]|0)+1+(a[6294+(((i[s+12>>2]|0)+16>>5)+512)>>0]|0)|0)>>>1;m=m+-1|0;if(!m){break}else{S=p;r=r+4|0;s=s+16|0;h=h+16|0;p=e;e=S}}t=t+(c>>>2<<2)|0;o=o+(c>>>2<<2<<2)|0;u=u+(c>>>2<<2<<2)|0}l=l+-1|0;if(!l){break}else{t=t+(16-c)|0;o=o+20|0;u=u+20|0}}f=w}function qe(e,t,r,s,u,c,l,d,h){e=e|0;t=t|0;r=r|0;s=s|0;u=u|0;c=c|0;l=l|0;d=d|0;h=h|0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;var E=0;var C=0;var S=0;var A=0;var R=0;var O=0;var M=0;var I=0;var P=0;var x=0;O=f;f=f+1792|0;A=o[t>>1]|0;R=o[t+2>>1]|0;v=i[r+4>>2]<<4;m=i[r+8>>2]<<4;g=(A>>2)+(c+s)|0;y=(R>>2)+(l+u)|0;do{switch(i[3328+((A&3)<<4)+((R&3)<<2)>>2]|0){case 0:{Ue(i[r>>2]|0,e+((l<<4)+c)|0,g,y,v,m,d,h,16);p=r;break}case 1:{Ve(i[r>>2]|0,e+((l<<4)+c)|0,g,y+-2|0,v,m,d,h,0);p=r;break}case 2:{p=i[r>>2]|0;if(((g|0)>=0?!((y|0)<2|(g+d|0)>>>0>v>>>0):0)?(y+3+h|0)>>>0<=m>>>0:0){m=p;p=y+-2|0}else{Ue(p,O,g,y+-2|0,v,m,d,h+5|0,d);m=O;g=0;p=0;v=d}p=g+v+(ee(p,v)|0)|0;if((h>>>2|0)!=0?(k=v<<2,E=0-v|0,C=v<<1,(d|0)!=0):0){w=e+((l<<4)+c)|0;T=h>>>2;_=m+p|0;m=m+(p+(v*5|0))|0;while(1){p=w;y=d;g=_;b=m;while(1){R=a[b+(E<<1)>>0]|0;I=a[b+E>>0]|0;A=a[b+v>>0]|0;P=a[b>>0]|0;S=a[g+C>>0]|0;n[p+48>>0]=n[6294+(((a[b+C>>0]|0)+16-(A+R)-(A+R<<2)+S+((P+I|0)*20|0)>>5)+512)>>0]|0;M=a[g+v>>0]|0;n[p+32>>0]=n[6294+((A+16+((I+R|0)*20|0)-(S+P)-(S+P<<2)+M>>5)+512)>>0]|0;A=a[g>>0]|0;n[p+16>>0]=n[6294+((P+16+((S+R|0)*20|0)-(M+I)-(M+I<<2)+A>>5)+512)>>0]|0;n[p>>0]=n[6294+((I+16+((M+S|0)*20|0)-(A+R)-(A+R<<2)+(a[g+E>>0]|0)>>5)+512)>>0]|0;y=y+-1|0;if(!y){break}else{p=p+1|0;g=g+1|0;b=b+1|0}}T=T+-1|0;if(!T){break}else{w=w+64|0;_=_+k|0;m=m+k|0}}}p=r;break}case 3:{Ve(i[r>>2]|0,e+((l<<4)+c)|0,g,y+-2|0,v,m,d,h,1);p=r;break}case 4:{He(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y,v,m,d,h,0);p=r;break}case 5:{Ke(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y+-2|0,v,m,d,h,0);p=r;break}case 6:{Ye(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y+-2|0,v,m,d,h,0);p=r;break}case 7:{Ke(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y+-2|0,v,m,d,h,2);p=r;break}case 8:{p=i[r>>2]|0;if((g|0)>=2?!((y+h|0)>>>0>m>>>0|((y|0)<0|(g+3+d|0)>>>0>v>>>0)):0){m=p;g=g+-2|0}else{Ue(p,O,g+-2|0,y,v,m,d+5|0,h,d+5|0);m=O;g=0;y=0;v=d+5|0}if(h){C=v-d|0;p=e+((l<<4)+c)|0;v=m+(g+5+(ee(y,v)|0))|0;E=h;while(1){if(d>>>2){g=p;m=v;b=a[v+-1>>0]|0;w=a[v+-2>>0]|0;T=a[v+-3>>0]|0;_=a[v+-4>>0]|0;y=a[v+-5>>0]|0;k=d>>>2;while(1){P=b+_|0;I=_;_=a[m>>0]|0;n[g>>0]=n[6294+((y+16-P+((w+T|0)*20|0)-(P<<2)+_>>5)+512)>>0]|0;P=_+T|0;y=T;T=a[m+1>>0]|0;n[g+1>>0]=n[6294+((I+16+((b+w|0)*20|0)-P-(P<<2)+T>>5)+512)>>0]|0;P=T+w|0;I=w;w=a[m+2>>0]|0;n[g+2>>0]=n[6294+((y+16+((_+b|0)*20|0)-P-(P<<2)+w>>5)+512)>>0]|0;P=w+b|0;y=a[m+3>>0]|0;n[g+3>>0]=n[6294+((I+16+((T+_|0)*20|0)-P-(P<<2)+y>>5)+512)>>0]|0;k=k+-1|0;if(!k){break}else{P=b;g=g+4|0;m=m+4|0;b=y;y=P}}p=p+(d>>>2<<2)|0;v=v+(d>>>2<<2)|0}E=E+-1|0;if(!E){break}else{p=p+(16-d)|0;v=v+C|0}}}p=r;break}case 9:{We(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y+-2|0,v,m,d,h,0);p=r;break}case 10:{p=i[r>>2]|0;if(((g|0)>=2?!((y|0)<2|(g+3+d|0)>>>0>v>>>0):0)?(y+3+h|0)>>>0<=m>>>0:0){m=g+3|0;y=y+-2|0;g=h+5|0}else{Ue(p,O,g+-2|0,y+-2|0,v,m,d+5|0,h+5|0,d+5|0);p=O;m=5;y=0;v=d+5|0;g=h+5|0}if(g){C=v-d|0;E=O+448|0;v=p+(m+(ee(y,v)|0))|0;while(1){if(!(d>>>2)){p=E}else{y=E;m=v;b=a[v+-1>>0]|0;w=a[v+-2>>0]|0;T=a[v+-3>>0]|0;_=a[v+-4>>0]|0;p=a[v+-5>>0]|0;k=d>>>2;while(1){P=b+_|0;I=_;_=a[m>>0]|0;i[y>>2]=p-P+((w+T|0)*20|0)-(P<<2)+_;P=_+T|0;p=T;T=a[m+1>>0]|0;i[y+4>>2]=((b+w|0)*20|0)+I-P+T-(P<<2);P=T+w|0;I=w;w=a[m+2>>0]|0;i[y+8>>2]=p-P+w+((_+b|0)*20|0)-(P<<2);P=w+b|0;p=a[m+3>>0]|0;i[y+12>>2]=I-P+p+((T+_|0)*20|0)-(P<<2);k=k+-1|0;if(!k){break}else{P=b;y=y+16|0;m=m+4|0;b=p;p=P}}p=E+(d>>>2<<2<<2)|0;v=v+(d>>>2<<2)|0}g=g+-1|0;if(!g){break}else{E=p;v=v+C|0}}}if(h>>>2){p=e+((l<<4)+c)|0;v=O+448+(d<<2)|0;y=O+448+(d*6<<2)|0;T=h>>>2;while(1){if(d){g=p;m=v;b=y;w=d;while(1){P=i[b+(0-d<<1<<2)>>2]|0;A=i[b+(0-d<<2)>>2]|0;I=i[b+(d<<2)>>2]|0;S=i[b>>2]|0;M=i[m+(d<<1<<2)>>2]|0;n[g+48>>0]=n[6294+(((i[b+(d<<1<<2)>>2]|0)+512-(I+P)-(I+P<<2)+M+((S+A|0)*20|0)>>10)+512)>>0]|0;R=i[m+(d<<2)>>2]|0;n[g+32>>0]=n[6294+((I+512+((A+P|0)*20|0)-(M+S)-(M+S<<2)+R>>10)+512)>>0]|0;I=i[m>>2]|0;n[g+16>>0]=n[6294+((S+512+((M+P|0)*20|0)-(R+A)-(R+A<<2)+I>>10)+512)>>0]|0;n[g>>0]=n[6294+((A+512+((R+M|0)*20|0)-(I+P)-(I+P<<2)+(i[m+(0-d<<2)>>2]|0)>>10)+512)>>0]|0;w=w+-1|0;if(!w){break}else{g=g+1|0;m=m+4|0;b=b+4|0}}p=p+d|0;v=v+(d<<2)|0;y=y+(d<<2)|0}T=T+-1|0;if(!T){break}else{p=p+(64-d)|0;v=v+(d*3<<2)|0;y=y+(d*3<<2)|0}}}p=r;break}case 11:{We(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y+-2|0,v,m,d,h,1);p=r;break}case 12:{He(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y,v,m,d,h,1);p=r;break}case 13:{Ke(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y+-2|0,v,m,d,h,1);p=r;break}case 14:{Ye(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y+-2|0,v,m,d,h,1);p=r;break}default:{Ke(i[r>>2]|0,e+((l<<4)+c)|0,g+-2|0,y+-2|0,v,m,d,h,3);p=r}}}while(0);w=e+((c>>>1)+256+(l>>>1<<3))|0;v=i[p>>2]|0;m=i[r+4>>2]|0;b=i[r+8>>2]|0;R=o[t>>1]|0;y=(R>>3)+((c+s|0)>>>1)|0;A=o[t+2>>1]|0;g=(A>>3)+((l+u|0)>>>1)|0;p=ee(m<<8,b)|0;if((R&7|0)!=0&(A&7|0)!=0){if(((y|0)>=0?!((g|0)<0?1:(y+1+(d>>>1)|0)>>>0>m<<3>>>0):0)?(g+1+(h>>>1)|0)>>>0<=b<<3>>>0:0){S=v+p|0;u=m<<3;p=b<<3}else{Ue(v+p|0,O+448|0,y,g,m<<3,b<<3,(d>>>1)+1|0,(h>>>1)+1|0,(d>>>1)+1|0);Ue(v+(p+(ee(b<<3,m<<3)|0))|0,O+448+(ee((h>>>1)+1|0,(d>>>1)+1|0)|0)|0,y,g,m<<3,b<<3,(d>>>1)+1|0,(h>>>1)+1|0,(d>>>1)+1|0);S=O+448|0;y=0;g=0;u=(d>>>1)+1|0;p=(h>>>1)+1|0}b=u<<1;v=u+1|0;m=u+2|0;_=0;do{if(!((d>>>2|0)==0|(h>>>2|0)==0)){w=e+((c>>>1)+256+(l>>>1<<3)+(_<<6))|0;k=S+((ee((ee(_,p)|0)+g|0,u)|0)+y)|0;t=h>>>2;while(1){C=a[k+u>>0]|0;r=(ee(a[k+b>>0]|0,A&7)|0)+(ee(C,8-(A&7)|0)|0)|0;C=ee(C,A&7)|0;T=w;E=k;C=(ee(a[k>>0]|0,8-(A&7)|0)|0)+C|0;s=d>>>2;while(1){I=a[E+v>>0]|0;P=(ee(I,A&7)|0)+(ee(a[E+1>>0]|0,8-(A&7)|0)|0)|0;I=(ee(a[E+(b|1)>>0]|0,A&7)|0)+(ee(I,8-(A&7)|0)|0)|0;x=((ee(C,8-(R&7)|0)|0)+32+(ee(P,R&7)|0)|0)>>>6;n[T+8>>0]=((ee(r,8-(R&7)|0)|0)+32+(ee(I,R&7)|0)|0)>>>6;n[T>>0]=x;x=E;E=E+2|0;M=a[x+m>>0]|0;C=(ee(M,A&7)|0)+(ee(a[E>>0]|0,8-(A&7)|0)|0)|0;r=(ee(a[x+(b+2)>>0]|0,A&7)|0)+(ee(M,8-(A&7)|0)|0)|0;P=((ee(P,8-(R&7)|0)|0)+32+(ee(C,R&7)|0)|0)>>>6;n[T+9>>0]=((ee(I,8-(R&7)|0)|0)+32+(ee(r,R&7)|0)|0)>>>6;n[T+1>>0]=P;s=s+-1|0;if(!s){break}else{T=T+2|0}}t=t+-1|0;if(!t){break}else{w=w+(16-(d>>>1)+(d>>>2<<1))|0;k=k+((d>>>2<<1)-(d>>>1)+b)|0}}}_=_+1|0}while((_|0)!=2);f=O;return}if(R&7){if((y|0)>=0?!(((h>>>1)+g|0)>>>0>b<<3>>>0|((g|0)<0?1:(y+1+(d>>>1)|0)>>>0>m<<3>>>0)):0){k=v+p|0;t=m<<3;_=b<<3}else{Ue(v+p|0,O+448|0,y,g,m<<3,b<<3,(d>>>1)+1|0,h>>>1,(d>>>1)+1|0);Ue(v+(p+(ee(b<<3,m<<3)|0))|0,O+448+(ee((d>>>1)+1|0,h>>>1)|0)|0,y,g,m<<3,b<<3,(d>>>1)+1|0,h>>>1,(d>>>1)+1|0);k=O+448|0;y=0;g=0;t=(d>>>1)+1|0;_=h>>>1}r=8-(R&7)|0;E=t+1|0;C=t+2|0;if(!((d>>>2|0)==0|(h>>>2|0)==0)){s=(t<<1)-(d>>>1)+(d>>>2<<1)|0;p=w;m=k+((ee(g,t)|0)+y)|0;T=h>>>2;while(1){v=p;b=m;w=d>>>2;while(1){P=a[b>>0]|0;I=a[b+E>>0]|0;M=b;b=b+2|0;x=a[M+1>>0]|0;n[v+8>>0]=(((ee(I,R&7)|0)+(ee(a[M+t>>0]|0,r)|0)<<3)+32|0)>>>6;n[v>>0]=(((ee(x,R&7)|0)+(ee(P,r)|0)<<3)+32|0)>>>6;P=a[b>>0]|0;n[v+9>>0]=(((ee(a[M+C>>0]|0,R&7)|0)+(ee(I,r)|0)<<3)+32|0)>>>6;n[v+1>>0]=(((ee(P,R&7)|0)+(ee(x,r)|0)<<3)+32|0)>>>6;w=w+-1|0;if(!w){break}else{v=v+2|0}}T=T+-1|0;if(!T){break}else{p=p+((d>>>2<<1)+(16-(d>>>1)))|0;m=m+s|0}}b=e+((c>>>1)+256+(l>>>1<<3)+64)|0;m=k+((ee(g+_|0,t)|0)+y)|0;g=h>>>2;while(1){p=b;v=m;y=d>>>2;while(1){P=a[v>>0]|0;I=a[v+E>>0]|0;M=v;v=v+2|0;x=a[M+1>>0]|0;n[p+8>>0]=(((ee(I,R&7)|0)+(ee(a[M+t>>0]|0,r)|0)<<3)+32|0)>>>6;n[p>>0]=(((ee(x,R&7)|0)+(ee(P,r)|0)<<3)+32|0)>>>6;P=a[v>>0]|0;n[p+9>>0]=(((ee(a[M+C>>0]|0,R&7)|0)+(ee(I,r)|0)<<3)+32|0)>>>6;n[p+1>>0]=(((ee(P,R&7)|0)+(ee(x,r)|0)<<3)+32|0)>>>6;y=y+-1|0;if(!y){break}else{p=p+2|0}}g=g+-1|0;if(!g){break}else{b=b+((d>>>2<<1)+(16-(d>>>1)))|0;m=m+s|0}}}f=O;return}if(!(A&7)){Ue(v+p|0,w,y,g,m<<3,b<<3,d>>>1,h>>>1,8);Ue(v+((ee(b<<3,m<<3)|0)+p)|0,e+((c>>>1)+256+(l>>>1<<3)+64)|0,y,g,m<<3,b<<3,d>>>1,h>>>1,8);f=O;return}if(((y|0)>=0?!((g|0)<0?1:((d>>>1)+y|0)>>>0>m<<3>>>0):0)?(g+1+(h>>>1)|0)>>>0<=b<<3>>>0:0){k=v+p|0;s=m<<3;_=b<<3}else{Ue(v+p|0,O+448|0,y,g,m<<3,b<<3,d>>>1,(h>>>1)+1|0,d>>>1);Ue(v+(p+(ee(b<<3,m<<3)|0))|0,O+448+(ee((h>>>1)+1|0,d>>>1)|0)|0,y,g,m<<3,b<<3,d>>>1,(h>>>1)+1|0,d>>>1);k=O+448|0;y=0;g=0;s=d>>>1;_=(h>>>1)+1|0}C=8-(A&7)|0;r=s<<1;E=s+1|0;if(!((d>>>2|0)==0|(h>>>2|0)==0)){p=w;m=k+((ee(g,s)|0)+y)|0;T=h>>>2;while(1){v=p;b=m;w=d>>>2;while(1){x=a[b+s>>0]|0;P=a[b>>0]|0;n[v+8>>0]=(((ee(x,C)|0)+(ee(a[b+r>>0]|0,A&7)|0)<<3)+32|0)>>>6;n[v>>0]=(((ee(P,C)|0)+(ee(x,A&7)|0)<<3)+32|0)>>>6;x=a[b+E>>0]|0;P=a[b+1>>0]|0;n[v+9>>0]=(((ee(x,C)|0)+(ee(a[b+(r|1)>>0]|0,A&7)|0)<<3)+32|0)>>>6;n[v+1>>0]=(((ee(P,C)|0)+(ee(x,A&7)|0)<<3)+32|0)>>>6;w=w+-1|0;if(!w){break}else{v=v+2|0;b=b+2|0}}T=T+-1|0;if(!T){break}else{p=p+((d>>>2<<1)+(16-(d>>>1)))|0;m=m+(r-(d>>>1)+(d>>>2<<1))|0}}b=e+((c>>>1)+256+(l>>>1<<3)+64)|0;m=k+((ee(g+_|0,s)|0)+y)|0;g=h>>>2;while(1){p=b;v=m;y=d>>>2;while(1){x=a[v+s>>0]|0;P=a[v>>0]|0;n[p+8>>0]=(((ee(x,C)|0)+(ee(a[v+r>>0]|0,A&7)|0)<<3)+32|0)>>>6;n[p>>0]=(((ee(P,C)|0)+(ee(x,A&7)|0)<<3)+32|0)>>>6;x=a[v+E>>0]|0;P=a[v+1>>0]|0;n[p+9>>0]=(((ee(x,C)|0)+(ee(a[v+(r|1)>>0]|0,A&7)|0)<<3)+32|0)>>>6;n[p+1>>0]=(((ee(P,C)|0)+(ee(x,A&7)|0)<<3)+32|0)>>>6;y=y+-1|0;if(!y){break}else{p=p+2|0;v=v+2|0}}g=g+-1|0;if(!g){break}else{b=b+((d>>>2<<1)+(16-(d>>>1)))|0;m=m+(r-(d>>>1)+(d>>>2<<1))|0}}}f=O}function ze(e,t,r,o,i){e=e|0;t=t|0;r=r|0;o=o|0;i=i|0;var a=0;var s=0;if(r){bt(t|0,n[e>>0]|0,r|0)|0;t=t+r|0}if(o){r=o;a=e;s=t;while(1){n[s>>0]=n[a>>0]|0;r=r+-1|0;if(!r){break}else{a=a+1|0;s=s+1|0}}e=e+o|0;t=t+o|0}if(!i){return}bt(t|0,n[e+-1>>0]|0,i|0)|0}function Je(e,t,r,n,o){e=e|0;t=t|0;r=r|0;n=n|0;o=o|0;wt(t|0,e|0,n|0)|0}function Xe(e,t,r,n,o,a,s,u){e=e|0;t=t|0;r=r|0;n=n|0;o=o|0;a=a|0;s=s|0;u=u|0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;_=i[e+8>>2]|0;k=i[_>>2]|0;if((k|0)!=(r|0)){return}i[e+52>>2]=0;T=i[e+56>>2]|0;do{if(!t){i[_+20>>2]=0;i[_+12>>2]=n;i[_+8>>2]=n;i[_+16>>2]=o;i[_+24>>2]=(T|0)==0&1;if(!T){c=(i[e+44>>2]|0)+1|0;i[e+44>>2]=c;i[_+36>>2]=a;i[_+28>>2]=s;i[_+32>>2]=u;h=e+44|0;w=108;break}else{i[_+36>>2]=a;i[_+28>>2]=s;i[_+32>>2]=u;w=110;break}}else{do{if(!a){if(!(i[t+8>>2]|0)){c=i[e+40>>2]|0;r=i[e+24>>2]|0;if(c>>>0>=r>>>0){if(c){d=i[e>>2]|0;h=0;l=-1;f=0;do{if(((i[d+(h*40|0)+20>>2]|0)+-1|0)>>>0<2){t=i[d+(h*40|0)+8>>2]|0;w=(l|0)==-1|(t|0)<(f|0);l=w?h:l;f=w?t:f}h=h+1|0}while((h|0)!=(c|0));if((l|0)>-1){i[d+(l*40|0)+20>>2]=0;i[e+40>>2]=c+-1;if(!(i[d+(l*40|0)+24>>2]|0)){i[e+44>>2]=(i[e+44>>2]|0)+-1;l=e+40|0;c=c+-1|0}else{l=e+40|0;c=c+-1|0}}else{l=e+40|0}}else{l=e+40|0;c=0}}else{l=e+40|0}}else{r=T;g=T;m=0;l=0;e:while(1){switch(i[t+12+(m*20|0)>>2]|0){case 6:{h=i[t+12+(m*20|0)+12>>2]|0;y=i[e+36>>2]|0;if((y|0)==65535|y>>>0<h>>>0){break e}p=i[e+24>>2]|0;t:do{if(p){d=i[e>>2]|0;f=0;while(1){c=d+(f*40|0)+20|0;if((i[c>>2]|0)==3?(i[d+(f*40|0)+8>>2]|0)==(h|0):0){break}c=f+1|0;if(c>>>0<p>>>0){f=c}else{w=89;break t}}i[c>>2]=0;c=(i[e+40>>2]|0)+-1|0;i[e+40>>2]=c;if(!(i[d+(f*40|0)+24>>2]|0)){i[e+44>>2]=(i[e+44>>2]|0)+-1}}else{w=89}}while(0);if((w|0)==89){w=0;c=i[e+40>>2]|0}if(c>>>0>=p>>>0){break e}i[_+12>>2]=n;i[_+8>>2]=h;i[_+16>>2]=o;i[_+20>>2]=3;i[_+24>>2]=(r|0)==0&1;i[e+40>>2]=c+1;i[e+44>>2]=(i[e+44>>2]|0)+1;c=g;l=1;break}case 1:{d=n-(i[t+12+(m*20|0)+4>>2]|0)|0;h=i[e+24>>2]|0;if(!h){break e}p=i[e>>2]|0;c=0;while(1){f=p+(c*40|0)+20|0;if(((i[f>>2]|0)+-1|0)>>>0<2?(i[p+(c*40|0)+8>>2]|0)==(d|0):0){break}c=c+1|0;if(c>>>0>=h>>>0){break e}}if((c|0)<0){break e}i[f>>2]=0;i[e+40>>2]=(i[e+40>>2]|0)+-1;if(!(i[p+(c*40|0)+24>>2]|0)){i[e+44>>2]=(i[e+44>>2]|0)+-1;c=g}else{c=g}break}case 2:{d=i[t+12+(m*20|0)+8>>2]|0;h=i[e+24>>2]|0;if(!h){break e}p=i[e>>2]|0;c=0;while(1){f=p+(c*40|0)+20|0;if((i[f>>2]|0)==3?(i[p+(c*40|0)+8>>2]|0)==(d|0):0){break}c=c+1|0;if(c>>>0>=h>>>0){break e}}if((c|0)<0){break e}i[f>>2]=0;i[e+40>>2]=(i[e+40>>2]|0)+-1;if(!(i[p+(c*40|0)+24>>2]|0)){i[e+44>>2]=(i[e+44>>2]|0)+-1;c=g}else{c=g}break}case 3:{c=i[t+12+(m*20|0)+4>>2]|0;p=i[t+12+(m*20|0)+12>>2]|0;y=i[e+36>>2]|0;if((y|0)==65535|y>>>0<p>>>0){break e}v=i[e+24>>2]|0;if(!v){break e}y=i[e>>2]|0;h=0;while(1){f=y+(h*40|0)+20|0;if((i[f>>2]|0)==3?(i[y+(h*40|0)+8>>2]|0)==(p|0):0){w=48;break}d=h+1|0;if(d>>>0<v>>>0){h=d}else{break}}if((w|0)==48?(w=0,i[f>>2]=0,i[e+40>>2]=(i[e+40>>2]|0)+-1,(i[y+(h*40|0)+24>>2]|0)==0):0){i[e+44>>2]=(i[e+44>>2]|0)+-1}h=n-c|0;c=0;while(1){f=y+(c*40|0)+20|0;d=i[f>>2]|0;if((d+-1|0)>>>0<2?(b=y+(c*40|0)+8|0,(i[b>>2]|0)==(h|0)):0){break}c=c+1|0;if(c>>>0>=v>>>0){break e}}if(!((c|0)>-1&d>>>0>1)){break e}i[f>>2]=3;i[b>>2]=p;c=g;break}case 4:{d=i[t+12+(m*20|0)+16>>2]|0;i[e+36>>2]=d;h=i[e+24>>2]|0;if(!h){c=g}else{p=i[e>>2]|0;c=d;v=0;do{f=p+(v*40|0)+20|0;do{if((i[f>>2]|0)==3){if((i[p+(v*40|0)+8>>2]|0)>>>0<=d>>>0){if((c|0)==65535){c=65535}else{break}}i[f>>2]=0;i[e+40>>2]=(i[e+40>>2]|0)+-1;if(!(i[p+(v*40|0)+24>>2]|0)){i[e+44>>2]=(i[e+44>>2]|0)+-1}}}while(0);v=v+1|0}while((v|0)!=(h|0));c=g}break}case 5:{h=i[e>>2]|0;n=0;do{c=h+(n*40|0)+20|0;if((i[c>>2]|0)!=0?(i[c>>2]=0,(i[h+(n*40|0)+24>>2]|0)==0):0){i[e+44>>2]=(i[e+44>>2]|0)+-1}n=n+1|0}while((n|0)!=16);t:do{if(!r){f=i[e+28>>2]|0;d=g;while(1){n=0;r=2147483647;c=0;do{if(i[h+(n*40|0)+24>>2]|0){y=i[h+(n*40|0)+16>>2]|0;g=(y|0)<(r|0);r=g?y:r;c=g?h+(n*40|0)|0:c}n=n+1|0}while(n>>>0<=f>>>0);if(!c){c=d;r=0;break t}g=i[e+16>>2]|0;y=i[e+12>>2]|0;i[y+(g<<4)>>2]=i[c>>2];i[y+(g<<4)+12>>2]=i[c+36>>2];i[y+(g<<4)+4>>2]=i[c+28>>2];i[y+(g<<4)+8>>2]=i[c+32>>2];i[e+16>>2]=g+1;i[c+24>>2]=0;if(!(i[c+20>>2]|0)){i[e+44>>2]=(i[e+44>>2]|0)+-1}if(!d){d=0}else{c=d;r=d;break}}}else{c=g}}while(0);i[e+40>>2]=0;i[e+36>>2]=65535;i[e+48>>2]=0;i[e+52>>2]=1;n=0;break}default:break e}g=c;m=m+1|0}if(l){break}l=e+40|0;c=i[e+40>>2]|0;r=i[e+24>>2]|0}if(c>>>0<r>>>0){i[_+12>>2]=n;i[_+8>>2]=n;i[_+16>>2]=o;i[_+20>>2]=2;i[_+24>>2]=(T|0)==0&1;i[e+44>>2]=(i[e+44>>2]|0)+1;i[l>>2]=c+1}}else{i[e+20>>2]=0;i[e+16>>2]=0;d=i[e>>2]|0;c=0;do{r=d+(c*40|0)+20|0;if((i[r>>2]|0)!=0?(i[r>>2]=0,(i[d+(c*40|0)+24>>2]|0)==0):0){i[e+44>>2]=(i[e+44>>2]|0)+-1}c=c+1|0}while((c|0)!=16);e:do{if(!T){f=i[e+28>>2]|0;r=0;while(1){l=0;c=2147483647;n=0;do{if(i[d+(l*40|0)+24>>2]|0){w=i[d+(l*40|0)+16>>2]|0;o=(w|0)<(c|0);c=o?w:c;n=o?d+(l*40|0)|0:n}l=l+1|0}while(l>>>0<=f>>>0);if(!n){break e}o=i[e+12>>2]|0;i[o+(r<<4)>>2]=i[n>>2];i[o+(r<<4)+12>>2]=i[n+36>>2];i[o+(r<<4)+4>>2]=i[n+28>>2];i[o+(r<<4)+8>>2]=i[n+32>>2];r=r+1|0;i[e+16>>2]=r;i[n+24>>2]=0;if(i[n+20>>2]|0){continue}i[e+44>>2]=(i[e+44>>2]|0)+-1}}}while(0);i[e+40>>2]=0;i[e+36>>2]=65535;i[e+48>>2]=0;if((i[t>>2]|0)!=0|(T|0)==0^1){i[e+16>>2]=0;i[e+20>>2]=0}o=(i[t+4>>2]|0)==0;i[_+20>>2]=o?2:3;i[e+36>>2]=o?65535:0;i[_+12>>2]=0;i[_+8>>2]=0;i[_+16>>2]=0;i[_+24>>2]=(T|0)==0&1;i[e+44>>2]=1;i[e+40>>2]=1}}while(0);i[_+36>>2]=a;i[_+28>>2]=s;i[_+32>>2]=u;if(!T){h=e+44|0;c=i[e+44>>2]|0;w=108}else{w=110}}}while(0);if((w|0)==108){r=i[e+28>>2]|0;if(c>>>0>r>>>0){d=i[e>>2]|0;do{f=0;n=2147483647;l=0;do{if(i[d+(f*40|0)+24>>2]|0){a=i[d+(f*40|0)+16>>2]|0;u=(a|0)<(n|0);n=u?a:n;l=u?d+(f*40|0)|0:l}f=f+1|0}while(f>>>0<=r>>>0);if((l|0)!=0?(u=i[e+16>>2]|0,a=i[e+12>>2]|0,i[a+(u<<4)>>2]=i[l>>2],i[a+(u<<4)+12>>2]=i[l+36>>2],i[a+(u<<4)+4>>2]=i[l+28>>2],i[a+(u<<4)+8>>2]=i[l+32>>2],i[e+16>>2]=u+1,i[l+24>>2]=0,(i[l+20>>2]|0)==0):0){c=c+-1|0;i[h>>2]=c}}while(c>>>0>r>>>0)}}else if((w|0)==110){r=i[e+16>>2]|0;_=i[e+12>>2]|0;i[_+(r<<4)>>2]=k;i[_+(r<<4)+12>>2]=a;i[_+(r<<4)+4>>2]=s;i[_+(r<<4)+8>>2]=u;i[e+16>>2]=r+1;r=i[e+28>>2]|0}Qe(i[e>>2]|0,r+1|0)}function Qe(e,t){e=e|0;t=t|0;var r=0;var n=0;var o=0;var a=0;var s=0;var u=0;var c=0;var l=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;m=f;f=f+16|0;y=7;do{if(y>>>0<t>>>0){v=y;do{h=e+(v*40|0)|0;d=i[h>>2]|0;h=i[h+4>>2]|0;p=i[e+(v*40|0)+8>>2]|0;u=e+(v*40|0)+12|0;s=i[u>>2]|0;u=i[u+4>>2]|0;c=i[e+(v*40|0)+20>>2]|0;l=i[e+(v*40|0)+24>>2]|0;a=e+(v*40|0)+28|0;i[m>>2]=i[a>>2];i[m+4>>2]=i[a+4>>2];i[m+8>>2]=i[a+8>>2];e:do{if(v>>>0<y>>>0){n=v;g=9}else{t:do{if(!c){if(!l){n=v}else{r=v;while(1){n=r-y|0;if(i[e+(n*40|0)+20>>2]|0){n=r;break t}if(i[e+(n*40|0)+24>>2]|0){n=r;break t}r=e+(r*40|0)|0;o=e+(n*40|0)|0;a=r+40|0;do{i[r>>2]=i[o>>2];r=r+4|0;o=o+4|0}while((r|0)<(a|0));if(n>>>0<y>>>0){g=9;break e}else{r=n}}}}else{a=v;while(1){n=a-y|0;r=i[e+(n*40|0)+20>>2]|0;do{if(r){if((r+-1|c+-1)>>>0<2){o=i[e+(n*40|0)+8>>2]|0;if((o|0)>(p|0)){n=a;break t}r=e+(a*40|0)|0;if((o|0)<(p|0)){break}else{n=a;break e}}if((r+-1|0)>>>0<2){n=a;break t}if((c+-1|0)>>>0>=2?(i[e+(n*40|0)+8>>2]|0)<=(p|0):0){n=a;break t}else{g=17}}else{g=17}}while(0);if((g|0)==17){g=0;r=e+(a*40|0)|0}o=e+(n*40|0)|0;a=r+40|0;do{i[r>>2]=i[o>>2];r=r+4|0;o=o+4|0}while((r|0)<(a|0));if(n>>>0<y>>>0){g=9;break e}else{a=n}}}}while(0);r=e+(n*40|0)|0}}while(0);if((g|0)==9){g=0;r=e+(n*40|0)|0}a=r;i[a>>2]=d;i[a+4>>2]=h;i[e+(n*40|0)+8>>2]=p;p=e+(n*40|0)+12|0;i[p>>2]=s;i[p+4>>2]=u;i[e+(n*40|0)+20>>2]=c;i[e+(n*40|0)+24>>2]=l;p=e+(n*40|0)+28|0;i[p>>2]=i[m>>2];i[p+4>>2]=i[m+4>>2];i[p+8>>2]=i[m+8>>2];v=v+1|0}while((v|0)!=(t|0))}y=y>>>1}while((y|0)!=0);f=m}function Ze(e,t){e=e|0;t=t|0;var r=0;var n=0;var o=0;var a=0;var s=0;var u=0;n=i[e+4>>2]|0;o=i[e+16>>2]|0;a=i[e+20>>2]|0;s=16;e=i[e+12>>2]|0;r=t;while(1){u=i[r+4>>2]|0;i[e>>2]=i[r>>2];i[e+4>>2]=u;u=i[r+12>>2]|0;i[e+8>>2]=i[r+8>>2];i[e+12>>2]=u;s=s+-1|0;if(!s){break}else{e=e+(n<<2<<2)|0;r=r+16|0}}r=i[t+260>>2]|0;i[o>>2]=i[t+256>>2];i[o+4>>2]=r;r=i[t+268>>2]|0;i[o+((n<<1&2147483646)<<2)>>2]=i[t+264>>2];i[o+((n<<1&2147483646|1)<<2)>>2]=r;r=i[t+276>>2]|0;i[o+(n<<2<<2)>>2]=i[t+272>>2];i[o+((n<<2|1)<<2)>>2]=r;r=(n<<1&2147483646)+(n<<2)|0;s=i[t+284>>2]|0;i[o+(r<<2)>>2]=i[t+280>>2];i[o+((r|1)<<2)>>2]=s;s=i[t+292>>2]|0;i[o+(r+(n<<1&2147483646)<<2)>>2]=i[t+288>>2];i[o+((r+(n<<1&2147483646)|1)<<2)>>2]=s;s=r+(n<<1&2147483646)+(n<<1&2147483646)|0;u=i[t+300>>2]|0;i[o+(s<<2)>>2]=i[t+296>>2];i[o+((s|1)<<2)>>2]=u;u=i[t+308>>2]|0;i[o+(s+(n<<1&2147483646)<<2)>>2]=i[t+304>>2];i[o+((s+(n<<1&2147483646)|1)<<2)>>2]=u;u=s+(n<<1&2147483646)+(n<<1&2147483646)|0;e=i[t+316>>2]|0;i[o+(u<<2)>>2]=i[t+312>>2];i[o+((u|1)<<2)>>2]=e;o=i[t+324>>2]|0;i[a>>2]=i[t+320>>2];i[a+4>>2]=o;o=i[t+332>>2]|0;i[a+((n<<1&2147483646)<<2)>>2]=i[t+328>>2];i[a+((n<<1&2147483646|1)<<2)>>2]=o;o=i[t+340>>2]|0;i[a+(n<<2<<2)>>2]=i[t+336>>2];i[a+((n<<2|1)<<2)>>2]=o;o=i[t+348>>2]|0;i[a+(r<<2)>>2]=i[t+344>>2];i[a+((r|1)<<2)>>2]=o;o=i[t+356>>2]|0;i[a+(r+(n<<1&2147483646)<<2)>>2]=i[t+352>>2];i[a+((r+(n<<1&2147483646)|1)<<2)>>2]=o;o=i[t+364>>2]|0;i[a+(s<<2)>>2]=i[t+360>>2];i[a+((s|1)<<2)>>2]=o;o=i[t+372>>2]|0;i[a+(s+(n<<1&2147483646)<<2)>>2]=i[t+368>>2];i[a+((s+(n<<1&2147483646)|1)<<2)>>2]=o;s=i[t+380>>2]|0;i[a+(u<<2)>>2]=i[t+376>>2];i[a+((u|1)<<2)>>2]=s}function $e(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;if(t>>>0<4){v=a[(i[r>>2]|0)+(t+-1)>>0]|0;p=4;while(1){t=e+-2|0;l=e+-1|0;u=e+1|0;f=n[u>>0]|0;d=a[l>>0]|0;h=a[e>>0]|0;if((((d-h|0)<0?0-(d-h)|0:d-h|0)>>>0<(i[r+4>>2]|0)>>>0?(y=a[t>>0]|0,g=i[r+8>>2]|0,((y-d|0)<0?0-(y-d)|0:y-d|0)>>>0<g>>>0):0)?(((f&255)-h|0)<0?0-((f&255)-h)|0:(f&255)-h|0)>>>0<g>>>0:0){c=n[e+2>>0]|0;s=a[e+-3>>0]|0;if(((s-d|0)<0?0-(s-d)|0:s-d|0)>>>0<g>>>0){n[t>>0]=((((d+1+h|0)>>>1)-(y<<1)+s>>1|0)<(0-v|0)?0-v|0:(((d+1+h|0)>>>1)-(y<<1)+s>>1|0)>(v|0)?v:((d+1+h|0)>>>1)-(y<<1)+s>>1)+y;s=i[r+8>>2]|0;t=v+1|0}else{s=g;t=v}if((((c&255)-h|0)<0?0-((c&255)-h)|0:(c&255)-h|0)>>>0<s>>>0){n[u>>0]=((((d+1+h|0)>>>1)-((f&255)<<1)+(c&255)>>1|0)<(0-v|0)?0-v|0:(((d+1+h|0)>>>1)-((f&255)<<1)+(c&255)>>1|0)>(v|0)?v:((d+1+h|0)>>>1)-((f&255)<<1)+(c&255)>>1)+(f&255);t=t+1|0}m=0-t|0;m=(4-(f&255)+(h-d<<2)+y>>3|0)<(m|0)?m:(4-(f&255)+(h-d<<2)+y>>3|0)>(t|0)?t:4-(f&255)+(h-d<<2)+y>>3;b=n[6294+((h|512)-m)>>0]|0;n[l>>0]=n[6294+(m+(d|512))>>0]|0;n[e>>0]=b}p=p+-1|0;if(!p){break}else{e=e+o|0}}return}g=4;while(1){u=e+-2|0;c=e+-1|0;l=e+1|0;f=n[l>>0]|0;d=a[c>>0]|0;h=a[e>>0]|0;t=(d-h|0)<0?0-(d-h)|0:d-h|0;s=i[r+4>>2]|0;do{if((t>>>0<s>>>0?(m=a[u>>0]|0,b=i[r+8>>2]|0,((m-d|0)<0?0-(m-d)|0:m-d|0)>>>0<b>>>0):0)?(((f&255)-h|0)<0?0-((f&255)-h)|0:(f&255)-h|0)>>>0<b>>>0:0){p=e+-3|0;v=e+2|0;y=n[v>>0]|0;if(t>>>0<((s>>>2)+2|0)>>>0){t=a[p>>0]|0;if(((t-d|0)<0?0-(t-d)|0:t-d|0)>>>0<b>>>0){n[c>>0]=((f&255)+4+(h+d+m<<1)+t|0)>>>3;n[u>>0]=(h+d+m+2+t|0)>>>2;n[p>>0]=(h+d+m+4+(t*3|0)+((a[e+-4>>0]|0)<<1)|0)>>>3}else{n[c>>0]=(d+2+(f&255)+(m<<1)|0)>>>2}if((((y&255)-h|0)<0?0-((y&255)-h)|0:(y&255)-h|0)>>>0<(i[r+8>>2]|0)>>>0){n[e>>0]=((h+d+(f&255)<<1)+4+m+(y&255)|0)>>>3;n[l>>0]=(h+d+(f&255)+2+(y&255)|0)>>>2;n[v>>0]=(h+d+(f&255)+4+((y&255)*3|0)+((a[e+3>>0]|0)<<1)|0)>>>3;break}}else{n[c>>0]=(d+2+(f&255)+(m<<1)|0)>>>2}n[e>>0]=(h+2+((f&255)<<1)+m|0)>>>2}}while(0);g=g+-1|0;if(!g){break}else{e=e+o|0}}}function et(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;v=a[(i[r>>2]|0)+(t+-1)>>0]|0;y=ee(o,-3)|0;p=4;while(1){t=e+(0-o<<1)|0;l=e+(0-o)|0;c=e+o|0;f=n[c>>0]|0;d=a[l>>0]|0;h=a[e>>0]|0;if((((d-h|0)<0?0-(d-h)|0:d-h|0)>>>0<(i[r+4>>2]|0)>>>0?(g=a[t>>0]|0,m=i[r+8>>2]|0,((g-d|0)<0?0-(g-d)|0:g-d|0)>>>0<m>>>0):0)?(((f&255)-h|0)<0?0-((f&255)-h)|0:(f&255)-h|0)>>>0<m>>>0:0){s=a[e+y>>0]|0;if(((s-d|0)<0?0-(s-d)|0:s-d|0)>>>0<m>>>0){n[t>>0]=((((d+1+h|0)>>>1)-(g<<1)+s>>1|0)<(0-v|0)?0-v|0:(((d+1+h|0)>>>1)-(g<<1)+s>>1|0)>(v|0)?v:((d+1+h|0)>>>1)-(g<<1)+s>>1)+g;u=i[r+8>>2]|0;t=v+1|0}else{u=m;t=v}s=a[e+(o<<1)>>0]|0;if(((s-h|0)<0?0-(s-h)|0:s-h|0)>>>0<u>>>0){n[c>>0]=((((d+1+h|0)>>>1)-((f&255)<<1)+s>>1|0)<(0-v|0)?0-v|0:(((d+1+h|0)>>>1)-((f&255)<<1)+s>>1|0)>(v|0)?v:((d+1+h|0)>>>1)-((f&255)<<1)+s>>1)+(f&255);t=t+1|0}c=0-t|0;f=(4-(f&255)+(h-d<<2)+g>>3|0)<(c|0)?c:(4-(f&255)+(h-d<<2)+g>>3|0)>(t|0)?t:4-(f&255)+(h-d<<2)+g>>3;h=n[6294+((h|512)-f)>>0]|0;n[l>>0]=n[6294+(f+(d|512))>>0]|0;n[e>>0]=h}p=p+-1|0;if(!p){break}else{e=e+1|0}}}function tt(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;var s=0;var u=0;var c=0;var l=0;var f=0;c=n[e+1>>0]|0;l=a[e+-1>>0]|0;f=a[e>>0]|0;do{if((((l-f|0)<0?0-(l-f)|0:l-f|0)>>>0<(i[r+4>>2]|0)>>>0?(s=a[e+-2>>0]|0,u=i[r+8>>2]|0,((s-l|0)<0?0-(s-l)|0:s-l|0)>>>0<u>>>0):0)?(((c&255)-f|0)<0?0-((c&255)-f)|0:(c&255)-f|0)>>>0<u>>>0:0){if(t>>>0<4){u=a[(i[r>>2]|0)+(t+-1)>>0]|0;c=(4-(c&255)+(f-l<<2)+s>>3|0)<(~u|0)?~u:(4-(c&255)+(f-l<<2)+s>>3|0)>(u+1|0)?u+1|0:4-(c&255)+(f-l<<2)+s>>3;f=n[6294+((f|512)-c)>>0]|0;n[e+-1>>0]=n[6294+(c+(l|512))>>0]|0;n[e>>0]=f;break}else{n[e+-1>>0]=(l+2+(c&255)+(s<<1)|0)>>>2;n[e>>0]=(f+2+((c&255)<<1)+s|0)>>>2;break}}}while(0);s=a[e+(o+-1)>>0]|0;u=a[e+o>>0]|0;if(((s-u|0)<0?0-(s-u)|0:s-u|0)>>>0>=(i[r+4>>2]|0)>>>0){return}c=a[e+(o+-2)>>0]|0;l=i[r+8>>2]|0;if(((c-s|0)<0?0-(c-s)|0:c-s|0)>>>0>=l>>>0){return}f=a[e+(o+1)>>0]|0;if(((f-u|0)<0?0-(f-u)|0:f-u|0)>>>0>=l>>>0){return}if(t>>>0<4){t=a[(i[r>>2]|0)+(t+-1)>>0]|0;t=(4-f+(u-s<<2)+c>>3|0)<(~t|0)?~t:(4-f+(u-s<<2)+c>>3|0)>(t+1|0)?t+1|0:4-f+(u-s<<2)+c>>3;r=n[6294+((u|512)-t)>>0]|0;n[e+(o+-1)>>0]=n[6294+(t+(s|512))>>0]|0;n[e+o>>0]=r}else{n[e+(o+-1)>>0]=(s+2+f+(c<<1)|0)>>>2;n[e+o>>0]=(u+2+(f<<1)+c|0)>>>2}}function rt(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;if(t>>>0<4){f=a[(i[r>>2]|0)+(t+-1)>>0]|0;l=8;while(1){t=e+(0-o)|0;s=n[e+o>>0]|0;u=a[t>>0]|0;c=a[e>>0]|0;if((((u-c|0)<0?0-(u-c)|0:u-c|0)>>>0<(i[r+4>>2]|0)>>>0?(h=a[e+(0-o<<1)>>0]|0,p=i[r+8>>2]|0,((h-u|0)<0?0-(h-u)|0:h-u|0)>>>0<p>>>0):0)?(((s&255)-c|0)<0?0-((s&255)-c)|0:(s&255)-c|0)>>>0<p>>>0:0){s=(4-(s&255)+(c-u<<2)+h>>3|0)<(~f|0)?~f:(4-(s&255)+(c-u<<2)+h>>3|0)>(f+1|0)?f+1|0:4-(s&255)+(c-u<<2)+h>>3;d=n[6294+((c|512)-s)>>0]|0;n[t>>0]=n[6294+(s+(u|512))>>0]|0;n[e>>0]=d}l=l+-1|0;if(!l){break}else{e=e+1|0}}}else{l=8;while(1){t=e+(0-o)|0;s=n[e+o>>0]|0;u=a[t>>0]|0;c=a[e>>0]|0;if((((u-c|0)<0?0-(u-c)|0:u-c|0)>>>0<(i[r+4>>2]|0)>>>0?(f=a[e+(0-o<<1)>>0]|0,d=i[r+8>>2]|0,((f-u|0)<0?0-(f-u)|0:f-u|0)>>>0<d>>>0):0)?(((s&255)-c|0)<0?0-((s&255)-c)|0:(s&255)-c|0)>>>0<d>>>0:0){n[t>>0]=(u+2+(s&255)+(f<<1)|0)>>>2;n[e>>0]=(c+2+((s&255)<<1)+f|0)>>>2}l=l+-1|0;if(!l){break}else{e=e+1|0}}}}function nt(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;d=a[(i[r>>2]|0)+(t+-1)>>0]|0;s=n[e+o>>0]|0;u=a[e+(0-o)>>0]|0;c=a[e>>0]|0;t=i[r+4>>2]|0;if((((u-c|0)<0?0-(u-c)|0:u-c|0)>>>0<t>>>0?(l=a[e+(0-o<<1)>>0]|0,f=i[r+8>>2]|0,((l-u|0)<0?0-(l-u)|0:l-u|0)>>>0<f>>>0):0)?(((s&255)-c|0)<0?0-((s&255)-c)|0:(s&255)-c|0)>>>0<f>>>0:0){f=(4-(s&255)+(c-u<<2)+l>>3|0)<(~d|0)?~d:(4-(s&255)+(c-u<<2)+l>>3|0)>(d+1|0)?d+1|0:4-(s&255)+(c-u<<2)+l>>3;t=n[6294+((c|512)-f)>>0]|0;n[e+(0-o)>>0]=n[6294+(f+(u|512))>>0]|0;n[e>>0]=t;t=i[r+4>>2]|0}c=a[e+(1-o)>>0]|0;l=a[e+1>>0]|0;if(((c-l|0)<0?0-(c-l)|0:c-l|0)>>>0>=t>>>0){return}u=a[e+(0-o<<1|1)>>0]|0;t=i[r+8>>2]|0;if(((u-c|0)<0?0-(u-c)|0:u-c|0)>>>0>=t>>>0){return}s=a[e+(o+1)>>0]|0;if(((s-l|0)<0?0-(s-l)|0:s-l|0)>>>0>=t>>>0){return}r=(4-s+(l-c<<2)+u>>3|0)<(~d|0)?~d:(4-s+(l-c<<2)+u>>3|0)>(d+1|0)?d+1|0:4-s+(l-c<<2)+u>>3;d=n[6294+((l|512)-r)>>0]|0;n[e+(1-o)>>0]=n[6294+(r+(c|512))>>0]|0;n[e+1>>0]=d}function ot(e,t,r,s,u){e=e|0;t=t|0;r=r|0;s=s|0;u=u|0;var c=0;var l=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;var E=0;var C=0;var S=0;var A=0;var R=0;var O=0;var M=0;var I=0;var P=0;var x=0;var L=0;var D=0;var N=0;var G=0;var F=0;var B=0;var j=0;var U=0;var V=0;var H=0;var K=0;var W=0;var Y=0;var q=0;var z=0;var J=0;var X=0;var Q=0;var Z=0;var $=0;var te=0;var re=0;var ne=0;var oe=0;var ie=0;var ae=0;var se=0;var ue=0;var ce=0;var le=0;var fe=0;var de=0;var he=0;var pe=0;var ve=0;var ye=0;var ge=0;var me=0;var be=0;var we=0;var Te=0;var _e=0;var ke=0;var Ee=0;var Ce=0;var Se=0;var Ae=0;var Re=0;var Oe=0;var Me=0;var Ie=0;var Pe=0;var xe=0;var Le=0;var je=0;var Ue=0;var Ve=0;var He=0;var Ke=0;var We=0;var Ye=0;var qe=0;var ze=0;var Je=0;var Ze=0;var ot=0;var it=0;var at=0;var st=0;var ut=0;var ct=0;var lt=0;var ft=0;var dt=0;var ht=0;var pt=0;var vt=0;vt=f;f=f+816|0;if((i[e+3344>>2]|0)!=0?(i[e+3348>>2]|0)==(t|0):0){i[vt+624>>2]=i[e+3356>>2];i[vt+624+4>>2]=i[e+3356+4>>2];i[vt+624+8>>2]=i[e+3356+8>>2];i[vt+624+12>>2]=i[e+3356+12>>2];i[vt+624+4>>2]=i[vt+624>>2];i[vt+624+8>>2]=0;i[vt+624+16>>2]=0;i[u>>2]=i[e+3352>>2];A=vt+624+8|0;b=vt+624+4|0;w=vt+624+16|0;d=0}else{do{if(((r>>>0>3?(n[t>>0]|0)==0:0)?(n[t+1>>0]|0)==0:0)?(h=n[t+2>>0]|0,(h&255)<2):0){m=-3;g=3;y=t+3|0;p=2;while(1){if(h<<24>>24){if(h<<24>>24==1&p>>>0>1){b=g;w=0;T=0;k=y;E=0;break}else{p=0}}else{p=p+1|0}v=g+1|0;if((v|0)==(r|0)){Je=9;break}m=~g;h=n[y>>0]|0;g=v;y=y+1|0}if((Je|0)==9){i[u>>2]=r;e=3;f=vt;return e|0}while(1){h=n[k>>0]|0;p=b+1|0;v=(h<<24>>24!=0^1)+E|0;w=h<<24>>24==3&(v|0)==2?1:w;if(h<<24>>24==1&v>>>0>1){Je=16;break}E=h<<24>>24!=0?0:v;_=h<<24>>24!=0&v>>>0>2?1:T;if((p|0)==(r|0)){Je=18;break}else{b=p;T=_;k=k+1|0}}if((Je|0)==16){C=b+m-v|0;i[vt+624+12>>2]=C;M=vt+624+12|0;S=w;A=g;R=T;O=v-(v>>>0<3?v:3)|0;break}else if((Je|0)==18){C=m+r-E|0;i[vt+624+12>>2]=C;M=vt+624+12|0;S=w;A=g;R=_;O=E;break}}else{Je=19}}while(0);if((Je|0)==19){i[vt+624+12>>2]=r;M=vt+624+12|0;C=r;S=1;A=0;R=0;O=0}h=t+A|0;i[vt+624>>2]=h;i[vt+624+4>>2]=h;i[vt+624+8>>2]=0;i[vt+624+16>>2]=0;i[u>>2]=A+C+O;if(R){e=3;f=vt;return e|0}do{if(S){v=i[M>>2]|0;y=h;g=h;h=0;e:while(1){while(1){Ke=v;v=v+-1|0;if(!Ke){Je=31;break e}p=n[y>>0]|0;if((h|0)!=2){I=h;break}if(p<<24>>24!=3){Je=29;break}if(!v){le=3;Je=1494;break e}h=y+1|0;if((a[h>>0]|0)>3){le=3;Je=1494;break e}else{y=h;h=0}}if((Je|0)==29){Je=0;if((p&255)<3){le=3;Je=1494;break}else{I=2}}n[g>>0]=p;y=y+1|0;g=g+1|0;h=p<<24>>24==0?I+1|0:0}if((Je|0)==31){i[M>>2]=g-y+(i[M>>2]|0);d=i[vt+624+16>>2]|0;break}else if((Je|0)==1494){f=vt;return le|0}}else{d=0}}while(0);i[e+3356>>2]=i[vt+624>>2];i[e+3356+4>>2]=i[vt+624+4>>2];i[e+3356+8>>2]=i[vt+624+8>>2];i[e+3356+12>>2]=i[vt+624+12>>2];i[e+3356+16>>2]=i[vt+624+16>>2];i[e+3352>>2]=i[u>>2];i[e+3348>>2]=t;A=vt+624+8|0;b=vt+624+4|0;w=vt+624+16|0}i[e+3344>>2]=0;S=vt+624+12|0;Ke=i[S>>2]<<3;p=d+1|0;i[w>>2]=p;i[A>>2]=p&7;if(p>>>0>Ke>>>0){e=3;f=vt;return e|0}m=i[vt+624>>2]|0;i[b>>2]=m+(p>>>3);y=i[S>>2]<<3;g=i[w>>2]|0;if((y-g|0)>31){d=i[A>>2]|0;h=a[m+((p>>>3)+1)>>0]<<16|a[m+(p>>>3)>>0]<<24|a[m+((p>>>3)+2)>>0]<<8|a[m+((p>>>3)+3)>>0];if(d){h=(a[m+((p>>>3)+4)>>0]|0)>>>(8-d|0)|h<<d}}else if((y-g|0)>0){d=i[A>>2]|0;h=a[m+(p>>>3)>>0]<<d+24;if((y-g+-8+d|0)>0){p=m+(p>>>3)|0;v=y-g+-8+d|0;d=d+24|0;while(1){p=p+1|0;d=d+-8|0;h=a[p>>0]<<d|h;if((v|0)<=8){break}else{v=v+-8|0}}}}else{h=0}i[w>>2]=g+2;i[A>>2]=g+2&7;if((g+2|0)>>>0>y>>>0){d=0;p=i[b>>2]|0}else{i[b>>2]=m+((g+2|0)>>>3);d=1;p=m+((g+2|0)>>>3)|0}C=d?h>>>30:-1;y=i[S>>2]<<3;g=i[w>>2]|0;if((y-g|0)>31){h=i[A>>2]|0;d=a[p+1>>0]<<16|a[p>>0]<<24|a[p+2>>0]<<8|a[p+3>>0];if(h){d=(a[p+4>>0]|0)>>>(8-h|0)|d<<h}}else if((y-g|0)>0){h=i[A>>2]|0;d=a[p>>0]<<h+24;if((y-g+-8+h|0)>0){v=y-g+-8+h|0;h=h+24|0;while(1){p=p+1|0;h=h+-8|0;d=a[p>>0]<<h|d;if((v|0)<=8){break}else{v=v+-8|0}}}}else{d=0}i[w>>2]=g+5;i[A>>2]=g+5&7;if((g+5|0)>>>0>y>>>0){e=0;f=vt;return e|0}i[b>>2]=m+((g+5|0)>>>3);E=d>>>27;if((E+-2|0)>>>0<3){e=3;f=vt;return e|0}switch(E|0){case 5:case 7:case 8:{if((C|0)==0|(E|0)==6){e=3;f=vt;return e|0}break}case 6:case 9:case 10:case 11:case 12:{if(C){e=3;f=vt;return e|0}break}default:{}}if((E+-1|0)>>>0>11){e=0;f=vt;return e|0}e:do{switch(E|0){case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:{U=1;Je=206;break}case 5:case 1:{if(!(i[e+1332>>2]|0)){k=0}else{i[e+1332>>2]=0;k=1}i[vt+644>>2]=i[vt+624>>2];i[vt+644+4>>2]=i[vt+624+4>>2];i[vt+644+8>>2]=i[vt+624+8>>2];i[vt+644+12>>2]=i[vt+624+12>>2];i[vt+644+16>>2]=i[vt+624+16>>2];d=Fe(vt+644|0,vt+680|0)|0;t:do{if(!d){d=Fe(vt+644|0,vt+680|0)|0;if(!d){d=Fe(vt+644|0,vt+680|0)|0;if(!d){d=i[vt+680>>2]|0;if(d>>>0>255){j=1;Je=63}else{w=i[e+148+(d<<2)>>2]|0;if(((w|0)!=0?(P=i[w+4>>2]|0,F=i[e+20+(P<<2)>>2]|0,(F|0)!=0):0)?(Ke=i[e+8>>2]|0,(Ke|0)==32|(P|0)==(Ke|0)|(E|0)==5):0){d=i[e+1304>>2]|0;if((d|0)==(C|0)){d=k}else{d=(d|0)==0|(C|0)==0?1:k}if((i[e+1300>>2]|0)==5){if((E|0)==5){c=d}else{Je=72}}else if((E|0)==5){Je=72}else{c=d}if((Je|0)==72){c=1}d=i[F+12>>2]|0;i[vt+604>>2]=i[vt+624>>2];i[vt+604+4>>2]=i[vt+624+4>>2];i[vt+604+8>>2]=i[vt+624+8>>2];i[vt+604+12>>2]=i[vt+624+12>>2];i[vt+604+16>>2]=i[vt+624+16>>2];r:do{if(!(Fe(vt+604|0,vt+680|0)|0)){if(Fe(vt+604|0,vt+680|0)|0){Je=85;break}if(!(Fe(vt+604|0,vt+680|0)|0)){b=0}else{Je=85;break}while(1){if(!(d>>>b)){break}else{b=b+1|0}}y=b+-1|0;_=vt+604+4|0;p=i[_>>2]|0;T=vt+604+12|0;g=i[T>>2]<<3;r=vt+604+16|0;m=i[r>>2]|0;do{if((g-m|0)>31){h=i[vt+604+8>>2]|0;d=a[p+1>>0]<<16|a[p>>0]<<24|a[p+2>>0]<<8|a[p+3>>0];if(!h){h=vt+604+8|0;break}d=(a[p+4>>0]|0)>>>(8-h|0)|d<<h;h=vt+604+8|0}else{if((g-m|0)<=0){d=0;h=vt+604+8|0;break}h=i[vt+604+8>>2]|0;d=a[p>>0]<<h+24;if((g-m+-8+h|0)>0){v=g-m+-8+h|0;h=h+24|0}else{h=vt+604+8|0;break}while(1){p=p+1|0;h=h+-8|0;d=a[p>>0]<<h|d;if((v|0)<=8){h=vt+604+8|0;break}else{v=v+-8|0}}}}while(0);i[r>>2]=y+m;i[h>>2]=y+m&7;if((y+m|0)>>>0>g>>>0){Je=85;break}i[_>>2]=(i[vt+604>>2]|0)+((y+m|0)>>>3);d=d>>>(33-b|0);if((d|0)==-1){Je=85;break}if((i[e+1308>>2]|0)!=(d|0)){i[e+1308>>2]=d;c=1}n:do{if((E|0)==5){d=i[F+12>>2]|0;i[vt+604>>2]=i[vt+624>>2];i[vt+604+4>>2]=i[vt+624+4>>2];i[vt+604+8>>2]=i[vt+624+8>>2];i[vt+604+12>>2]=i[vt+624+12>>2];i[vt+604+16>>2]=i[vt+624+16>>2];do{if(!(Fe(vt+604|0,vt+680|0)|0)){if(Fe(vt+604|0,vt+680|0)|0){break}if(!(Fe(vt+604|0,vt+680|0)|0)){b=0}else{break}while(1){if(!(d>>>b)){break}else{b=b+1|0}}y=b+-1|0;p=i[_>>2]|0;g=i[T>>2]<<3;m=i[r>>2]|0;do{if((g-m|0)>31){h=i[vt+604+8>>2]|0;d=a[p+1>>0]<<16|a[p>>0]<<24|a[p+2>>0]<<8|a[p+3>>0];if(!h){h=vt+604+8|0;break}d=(a[p+4>>0]|0)>>>(8-h|0)|d<<h;h=vt+604+8|0}else{if((g-m|0)<=0){d=0;h=vt+604+8|0;break}h=i[vt+604+8>>2]|0;d=a[p>>0]<<h+24;if((g-m+-8+h|0)>0){v=g-m+-8+h|0;h=h+24|0}else{h=vt+604+8|0;break}while(1){p=p+1|0;h=h+-8|0;d=a[p>>0]<<h|d;if((v|0)<=8){h=vt+604+8|0;break}else{v=v+-8|0}}}}while(0);i[r>>2]=y+m;i[h>>2]=y+m&7;if((y+m|0)>>>0>g>>>0){break}i[_>>2]=(i[vt+604>>2]|0)+((y+m|0)>>>3);if((d>>>(33-b|0)|0)==-1){break}if(Fe(vt+604|0,vt+172|0)|0){break r}if((i[e+1300>>2]|0)==5){He=i[e+1312>>2]|0;Ke=i[vt+172>>2]|0;d=e+1312|0;h=(He|0)==(Ke|0)?He:Ke;c=(He|0)==(Ke|0)?c:1}else{d=e+1312|0;h=i[vt+172>>2]|0}i[d>>2]=h;break n}}while(0);break r}}while(0);n:do{switch(i[F+16>>2]|0){case 0:{i[vt+604>>2]=i[vt+624>>2];i[vt+604+4>>2]=i[vt+624+4>>2];i[vt+604+8>>2]=i[vt+624+8>>2];i[vt+604+12>>2]=i[vt+624+12>>2];i[vt+604+16>>2]=i[vt+624+16>>2];do{if(!(Fe(vt+604|0,vt+680|0)|0)){if(Fe(vt+604|0,vt+680|0)|0){break}if(Fe(vt+604|0,vt+680|0)|0){break}d=i[F+12>>2]|0;b=0;while(1){if(!(d>>>b)){break}else{b=b+1|0}}y=b+-1|0;p=i[_>>2]|0;g=i[T>>2]<<3;m=i[r>>2]|0;do{if((g-m|0)>31){h=i[vt+604+8>>2]|0;d=a[p+1>>0]<<16|a[p>>0]<<24|a[p+2>>0]<<8|a[p+3>>0];if(!h){h=vt+604+8|0;break}d=(a[p+4>>0]|0)>>>(8-h|0)|d<<h;h=vt+604+8|0}else{if((g-m|0)<=0){d=0;h=vt+604+8|0;break}h=i[vt+604+8>>2]|0;d=a[p>>0]<<h+24;if((g-m+-8+h|0)>0){v=g-m+-8+h|0;h=h+24|0}else{h=vt+604+8|0;break}while(1){p=p+1|0;h=h+-8|0;d=a[p>>0]<<h|d;if((v|0)<=8){h=vt+604+8|0;break}else{v=v+-8|0}}}}while(0);i[r>>2]=y+m;i[h>>2]=y+m&7;if((y+m|0)>>>0>g>>>0){break}i[_>>2]=(i[vt+604>>2]|0)+((y+m|0)>>>3);if((d>>>(33-b|0)|0)==-1){break}if((E|0)==5?(Fe(vt+604|0,vt+680|0)|0)!=0:0){break}d=i[F+20>>2]|0;b=0;while(1){if(!(d>>>b)){break}else{b=b+1|0}}y=b+-1|0;p=i[_>>2]|0;g=i[T>>2]<<3;m=i[r>>2]|0;do{if((g-m|0)>31){h=i[vt+604+8>>2]|0;d=a[p+1>>0]<<16|a[p>>0]<<24|a[p+2>>0]<<8|a[p+3>>0];if(!h){h=vt+604+8|0;break}d=(a[p+4>>0]|0)>>>(8-h|0)|d<<h;h=vt+604+8|0}else{if((g-m|0)<=0){d=0;h=vt+604+8|0;break}h=i[vt+604+8>>2]|0;d=a[p>>0]<<h+24;if((g-m+-8+h|0)>0){v=g-m+-8+h|0;h=h+24|0}else{h=vt+604+8|0;break}while(1){p=p+1|0;h=h+-8|0;d=a[p>>0]<<h|d;if((v|0)<=8){h=vt+604+8|0;break}else{v=v+-8|0}}}}while(0);i[r>>2]=y+m;i[h>>2]=y+m&7;if((y+m|0)>>>0>g>>>0){break}i[_>>2]=(i[vt+604>>2]|0)+((y+m|0)>>>3);d=d>>>(33-b|0);if((d|0)==-1){break}if((i[e+1316>>2]|0)!=(d|0)){i[e+1316>>2]=d;c=1}if(!(i[w+8>>2]|0)){break n}i[vt+604>>2]=i[vt+624>>2];i[vt+604+4>>2]=i[vt+624+4>>2];i[vt+604+8>>2]=i[vt+624+8>>2];i[vt+604+12>>2]=i[vt+624+12>>2];i[vt+604+16>>2]=i[vt+624+16>>2];d=Fe(vt+604|0,vt+644|0)|0;do{if(!d){d=Fe(vt+604|0,vt+644|0)|0;if(d){l=d;break}d=Fe(vt+604|0,vt+644|0)|0;if(d){l=d;break}d=i[F+12>>2]|0;b=0;while(1){if(!(d>>>b)){break}else{b=b+1|0}}y=b+-1|0;p=i[_>>2]|0;g=i[T>>2]<<3;m=i[r>>2]|0;do{if((g-m|0)>31){h=i[vt+604+8>>2]|0;d=a[p+1>>0]<<16|a[p>>0]<<24|a[p+2>>0]<<8|a[p+3>>0];if(!h){h=vt+604+8|0;break}d=(a[p+4>>0]|0)>>>(8-h|0)|d<<h;h=vt+604+8|0}else{if((g-m|0)<=0){d=0;h=vt+604+8|0;break}h=i[vt+604+8>>2]|0;d=a[p>>0]<<h+24;if((g-m+-8+h|0)>0){v=g-m+-8+h|0;h=h+24|0}else{h=vt+604+8|0;break}while(1){p=p+1|0;h=h+-8|0;d=a[p>>0]<<h|d;if((v|0)<=8){h=vt+604+8|0;break}else{v=v+-8|0}}}}while(0);i[r>>2]=y+m;i[h>>2]=y+m&7;if((y+m|0)>>>0>g>>>0){l=1;break}i[_>>2]=(i[vt+604>>2]|0)+((y+m|0)>>>3);if((d>>>(33-b|0)|0)==-1){l=1;break}if((E|0)==5?(G=Fe(vt+604|0,vt+644|0)|0,(G|0)!=0):0){l=G;break}d=i[F+20>>2]|0;b=0;while(1){if(!(d>>>b)){break}else{b=b+1|0}}m=b+-1|0;p=i[_>>2]|0;y=i[T>>2]<<3;g=i[r>>2]|0;do{if((y-g|0)>31){h=i[vt+604+8>>2]|0;d=a[p+1>>0]<<16|a[p>>0]<<24|a[p+2>>0]<<8|a[p+3>>0];if(!h){h=vt+604+8|0;break}d=(a[p+4>>0]|0)>>>(8-h|0)|d<<h;h=vt+604+8|0}else{if((y-g|0)<=0){d=0;h=vt+604+8|0;break}h=i[vt+604+8>>2]|0;d=a[p>>0]<<h+24;if((y-g+-8+h|0)>0){v=y-g+-8+h|0;h=h+24|0}else{h=vt+604+8|0;break}while(1){p=p+1|0;h=h+-8|0;d=a[p>>0]<<h|d;if((v|0)<=8){h=vt+604+8|0;break}else{v=v+-8|0}}}}while(0);i[r>>2]=m+g;i[h>>2]=m+g&7;if((m+g|0)>>>0>y>>>0){l=1;break}i[_>>2]=(i[vt+604>>2]|0)+((m+g|0)>>>3);if((d>>>(33-b|0)|0)==-1){l=1;break}i[vt+680>>2]=0;d=Fe(vt+604|0,vt+680|0)|0;h=i[vt+680>>2]|0;do{if((h|0)==-1){p=(d|0)==0?1:0;d=(d|0)==0?0:-2147483648}else{if(d){p=1;d=0;break}p=0;d=(h&1|0)!=0?(h+1|0)>>>1:0-((h+1|0)>>>1)|0}}while(0);if(p){break r}if((i[e+1320>>2]|0)==(d|0)){break n}i[e+1320>>2]=d;c=1;break n}else{l=d}}while(0);B=c;Je=208;break t}}while(0);break r}case 1:{if(i[F+24>>2]|0){break n}b=i[w+8>>2]|0;i[vt+604>>2]=i[vt+624>>2];i[vt+604+4>>2]=i[vt+624+4>>2];i[vt+604+8>>2]=i[vt+624+8>>2];i[vt+604+12>>2]=i[vt+624+12>>2];i[vt+604+16>>2]=i[vt+624+16>>2];l=Fe(vt+604|0,vt+644|0)|0;o:do{if(!l){l=Fe(vt+604|0,vt+644|0)|0;if(l){break}l=Fe(vt+604|0,vt+644|0)|0;if(l){break}l=i[F+12>>2]|0;m=0;while(1){if(!(l>>>m)){break}else{m=m+1|0}}g=m+-1|0;h=i[_>>2]|0;v=i[T>>2]<<3;y=i[r>>2]|0;do{if((v-y|0)>31){d=i[vt+604+8>>2]|0;l=a[h+1>>0]<<16|a[h>>0]<<24|a[h+2>>0]<<8|a[h+3>>0];if(!d){d=vt+604+8|0;break}l=(a[h+4>>0]|0)>>>(8-d|0)|l<<d;d=vt+604+8|0}else{if((v-y|0)<=0){l=0;d=vt+604+8|0;break}d=i[vt+604+8>>2]|0;l=a[h>>0]<<d+24;if((v-y+-8+d|0)>0){p=v-y+-8+d|0;d=d+24|0}else{d=vt+604+8|0;break}while(1){h=h+1|0;d=d+-8|0;l=a[h>>0]<<d|l;if((p|0)<=8){d=vt+604+8|0;break}else{p=p+-8|0}}}}while(0);i[r>>2]=g+y;i[d>>2]=g+y&7;if((g+y|0)>>>0>v>>>0){l=1;break}i[_>>2]=(i[vt+604>>2]|0)+((g+y|0)>>>3);if((l>>>(33-m|0)|0)==-1){l=1;break}if((E|0)==5?(x=Fe(vt+604|0,vt+644|0)|0,(x|0)!=0):0){l=x;break}i[vt+680>>2]=0;l=Fe(vt+604|0,vt+680|0)|0;d=i[vt+680>>2]|0;do{if((d|0)==-1){if(!l){Je=190}else{L=-2147483648}}else{if(l){Je=190;break}L=(d&1|0)!=0?(d+1|0)>>>1:0-((d+1|0)>>>1)|0}}while(0);if((Je|0)==190){l=1;break}do{if(b){i[vt+680>>2]=0;l=Fe(vt+604|0,vt+680|0)|0;d=i[vt+680>>2]|0;do{if((d|0)==-1){if(!l){Je=197}else{D=-2147483648;Je=196}}else{if(l){Je=197;break}D=(d&1|0)!=0?(d+1|0)>>>1:0-((d+1|0)>>>1)|0;Je=196}}while(0);if((Je|0)==196){N=D;break}else if((Je|0)==197){l=1;break o}}else{N=0}}while(0);if((i[e+1324>>2]|0)!=(L|0)){i[e+1324>>2]=L;c=1}if(!(i[w+8>>2]|0)){break n}if((i[e+1328>>2]|0)==(N|0)){break n}i[e+1328>>2]=N;c=1;break n}}while(0);B=c;Je=208;break t}default:{}}}while(0);i[e+1300>>2]=E;i[e+1300+4>>2]=C;U=c;Je=206;break e}else{Je=85}}while(0);break}e=4;f=vt;return e|0}}else{j=d;Je=63}}else{j=d;Je=63}}else{j=d;Je=63}}while(0);if((Je|0)==63){l=j;B=k;Je=208}t:do{if((Je|0)==208){if((l|0)<65520){switch(l|0){case 0:{V=B;break e}default:break t}}switch(l|0){case 65520:{le=4;break}default:break t}f=vt;return le|0}}while(0);e=3;f=vt;return e|0}default:{U=0;Je=206}}}while(0);if((Je|0)==206){V=U}do{if(!V){Je=222}else{if((i[e+1184>>2]|0)!=0?(i[e+16>>2]|0)!=0:0){if(i[e+3380>>2]|0){e=3;f=vt;return e|0}if(!(i[e+1188>>2]|0)){c=i[e+1220>>2]|0;l=c+((i[e+1248>>2]|0)*40|0)|0;i[e+1228>>2]=l;i[e+1336>>2]=i[l>>2];l=i[e+1260>>2]|0;if((l|0)!=0?(i[i[e+1224>>2]>>2]=c,(l|0)!=1):0){c=1;do{i[(i[e+1224>>2]|0)+(c<<2)>>2]=(i[e+1220>>2]|0)+(c*40|0);c=c+1|0}while((c|0)!=(l|0))}Ot(e,e+1336|0,0);c=e+1336|0}else{Ot(e,e+1336|0,i[e+1372>>2]|0);c=e+1336|0}i[u>>2]=0;i[e+3344>>2]=1;i[e+1180>>2]=0;Ye=e+16|0;ze=e+1188|0;We=e+1212|0;qe=c;break}i[e+1188>>2]=0;i[e+1180>>2]=0;Je=222}}while(0);e:do{if((Je|0)==222){switch(E|0){case 7:{l=vt+72|0;d=l+92|0;do{i[l>>2]=0;l=l+4|0}while((l|0)<(d|0));c=Ge(vt+624|0,8)|0;t:do{if((((((((c|0)!=-1?(i[vt+72>>2]=c,Ge(vt+624|0,1)|0,Ge(vt+624|0,1)|0,(Ge(vt+624|0,1)|0)!=-1):0)?(Ge(vt+624|0,5)|0)!=-1:0)?(W=Ge(vt+624|0,8)|0,(W|0)!=-1):0)?(i[vt+72+4>>2]=W,pt=(Fe(vt+624|0,vt+72+8|0)|0)!=0,!(pt|(i[vt+72+8>>2]|0)>>>0>31)):0)?(Fe(vt+624|0,vt+644|0)|0)==0:0)?(Y=i[vt+644>>2]|0,Y>>>0<=12):0)?(i[vt+72+12>>2]=1<<Y+4,(Fe(vt+624|0,vt+644|0)|0)==0):0){c=i[vt+644>>2]|0;if(c>>>0>2){break}i[vt+72+16>>2]=c;r:do{switch(c|0){case 0:{if(Fe(vt+624|0,vt+644|0)|0){break t}c=i[vt+644>>2]|0;if(c>>>0>12){break t}i[vt+72+20>>2]=1<<c+4;break}case 1:{c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[vt+72+24>>2]=(c|0)==1&1;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){Je=241}else{z=-2147483648}}else{if(c){Je=241;break}z=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}}while(0);if((Je|0)==241){break t}i[vt+72+28>>2]=z;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){Je=246}else{J=-2147483648}}else{if(c){Je=246;break}J=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}}while(0);if((Je|0)==246){break t}i[vt+72+32>>2]=J;p=vt+72+36|0;if(Fe(vt+624|0,p)|0){break t}c=i[p>>2]|0;if(c>>>0>255){break t}if(!c){i[vt+72+40>>2]=0;break r}c=yt(c<<2)|0;i[vt+72+40>>2]=c;if(!c){break t}if(!(i[p>>2]|0)){break r}i[vt+680>>2]=0;l=Fe(vt+624|0,vt+680|0)|0;d=i[vt+680>>2]|0;do{if((d|0)==-1){if(!l){Je=258}else{X=-2147483648}}else{if(l){Je=258;break}X=(d&1|0)!=0?(d+1|0)>>>1:0-((d+1|0)>>>1)|0}}while(0);if((Je|0)==258){break t}i[c>>2]=X;if((i[p>>2]|0)>>>0<=1){break r}h=1;while(1){d=(i[vt+72+40>>2]|0)+(h<<2)|0;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){break}else{c=-2147483648}}else{if(c){break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}i[d>>2]=c;h=h+1|0;if(h>>>0>=(i[p>>2]|0)>>>0){break r}}break t}default:{}}}while(0);b=vt+72+44|0;pt=(Fe(vt+624|0,b)|0)!=0;if(pt|(i[b>>2]|0)>>>0>16){break}c=Ge(vt+624|0,1)|0;if((c|0)==-1){break}i[vt+72+48>>2]=(c|0)==1&1;if(Fe(vt+624|0,vt+644|0)|0){break}i[vt+72+52>>2]=(i[vt+644>>2]|0)+1;if(Fe(vt+624|0,vt+644|0)|0){break}i[vt+72+56>>2]=(i[vt+644>>2]|0)+1;switch(Ge(vt+624|0,1)|0){case 0:case-1:break t;default:{}}if((Ge(vt+624|0,1)|0)==-1){break}c=Ge(vt+624|0,1)|0;if((c|0)==-1){break}i[vt+72+60>>2]=(c|0)==1&1;if((c|0)==1){if(Fe(vt+624|0,vt+72+64|0)|0){break}if(Fe(vt+624|0,vt+72+68|0)|0){break}if(Fe(vt+624|0,vt+72+72|0)|0){break}if(Fe(vt+624|0,vt+72+76|0)|0){break}l=i[vt+72+52>>2]|0;if((i[vt+72+64>>2]|0)>((l<<3)+~i[vt+72+68>>2]|0)){break}c=i[vt+72+56>>2]|0;if((i[vt+72+72>>2]|0)>((c<<3)+~i[vt+72+76>>2]|0)){break}}else{c=i[vt+72+56>>2]|0;l=i[vt+72+52>>2]|0}c=ee(l,c)|0;do{switch(i[vt+72+4>>2]|0){case 10:{Z=99;$=152064;Je=296;break}case 11:{Z=396;$=345600;Je=296;break}case 12:{Z=396;$=912384;Je=296;break}case 13:{Z=396;$=912384;Je=296;break}case 20:{Z=396;$=912384;Je=296;break}case 21:{Z=792;$=1824768;Je=296;break}case 22:{Z=1620;$=3110400;Je=296;break}case 30:{Z=1620;$=3110400;Je=296;break}case 31:{Z=3600;$=6912e3;Je=296;break}case 32:{Z=5120;$=7864320;Je=296;break}case 40:{Z=8192;$=12582912;Je=296;break}case 41:{Z=8192;$=12582912;Je=296;break}case 42:{Z=8704;$=13369344;Je=296;break}case 50:{Z=22080;$=42393600;Je=296;break}case 51:{Z=36864;$=70778880;Je=296;break}default:Je=298}}while(0);do{if((Je|0)==296){if(Z>>>0<c>>>0){Je=298;break}c=($>>>0)/((c*384|0)>>>0)|0;c=c>>>0<16?c:16;i[vt+644>>2]=c;l=i[b>>2]|0;if(l>>>0>c>>>0){te=l;Je=299}else{re=c}}}while(0);if((Je|0)==298){i[vt+644>>2]=2147483647;te=i[b>>2]|0;Je=299}if((Je|0)==299){i[vt+644>>2]=te;re=te}i[vt+72+88>>2]=re;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break}i[vt+72+80>>2]=(c|0)==1&1;do{if((c|0)==1){m=yt(952)|0;i[vt+72+84>>2]=m;if(!m){break t}bt(m|0,0,952)|0;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m>>2]=(c|0)==1&1;do{if((c|0)==1){c=Ge(vt+624|0,8)|0;if((c|0)==-1){break t}i[m+4>>2]=c;if((c|0)!=255){break}c=Ge(vt+624|0,16)|0;if((c|0)==-1){break t}i[m+8>>2]=c;c=Ge(vt+624|0,16)|0;if((c|0)==-1){break t}i[m+12>>2]=c}}while(0);c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+16>>2]=(c|0)==1&1;if((c|0)==1){c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+20>>2]=(c|0)==1&1}c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+24>>2]=(c|0)==1&1;do{if((c|0)==1){c=Ge(vt+624|0,3)|0;if((c|0)==-1){break t}i[m+28>>2]=c;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+32>>2]=(c|0)==1&1;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+36>>2]=(c|0)==1&1;if((c|0)!=1){i[m+40>>2]=2;i[m+44>>2]=2;i[m+48>>2]=2;break}c=Ge(vt+624|0,8)|0;if((c|0)==-1){break t}i[m+40>>2]=c;c=Ge(vt+624|0,8)|0;if((c|0)==-1){break t}i[m+44>>2]=c;c=Ge(vt+624|0,8)|0;if((c|0)==-1){break t}i[m+48>>2]=c}else{i[m+28>>2]=5;i[m+40>>2]=2;i[m+44>>2]=2;i[m+48>>2]=2}}while(0);c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+52>>2]=(c|0)==1&1;if((c|0)==1){if(Fe(vt+624|0,m+56|0)|0){break t}if((i[m+56>>2]|0)>>>0>5){break t}if(Fe(vt+624|0,m+60|0)|0){break t}if((i[m+60>>2]|0)>>>0>5){break t}}c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+64>>2]=(c|0)==1&1;if((c|0)==1){d=i[vt+624+4>>2]|0;y=i[S>>2]<<3;g=i[vt+624+16>>2]|0;do{if((y-g|0)>31){c=i[A>>2]|0;l=a[d+1>>0]<<16|a[d>>0]<<24|a[d+2>>0]<<8|a[d+3>>0];if(!c){break}l=(a[d+4>>0]|0)>>>(8-c|0)|l<<c}else{if((y-g|0)<=0){l=0;break}c=i[A>>2]|0;l=a[d>>0]<<c+24;if((y-g+-8+c|0)>0){h=y-g+-8+c|0;c=c+24|0}else{break}while(1){d=d+1|0;c=c+-8|0;l=a[d>>0]<<c|l;if((h|0)<=8){break}else{h=h+-8|0}}}}while(0);i[vt+624+16>>2]=g+32;p=g+32&7;i[A>>2]=p;if(y>>>0<(g+32|0)>>>0){break t}v=i[vt+624>>2]|0;d=(g+32|0)>>>3;i[vt+624+4>>2]=v+d;if(!l){break t}i[m+68>>2]=l;do{if((y-(g+32)|0)>31){c=a[v+(d+1)>>0]<<16|a[v+d>>0]<<24|a[v+(d+2)>>0]<<8|a[v+(d+3)>>0];if(!p){break}c=(a[v+(d+4)>>0]|0)>>>(8-p|0)|c<<p}else{if((y-(g+32)|0)<=0){c=0;break}c=a[v+d>>0]<<(p|24);if((y-(g+32)+-8+p|0)>0){d=v+d|0;h=y-(g+32)+-8+p|0;l=p|24}else{break}while(1){d=d+1|0;l=l+-8|0;c=a[d>>0]<<l|c;if((h|0)<=8){break}else{h=h+-8|0}}}}while(0);i[vt+624+16>>2]=g+64;i[A>>2]=g+64&7;if((g+64|0)>>>0>y>>>0){break t}i[vt+624+4>>2]=v+((g+64|0)>>>3);if(!c){break t}i[m+72>>2]=c;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+76>>2]=(c|0)==1&1}c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+80>>2]=(c|0)==1&1;if((c|0)==1){if(It(vt+624|0,m+84|0)|0){break t}}else{i[m+84>>2]=1;i[m+96>>2]=288000001;i[m+224>>2]=288000001;i[m+480>>2]=24;i[m+484>>2]=24;i[m+488>>2]=24;i[m+492>>2]=24}c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+496>>2]=(c|0)==1&1;if((c|0)==1){if(It(vt+624|0,m+500|0)|0){break t}}else{i[m+500>>2]=1;i[m+512>>2]=240000001;i[m+640>>2]=240000001;i[m+896>>2]=24;i[m+900>>2]=24;i[m+904>>2]=24;i[m+908>>2]=24}if(!((i[m+80>>2]|0)==0?(i[m+496>>2]|0)==0:0)){c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+912>>2]=(c|0)==1&1}c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+916>>2]=(c|0)==1&1;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+920>>2]=(c|0)==1&1;if((c|0)==1){c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[m+924>>2]=(c|0)==1&1;if(Fe(vt+624|0,m+928|0)|0){break t}if((i[m+928>>2]|0)>>>0>16){break t}if(Fe(vt+624|0,m+932|0)|0){break t}if((i[m+932>>2]|0)>>>0>16){break t}if(Fe(vt+624|0,m+936|0)|0){break t}if((i[m+936>>2]|0)>>>0>16){break t}if(Fe(vt+624|0,m+940|0)|0){break t}if((i[m+940>>2]|0)>>>0>16){break t}if(Fe(vt+624|0,m+944|0)|0){break t}if(Fe(vt+624|0,m+948|0)|0){break t}}else{i[m+924>>2]=1;i[m+928>>2]=2;i[m+932>>2]=1;i[m+936>>2]=16;i[m+940>>2]=16;i[m+944>>2]=16;i[m+948>>2]=16}c=i[vt+72+84>>2]|0;if(!(i[c+920>>2]|0)){break}l=i[c+948>>2]|0;if((l>>>0<(i[b>>2]|0)>>>0?1:(i[c+944>>2]|0)>>>0>l>>>0)|l>>>0>(i[vt+72+88>>2]|0)>>>0){break t}i[vt+72+88>>2]=(l|0)==0?1:l}}while(0);Ge(vt+624|0,8-(i[A>>2]|0)|0)|0;v=i[vt+72+8>>2]|0;y=i[e+20+(v<<2)>>2]|0;do{if(!y){pt=yt(92)|0;i[e+20+(v<<2)>>2]=pt;if(!pt){le=0}else{break}f=vt;return le|0}if((v|0)!=(i[e+8>>2]|0)){gt(i[y+40>>2]|0);i[(i[e+20+(v<<2)>>2]|0)+40>>2]=0;gt(i[(i[e+20+(v<<2)>>2]|0)+84>>2]|0);i[(i[e+20+(v<<2)>>2]|0)+84>>2]=0;break}g=i[e+16>>2]|0;r:do{if((i[vt+72>>2]|0)==(i[g>>2]|0)){if((i[vt+72+4>>2]|0)!=(i[g+4>>2]|0)){break}if((i[vt+72+12>>2]|0)!=(i[g+12>>2]|0)){break}c=i[vt+72+16>>2]|0;if((c|0)!=(i[g+16>>2]|0)){break}if((i[b>>2]|0)!=(i[g+44>>2]|0)){break}if((i[vt+72+48>>2]|0)!=(i[g+48>>2]|0)){break}if((i[vt+72+52>>2]|0)!=(i[g+52>>2]|0)){break}if((i[vt+72+56>>2]|0)!=(i[g+56>>2]|0)){break}p=i[vt+72+60>>2]|0;if((p|0)!=(i[g+60>>2]|0)){break}if((i[vt+72+80>>2]|0)!=(i[g+80>>2]|0)){break}n:do{switch(c|0){case 0:{if((i[vt+72+20>>2]|0)!=(i[g+20>>2]|0)){break r}break}case 1:{if((i[vt+72+24>>2]|0)!=(i[g+24>>2]|0)){break r}if((i[vt+72+28>>2]|0)!=(i[g+28>>2]|0)){break r}if((i[vt+72+32>>2]|0)!=(i[g+32>>2]|0)){break r}c=i[vt+72+36>>2]|0;if((c|0)!=(i[g+36>>2]|0)){break r}if(!c){break n}l=i[vt+72+40>>2]|0;d=i[g+40>>2]|0;h=0;do{if((i[l+(h<<2)>>2]|0)!=(i[d+(h<<2)>>2]|0)){break r}h=h+1|0}while(h>>>0<c>>>0);break}default:{}}}while(0);if(p){if((i[vt+72+64>>2]|0)!=(i[g+64>>2]|0)){break}if((i[vt+72+68>>2]|0)!=(i[g+68>>2]|0)){break}if((i[vt+72+72>>2]|0)!=(i[g+72>>2]|0)){break}if((i[vt+72+76>>2]|0)!=(i[g+76>>2]|0)){break}}gt(i[vt+72+40>>2]|0);i[vt+72+40>>2]=0;gt(i[vt+72+84>>2]|0);i[vt+72+84>>2]=0;e=0;f=vt;return e|0}}while(0);gt(i[y+40>>2]|0);i[(i[e+20+(v<<2)>>2]|0)+40>>2]=0;gt(i[(i[e+20+(v<<2)>>2]|0)+84>>2]|0);i[(i[e+20+(v<<2)>>2]|0)+84>>2]=0;i[e+8>>2]=33;i[e+4>>2]=257;i[e+16>>2]=0;i[e+12>>2]=0}while(0);l=i[e+20+(v<<2)>>2]|0;c=vt+72|0;d=l+92|0;do{i[l>>2]=i[c>>2];l=l+4|0;c=c+4|0}while((l|0)<(d|0));e=0;f=vt;return e|0}}while(0);gt(i[vt+72+40>>2]|0);i[vt+72+40>>2]=0;gt(i[vt+72+84>>2]|0);i[vt+72+84>>2]=0;e=3;f=vt;return e|0}case 8:{l=vt;d=l+72|0;do{i[l>>2]=0;l=l+4|0}while((l|0)<(d|0));t:do{if(((((!((Fe(vt+624|0,vt)|0)!=0|(i[vt>>2]|0)>>>0>255)?(pt=(Fe(vt+624|0,vt+4|0)|0)!=0,!(pt|(i[vt+4>>2]|0)>>>0>31)):0)?(Ge(vt+624|0,1)|0)==0:0)?(H=Ge(vt+624|0,1)|0,(H|0)!=-1):0)?(i[vt+8>>2]=(H|0)==1&1,(Fe(vt+624|0,vt+644|0)|0)==0):0)?(K=(i[vt+644>>2]|0)+1|0,i[vt+12>>2]=K,K>>>0<=8):0){r:do{if(K>>>0>1){if(Fe(vt+624|0,vt+16|0)|0){break t}c=i[vt+16>>2]|0;if(c>>>0>6){break t}switch(c|0){case 0:{pt=yt(i[vt+12>>2]<<2)|0;i[vt+20>>2]=pt;if(!pt){break t}if(!(i[vt+12>>2]|0)){break r}else{c=0}do{if(Fe(vt+624|0,vt+644|0)|0){break t}i[(i[vt+20>>2]|0)+(c<<2)>>2]=(i[vt+644>>2]|0)+1;c=c+1|0}while(c>>>0<(i[vt+12>>2]|0)>>>0);break}case 2:{i[vt+24>>2]=yt((i[vt+12>>2]<<2)+-4|0)|0;pt=yt((i[vt+12>>2]<<2)+-4|0)|0;i[vt+28>>2]=pt;if((pt|0)==0|(i[vt+24>>2]|0)==0){break t}if((i[vt+12>>2]|0)==1){break r}else{c=0}do{if(Fe(vt+624|0,vt+644|0)|0){break t}i[(i[vt+24>>2]|0)+(c<<2)>>2]=i[vt+644>>2];if(Fe(vt+624|0,vt+644|0)|0){break t}i[(i[vt+28>>2]|0)+(c<<2)>>2]=i[vt+644>>2];c=c+1|0}while(c>>>0<((i[vt+12>>2]|0)+-1|0)>>>0);break}case 5:case 4:case 3:{c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[vt+32>>2]=(c|0)==1&1;if(Fe(vt+624|0,vt+644|0)|0){break t}i[vt+36>>2]=(i[vt+644>>2]|0)+1;break r}case 6:{if(Fe(vt+624|0,vt+644|0)|0){break t}pt=(i[vt+644>>2]|0)+1|0;i[vt+40>>2]=pt;pt=yt(pt<<2)|0;i[vt+44>>2]=pt;if(!pt){break t}c=i[288+((i[vt+12>>2]|0)+-1<<2)>>2]|0;if(!(i[vt+40>>2]|0)){break r}else{l=0}do{pt=Ge(vt+624|0,c)|0;i[(i[vt+44>>2]|0)+(l<<2)>>2]=pt;l=l+1|0;if(pt>>>0>=(i[vt+12>>2]|0)>>>0){break t}}while(l>>>0<(i[vt+40>>2]|0)>>>0);break}default:break r}}}while(0);if(!(Fe(vt+624|0,vt+644|0)|0)){c=i[vt+644>>2]|0;if(c>>>0>31){break}i[vt+48>>2]=c+1;pt=(Fe(vt+624|0,vt+644|0)|0)!=0;if(pt|(i[vt+644>>2]|0)>>>0>31){break}if(Ge(vt+624|0,1)|0){break}if((Ge(vt+624|0,2)|0)>>>0>2){break}i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){break}break t}else{if(c){break}c=((l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0)+26|0;if(c>>>0>51){break t}i[vt+52>>2]=c;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){break}break t}else{if(c){break}if((((l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0)+26|0)>>>0>51){break t}i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){break}break t}else{if(c){break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0;if((c+12|0)>>>0>24){break t}i[vt+56>>2]=c;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[vt+60>>2]=(c|0)==1&1;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[vt+64>>2]=(c|0)==1&1;c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[vt+68>>2]=(c|0)==1&1;Ge(vt+624|0,8-(i[A>>2]|0)|0)|0;l=i[vt>>2]|0;c=i[e+148+(l<<2)>>2]|0;do{if(!c){pt=yt(72)|0;i[e+148+(l<<2)>>2]=pt;if(!pt){le=0}else{break}f=vt;return le|0}if((l|0)!=(i[e+4>>2]|0)){gt(i[c+20>>2]|0);i[(i[e+148+(l<<2)>>2]|0)+20>>2]=0;gt(i[(i[e+148+(l<<2)>>2]|0)+24>>2]|0);i[(i[e+148+(l<<2)>>2]|0)+24>>2]=0;gt(i[(i[e+148+(l<<2)>>2]|0)+28>>2]|0);i[(i[e+148+(l<<2)>>2]|0)+28>>2]=0;gt(i[(i[e+148+(l<<2)>>2]|0)+44>>2]|0);i[(i[e+148+(l<<2)>>2]|0)+44>>2]=0;break}if((i[vt+4>>2]|0)!=(i[e+8>>2]|0)){i[e+4>>2]=257;c=i[e+148+(l<<2)>>2]|0}gt(i[c+20>>2]|0);i[(i[e+148+(l<<2)>>2]|0)+20>>2]=0;gt(i[(i[e+148+(l<<2)>>2]|0)+24>>2]|0);i[(i[e+148+(l<<2)>>2]|0)+24>>2]=0;gt(i[(i[e+148+(l<<2)>>2]|0)+28>>2]|0);i[(i[e+148+(l<<2)>>2]|0)+28>>2]=0;gt(i[(i[e+148+(l<<2)>>2]|0)+44>>2]|0);i[(i[e+148+(l<<2)>>2]|0)+44>>2]=0}while(0);l=i[e+148+(l<<2)>>2]|0;c=vt;d=l+72|0;do{i[l>>2]=i[c>>2];l=l+4|0;c=c+4|0}while((l|0)<(d|0));e=0;f=vt;return e|0}}while(0);break t}}while(0);break t}}while(0)}}}while(0);gt(i[vt+20>>2]|0);i[vt+20>>2]=0;gt(i[vt+24>>2]|0);i[vt+24>>2]=0;gt(i[vt+28>>2]|0);i[vt+28>>2]=0;gt(i[vt+44>>2]|0);i[vt+44>>2]=0;e=3;f=vt;return e|0}case 1:case 5:{if(i[e+1180>>2]|0){e=0;f=vt;return e|0}i[e+1184>>2]=1;t:do{if(!(i[e+1188>>2]|0)){i[e+1204>>2]=0;i[e+1208>>2]=s;i[vt+644>>2]=i[vt+624>>2];i[vt+644+4>>2]=i[vt+624+4>>2];i[vt+644+8>>2]=i[vt+624+8>>2];i[vt+644+12>>2]=i[vt+624+12>>2];i[vt+644+16>>2]=i[vt+624+16>>2];if((Fe(vt+644|0,vt+680|0)|0)==0?(Fe(vt+644|0,vt+680|0)|0)==0:0){Fe(vt+644|0,vt+680|0)|0;b=i[vt+680>>2]|0}else{b=0}w=i[e+8>>2]|0;m=e+148+(b<<2)|0;l=i[m>>2]|0;r:do{if((l|0)!=0?(Q=i[l+4>>2]|0,q=i[e+20+(Q<<2)>>2]|0,(q|0)!=0):0){v=i[q+52>>2]|0;y=ee(i[q+56>>2]|0,v)|0;g=i[l+12>>2]|0;n:do{if(g>>>0>1){c=i[l+16>>2]|0;switch(c|0){case 0:{c=i[l+20>>2]|0;l=0;do{if((i[c+(l<<2)>>2]|0)>>>0>y>>>0){c=4;break r}l=l+1|0}while(l>>>0<g>>>0);break}case 2:{p=i[l+24>>2]|0;c=i[l+28>>2]|0;h=0;do{l=i[p+(h<<2)>>2]|0;d=i[c+(h<<2)>>2]|0;if(!(l>>>0<=d>>>0&d>>>0<y>>>0)){c=4;break r}h=h+1|0;if(((l>>>0)%(v>>>0)|0)>>>0>((d>>>0)%(v>>>0)|0)>>>0){c=4;break r}}while(h>>>0<(g+-1|0)>>>0);break}default:{if((c+-3|0)>>>0<3){if((i[l+36>>2]|0)>>>0>y>>>0){c=4;break r}else{break n}}if((c|0)!=6){break n}if((i[l+40>>2]|0)>>>0<y>>>0){c=4;break r}else{break n}}}}}while(0);c=i[e+4>>2]|0;do{if((c|0)==256){i[e+4>>2]=b;c=i[m>>2]|0;i[e+12>>2]=c;c=i[c+4>>2]|0;i[e+8>>2]=c;ze=i[e+20+(c<<2)>>2]|0;i[e+16>>2]=ze;qe=i[ze+52>>2]|0;ze=i[ze+56>>2]|0;i[e+1176>>2]=ee(ze,qe)|0;i[e+1340>>2]=qe;i[e+1344>>2]=ze;i[e+3380>>2]=1}else{if(!(i[e+3380>>2]|0)){if((c|0)==(b|0)){c=w;break}if((Q|0)==(w|0)){i[e+4>>2]=b;i[e+12>>2]=i[m>>2];c=w;break}if((E|0)!=5){c=4;break r}i[e+4>>2]=b;c=i[m>>2]|0;i[e+12>>2]=c;c=i[c+4>>2]|0;i[e+8>>2]=c;ze=i[e+20+(c<<2)>>2]|0;i[e+16>>2]=ze;qe=i[ze+52>>2]|0;ze=i[ze+56>>2]|0;i[e+1176>>2]=ee(ze,qe)|0;i[e+1340>>2]=qe;i[e+1344>>2]=ze;i[e+3380>>2]=1;break}i[e+3380>>2]=0;gt(i[e+1212>>2]|0);i[e+1212>>2]=0;gt(i[e+1172>>2]|0);i[e+1172>>2]=0;i[e+1212>>2]=yt((i[e+1176>>2]|0)*216|0)|0;ze=yt(i[e+1176>>2]<<2)|0;i[e+1172>>2]=ze;c=i[e+1212>>2]|0;if((ze|0)==0|(c|0)==0){c=5;break r}bt(c|0,0,(i[e+1176>>2]|0)*216|0)|0;v=i[e+1212>>2]|0;c=i[e+16>>2]|0;y=i[c+52>>2]|0;g=i[e+1176>>2]|0;if(!g){l=c}else{d=0;h=0;p=0;while(1){c=(d|0)!=0;i[v+(h*216|0)+200>>2]=c?v+((h+-1|0)*216|0)|0:0;l=(p|0)!=0;do{if(l){i[v+(h*216|0)+204>>2]=v+((h-y|0)*216|0);if(d>>>0>=(y+-1|0)>>>0){Je=507;break}i[v+(h*216|0)+208>>2]=v+((1-y+h|0)*216|0)}else{i[v+(h*216|0)+204>>2]=0;Je=507}}while(0);if((Je|0)==507){Je=0;i[v+(h*216|0)+208>>2]=0}i[v+(h*216|0)+212>>2]=c&l?v+((h+~y|0)*216|0)|0:0;c=d+1|0;h=h+1|0;if((h|0)==(g|0)){break}else{d=(c|0)==(y|0)?0:c;p=((c|0)==(y|0)&1)+p|0}}l=i[e+16>>2]|0}n:do{if(!(i[e+1216>>2]|0)){if((i[l+16>>2]|0)==2){v=1;break}do{if(i[l+80>>2]|0){c=i[l+84>>2]|0;if(!(i[c+920>>2]|0)){break}if(!(i[c+944>>2]|0)){v=1;break n}}}while(0);v=0}else{v=1}}while(0);g=ee(i[l+56>>2]|0,i[l+52>>2]|0)|0;h=i[l+88>>2]|0;p=i[l+44>>2]|0;d=i[l+12>>2]|0;c=i[e+1220>>2]|0;do{if(!c){y=e+1248|0}else{if((i[e+1248>>2]|0)==-1){y=e+1248|0;break}else{l=0}do{gt(i[c+(l*40|0)+4>>2]|0);c=i[e+1220>>2]|0;i[c+(l*40|0)+4>>2]=0;l=l+1|0}while(l>>>0<((i[e+1248>>2]|0)+1|0)>>>0);y=e+1248|0}}while(0);gt(c);i[e+1220>>2]=0;gt(i[e+1224>>2]|0);i[e+1224>>2]=0;gt(i[e+1232>>2]|0);i[e+1232>>2]=0;i[e+1256>>2]=65535;c=p>>>0>1?p:1;i[e+1244>>2]=c;i[y>>2]=(v|0)==0?h:c;i[e+1252>>2]=d;i[e+1276>>2]=v;i[e+1264>>2]=0;i[e+1260>>2]=0;i[e+1268>>2]=0;c=yt(680)|0;i[e+1220>>2]=c;if(!c){c=5;break r}bt(c|0,0,680)|0;if((i[y>>2]|0)!=-1){d=0;do{c=yt(g*384|47)|0;l=i[e+1220>>2]|0;i[l+(d*40|0)+4>>2]=c;if(!c){c=5;break r}i[l+(d*40|0)>>2]=c+(0-c&15);d=d+1|0}while(d>>>0<((i[y>>2]|0)+1|0)>>>0)}i[e+1224>>2]=yt(68)|0;ze=yt((i[y>>2]<<4)+16|0)|0;i[e+1232>>2]=ze;c=i[e+1224>>2]|0;if((ze|0)==0|(c|0)==0){c=5;break r}l=c;d=l+68|0;do{n[l>>0]=0;l=l+1|0}while((l|0)<(d|0));i[e+1240>>2]=0;i[e+1236>>2]=0;c=i[e+8>>2]|0}}while(0);if((w|0)==(c|0)){break t}_=i[e+16>>2]|0;c=i[e>>2]|0;if(c>>>0<32){T=i[e+20+(c<<2)>>2]|0}else{T=0}i[u>>2]=0;i[e+3344>>2]=1;n:do{if((E|0)==5){m=i[e+12>>2]|0;i[vt+604>>2]=i[vt+624>>2];i[vt+604+4>>2]=i[vt+624+4>>2];i[vt+604+8>>2]=i[vt+624+8>>2];i[vt+604+12>>2]=i[vt+624+12>>2];i[vt+604+16>>2]=i[vt+624+16>>2];c=Fe(vt+604|0,vt+644|0)|0;o:do{if(!c){c=Fe(vt+604|0,vt+644|0)|0;if(c){l=1;break}c=Fe(vt+604|0,vt+644|0)|0;if(c){l=1;break}c=i[_+12>>2]|0;g=0;while(1){if(!(c>>>g)){break}else{g=g+1|0}}p=g+-1|0;b=vt+604+4|0;d=i[b>>2]|0;v=i[vt+604+12>>2]<<3;w=vt+604+16|0;y=i[w>>2]|0;do{if((v-y|0)>31){l=i[vt+604+8>>2]|0;c=a[d+1>>0]<<16|a[d>>0]<<24|a[d+2>>0]<<8|a[d+3>>0];if(!l){l=vt+604+8|0;break}c=(a[d+4>>0]|0)>>>(8-l|0)|c<<l;l=vt+604+8|0}else{if((v-y|0)<=0){c=0;l=vt+604+8|0;break}l=i[vt+604+8>>2]|0;c=a[d>>0]<<l+24;if((v-y+-8+l|0)>0){h=v-y+-8+l|0;l=l+24|0}else{l=vt+604+8|0;break}while(1){d=d+1|0;l=l+-8|0;c=a[d>>0]<<l|c;if((h|0)<=8){l=vt+604+8|0;break}else{h=h+-8|0}}}}while(0);i[w>>2]=p+y;i[l>>2]=p+y&7;if((p+y|0)>>>0>v>>>0){c=1;l=1;break}i[b>>2]=(i[vt+604>>2]|0)+((p+y|0)>>>3);if((c>>>(33-g|0)|0)==-1){c=1;l=1;break}c=Fe(vt+604|0,vt+644|0)|0;if(c){l=1;break}c=i[_+16>>2]|0;do{if(!c){c=i[_+20>>2]|0;g=0;while(1){if(!(c>>>g)){break}else{g=g+1|0}}p=g+-1|0;d=i[b>>2]|0;v=i[vt+604+12>>2]<<3;y=i[w>>2]|0;do{if((v-y|0)>31){l=i[vt+604+8>>2]|0;c=a[d+1>>0]<<16|a[d>>0]<<24|a[d+2>>0]<<8|a[d+3>>0];if(!l){l=vt+604+8|0;break}c=(a[d+4>>0]|0)>>>(8-l|0)|c<<l;l=vt+604+8|0}else{if((v-y|0)<=0){c=0;l=vt+604+8|0;break}l=i[vt+604+8>>2]|0;c=a[d>>0]<<l+24;if((v-y+-8+l|0)>0){h=v-y+-8+l|0;l=l+24|0}else{l=vt+604+8|0;break}while(1){d=d+1|0;l=l+-8|0;c=a[d>>0]<<l|c;if((h|0)<=8){l=vt+604+8|0;break}else{h=h+-8|0}}}}while(0);i[w>>2]=p+y;i[l>>2]=p+y&7;if((p+y|0)>>>0>v>>>0){c=1;l=1;break o}i[b>>2]=(i[vt+604>>2]|0)+((p+y|0)>>>3);if((c>>>(33-g|0)|0)==-1){c=1;l=1;break o}if(!(i[m+8>>2]|0)){break}i[vt+680>>2]=0;c=Fe(vt+604|0,vt+680|0)|0;if((i[vt+680>>2]|0)==-1){if(!c){Je=567}else{Je=566}}else if(!c){Je=566}else{Je=567}if((Je|0)==566){ue=i[_+16>>2]|0;Je=568;break}else if((Je|0)==567){c=1;l=1;break o}}else{ue=c;Je=568}}while(0);do{if((Je|0)==568){if((ue|0)!=1){break}if(i[_+24>>2]|0){break}i[vt+680>>2]=0;c=Fe(vt+604|0,vt+680|0)|0;if((i[vt+680>>2]|0)==-1){if(!c){Je=573}}else if(c){Je=573}if((Je|0)==573){c=1;l=1;break o}if(!(i[m+8>>2]|0)){break}i[vt+680>>2]=0;c=Fe(vt+604|0,vt+680|0)|0;if((i[vt+680>>2]|0)==-1){if(!c){Je=579}else{Je=578}}else if(!c){Je=578}else{Je=579}if((Je|0)==578){break}else if((Je|0)==579){c=1;l=1;break o}}}while(0);if((i[m+68>>2]|0)!=0?(ce=Fe(vt+604|0,vt+644|0)|0,(ce|0)!=0):0){c=ce;l=1;break}d=i[b>>2]|0;p=i[vt+604+12>>2]<<3;v=i[w>>2]|0;do{if((p-v|0)>31){c=i[vt+604+8>>2]|0;l=a[d+1>>0]<<16|a[d>>0]<<24|a[d+2>>0]<<8|a[d+3>>0];if(!c){c=vt+604+8|0;break}l=(a[d+4>>0]|0)>>>(8-c|0)|l<<c;c=vt+604+8|0}else{if((p-v|0)<=0){l=0;c=vt+604+8|0;break}c=i[vt+604+8>>2]|0;l=a[d>>0]<<c+24;if((p-v+-8+c|0)>0){h=p-v+-8+c|0;c=c+24|0}else{c=vt+604+8|0;break}while(1){d=d+1|0;c=c+-8|0;l=a[d>>0]<<c|l;if((h|0)<=8){c=vt+604+8|0;break}else{h=h+-8|0}}}}while(0);i[w>>2]=v+1;i[c>>2]=v+1&7;if((v+1|0)>>>0>p>>>0){c=0}else{i[b>>2]=(i[vt+604>>2]|0)+((v+1|0)>>>3);c=1}l=c?l>>>31:-1;c=(l|0)==-1&1}else{l=1}}while(0);if(l|c){Je=596;break}if((T|0)==0|(i[e+1276>>2]|0)!=0){Je=596;break}if((i[T+52>>2]|0)!=(i[_+52>>2]|0)){Je=596;break}if((i[T+56>>2]|0)!=(i[_+56>>2]|0)){Je=596;break}if((i[T+88>>2]|0)!=(i[_+88>>2]|0)){Je=596;break}h=i[e+1220>>2]|0;if(!h){break}i[e+1280>>2]=1;p=i[e+1248>>2]|0;c=0;l=2147483647;d=0;while(1){if(i[h+(c*40|0)+24>>2]|0){ht=i[h+(c*40|0)+16>>2]|0;pt=(ht|0)<(l|0);l=pt?ht:l;d=pt?h+(c*40|0)|0:d}c=c+1|0;if(c>>>0<=p>>>0){continue}if(!d){break n}pt=i[e+1236>>2]|0;ht=i[e+1232>>2]|0;i[ht+(pt<<4)>>2]=i[d>>2];i[ht+(pt<<4)+12>>2]=i[d+36>>2];i[ht+(pt<<4)+4>>2]=i[d+28>>2];i[ht+(pt<<4)+8>>2]=i[d+32>>2];i[e+1236>>2]=pt+1;i[d+24>>2]=0;if(i[d+20>>2]|0){c=0;l=2147483647;d=0;continue}i[e+1264>>2]=(i[e+1264>>2]|0)+-1;c=0;l=2147483647;d=0}}else{Je=596}}while(0);if((Je|0)==596){i[e+1280>>2]=0}i[e>>2]=i[e+8>>2];e=2;f=vt;return e|0}c=4}while(0);i[e+4>>2]=256;i[e+12>>2]=0;i[e+8>>2]=32;i[e+16>>2]=0;i[e+3380>>2]=0;e=c;f=vt;return e|0}}while(0);if(i[e+3380>>2]|0){e=3;f=vt;return e|0}p=i[e+16>>2]|0;m=i[e+12>>2]|0;bt(e+2356|0,0,988)|0;b=ee(i[p+56>>2]|0,i[p+52>>2]|0)|0;t:do{if(((Fe(vt+624|0,vt+604|0)|0)==0?(ze=i[vt+604>>2]|0,i[e+2356>>2]=ze,ze>>>0<b>>>0):0)?(Fe(vt+624|0,vt+604|0)|0)==0:0){ze=i[vt+604>>2]|0;i[e+2360>>2]=ze;switch(ze|0){case 7:case 2:break;case 5:case 0:{if((E|0)==5){break t}if(!(i[p+44>>2]|0)){break t}break}default:break t}if((Fe(vt+624|0,vt+604|0)|0)==0?(ze=i[vt+604>>2]|0,i[e+2364>>2]=ze,(ze|0)==(i[m>>2]|0)):0){c=i[p+12>>2]|0;l=0;while(1){if(!(c>>>l)){break}else{l=l+1|0}}c=Ge(vt+624|0,l+-1|0)|0;if((c|0)==-1){break}if((c|0)!=0&(E|0)==5){break}i[e+2368>>2]=c;if((E|0)==5){if(Fe(vt+624|0,vt+604|0)|0){break}ze=i[vt+604>>2]|0;i[e+2372>>2]=ze;if(ze>>>0>65535){break}}c=i[p+16>>2]|0;if(!c){c=i[p+20>>2]|0;l=0;while(1){if(!(c>>>l)){break}else{l=l+1|0}}c=Ge(vt+624|0,l+-1|0)|0;if((c|0)==-1){break}i[e+2376>>2]=c;do{if(i[m+8>>2]|0){i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){Je=631}else{ne=-2147483648;Je=632}}else{if(c){Je=631;break}ne=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0;Je=632}}while(0);if((Je|0)==631){break t}else if((Je|0)==632){i[e+2380>>2]=ne;break}}}while(0);if((E|0)==5){c=i[e+2376>>2]|0;if(c>>>0>(i[p+20>>2]|0)>>>1>>>0){break}ze=i[e+2380>>2]|0;if((c|0)!=(((ze|0)>0?0:0-ze|0)|0)){break}}c=i[p+16>>2]|0}do{if((c|0)==1){if(i[p+24>>2]|0){break}i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){Je=643}else{oe=-2147483648}}else{if(c){Je=643;break}oe=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}}while(0);if((Je|0)==643){break t}i[e+2384>>2]=oe;do{if(i[m+8>>2]|0){i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){Je=649}else{ie=-2147483648;Je=650}}else{if(c){Je=649;break}ie=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0;Je=650}}while(0);if((Je|0)==649){break t}else if((Je|0)==650){i[e+2388>>2]=ie;break}}}while(0);if((E|0)!=5){break}qe=i[e+2384>>2]|0;ze=(i[p+32>>2]|0)+qe+(i[e+2388>>2]|0)|0;if(((qe|0)<(ze|0)?qe:ze)|0){break t}}}while(0);if(i[m+68>>2]|0){if(Fe(vt+624|0,vt+604|0)|0){break}ze=i[vt+604>>2]|0;i[e+2392>>2]=ze;if(ze>>>0>127){break}}c=i[e+2360>>2]|0;switch(c|0){case 5:case 0:{c=Ge(vt+624|0,1)|0;if((c|0)==-1){break t}i[e+2396>>2]=c;if(!c){c=i[m+48>>2]|0;if(c>>>0>16){break t}i[e+2400>>2]=c}else{if(Fe(vt+624|0,vt+604|0)|0){break t}c=i[vt+604>>2]|0;if(c>>>0>15){break t}i[e+2400>>2]=c+1}c=i[e+2360>>2]|0;break}default:{}}r:do{switch(c|0){case 5:case 0:{d=i[e+2400>>2]|0;h=i[p+12>>2]|0;c=Ge(vt+624|0,1)|0;n:do{if((c|0)!=-1){i[e+2424>>2]=c;if(c){c=0;while(1){if(Fe(vt+624|0,vt+644|0)|0){break n}l=i[vt+644>>2]|0;if(l>>>0>3){break n}i[e+2428+(c*12|0)>>2]=l;if(l>>>0<2){if(Fe(vt+624|0,vt+680|0)|0){break n}l=i[vt+680>>2]|0;if(l>>>0>=h>>>0){break n}i[e+2428+(c*12|0)+4>>2]=l+1}else{if((l|0)!=2){break}if(Fe(vt+624|0,vt+680|0)|0){break n}i[e+2428+(c*12|0)+8>>2]=i[vt+680>>2]}c=c+1|0;if(c>>>0>d>>>0){break n}}if(!c){break}}break r}}while(0);break t}default:{}}}while(0);do{if(C){g=i[p+44>>2]|0;c=Ge(vt+624|0,1)|0;r:do{if((E|0)==5){if((c|0)==-1){Je=706;break}i[e+2632>>2]=c;c=Ge(vt+624|0,1)|0;if((c|0)==-1){Je=706;break}i[e+2636>>2]=c;if((g|0)!=0|(c|0)==0){Je=707}else{Je=706}}else{if((c|0)==-1){Je=706;break}i[e+2640>>2]=c;if(!c){Je=707;break}d=0;h=0;p=0;v=0;y=0;while(1){if(d>>>0>((g<<1)+2|0)>>>0){Je=706;break r}if(Fe(vt+624|0,vt+644|0)|0){Je=706;break r}l=i[vt+644>>2]|0;if(l>>>0>6){Je=706;break r}i[e+2644+(d*20|0)>>2]=l;if((l&-3|0)==1){if(Fe(vt+624|0,vt+680|0)|0){Je=706;break r}i[e+2644+(d*20|0)+4>>2]=(i[vt+680>>2]|0)+1}switch(l|0){case 2:{if(Fe(vt+624|0,vt+680|0)|0){Je=706;break r}i[e+2644+(d*20|0)+8>>2]=i[vt+680>>2];ae=p;break}case 3:case 6:{if(Fe(vt+624|0,vt+680|0)|0){Je=706;break r}i[e+2644+(d*20|0)+12>>2]=i[vt+680>>2];if((l|0)==4){Je=700}else{ae=p}break}case 4:{Je=700;break}default:ae=p}if((Je|0)==700){Je=0;if(Fe(vt+624|0,vt+680|0)|0){Je=706;break r}c=i[vt+680>>2]|0;if(c>>>0>g>>>0){Je=706;break r}i[e+2644+(d*20|0)+16>>2]=(c|0)==0?65535:c+-1|0;ae=p+1|0}v=((l|0)==5&1)+v|0;h=((l+-1|0)>>>0<3&1)+h|0;y=((l|0)==6&1)+y|0;if(!l){break}else{d=d+1|0;p=ae}}if((v|ae|y)>>>0>1){Je=706;break}if((v|0)!=0&(h|0)!=0){Je=706}else{Je=707}}}while(0);if((Je|0)==706){break t}else if((Je|0)==707){break}}}while(0);i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){Je=712}else{se=-2147483648}}else{if(c){Je=712;break}se=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}}while(0);if((Je|0)==712){break}i[e+2404>>2]=se;if(((i[m+52>>2]|0)+se|0)>>>0>51){break}r:do{if(i[m+60>>2]|0){if(Fe(vt+624|0,vt+604|0)|0){break t}c=i[vt+604>>2]|0;i[e+2408>>2]=c;if(c>>>0>2){break t}if((c|0)==1){break}i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){break}break t}else{if(c){break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0;if((c+6|0)>>>0>12){break t}i[e+2412>>2]=c<<1;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;do{if((l|0)==-1){if(!c){break}break t}else{if(c){break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0;if((c+6|0)>>>0>12){break t}i[e+2416>>2]=c<<1;break r}}while(0);break t}}while(0);break t}}while(0);do{if((i[m+12>>2]|0)>>>0>1){if(((i[m+16>>2]|0)+-3|0)>>>0>=3){break}d=i[m+36>>2]|0;d=(((b>>>0)%(d>>>0)|0|0)==0?1:2)+((b>>>0)/(d>>>0)|0)|0;l=0;while(1){c=l+1|0;if(!(-1<<c&d)){break}else{l=c}}c=Ge(vt+624|0,((1<<l)+-1&d|0)==0?l:c)|0;i[vt+604>>2]=c;if((c|0)==-1){break t}i[e+2420>>2]=c;ze=i[m+36>>2]|0;if(c>>>0>(((b+-1+ze|0)>>>0)/(ze>>>0)|0)>>>0){break t}}}while(0);if(!(i[e+1188>>2]|0)){do{if((E|0)!=5){b=i[e+2368>>2]|0;ze=i[(i[e+16>>2]|0)+48>>2]|0;i[e+1236>>2]=0;i[e+1240>>2]=0;if(!ze){break}w=i[e+1268>>2]|0;do{if((w|0)!=(b|0)){c=i[e+1252>>2]|0;if((((w+1|0)>>>0)%(c>>>0)|0|0)==(b|0)){Je=778;break}T=i[(i[e+1220>>2]|0)+((i[e+1248>>2]|0)*40|0)>>2]|0;h=c;m=((w+1|0)>>>0)%(c>>>0)|0;r:while(1){c=i[e+1260>>2]|0;if(!c){p=0}else{l=i[e+1220>>2]|0;d=0;do{if(((i[l+(d*40|0)+20>>2]|0)+-1|0)>>>0<2){Je=i[l+(d*40|0)+12>>2]|0;i[l+(d*40|0)+8>>2]=Je-(Je>>>0>m>>>0?h:0)}d=d+1|0}while((d|0)!=(c|0));p=c}do{if(p>>>0>=(i[e+1244>>2]|0)>>>0){if(!p){le=3;Je=1494;break r}v=i[e+1220>>2]|0;d=0;c=-1;l=0;while(1){if(((i[v+(d*40|0)+20>>2]|0)+-1|0)>>>0<2){Je=i[v+(d*40|0)+8>>2]|0;ze=(c|0)==-1|(Je|0)<(l|0);h=ze?d:c;l=ze?Je:l}else{h=c}d=d+1|0;if((d|0)==(p|0)){break}else{c=h}}if((h|0)<=-1){le=3;Je=1494;break r}i[v+(h*40|0)+20>>2]=0;c=p+-1|0;i[e+1260>>2]=c;if(i[v+(h*40|0)+24>>2]|0){break}i[e+1264>>2]=(i[e+1264>>2]|0)+-1}}while(0);l=i[e+1264>>2]|0;g=i[e+1248>>2]|0;if(l>>>0>=g>>>0){y=(i[e+1276>>2]|0)==0;do{do{if(y){p=i[e+1220>>2]|0;v=0;d=2147483647;h=0;do{if(i[p+(v*40|0)+24>>2]|0){ze=i[p+(v*40|0)+16>>2]|0;Je=(ze|0)<(d|0);d=Je?ze:d;h=Je?p+(v*40|0)|0:h}v=v+1|0}while(v>>>0<=g>>>0);if(!h){break}Je=i[e+1236>>2]|0;ze=i[e+1232>>2]|0;i[ze+(Je<<4)>>2]=i[h>>2];i[ze+(Je<<4)+12>>2]=i[h+36>>2];i[ze+(Je<<4)+4>>2]=i[h+28>>2];i[ze+(Je<<4)+8>>2]=i[h+32>>2];i[e+1236>>2]=Je+1;i[h+24>>2]=0;if(i[h+20>>2]|0){break}l=l+-1|0;i[e+1264>>2]=l}}while(0)}while(l>>>0>=g>>>0)}h=i[e+1220>>2]|0;i[h+(g*40|0)+20>>2]=1;i[h+(g*40|0)+12>>2]=m;i[h+(g*40|0)+8>>2]=m;i[h+(g*40|0)+16>>2]=0;i[h+(g*40|0)+24>>2]=0;i[e+1264>>2]=l+1;i[e+1260>>2]=c+1;Qe(h,g+1|0);h=i[e+1252>>2]|0;m=((m+1|0)>>>0)%(h>>>0)|0;if((m|0)==(b|0)){Je=770;break}}if((Je|0)==770){c=i[e+1236>>2]|0;r:do{if(c){l=i[e+1232>>2]|0;h=i[e+1248>>2]|0;p=i[e+1220>>2]|0;v=i[p+(h*40|0)>>2]|0;d=0;while(1){if((i[l+(d<<4)>>2]|0)==(v|0)){break}d=d+1|0;if(d>>>0>=c>>>0){break r}}if(!h){break}else{l=0}while(1){c=p+(l*40|0)|0;l=l+1|0;if((i[c>>2]|0)==(T|0)){break}if(l>>>0>=h>>>0){break r}}i[c>>2]=v;i[p+(h*40|0)>>2]=T}}while(0);if(C){Je=782;break}fe=i[e+1268>>2]|0;break}else if((Je|0)==1494){f=vt;return le|0}}else{Je=778}}while(0);do{if((Je|0)==778){if(!C){fe=w;break}if((w|0)==(b|0)){le=3}else{Je=782;break}f=vt;return le|0}}while(0);if((Je|0)==782){i[e+1268>>2]=b;break}if((fe|0)==(b|0)){break}ze=i[e+1252>>2]|0;i[e+1268>>2]=((b+-1+ze|0)>>>0)%(ze>>>0)|0}}while(0);ze=(i[e+1220>>2]|0)+((i[e+1248>>2]|0)*40|0)|0;i[e+1228>>2]=ze;i[e+1336>>2]=i[ze>>2]}wt(e+1368|0,e+2356|0,988)|0;i[e+1188>>2]=1;i[e+1360>>2]=E;i[e+1360+4>>2]=C;c=i[e+1432>>2]|0;E=i[e+1172>>2]|0;d=i[e+12>>2]|0;r=i[e+16>>2]|0;k=i[r+52>>2]|0;r=i[r+56>>2]|0;b=ee(r,k)|0;m=i[d+12>>2]|0;r:do{if((m|0)==1){bt(E|0,0,b<<2|0)|0}else{l=i[d+16>>2]|0;do{if((l+-3|0)>>>0<3){c=ee(i[d+36>>2]|0,c)|0;c=c>>>0<b>>>0?c:b;if((l&-2|0)!=4){v=0;_=c;break}v=(i[d+32>>2]|0)==0?c:b-c|0;_=c}else{v=0;_=0}}while(0);switch(l|0){case 0:{v=i[d+20>>2]|0;if(!b){break r}else{c=0;y=0}while(1){while(1){if(c>>>0<m>>>0){break}else{c=0}}p=v+(c<<2)|0;l=i[p>>2]|0;n:do{if(!l){l=0}else{h=0;do{d=h+y|0;if(d>>>0>=b>>>0){break n}i[E+(d<<2)>>2]=c;h=h+1|0;l=i[p>>2]|0}while(h>>>0<l>>>0)}}while(0);y=l+y|0;if(y>>>0>=b>>>0){break}else{c=c+1|0}}break}case 1:{if(!b){break r}else{c=0}do{i[E+(c<<2)>>2]=((((ee((c>>>0)/(k>>>0)|0,m)|0)>>>1)+((c>>>0)%(k>>>0)|0)|0)>>>0)%(m>>>0)|0;c=c+1|0}while((c|0)!=(b|0));break}case 2:{g=i[d+24>>2]|0;y=i[d+28>>2]|0;if(b){c=0;do{i[E+(c<<2)>>2]=m+-1;c=c+1|0}while((c|0)!=(b|0));if(!(m+-1|0)){break r}}p=m+-2|0;while(1){c=i[g+(p<<2)>>2]|0;v=i[y+(p<<2)>>2]|0;n:do{if(((c>>>0)/(k>>>0)|0)>>>0<=((v>>>0)/(k>>>0)|0)>>>0){if(((c>>>0)%(k>>>0)|0)>>>0>((v>>>0)%(k>>>0)|0)>>>0){c=(c>>>0)/(k>>>0)|0;while(1){c=c+1|0;if(c>>>0>((v>>>0)/(k>>>0)|0)>>>0){break n}}}else{h=(c>>>0)/(k>>>0)|0}do{l=ee(h,k)|0;d=(c>>>0)%(k>>>0)|0;do{i[E+(d+l<<2)>>2]=p;d=d+1|0}while(d>>>0<=((v>>>0)%(k>>>0)|0)>>>0);h=h+1|0}while(h>>>0<=((v>>>0)/(k>>>0)|0)>>>0)}}while(0);if(!p){break}else{p=p+-1|0}}break}case 3:{T=i[d+32>>2]|0;if(b){c=0;do{i[E+(c<<2)>>2]=1;c=c+1|0}while((c|0)!=(b|0))}if(!_){break r}m=(r-T|0)>>>1;w=0;l=(k-T|0)>>>1;d=(k-T|0)>>>1;h=(r-T|0)>>>1;p=(k-T|0)>>>1;v=T+-1|0;y=(r-T|0)>>>1;g=T;while(1){c=E+((ee(y,k)|0)+p<<2)|0;b=(i[c>>2]|0)==1;if(b){i[c>>2]=0}do{if(!((v|0)==-1&(p|0)==(l|0))){if((v|0)==1&(p|0)==(d|0)){p=d+1|0;p=(p|0)<(k+-1|0)?p:k+-1|0;c=m;d=p;v=0;g=1-(T<<1)|0;break}if((g|0)==-1&(y|0)==(h|0)){y=h+-1|0;y=(y|0)>0?y:0;c=m;h=y;v=1-(T<<1)|0;g=0;break}if((g|0)==1&(y|0)==(m|0)){y=m+1|0;y=(y|0)<(r+-1|0)?y:r+-1|0;c=y;v=(T<<1)+-1|0;g=0;break}else{c=m;p=p+v|0;y=y+g|0;break}}else{p=l+-1|0;p=(p|0)>0?p:0;c=m;l=p;v=0;g=(T<<1)+-1|0}}while(0);w=(b&1)+w|0;if(w>>>0>=_>>>0){break}else{m=c}}break}case 4:{c=i[d+32>>2]|0;if(!b){break r}l=0;do{i[E+(l<<2)>>2]=l>>>0<v>>>0?c:1-c|0;l=l+1|0}while((l|0)!=(b|0));break}case 5:{c=i[d+32>>2]|0;if(!k){break r}if(!r){break r}else{d=0;h=0}while(1){l=0;p=h;while(1){ze=E+((ee(l,k)|0)+d<<2)|0;i[ze>>2]=p>>>0<v>>>0?c:1-c|0;l=l+1|0;if((l|0)==(r|0)){break}else{p=p+1|0}}d=d+1|0;if((d|0)==(k|0)){break}else{h=h+r|0}}break}default:{if(!b){break r}c=i[d+44>>2]|0;l=0;do{i[E+(l<<2)>>2]=i[c+(l<<2)>>2];l=l+1|0}while((l|0)!=(b|0))}}}}while(0);p=i[e+1260>>2]|0;do{if(!p){l=i[e+1380>>2]|0;v=i[e+1412>>2]|0;r=e+1412|0}else{c=0;do{i[(i[e+1224>>2]|0)+(c<<2)>>2]=(i[e+1220>>2]|0)+(c*40|0);c=c+1|0}while((c|0)!=(p|0));l=i[e+1380>>2]|0;v=i[e+1412>>2]|0;if(!p){r=e+1412|0;break}d=i[e+1220>>2]|0;h=0;do{if(((i[d+(h*40|0)+20>>2]|0)+-1|0)>>>0<2){c=i[d+(h*40|0)+12>>2]|0;if(c>>>0>l>>>0){c=c-(i[e+1252>>2]|0)|0}i[d+(h*40|0)+8>>2]=c}h=h+1|0}while((h|0)!=(p|0));r=e+1412|0}}while(0);r:do{if(i[e+1436>>2]|0){c=i[e+1440>>2]|0;if(c>>>0>=3){break}g=l;m=0;n:while(1){o:do{if(c>>>0<2){d=i[e+1440+(m*12|0)+4>>2]|0;do{if(!c){c=g-d|0;if((c|0)>=0){break}c=(i[e+1252>>2]|0)+c|0}else{ze=d+g|0;c=i[e+1252>>2]|0;c=ze-((ze|0)<(c|0)?0:c)|0}}while(0);if(c>>>0>l>>>0){y=c-(i[e+1252>>2]|0)|0}else{y=c}d=i[e+1244>>2]|0;if(!d){le=3;Je=1494;break n}h=i[e+1220>>2]|0;g=0;while(1){p=i[h+(g*40|0)+20>>2]|0;if((p+-1|0)>>>0<2?(i[h+(g*40|0)+8>>2]|0)==(y|0):0){y=g;g=c;break o}g=g+1|0;if(g>>>0>=d>>>0){le=3;Je=1494;break n}}}else{c=i[e+1440+(m*12|0)+8>>2]|0;d=i[e+1244>>2]|0;if(!d){le=3;Je=1494;break n}h=i[e+1220>>2]|0;y=0;while(1){if((i[h+(y*40|0)+20>>2]|0)==3?(i[h+(y*40|0)+8>>2]|0)==(c|0):0){p=3;break o}y=y+1|0;if(y>>>0>=d>>>0){le=3;Je=1494;break n}}}}while(0);if(!(p>>>0>1&(y|0)>-1)){le=3;Je=1494;break}if(m>>>0<v>>>0){c=v;do{ze=c;c=c+-1|0;qe=i[e+1224>>2]|0;i[qe+(ze<<2)>>2]=i[qe+(c<<2)>>2]}while(c>>>0>m>>>0);c=i[e+1220>>2]|0}else{c=h}i[(i[e+1224>>2]|0)+(m<<2)>>2]=c+(y*40|0);m=m+1|0;if(m>>>0<=v>>>0){p=m;c=m;do{d=i[e+1224>>2]|0;h=i[d+(p<<2)>>2]|0;if((h|0)!=((i[e+1220>>2]|0)+(y*40|0)|0)){i[d+(c<<2)>>2]=h;c=c+1|0}p=p+1|0}while(p>>>0<=v>>>0)}c=i[e+1440+(m*12|0)>>2]|0;if(c>>>0>=3){break r}}if((Je|0)==1494){f=vt;return le|0}}}while(0);w=i[e+3376>>2]|0;b=i[e+1368>>2]|0;i[vt+168>>2]=0;i[e+1192>>2]=(i[e+1192>>2]|0)+1;i[e+1200>>2]=0;i[vt+164>>2]=(i[e+1416>>2]|0)+(i[(i[e+12>>2]|0)+52>>2]|0);T=vt+624+16|0;y=i[e+1212>>2]|0;d=0;_=0;h=0;r:while(1){if((i[e+1404>>2]|0)==0?(i[y+(b*216|0)+196>>2]|0)!=0:0){be=1;break}l=i[(i[e+12>>2]|0)+56>>2]|0;Ye=i[e+1420>>2]|0;qe=i[e+1424>>2]|0;ze=i[e+1428>>2]|0;i[y+(b*216|0)+4>>2]=i[e+1192>>2];i[y+(b*216|0)+8>>2]=Ye;i[y+(b*216|0)+12>>2]=qe;i[y+(b*216|0)+16>>2]=ze;i[y+(b*216|0)+24>>2]=l;l=i[e+1372>>2]|0;do{if((l|0)!=2){if((h|0)!=0|(l|0)==7){Je=889;break}c=Fe(vt+624|0,vt+168|0)|0;if(c){be=c;break r}c=i[vt+168>>2]|0;if(c>>>0>((i[e+1176>>2]|0)-b|0)>>>0){be=1;break r}if(!c){ke=i[e+1212>>2]|0;Ee=i[e+1372>>2]|0;Je=891;break}else{bt(w+12|0,0,164)|0;i[w>>2]=0;_e=c;Re=1;Je=890;break}}else{Je=889}}while(0);if((Je|0)==889){if(!d){ke=y;Ee=l;Je=891}else{_e=d;Re=h;Je=890}}if((Je|0)==890){Je=0;de=_e+-1|0;i[vt+168>>2]=de;he=Re}else if((Je|0)==891){Je=0;m=ke+(b*216|0)|0;p=i[r>>2]|0;bt(w|0,0,2088)|0;c=Fe(vt+624|0,vt+604|0)|0;l=i[vt+604>>2]|0;switch(Ee|0){case 2:case 7:{if((c|0)!=0|(l+6|0)>>>0>31){Me=1;Je=1092;break r}else{h=l+6|0}break}default:if((c|0)!=0|(l+1|0)>>>0>31){Me=1;Je=1092;break r}else{h=l+1|0}}i[w>>2]=h;do{if((h|0)!=31){ze=h>>>0<6;g=ze?2:(h|0)!=6&1;if(h>>>0<4|ze^1){n:do{switch(g|0){case 2:{o:do{if(p>>>0>1){switch(h|0){case 0:case 1:{c=0;break}case 3:case 2:{c=1;break}default:c=3}if(p>>>0>2){d=0;while(1){if(Fe(vt+624|0,vt+644|0)|0){ge=1;break n}l=i[vt+644>>2]|0;if(l>>>0>=p>>>0){ge=1;break n}i[w+144+(d<<2)>>2]=l;if(!c){break o}else{c=c+-1|0;d=d+1|0}}}else{l=0}while(1){d=Ge(vt+624|0,1)|0;if((d|0)==-1){Se=-1;Je=1048;break}if((d^1)>>>0>=p>>>0){Se=d^1;Je=1048;break}i[w+144+(l<<2)>>2]=d^1;if(!c){Je=1004;break}else{c=c+-1|0;l=l+1|0}}if((Je|0)==1004){Je=0;i[vt+644>>2]=d^1;break}else if((Je|0)==1048){Je=0;i[vt+644>>2]=Se;ge=1;break n}}}while(0);switch(h|0){case 0:case 1:{d=0;h=0;break}case 3:case 2:{d=1;h=0;break}default:{d=3;h=0}}while(1){i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=1012;break}else{c=-2147483648}}else{if(c){Je=1012;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+160+(h<<2)>>1]=c;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=1017;break}else{c=-2147483648}}else{if(c){Je=1017;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+160+(h<<2)+2>>1]=c;if(!d){ge=0;break n}else{d=d+-1|0;h=h+1|0}}if((Je|0)==1012){Je=0;ge=1;break n}else if((Je|0)==1017){Je=0;ge=1;break n}break}case 0:{c=i[S>>2]|0;l=i[T>>2]|0;p=i[vt+624+4>>2]|0;v=0;y=0;while(1){l=(c<<3)-l|0;do{if((l|0)>31){c=i[A>>2]|0;l=a[p+1>>0]<<16|a[p>>0]<<24|a[p+2>>0]<<8|a[p+3>>0];if(!c){ve=l;Je=1026;break}ve=(a[p+4>>0]|0)>>>(8-c|0)|l<<c;Je=1026}else{if((l|0)<=0){i[w+12+(y<<2)>>2]=0;we=0;Je=1027;break}d=i[A>>2]|0;c=a[p>>0]<<d+24;if((l+-8+d|0)>0){h=l+-8+d|0;l=d+24|0}else{ve=c;Je=1026;break}while(1){p=p+1|0;l=l+-8|0;c=a[p>>0]<<l|c;if((h|0)<=8){ve=c;Je=1026;break}else{h=h+-8|0}}}}while(0);if((Je|0)==1026){Je=0;ze=ve>>>31;i[w+12+(y<<2)>>2]=ze;if(!ze){we=ve;Je=1027}else{Ce=ve<<1;Oe=0}}if((Je|0)==1027){i[w+76+(y<<2)>>2]=we>>>28&7;Ce=we<<4;Oe=1}l=y|1;Je=Ce>>>31;i[w+12+(l<<2)>>2]=Je;if(!Je){i[w+76+(l<<2)>>2]=Ce>>>28&7;d=Ce<<4;c=Oe+1|0}else{d=Ce<<1;c=Oe}Je=d>>>31;i[w+12+(l+1<<2)>>2]=Je;if(!Je){i[w+76+(l+1<<2)>>2]=d>>>28&7;l=d<<4;c=c+1|0}else{l=d<<1}d=y|3;Je=l>>>31;i[w+12+(d<<2)>>2]=Je;if(!Je){i[w+76+(d<<2)>>2]=l>>>28&7;l=l<<4;c=c+1|0}else{l=l<<1}Je=l>>>31;i[w+12+(d+1<<2)>>2]=Je;if(!Je){i[w+76+(d+1<<2)>>2]=l>>>28&7;l=l<<4;c=c+1|0}else{l=l<<1}Je=l>>>31;i[w+12+(d+2<<2)>>2]=Je;if(!Je){i[w+76+(d+2<<2)>>2]=l>>>28&7;l=l<<4;c=c+1|0}else{l=l<<1}Je=l>>>31;i[w+12+(d+3<<2)>>2]=Je;if(!Je){i[w+76+(d+3<<2)>>2]=l>>>28&7;d=l<<4;c=c+1|0}else{d=l<<1}l=y|7;Je=d>>>31;i[w+12+(l<<2)>>2]=Je;if(!Je){i[w+76+(l<<2)>>2]=d>>>28&7;d=d<<4;c=c+1|0}else{d=d<<1}l=(c*3|0)+8+(i[T>>2]|0)|0;i[T>>2]=l;i[A>>2]=l&7;c=i[S>>2]|0;if(l>>>0>c<<3>>>0){Je=1033;break}p=(i[vt+624>>2]|0)+(l>>>3)|0;i[vt+624+4>>2]=p;v=v+1|0;if((v|0)>=2){Je=1030;break}else{y=y+8|0}}if((Je|0)==1030){i[vt+644>>2]=d;Je=1031;break n}else if((Je|0)==1033){Je=0;i[vt+644>>2]=d;ge=1;break n}break}case 1:{Je=1031;break}default:ge=0}}while(0);do{if((Je|0)==1031){Je=0;ze=(Fe(vt+624|0,vt+644|0)|0)!=0;c=i[vt+644>>2]|0;if(ze|c>>>0>3){ge=1;break}i[w+140>>2]=c;ge=0}}while(0);c=ge}else{ze=(Fe(vt+624|0,vt+644|0)|0)!=0;c=i[vt+644>>2]|0;n:do{if(!(ze|c>>>0>3)){i[w+176>>2]=c;ze=(Fe(vt+624|0,vt+644|0)|0)!=0;c=i[vt+644>>2]|0;if(ze|c>>>0>3){me=1;break}i[w+180>>2]=c;ze=(Fe(vt+624|0,vt+644|0)|0)!=0;c=i[vt+644>>2]|0;if(ze|c>>>0>3){me=1;break}i[w+184>>2]=c;ze=(Fe(vt+624|0,vt+644|0)|0)!=0;c=i[vt+644>>2]|0;if(ze|c>>>0>3){me=1;break}i[w+188>>2]=c;if(p>>>0>1&(h|0)!=5){if(p>>>0>2){if(Fe(vt+624|0,vt+644|0)|0){me=1;break}c=i[vt+644>>2]|0}else{c=Ge(vt+624|0,1)|0;i[vt+644>>2]=c;if((c|0)==-1){me=1;break}i[vt+644>>2]=c^1;c=c^1}if(c>>>0>=p>>>0){me=1;break}i[w+192>>2]=c;if(p>>>0>2){if(Fe(vt+624|0,vt+644|0)|0){me=1;break}c=i[vt+644>>2]|0}else{c=Ge(vt+624|0,1)|0;i[vt+644>>2]=c;if((c|0)==-1){me=1;break}i[vt+644>>2]=c^1;c=c^1}if(c>>>0>=p>>>0){me=1;break}i[w+196>>2]=c;if(p>>>0>2){if(Fe(vt+624|0,vt+644|0)|0){me=1;break}c=i[vt+644>>2]|0}else{c=Ge(vt+624|0,1)|0;i[vt+644>>2]=c;if((c|0)==-1){me=1;break}i[vt+644>>2]=c^1;c=c^1}if(c>>>0>=p>>>0){me=1;break}i[w+200>>2]=c;if(p>>>0>2){if(Fe(vt+624|0,vt+644|0)|0){me=1;break}c=i[vt+644>>2]|0}else{c=Ge(vt+624|0,1)|0;i[vt+644>>2]=c;if((c|0)==-1){me=1;break}i[vt+644>>2]=c^1;c=c^1}if(c>>>0>=p>>>0){me=1;break}i[w+204>>2]=c}switch(i[w+176>>2]|0){case 0:{c=0;break}case 2:case 1:{c=1;break}default:c=3}i[vt+644>>2]=c;d=0;while(1){i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=921;break}else{c=-2147483648}}else{if(c){Je=921;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+208+(d<<2)>>1]=c;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=926;break}else{c=-2147483648}}else{if(c){Je=926;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+208+(d<<2)+2>>1]=c;Je=i[vt+644>>2]|0;i[vt+644>>2]=Je+-1;if(!Je){Je=928;break}else{d=d+1|0}}if((Je|0)==921){Je=0;me=1;break}else if((Je|0)==926){Je=0;me=1;break}else if((Je|0)==928){switch(i[w+180>>2]|0){case 0:{c=0;break}case 2:case 1:{c=1;break}default:c=3}i[vt+644>>2]=c;d=0;while(1){i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=936;break}else{c=-2147483648}}else{if(c){Je=936;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+224+(d<<2)>>1]=c;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=941;break}else{c=-2147483648}}else{if(c){Je=941;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+224+(d<<2)+2>>1]=c;Je=i[vt+644>>2]|0;i[vt+644>>2]=Je+-1;if(!Je){Je=943;break}else{d=d+1|0}}if((Je|0)==936){Je=0;me=1;break}else if((Je|0)==941){Je=0;me=1;break}else if((Je|0)==943){switch(i[w+184>>2]|0){case 0:{c=0;break}case 2:case 1:{c=1;break}default:c=3}i[vt+644>>2]=c;d=0;while(1){i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=951;break}else{c=-2147483648}}else{if(c){Je=951;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+240+(d<<2)>>1]=c;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=956;break}else{c=-2147483648}}else{if(c){Je=956;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+240+(d<<2)+2>>1]=c;Je=i[vt+644>>2]|0;i[vt+644>>2]=Je+-1;if(!Je){Je=958;break}else{d=d+1|0}}if((Je|0)==951){Je=0;me=1;break}else if((Je|0)==956){Je=0;me=1;break}else if((Je|0)==958){Je=0;switch(i[w+188>>2]|0){case 0:{c=0;break}case 2:case 1:{c=1;break}default:c=3}i[vt+644>>2]=c;d=0;while(1){i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=966;break}else{c=-2147483648}}else{if(c){Je=966;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+256+(d<<2)>>1]=c;i[vt+680>>2]=0;c=Fe(vt+624|0,vt+680|0)|0;l=i[vt+680>>2]|0;if((l|0)==-1){if(!c){Je=971;break}else{c=-2147483648}}else{if(c){Je=971;break}c=(l&1|0)!=0?(l+1|0)>>>1:0-((l+1|0)>>>1)|0}o[w+256+(d<<2)+2>>1]=c;ze=i[vt+644>>2]|0;i[vt+644>>2]=ze+-1;if(!ze){me=0;break n}else{d=d+1|0}}if((Je|0)==966){Je=0;me=1;break}else if((Je|0)==971){Je=0;me=1;break}}}}}else{me=1}}while(0);c=me}if(c){Me=1;Je=1092;break r}if((g|0)!=1){if(Fe(vt+624|0,vt+680|0)|0){Je=1054;break r}c=i[vt+680>>2]|0;if(c>>>0>47){Je=1054;break r}ze=n[((g|0)==0?5624:5576)+c>>0]|0;i[vt+604>>2]=ze&255;i[w+4>>2]=ze&255;if(!(ze<<24>>24)){break}}else{ze=i[w>>2]|0;i[w+4>>2]=((ze+-7|0)>>>0>11?((ze+-7|0)>>>2)+268435453|0:(ze+-7|0)>>>2)<<4|(ze>>>0>18?15:0)}i[vt+680>>2]=0;ze=Fe(vt+624|0,vt+680|0)|0;c=i[vt+680>>2]|0;if((ze|0)!=0|(c|0)==-1){Je=1058;break r}c=(c&1|0)!=0?(c+1|0)>>>1:0-((c+1|0)>>>1)|0;if((c+26|0)>>>0>51){Me=1;Je=1092;break r}i[w+8>>2]=c;l=i[w+4>>2]|0;n:do{if((i[w>>2]|0)>>>0>6){c=i[ke+(b*216|0)+200>>2]|0;do{if(!c){d=0;h=0}else{if((i[ke+(b*216|0)+4>>2]|0)!=(i[c+4>>2]|0)){d=0;h=0;break}d=o[c+38>>1]|0;h=1}}while(0);c=i[ke+(b*216|0)+204>>2]|0;do{if(!c){c=d}else{if((i[ke+(b*216|0)+4>>2]|0)!=(i[c+4>>2]|0)){c=d;break}c=o[c+48>>1]|0;if(!h){break}c=d+1+c>>1}}while(0);c=Be(vt+624|0,w+1864|0,c,16)|0;if(c&15){ye=c;break}o[w+320>>1]=c>>>4&255;p=3;d=0;while(1){h=l>>>1;if(l&1){c=Be(vt+624|0,w+328+(d<<6)+4|0,Ne(m,d,w+272|0)|0,15)|0;i[w+1992+(d<<2)>>2]=c>>>15;if(c&15){ye=c;break n}o[w+272+(d<<1)>>1]=c>>>4&255;c=d|1;l=Be(vt+624|0,w+328+(c<<6)+4|0,Ne(m,c,w+272|0)|0,15)|0;i[w+1992+(c<<2)>>2]=l>>>15;if(l&15){ye=l;break n}o[w+272+(c<<1)>>1]=l>>>4&255;c=d|2;l=Be(vt+624|0,w+328+(c<<6)+4|0,Ne(m,c,w+272|0)|0,15)|0;i[w+1992+(c<<2)>>2]=l>>>15;if(l&15){ye=l;break n}o[w+272+(c<<1)>>1]=l>>>4&255;c=d|3;l=Be(vt+624|0,w+328+(c<<6)+4|0,Ne(m,c,w+272|0)|0,15)|0;i[w+1992+(c<<2)>>2]=l>>>15;if(l&15){ye=l;break n}o[w+272+(c<<1)>>1]=l>>>4&255}c=d+4|0;if(!p){Te=h;Ae=c;Je=1080;break}else{l=h;p=p+-1|0;d=c}}}else{p=3;d=0;while(1){h=l>>>1;if(l&1){c=Be(vt+624|0,w+328+(d<<6)|0,Ne(m,d,w+272|0)|0,16)|0;i[w+1992+(d<<2)>>2]=c>>>16;if(c&15){ye=c;break n}o[w+272+(d<<1)>>1]=c>>>4&255;c=d|1;l=Be(vt+624|0,w+328+(c<<6)|0,Ne(m,c,w+272|0)|0,16)|0;i[w+1992+(c<<2)>>2]=l>>>16;if(l&15){ye=l;break n}o[w+272+(c<<1)>>1]=l>>>4&255;c=d|2;l=Be(vt+624|0,w+328+(c<<6)|0,Ne(m,c,w+272|0)|0,16)|0;i[w+1992+(c<<2)>>2]=l>>>16;if(l&15){ye=l;break n}o[w+272+(c<<1)>>1]=l>>>4&255;c=d|3;l=Be(vt+624|0,w+328+(c<<6)|0,Ne(m,c,w+272|0)|0,16)|0;i[w+1992+(c<<2)>>2]=l>>>16;if(l&15){ye=l;break n}o[w+272+(c<<1)>>1]=l>>>4&255}c=d+4|0;if(!p){Te=h;Ae=c;Je=1080;break}else{l=h;p=p+-1|0;d=c}}}}while(0);n:do{if((Je|0)==1080){Je=0;if(Te&3){c=Be(vt+624|0,w+1928|0,-1,4)|0;if(c&15){ye=c;break}o[w+322>>1]=c>>>4&255;c=Be(vt+624|0,w+1944|0,-1,4)|0;if(c&15){ye=c;break}o[w+324>>1]=c>>>4&255}if(!(Te&2)){ye=0;break}else{l=7;d=Ae}while(1){c=Be(vt+624|0,w+328+(d<<6)+4|0,Ne(m,d,w+272|0)|0,15)|0;if(c&15){ye=c;break n}o[w+272+(d<<1)>>1]=c>>>4&255;i[w+1992+(d<<2)>>2]=c>>>15;if(!l){ye=0;break}else{l=l+-1|0;d=d+1|0}}}}while(0);i[T>>2]=((i[vt+624+4>>2]|0)-(i[vt+624>>2]|0)<<3)+(i[A>>2]|0);if(ye){Me=ye;Je=1092;break r}}else{while(1){if(!(i[A>>2]|0)){l=0;d=w+328|0;break}if(Ge(vt+624|0,1)|0){Me=1;Je=1092;break r}}while(1){c=Ge(vt+624|0,8)|0;i[vt+604>>2]=c;if((c|0)==-1){Me=1;Je=1092;break r}i[d>>2]=c;l=l+1|0;if(l>>>0>=384){break}else{d=d+4|0}}}}while(0);de=0;he=0}c=De((i[e+1212>>2]|0)+(b*216|0)|0,w,e+1336|0,e+1220|0,vt+164|0,b,i[(i[e+12>>2]|0)+64>>2]|0,vt+172+(0-(vt+172)&15)|0)|0;if(c){be=c;break}y=i[e+1212>>2]|0;_=((i[y+(b*216|0)+196>>2]|0)==1&1)+_|0;p=i[S>>2]<<3;v=i[T>>2]|0;do{if((p|0)==(v|0)){c=0}else{if((p-v|0)>>>0>8){c=1;break}l=i[vt+624+4>>2]|0;do{if((p-v|0)>0){d=i[A>>2]|0;c=a[l>>0]<<d+24;if((p-v+-8+d|0)>0){h=p-v+-8+d|0;d=d+24|0}else{break}while(1){l=l+1|0;d=d+-8|0;c=a[l>>0]<<d|c;if((h|0)<=8){break}else{h=h+-8|0}}}else{c=0}}while(0);c=(c>>>(32-(p-v)|0)|0)!=(1<<p-v+-1|0)&1}}while(0);l=(de|c|0)!=0;switch(i[e+1372>>2]|0){case 7:case 2:{i[e+1200>>2]=b;break}default:{}}d=i[e+1172>>2]|0;pe=i[e+1176>>2]|0;h=i[d+(b<<2)>>2]|0;c=b;do{c=c+1|0;if(c>>>0>=pe>>>0){break}}while((i[d+(c<<2)>>2]|0)!=(h|0));b=(c|0)==(pe|0)?0:c;if(!((b|0)!=0|l^1)){be=1;break}if(!l){Je=1108;break}else{d=de;h=he}}do{if((Je|0)==1054){Me=1;Je=1092}else if((Je|0)==1058){Me=1;Je=1092}else if((Je|0)==1108){c=(i[e+1196>>2]|0)+_|0;if(c>>>0>pe>>>0){be=1;break}i[e+1196>>2]=c;be=0}}while(0);if((Je|0)==1092){be=Me}if(!be){do{if(!(i[e+1404>>2]|0)){if((i[e+1196>>2]|0)==(i[e+1176>>2]|0)){break}else{le=0}f=vt;return le|0}c=i[e+1176>>2]|0;if(!c){break}l=i[e+1212>>2]|0;d=0;h=0;do{h=((i[l+(d*216|0)+196>>2]|0)!=0&1)+h|0;d=d+1|0}while((d|0)!=(c|0));if((h|0)==(c|0)){break}else{le=0}f=vt;return le|0}while(0);i[e+1180>>2]=1;Ye=e+16|0;ze=e+1188|0;We=e+1212|0;qe=e+1336|0;break e}d=i[e+1368>>2]|0;v=i[e+1192>>2]|0;c=i[e+1200>>2]|0;r:do{if(!c){c=d}else{l=0;do{do{c=c+-1|0;if(c>>>0<=d>>>0){break r}}while((i[(i[e+1212>>2]|0)+(c*216|0)+4>>2]|0)!=(v|0));l=l+1|0;pt=i[(i[e+16>>2]|0)+52>>2]|0}while(l>>>0<(pt>>>0>10?pt:10)>>>0)}}while(0);p=i[e+1212>>2]|0;while(1){if((i[p+(c*216|0)+4>>2]|0)!=(v|0)){le=3;Je=1494;break}l=p+(c*216|0)+196|0;d=i[l>>2]|0;if(!d){le=3;Je=1494;break}i[l>>2]=d+-1;l=i[e+1172>>2]|0;d=i[e+1176>>2]|0;h=i[l+(c<<2)>>2]|0;do{c=c+1|0;if(c>>>0>=d>>>0){break}}while((i[l+(c<<2)>>2]|0)!=(h|0));c=(c|0)==(d|0)?0:c;if(!c){le=3;Je=1494;break}}if((Je|0)==1494){f=vt;return le|0}}}}while(0);e=3;f=vt;return e|0}default:{e=0;f=vt;return e|0}}}}while(0);le=i[qe+4>>2]|0;fe=qe+8|0;c=i[fe>>2]|0;de=ee(c,le)|0;if(c){he=vt+680+120|0;pe=vt+680+112|0;ve=vt+680+104|0;ye=vt+680+96|0;ge=vt+680+88|0;me=vt+680+80|0;be=vt+680+72|0;we=vt+680+64|0;Te=vt+680+56|0;_e=vt+680+48|0;ke=vt+680+40|0;Ee=vt+680+32|0;Ce=vt+680+124|0;Se=vt+680+116|0;Ae=vt+680+108|0;Re=vt+680+92|0;Oe=vt+680+84|0;Me=vt+680+76|0;Ie=vt+680+60|0;Pe=vt+680+52|0;xe=vt+680+44|0;Le=vt+680+28|0;je=vt+680+20|0;Ue=vt+680+12|0;Ve=ee(le,-48)|0;He=vt+644+24|0;Ke=vt+644+12|0;se=0;ue=0;ce=i[We>>2]|0;while(1){d=i[ce+8>>2]|0;e:do{if((d|0)!=1){ae=ce+200|0;u=i[ae>>2]|0;do{if(!u){l=1}else{if((d|0)==2?(i[ce+4>>2]|0)!=(i[u+4>>2]|0):0){l=1;break}l=5}}while(0);ie=ce+204|0;re=i[ie>>2]|0;do{if(re){if((d|0)==2?(i[ce+4>>2]|0)!=(i[re+4>>2]|0):0){break}l=l|2}}while(0);oe=(l&2|0)==0;t:do{if(oe){i[vt+680+24>>2]=0;i[vt+680+16>>2]=0;i[vt+680+8>>2]=0;i[vt+680>>2]=0;y=0}else{do{if((i[ce>>2]|0)>>>0<=5){if((i[re>>2]|0)>>>0>5){break}do{if(!(o[ce+28>>1]|0)){if(o[re+48>>1]|0){d=2;break}if((i[ce+116>>2]|0)!=(i[re+124>>2]|0)){d=1;break}Je=(o[ce+132>>1]|0)-(o[re+172>>1]|0)|0;if((((Je|0)<0?0-Je|0:Je)|0)>3){d=1;break}d=(o[ce+134>>1]|0)-(o[re+174>>1]|0)|0;d=(((d|0)<0?0-d|0:d)|0)>3&1}else{d=2}}while(0);i[vt+680>>2]=d;do{if(!(o[ce+30>>1]|0)){if(o[re+50>>1]|0){h=2;break}if((i[ce+116>>2]|0)!=(i[re+124>>2]|0)){h=1;break}Je=(o[ce+136>>1]|0)-(o[re+176>>1]|0)|0;if((((Je|0)<0?0-Je|0:Je)|0)>3){h=1;break}h=(o[ce+138>>1]|0)-(o[re+178>>1]|0)|0;h=(((h|0)<0?0-h|0:h)|0)>3&1}else{h=2}}while(0);i[vt+680+8>>2]=h;do{if(!(o[ce+36>>1]|0)){if(o[re+56>>1]|0){p=2;break}if((i[ce+120>>2]|0)!=(i[re+128>>2]|0)){p=1;break}Je=(o[ce+148>>1]|0)-(o[re+188>>1]|0)|0;if((((Je|0)<0?0-Je|0:Je)|0)>3){p=1;break}p=(o[ce+150>>1]|0)-(o[re+190>>1]|0)|0;p=(((p|0)<0?0-p|0:p)|0)>3&1}else{p=2}}while(0);i[vt+680+16>>2]=p;do{if(!(o[ce+38>>1]|0)){if(o[re+58>>1]|0){v=2;break}if((i[ce+120>>2]|0)!=(i[re+128>>2]|0)){v=1;break}Je=(o[ce+152>>1]|0)-(o[re+192>>1]|0)|0;if((((Je|0)<0?0-Je|0:Je)|0)>3){v=1;break}v=(o[ce+154>>1]|0)-(o[re+194>>1]|0)|0;v=(((v|0)<0?0-v|0:v)|0)>3&1}else{v=2}}while(0);i[vt+680+24>>2]=v;y=(h|d|p|v|0)!=0&1;break t}}while(0);i[vt+680+24>>2]=4;i[vt+680+16>>2]=4;i[vt+680+8>>2]=4;i[vt+680>>2]=4;y=1}}while(0);ne=(l&4|0)==0;t:do{if(ne){i[vt+680+100>>2]=0;i[vt+680+68>>2]=0;i[vt+680+36>>2]=0;i[vt+680+4>>2]=0;ot=i[ce>>2]|0;at=y;Je=1194}else{v=i[ce>>2]|0;do{if(v>>>0<=5){if((i[u>>2]|0)>>>0>5){break}do{if(!(o[ce+28>>1]|0)){if(o[u+38>>1]|0){l=2;break}if((i[ce+116>>2]|0)!=(i[u+120>>2]|0)){l=1;break}it=(o[ce+132>>1]|0)-(o[u+152>>1]|0)|0;if((((it|0)<0?0-it|0:it)|0)>3){l=1;break}l=(o[ce+134>>1]|0)-(o[u+154>>1]|0)|0;l=(((l|0)<0?0-l|0:l)|0)>3&1}else{l=2}}while(0);i[vt+680+4>>2]=l;do{if(!(o[ce+32>>1]|0)){if(o[u+42>>1]|0){d=2;break}if((i[ce+116>>2]|0)!=(i[u+120>>2]|0)){d=1;break}it=(o[ce+140>>1]|0)-(o[u+160>>1]|0)|0;if((((it|0)<0?0-it|0:it)|0)>3){d=1;break}d=(o[ce+142>>1]|0)-(o[u+162>>1]|0)|0;d=(((d|0)<0?0-d|0:d)|0)>3&1}else{d=2}}while(0);i[vt+680+36>>2]=d;do{if(!(o[ce+44>>1]|0)){if(o[u+54>>1]|0){h=2;break}if((i[ce+124>>2]|0)!=(i[u+128>>2]|0)){h=1;break}it=(o[ce+164>>1]|0)-(o[u+184>>1]|0)|0;if((((it|0)<0?0-it|0:it)|0)>3){h=1;break}h=(o[ce+166>>1]|0)-(o[u+186>>1]|0)|0;h=(((h|0)<0?0-h|0:h)|0)>3&1}else{h=2}}while(0);i[vt+680+68>>2]=h;do{if(!(o[ce+48>>1]|0)){if(o[u+58>>1]|0){p=2;break}if((i[ce+124>>2]|0)!=(i[u+128>>2]|0)){p=1;break}it=(o[ce+172>>1]|0)-(o[u+192>>1]|0)|0;if((((it|0)<0?0-it|0:it)|0)>3){p=1;break}p=(o[ce+174>>1]|0)-(o[u+194>>1]|0)|0;p=(((p|0)<0?0-p|0:p)|0)>3&1}else{p=2}}while(0);i[vt+680+100>>2]=p;if(y){it=v;Ze=y;Je=1196;break t}it=v;Ze=(d|l|h|p|0)!=0&1;Je=1196;break t}}while(0);i[vt+680+100>>2]=4;i[vt+680+68>>2]=4;i[vt+680+36>>2]=4;i[vt+680+4>>2]=4;ot=v;at=1;Je=1194}}while(0);if((Je|0)==1194){Je=0;if(ot>>>0>5){i[he>>2]=3;i[pe>>2]=3;i[ve>>2]=3;i[ye>>2]=3;i[ge>>2]=3;i[me>>2]=3;i[be>>2]=3;i[we>>2]=3;i[Te>>2]=3;i[_e>>2]=3;i[ke>>2]=3;i[Ee>>2]=3;i[Ce>>2]=3;i[Se>>2]=3;i[Ae>>2]=3;i[Re>>2]=3;i[Oe>>2]=3;i[Me>>2]=3;i[Ie>>2]=3;i[Pe>>2]=3;i[xe>>2]=3;i[Le>>2]=3;i[je>>2]=3;i[Ue>>2]=3}else{it=ot;Ze=at;Je=1196}}do{if((Je|0)==1196){Je=0;t:do{if(it>>>0<2){l=ce+28|0;h=o[ce+32>>1]|0;if(!(h<<16>>16)){d=(o[l>>1]|0)!=0?2:0}else{d=2}i[Ee>>2]=d;p=o[ce+34>>1]|0;if(!(p<<16>>16)){D=(o[ce+30>>1]|0)!=0?2:0}else{D=2}i[ke>>2]=D;v=o[ce+40>>1]|0;if(!(v<<16>>16)){L=(o[ce+36>>1]|0)!=0?2:0}else{L=2}i[_e>>2]=L;y=o[ce+42>>1]|0;if(!(y<<16>>16)){x=(o[ce+38>>1]|0)!=0?2:0}else{x=2}i[Te>>2]=x;g=o[ce+44>>1]|0;P=(g|h)<<16>>16!=0?2:0;i[we>>2]=P;m=o[ce+46>>1]|0;I=(m|p)<<16>>16!=0?2:0;i[be>>2]=I;b=o[ce+52>>1]|0;t=(b|v)<<16>>16!=0?2:0;i[me>>2]=t;w=o[ce+54>>1]|0;M=(w|y)<<16>>16!=0?2:0;i[ge>>2]=M;T=o[ce+48>>1]|0;O=(T|g)<<16>>16!=0?2:0;i[ye>>2]=O;_=o[ce+50>>1]|0;R=(_|m)<<16>>16!=0?2:0;i[ve>>2]=R;r=o[ce+56>>1]|0;A=b<<16>>16!=0|r<<16>>16==0^1?2:0;i[pe>>2]=A;k=(o[ce+58>>1]|0)==0;S=w<<16>>16!=0|k^1?2:0;i[he>>2]=S;E=o[ce+30>>1]|0;if(!(E<<16>>16)){C=(o[l>>1]|0)!=0?2:0}else{C=2}i[Ue>>2]=C;$=o[ce+36>>1]|0;te=($|E)<<16>>16!=0?2:0;i[je>>2]=te;$=(o[ce+38>>1]|$)<<16>>16!=0?2:0;i[Le>>2]=$;E=h<<16>>16!=0|p<<16>>16==0^1?2:0;i[xe>>2]=E;p=p<<16>>16!=0|v<<16>>16==0^1?2:0;i[Pe>>2]=p;Z=v<<16>>16!=0|y<<16>>16==0^1?2:0;i[Ie>>2]=Z;g=(m|g)<<16>>16!=0?2:0;i[Me>>2]=g;v=(b|m)<<16>>16!=0?2:0;i[Oe>>2]=v;m=(w|b)<<16>>16!=0?2:0;i[Re>>2]=m;y=(_|T)<<16>>16!=0?2:0;i[Ae>>2]=y;h=r<<16>>16==0?_<<16>>16!=0?2:0:2;i[Se>>2]=h;l=k?r<<16>>16!=0?2:0:2;i[Ce>>2]=l;T=g;r=Z;k=p;_=I;w=P;b=x;g=L;p=D}else{switch(it|0){case 2:{E=ce+28|0;A=o[ce+32>>1]|0;if(!(A<<16>>16)){l=(o[E>>1]|0)!=0}else{l=1}N=l?2:0;i[Ee>>2]=N;S=o[ce+34>>1]|0;if(!(S<<16>>16)){l=(o[ce+30>>1]|0)!=0}else{l=1}p=l?2:0;i[ke>>2]=p;k=o[ce+40>>1]|0;if(!(k<<16>>16)){l=(o[ce+36>>1]|0)!=0}else{l=1}g=l?2:0;i[_e>>2]=g;m=o[ce+42>>1]|0;if(!(m<<16>>16)){D=(o[ce+38>>1]|0)!=0?2:0}else{D=2}i[Te>>2]=D;b=o[ce+48>>1]|0;if(!(b<<16>>16)){O=(o[ce+44>>1]|0)!=0?2:0}else{O=2}i[ye>>2]=O;w=o[ce+50>>1]|0;if(!(w<<16>>16)){R=(o[ce+46>>1]|0)!=0?2:0}else{R=2}i[ve>>2]=R;T=o[ce+56>>1]|0;if(!(T<<16>>16)){P=(o[ce+52>>1]|0)!=0?2:0}else{P=2}i[pe>>2]=P;_=(o[ce+58>>1]|0)==0;if(_){I=(o[ce+54>>1]|0)!=0?2:0}else{I=2}i[he>>2]=I;r=o[ce+44>>1]|0;l=o[ce+166>>1]|0;d=o[ce+142>>1]|0;do{if(!((r|A)<<16>>16)){te=(o[ce+164>>1]|0)-(o[ce+140>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){L=1;break}if((((l-d|0)<0?0-(l-d)|0:l-d|0)|0)>3){L=1;break}L=(i[ce+124>>2]|0)!=(i[ce+116>>2]|0)&1}else{L=2}}while(0);i[we>>2]=L;y=o[ce+46>>1]|0;l=o[ce+170>>1]|0;d=o[ce+146>>1]|0;do{if(!((y|S)<<16>>16)){te=(o[ce+168>>1]|0)-(o[ce+144>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){x=1;break}if((((l-d|0)<0?0-(l-d)|0:l-d|0)|0)>3){x=1;break}x=(i[ce+124>>2]|0)!=(i[ce+116>>2]|0)&1}else{x=2}}while(0);i[be>>2]=x;v=o[ce+52>>1]|0;l=o[ce+182>>1]|0;d=o[ce+158>>1]|0;do{if(!((v|k)<<16>>16)){te=(o[ce+180>>1]|0)-(o[ce+156>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){t=1;break}if((((l-d|0)<0?0-(l-d)|0:l-d|0)|0)>3){t=1;break}t=(i[ce+128>>2]|0)!=(i[ce+120>>2]|0)&1}else{t=2}}while(0);i[me>>2]=t;h=o[ce+54>>1]|0;l=o[ce+186>>1]|0;d=o[ce+162>>1]|0;do{if(!((h|m)<<16>>16)){te=(o[ce+184>>1]|0)-(o[ce+160>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){M=1;break}if((((l-d|0)<0?0-(l-d)|0:l-d|0)|0)>3){M=1;break}M=(i[ce+128>>2]|0)!=(i[ce+120>>2]|0)&1}else{M=2}}while(0);i[ge>>2]=M;l=o[ce+30>>1]|0;if(!(l<<16>>16)){C=(o[E>>1]|0)!=0?2:0}else{C=2}i[Ue>>2]=C;$=o[ce+36>>1]|0;te=($|l)<<16>>16!=0?2:0;i[je>>2]=te;$=(o[ce+38>>1]|$)<<16>>16!=0?2:0;i[Le>>2]=$;E=A<<16>>16!=0|S<<16>>16==0^1?2:0;i[xe>>2]=E;S=S<<16>>16!=0|k<<16>>16==0^1?2:0;i[Pe>>2]=S;k=k<<16>>16!=0|m<<16>>16==0^1?2:0;i[Ie>>2]=k;r=(y|r)<<16>>16!=0?2:0;i[Me>>2]=r;A=(v|y)<<16>>16!=0?2:0;i[Oe>>2]=A;m=(h|v)<<16>>16!=0?2:0;i[Re>>2]=m;y=b<<16>>16!=0|w<<16>>16==0^1?2:0;i[Ae>>2]=y;h=T<<16>>16==0?w<<16>>16!=0?2:0:2;i[Se>>2]=h;l=_?T<<16>>16!=0?2:0:2;i[Ce>>2]=l;v=A;T=r;r=k;k=S;S=I;A=P;_=x;w=L;b=D;d=N;break t}case 3:{l=ce+28|0;h=o[ce+32>>1]|0;if(!(h<<16>>16)){d=(o[l>>1]|0)!=0?2:0}else{d=2}i[Ee>>2]=d;w=o[ce+34>>1]|0;if(!(w<<16>>16)){j=(o[ce+30>>1]|0)!=0?2:0}else{j=2}i[ke>>2]=j;T=o[ce+40>>1]|0;if(!(T<<16>>16)){B=(o[ce+36>>1]|0)!=0?2:0}else{B=2}i[_e>>2]=B;p=o[ce+42>>1]|0;if(!(p<<16>>16)){F=(o[ce+38>>1]|0)!=0?2:0}else{F=2}i[Te>>2]=F;v=o[ce+44>>1]|0;G=(v|h)<<16>>16!=0?2:0;i[we>>2]=G;_=o[ce+46>>1]|0;N=(_|w)<<16>>16!=0?2:0;i[be>>2]=N;r=o[ce+52>>1]|0;t=(r|T)<<16>>16!=0?2:0;i[me>>2]=t;y=o[ce+54>>1]|0;M=(y|p)<<16>>16!=0?2:0;i[ge>>2]=M;g=o[ce+48>>1]|0;O=(g|v)<<16>>16!=0?2:0;i[ye>>2]=O;E=o[ce+50>>1]|0;R=_<<16>>16!=0|E<<16>>16==0^1?2:0;i[ve>>2]=R;I=o[ce+56>>1]|0;A=(I|r)<<16>>16!=0?2:0;i[pe>>2]=A;m=(o[ce+58>>1]|0)==0;S=y<<16>>16!=0|m^1?2:0;i[he>>2]=S;b=o[ce+30>>1]|0;if(!(b<<16>>16)){C=(o[l>>1]|0)!=0?2:0}else{C=2}i[Ue>>2]=C;te=o[ce+36>>1]|0;D=(o[ce+38>>1]|0)==0?te<<16>>16!=0?2:0:2;i[Le>>2]=D;L=h<<16>>16!=0|w<<16>>16==0^1?2:0;i[xe>>2]=L;x=T<<16>>16!=0|p<<16>>16==0^1?2:0;i[Ie>>2]=x;P=(_|v)<<16>>16!=0?2:0;i[Me>>2]=P;k=(y|r)<<16>>16!=0?2:0;i[Re>>2]=k;y=E<<16>>16==0?g<<16>>16!=0?2:0:2;i[Ae>>2]=y;l=m?I<<16>>16!=0?2:0:2;i[Ce>>2]=l;h=o[ce+150>>1]|0;p=o[ce+138>>1]|0;do{if(!((te|b)<<16>>16)){te=(o[ce+148>>1]|0)-(o[ce+136>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){b=1;break}if((((h-p|0)<0?0-(h-p)|0:h-p|0)|0)>3){b=1;break}b=(i[ce+120>>2]|0)!=(i[ce+116>>2]|0)&1}else{b=2}}while(0);i[je>>2]=b;h=o[ce+158>>1]|0;p=o[ce+146>>1]|0;do{if(!((T|w)<<16>>16)){te=(o[ce+156>>1]|0)-(o[ce+144>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){g=1;break}if((((h-p|0)<0?0-(h-p)|0:h-p|0)|0)>3){g=1;break}g=(i[ce+120>>2]|0)!=(i[ce+116>>2]|0)&1}else{g=2}}while(0);i[Pe>>2]=g;h=o[ce+182>>1]|0;p=o[ce+170>>1]|0;do{if(!((r|_)<<16>>16)){te=(o[ce+180>>1]|0)-(o[ce+168>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){v=1;break}if((((h-p|0)<0?0-(h-p)|0:h-p|0)|0)>3){v=1;break}v=(i[ce+128>>2]|0)!=(i[ce+124>>2]|0)&1}else{v=2}}while(0);i[Oe>>2]=v;h=o[ce+190>>1]|0;p=o[ce+178>>1]|0;do{if(!((I|E)<<16>>16)){te=(o[ce+188>>1]|0)-(o[ce+176>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){h=1;break}if((((h-p|0)<0?0-(h-p)|0:h-p|0)|0)>3){h=1;break}h=(i[ce+128>>2]|0)!=(i[ce+124>>2]|0)&1}else{h=2}}while(0);i[Se>>2]=h;m=k;T=P;r=x;k=g;E=L;$=D;te=b;_=N;w=G;b=F;g=B;p=j;break t}default:{E=o[ce+32>>1]|0;l=o[ce+28>>1]|0;I=o[ce+142>>1]|0;h=o[ce+134>>1]|0;do{if(!((l|E)<<16>>16)){te=(o[ce+140>>1]|0)-(o[ce+132>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){d=1;break}d=(((I-h|0)<0?0-(I-h)|0:I-h|0)|0)>3&1}else{d=2}}while(0);i[Ee>>2]=d;P=o[ce+34>>1]|0;v=o[ce+30>>1]|0;x=o[ce+146>>1]|0;y=o[ce+138>>1]|0;do{if(!((v|P)<<16>>16)){te=(o[ce+144>>1]|0)-(o[ce+136>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){p=1;break}p=(((x-y|0)<0?0-(x-y)|0:x-y|0)|0)>3&1}else{p=2}}while(0);i[ke>>2]=p;L=o[ce+40>>1]|0;m=o[ce+36>>1]|0;D=o[ce+158>>1]|0;T=o[ce+150>>1]|0;do{if(!((m|L)<<16>>16)){te=(o[ce+156>>1]|0)-(o[ce+148>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){g=1;break}g=(((D-T|0)<0?0-(D-T)|0:D-T|0)|0)>3&1}else{g=2}}while(0);i[_e>>2]=g;N=o[ce+42>>1]|0;r=o[ce+38>>1]|0;G=o[ce+162>>1]|0;k=o[ce+154>>1]|0;do{if(!((r|N)<<16>>16)){te=(o[ce+160>>1]|0)-(o[ce+152>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){b=1;break}b=(((G-k|0)<0?0-(G-k)|0:G-k|0)|0)>3&1}else{b=2}}while(0);i[Te>>2]=b;F=o[ce+44>>1]|0;B=o[ce+166>>1]|0;do{if(!((F|E)<<16>>16)){te=(o[ce+164>>1]|0)-(o[ce+140>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){w=1;break}if((((B-I|0)<0?0-(B-I)|0:B-I|0)|0)>3){w=1;break}w=(i[ce+124>>2]|0)!=(i[ce+116>>2]|0)&1}else{w=2}}while(0);i[we>>2]=w;j=o[ce+46>>1]|0;U=o[ce+170>>1]|0;do{if(!((j|P)<<16>>16)){te=(o[ce+168>>1]|0)-(o[ce+144>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){_=1;break}if((((U-x|0)<0?0-(U-x)|0:U-x|0)|0)>3){_=1;break}_=(i[ce+124>>2]|0)!=(i[ce+116>>2]|0)&1}else{_=2}}while(0);i[be>>2]=_;V=o[ce+52>>1]|0;s=o[ce+182>>1]|0;do{if(!((V|L)<<16>>16)){te=(o[ce+180>>1]|0)-(o[ce+156>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){t=1;break}if((((s-D|0)<0?0-(s-D)|0:s-D|0)|0)>3){t=1;break}t=(i[ce+128>>2]|0)!=(i[ce+120>>2]|0)&1}else{t=2}}while(0);i[me>>2]=t;H=o[ce+54>>1]|0;K=o[ce+186>>1]|0;do{if(!((H|N)<<16>>16)){te=(o[ce+184>>1]|0)-(o[ce+160>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){M=1;break}if((((K-G|0)<0?0-(K-G)|0:K-G|0)|0)>3){M=1;break}M=(i[ce+128>>2]|0)!=(i[ce+120>>2]|0)&1}else{M=2}}while(0);i[ge>>2]=M;W=o[ce+48>>1]|0;Y=o[ce+174>>1]|0;do{if(!((W|F)<<16>>16)){te=(o[ce+172>>1]|0)-(o[ce+164>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){O=1;break}O=(((Y-B|0)<0?0-(Y-B)|0:Y-B|0)|0)>3&1}else{O=2}}while(0);i[ye>>2]=O;q=o[ce+50>>1]|0;z=o[ce+178>>1]|0;do{if(!((q|j)<<16>>16)){te=(o[ce+176>>1]|0)-(o[ce+168>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){R=1;break}R=(((z-U|0)<0?0-(z-U)|0:z-U|0)|0)>3&1}else{R=2}}while(0);i[ve>>2]=R;J=o[ce+56>>1]|0;X=o[ce+190>>1]|0;do{if(!((J|V)<<16>>16)){te=(o[ce+188>>1]|0)-(o[ce+180>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){A=1;break}A=(((X-s|0)<0?0-(X-s)|0:X-s|0)|0)>3&1}else{A=2}}while(0);i[pe>>2]=A;Q=o[ce+58>>1]|0;Z=o[ce+194>>1]|0;do{if(!((Q|H)<<16>>16)){te=(o[ce+192>>1]|0)-(o[ce+184>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){S=1;break}S=(((Z-K|0)<0?0-(Z-K)|0:Z-K|0)|0)>3&1}else{S=2}}while(0);i[he>>2]=S;do{if(!((v|l)<<16>>16)){te=(o[ce+136>>1]|0)-(o[ce+132>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){C=1;break}C=(((y-h|0)<0?0-(y-h)|0:y-h|0)|0)>3&1}else{C=2}}while(0);i[Ue>>2]=C;do{if(!((m|v)<<16>>16)){te=(o[ce+148>>1]|0)-(o[ce+136>>1]|0)|0;if((((te|0)<0?0-te|0:te)|0)>3){te=1;break}if((((T-y|0)<0?0-(T-y)|0:T-y|0)|0)>3){te=1;break}te=(i[ce+120>>2]|0)!=(i[ce+116>>2]|0)&1}else{te=2}}while(0);i[je>>2]=te;do{if(!((r|m)<<16>>16)){$=(o[ce+152>>1]|0)-(o[ce+148>>1]|0)|0;if(((($|0)<0?0-$|0:$)|0)>3){$=1;break}$=(((k-T|0)<0?0-(k-T)|0:k-T|0)|0)>3&1}else{$=2}}while(0);i[Le>>2]=$;do{if(!((P|E)<<16>>16)){E=(o[ce+144>>1]|0)-(o[ce+140>>1]|0)|0;if((((E|0)<0?0-E|0:E)|0)>3){E=1;break}E=(((x-I|0)<0?0-(x-I)|0:x-I|0)|0)>3&1}else{E=2}}while(0);i[xe>>2]=E;do{if(!((L|P)<<16>>16)){P=(o[ce+156>>1]|0)-(o[ce+144>>1]|0)|0;if((((P|0)<0?0-P|0:P)|0)>3){k=1;break}if((((D-x|0)<0?0-(D-x)|0:D-x|0)|0)>3){k=1;break}k=(i[ce+120>>2]|0)!=(i[ce+116>>2]|0)&1}else{k=2}}while(0);i[Pe>>2]=k;do{if(!((N|L)<<16>>16)){N=(o[ce+160>>1]|0)-(o[ce+156>>1]|0)|0;if((((N|0)<0?0-N|0:N)|0)>3){r=1;break}r=(((G-D|0)<0?0-(G-D)|0:G-D|0)|0)>3&1}else{r=2}}while(0);i[Ie>>2]=r;do{if(!((j|F)<<16>>16)){F=(o[ce+168>>1]|0)-(o[ce+164>>1]|0)|0;if((((F|0)<0?0-F|0:F)|0)>3){T=1;break}T=(((U-B|0)<0?0-(U-B)|0:U-B|0)|0)>3&1}else{T=2}}while(0);i[Me>>2]=T;do{if(!((V|j)<<16>>16)){j=(o[ce+180>>1]|0)-(o[ce+168>>1]|0)|0;if((((j|0)<0?0-j|0:j)|0)>3){v=1;break}if((((s-U|0)<0?0-(s-U)|0:s-U|0)|0)>3){v=1;break}v=(i[ce+128>>2]|0)!=(i[ce+124>>2]|0)&1}else{v=2}}while(0);i[Oe>>2]=v;do{if(!((H|V)<<16>>16)){H=(o[ce+184>>1]|0)-(o[ce+180>>1]|0)|0;if((((H|0)<0?0-H|0:H)|0)>3){m=1;break}m=(((K-s|0)<0?0-(K-s)|0:K-s|0)|0)>3&1}else{m=2}}while(0);i[Re>>2]=m;do{if(!((q|W)<<16>>16)){W=(o[ce+176>>1]|0)-(o[ce+172>>1]|0)|0;if((((W|0)<0?0-W|0:W)|0)>3){y=1;break}y=(((z-Y|0)<0?0-(z-Y)|0:z-Y|0)|0)>3&1}else{y=2}}while(0);i[Ae>>2]=y;do{if(!((J|q)<<16>>16)){q=(o[ce+188>>1]|0)-(o[ce+176>>1]|0)|0;if((((q|0)<0?0-q|0:q)|0)>3){h=1;break}if((((X-z|0)<0?0-(X-z)|0:X-z|0)|0)>3){h=1;break}h=(i[ce+128>>2]|0)!=(i[ce+124>>2]|0)&1}else{h=2}}while(0);i[Se>>2]=h;do{if(!((Q|J)<<16>>16)){Q=(o[ce+192>>1]|0)-(o[ce+188>>1]|0)|0;if((((Q|0)<0?0-Q|0:Q)|0)>3){l=1;break}l=(((Z-X|0)<0?0-(Z-X)|0:Z-X|0)|0)>3&1}else{l=2}}while(0);i[Ce>>2]=l;break t}}}}while(0);if(Ze){break}if(!(h|l|y|m|v|T|r|k|E|$|te|C|S|A|R|O|M|t|_|w|b|g|p|d)){break e}}}while(0);D=ce+20|0;l=i[D>>2]|0;N=ce+12|0;d=i[N>>2]|0;h=(d+l|0)<0?0:(d+l|0)>51?51:d+l|0;G=ce+16|0;p=i[G>>2]|0;v=a[7574+h>>0]|0;i[vt+644+28>>2]=v;y=a[7626+((p+l|0)<0?0:(p+l|0)>51?51:p+l|0)>>0]|0;i[vt+644+32>>2]=y;i[vt+644+24>>2]=7678+(h*3|0);do{if(!oe){c=i[re+20>>2]|0;if((c|0)==(l|0)){i[vt+644+4>>2]=v;i[vt+644+8>>2]=y;i[vt+644>>2]=7678+(h*3|0);break}else{re=((l+1+c|0)>>>1)+d|0;re=(re|0)<0?0:(re|0)>51?51:re;te=((l+1+c|0)>>>1)+p|0;i[vt+644+4>>2]=a[7574+re>>0];i[vt+644+8>>2]=a[7626+((te|0)<0?0:(te|0)>51?51:te)>>0];i[vt+644>>2]=7678+(re*3|0);break}}}while(0);do{if(!ne){c=i[u+20>>2]|0;if((c|0)==(l|0)){i[vt+644+16>>2]=v;i[vt+644+20>>2]=y;i[Ke>>2]=7678+(h*3|0);break}else{u=((l+1+c|0)>>>1)+d|0;u=(u|0)<0?0:(u|0)>51?51:u;re=((l+1+c|0)>>>1)+p|0;i[vt+644+16>>2]=a[7574+u>>0];i[vt+644+20>>2]=a[7626+((re|0)<0?0:(re|0)>51?51:re)>>0];i[vt+644+12>>2]=7678+(u*3|0);break}}}while(0);L=ee(ue,le)|0;t=3;I=0;P=(i[qe>>2]|0)+((L<<8)+(se<<4))|0;x=vt+680|0;while(1){c=i[x+4>>2]|0;if(c){$e(P,c,Ke,le<<4)}c=i[x+12>>2]|0;if(c){$e(P+4|0,c,He,le<<4)}O=x+16|0;c=i[x+20>>2]|0;if(c){$e(P+8|0,c,He,le<<4)}M=x+24|0;c=i[x+28>>2]|0;if(c){$e(P+12|0,c,He,le<<4)}A=i[x>>2]|0;R=x+8|0;c=i[R>>2]|0;t:do{if((A|0)==(c|0)){if((A|0)!=(i[O>>2]|0)){Je=1399;break}if((A|0)!=(i[M>>2]|0)){Je=1399;break}if(!A){break}if(A>>>0<4){y=a[(i[vt+644+(I*12|0)>>2]|0)+(A+-1)>>0]|0;g=vt+644+(I*12|0)+4|0;m=vt+644+(I*12|0)+8|0;v=P;k=16;while(1){l=v+(0-(le<<4)<<1)|0;b=v+(0-(le<<4))|0;p=v+(le<<4)|0;w=n[p>>0]|0;T=a[b>>0]|0;_=a[v>>0]|0;do{if(((T-_|0)<0?0-(T-_)|0:T-_|0)>>>0<(i[g>>2]|0)>>>0){r=a[l>>0]|0;d=i[m>>2]|0;if(((r-T|0)<0?0-(r-T)|0:r-T|0)>>>0>=d>>>0){break}if((((w&255)-_|0)<0?0-((w&255)-_)|0:(w&255)-_|0)>>>0>=d>>>0){break}h=a[v+Ve>>0]|0;if(((h-T|0)<0?0-(h-T)|0:h-T|0)>>>0<d>>>0){n[l>>0]=((((T+1+_|0)>>>1)-(r<<1)+h>>1|0)<(0-y|0)?0-y|0:(((T+1+_|0)>>>1)-(r<<1)+h>>1|0)>(y|0)?y:((T+1+_|0)>>>1)-(r<<1)+h>>1)+r;d=i[m>>2]|0;l=y+1|0}else{l=y}h=a[v+(le<<5)>>0]|0;if(((h-_|0)<0?0-(h-_)|0:h-_|0)>>>0<d>>>0){n[p>>0]=((((T+1+_|0)>>>1)-((w&255)<<1)+h>>1|0)<(0-y|0)?0-y|0:(((T+1+_|0)>>>1)-((w&255)<<1)+h>>1|0)>(y|0)?y:((T+1+_|0)>>>1)-((w&255)<<1)+h>>1)+(w&255);l=l+1|0}re=0-l|0;re=(4-(w&255)+(_-T<<2)+r>>3|0)<(re|0)?re:(4-(w&255)+(_-T<<2)+r>>3|0)>(l|0)?l:4-(w&255)+(_-T<<2)+r>>3;u=n[6294+((_|512)-re)>>0]|0;n[b>>0]=n[6294+(re+(T|512))>>0]|0;n[v>>0]=u}}while(0);k=k+-1|0;if(!k){break t}else{v=v+1|0}}}p=vt+644+(I*12|0)+4|0;v=vt+644+(I*12|0)+8|0;h=P;S=16;while(1){y=h+(0-(le<<4)<<1)|0;g=h+(0-(le<<4))|0;m=h+(le<<4)|0;b=n[m>>0]|0;w=a[g>>0]|0;T=a[h>>0]|0;l=(w-T|0)<0?0-(w-T)|0:w-T|0;d=i[p>>2]|0;r:do{if(l>>>0<d>>>0){_=a[y>>0]|0;r=i[v>>2]|0;if(((_-w|0)<0?0-(_-w)|0:_-w|0)>>>0>=r>>>0){break}if((((b&255)-T|0)<0?0-((b&255)-T)|0:(b&255)-T|0)>>>0>=r>>>0){break}k=h+Ve|0;E=h+(le<<5)|0;C=n[E>>0]|0;do{if(l>>>0<((d>>>2)+2|0)>>>0){l=a[k>>0]|0;if(((l-w|0)<0?0-(l-w)|0:l-w|0)>>>0<r>>>0){n[g>>0]=((b&255)+4+(T+w+_<<1)+l|0)>>>3;n[y>>0]=(T+w+_+2+l|0)>>>2;n[k>>0]=(T+w+_+4+(l*3|0)+(a[h+(0-(le<<4)<<2)>>0]<<1)|0)>>>3}else{n[g>>0]=(w+2+(b&255)+(_<<1)|0)>>>2}if((((C&255)-T|0)<0?0-((C&255)-T)|0:(C&255)-T|0)>>>0>=(i[v>>2]|0)>>>0){break}n[h>>0]=((T+w+(b&255)<<1)+4+_+(C&255)|0)>>>3;n[m>>0]=(T+w+(b&255)+2+(C&255)|0)>>>2;n[E>>0]=(T+w+(b&255)+4+((C&255)*3|0)+(a[h+(le*48|0)>>0]<<1)|0)>>>3;break r}else{n[g>>0]=(w+2+(b&255)+(_<<1)|0)>>>2}}while(0);n[h>>0]=(T+2+((b&255)<<1)+_|0)>>>2}}while(0);S=S+-1|0;if(!S){break}else{h=h+1|0}}}else{Je=1399}}while(0);do{if((Je|0)==1399){Je=0;if(A){et(P,A,vt+644+(I*12|0)|0,le<<4);c=i[R>>2]|0}if(c){et(P+4|0,c,vt+644+(I*12|0)|0,le<<4)}c=i[O>>2]|0;if(c){et(P+8|0,c,vt+644+(I*12|0)|0,le<<4)}c=i[M>>2]|0;if(!c){break}et(P+12|0,c,vt+644+(I*12|0)|0,le<<4)}}while(0);if(!t){break}else{t=t+-1|0;I=2;P=P+(le<<6)|0;x=x+32|0}}m=i[ce+24>>2]|0;y=i[D>>2]|0;g=i[80+(((y+m|0)<0?0:(y+m|0)>51?51:y+m|0)<<2)>>2]|0;p=i[N>>2]|0;v=(p+g|0)<0?0:(p+g|0)>51?51:p+g|0;l=i[G>>2]|0;d=a[7574+v>>0]|0;i[vt+644+28>>2]=d;h=a[7626+((l+g|0)<0?0:(l+g|0)>51?51:l+g|0)>>0]|0;i[vt+644+32>>2]=h;i[vt+644+24>>2]=7678+(v*3|0);do{if(!oe){c=i[(i[ie>>2]|0)+20>>2]|0;if((c|0)==(y|0)){i[vt+644+4>>2]=d;i[vt+644+8>>2]=h;i[vt+644>>2]=7678+(v*3|0);break}else{oe=(g+1+(i[80+(((c+m|0)<0?0:(c+m|0)>51?51:c+m|0)<<2)>>2]|0)|0)>>>1;ie=(oe+p|0)<0?0:(oe+p|0)>51?51:oe+p|0;i[vt+644+4>>2]=a[7574+ie>>0];i[vt+644+8>>2]=a[7626+((oe+l|0)<0?0:(oe+l|0)>51?51:oe+l|0)>>0];i[vt+644>>2]=7678+(ie*3|0);break}}}while(0);do{if(!ne){c=i[(i[ae>>2]|0)+20>>2]|0;if((c|0)==(y|0)){i[vt+644+16>>2]=d;i[vt+644+20>>2]=h;i[Ke>>2]=7678+(v*3|0);break}else{ie=(g+1+(i[80+(((c+m|0)<0?0:(c+m|0)>51?51:c+m|0)<<2)>>2]|0)|0)>>>1;ae=(ie+p|0)<0?0:(ie+p|0)>51?51:ie+p|0;i[vt+644+16>>2]=a[7574+ae>>0];i[vt+644+20>>2]=a[7626+((ie+l|0)<0?0:(ie+l|0)>51?51:ie+l|0)>>0];i[vt+644+12>>2]=7678+(ae*3|0);break}}}while(0);y=i[qe>>2]|0;v=(se<<3)+(de<<8)+(L<<6)|0;p=y+(v+(de<<6))|0;v=y+v|0;y=0;g=vt+680|0;m=0;while(1){c=g+4|0;l=i[c>>2]|0;if(l){tt(v,l,Ke,le<<3);tt(p,i[c>>2]|0,Ke,le<<3)}c=g+36|0;l=i[c>>2]|0;if(l){tt(v+(le<<4)|0,l,Ke,le<<3);tt(p+(le<<4)|0,i[c>>2]|0,Ke,le<<3)}h=g+16|0;c=g+20|0;l=i[c>>2]|0;if(l){tt(v+4|0,l,He,le<<3);tt(p+4|0,i[c>>2]|0,He,le<<3)}c=g+52|0;l=i[c>>2]|0;if(l){tt(v+(le<<4|4)|0,l,He,le<<3);tt(p+(le<<4|4)|0,i[c>>2]|0,He,le<<3)}l=i[g>>2]|0;d=g+8|0;c=i[d>>2]|0;do{if((l|0)==(c|0)){if((l|0)!=(i[h>>2]|0)){Je=1430;break}if((l|0)!=(i[g+24>>2]|0)){Je=1430;break}if(!l){break}ae=vt+644+(y*12|0)|0;rt(v,l,ae,le<<3);rt(p,i[g>>2]|0,ae,le<<3)}else{Je=1430}}while(0);do{if((Je|0)==1430){Je=0;if(l){c=vt+644+(y*12|0)|0;nt(v,l,c,le<<3);nt(p,i[g>>2]|0,c,le<<3);c=i[d>>2]|0}if(c){ae=vt+644+(y*12|0)|0;nt(v+2|0,c,ae,le<<3);nt(p+2|0,i[d>>2]|0,ae,le<<3)}c=i[h>>2]|0;if(c){ae=vt+644+(y*12|0)|0;nt(v+4|0,c,ae,le<<3);nt(p+4|0,i[h>>2]|0,ae,le<<3)}c=g+24|0;l=i[c>>2]|0;if(!l){break}ae=vt+644+(y*12|0)|0;nt(v+6|0,l,ae,le<<3);nt(p+6|0,i[c>>2]|0,ae,le<<3)}}while(0);m=m+1|0;if((m|0)==2){break}else{p=p+(le<<5)|0;v=v+(le<<5)|0;y=2;g=g+64|0}}c=i[fe>>2]|0}}while(0);l=se+1|0;ue=((l|0)==(le|0)&1)+ue|0;if(ue>>>0>=c>>>0){break}else{se=(l|0)==(le|0)?0:l;ce=ce+216|0}}}i[e+1196>>2]=0;i[e+1192>>2]=0;d=i[e+1176>>2]|0;if(d){c=i[We>>2]|0;l=0;do{i[c+(l*216|0)+4>>2]=0;i[c+(l*216|0)+196>>2]=0;l=l+1|0}while((l|0)!=(d|0))}b=i[Ye>>2]|0;e:do{if(!(i[e+1652>>2]|0)){w=0}else{c=0;t:while(1){switch(i[e+1656+(c*20|0)>>2]|0){case 5:{w=1;break e}case 0:break t;default:{}}c=c+1|0}w=0}}while(0);e:do{switch(i[b+16>>2]|0){case 0:{if((i[e+1360>>2]|0)!=5){c=i[e+1284>>2]|0;l=i[e+1388>>2]|0;if(c>>>0>l>>>0?(ut=i[b+20>>2]|0,(c-l|0)>>>0>=ut>>>1>>>0):0){dt=e+1284|0;ht=l;pt=(i[e+1288>>2]|0)+ut|0}else{st=e+1284|0;ct=l;lt=c;Je=1454}}else{i[e+1288>>2]=0;i[e+1284>>2]=0;st=e+1284|0;ct=i[e+1388>>2]|0;lt=0;Je=1454}do{if((Je|0)==1454){if(ct>>>0>lt>>>0?(ft=i[b+20>>2]|0,(ct-lt|0)>>>0>ft>>>1>>>0):0){dt=st;ht=ct;pt=(i[e+1288>>2]|0)-ft|0;break}dt=st;ht=ct;pt=i[e+1288>>2]|0}}while(0);if(!(i[e+1364>>2]|0)){c=i[e+1392>>2]|0;c=pt+ht+((c|0)<0?c:0)|0;break e}i[e+1288>>2]=pt;c=i[e+1392>>2]|0;if(!w){i[dt>>2]=ht;c=pt+ht+((c|0)<0?c:0)|0;break e}else{i[e+1288>>2]=0;i[dt>>2]=(c|0)<0?0-c|0:0;c=0;break e}}case 1:{if((i[e+1360>>2]|0)!=5){c=i[e+1296>>2]|0;if((i[e+1292>>2]|0)>>>0>(i[e+1380>>2]|0)>>>0){c=(i[b+12>>2]|0)+c|0}}else{c=0}v=i[b+36>>2]|0;if(!v){l=0}else{l=(i[e+1380>>2]|0)+c|0}m=(i[e+1364>>2]|0)==0;p=(((l|0)!=0&m)<<31>>31)+l|0;if(p){g=((p+-1|0)>>>0)%(v>>>0)|0;y=((p+-1|0)>>>0)/(v>>>0)|0}else{g=0;y=0}if(!v){l=0}else{d=i[b+40>>2]|0;l=0;h=0;do{l=(i[d+(h<<2)>>2]|0)+l|0;h=h+1|0}while((h|0)!=(v|0))}if(p){l=ee(l,y)|0;d=i[b+40>>2]|0;h=0;do{l=(i[d+(h<<2)>>2]|0)+l|0;h=h+1|0}while(h>>>0<=g>>>0)}else{l=0}if(m){d=(i[b+28>>2]|0)+l|0}else{d=l}l=(i[e+1400>>2]|0)+(i[b+32>>2]|0)|0;if(!w){pt=((l|0)<0?l:0)+d+(i[e+1396>>2]|0)|0;i[e+1296>>2]=c;i[e+1292>>2]=i[e+1380>>2];c=pt;break e}else{i[e+1296>>2]=0;i[e+1292>>2]=0;c=0;break e}}default:{if((i[e+1360>>2]|0)==5){l=e+1296|0;d=0;c=0}else{h=i[e+1380>>2]|0;c=i[e+1296>>2]|0;if((i[e+1292>>2]|0)>>>0>h>>>0){c=(i[b+12>>2]|0)+c|0}l=e+1296|0;d=c;c=(((i[e+1364>>2]|0)==0)<<31>>31)+(c+h<<1)|0}if(!w){i[l>>2]=d;i[e+1292>>2]=i[e+1380>>2];break e}else{i[l>>2]=0;i[e+1292>>2]=0;c=0;break e}}}}while(0);do{if(i[ze>>2]|0){d=i[e+1380>>2]|0;h=i[e+1360>>2]|0;p=i[e+1208>>2]|0;v=i[e+1204>>2]|0;l=i[qe>>2]|0;if(!(i[e+1364>>2]|0)){Xe(e+1220|0,0,l,d,c,(h|0)==5&1,p,v);break}else{Xe(e+1220|0,e+1644|0,l,d,c,(h|0)==5&1,p,v);break}}}while(0);i[e+1184>>2]=0;i[ze>>2]=0;e=1;f=vt;return e|0}function it(e){e=e|0;var t=0;t=yt(e)|0;i[854]=t;i[853]=t;i[852]=e;i[855]=t+e;return t|0}function at(e){e=e|0;var t=0;var r=0;var n=0;var o=0;var a=0;var s=0;var u=0;var c=0;var l=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;k=f;f=f+16|0;i[852]=e;t=i[853]|0;i[848]=t;i[849]=e;r=e;e:while(1){e=i[858]|0;i[850]=e;v=i[856]|0;t:do{if(!((t|0)==0|(r|0)==0|(v|0)==0)?(T=i[v>>2]|0,(T|0)!=0):0){i[859]=0;i[k>>2]=0;i[v+3392>>2]=i[851];r:do{if((T|0)==2){e=0;_=5}else{n=e;e=1;n:while(1){d=ot(v+8|0,t,r,n,k)|0;p=i[k>>2]|0;t=t+p|0;h=r-p|0;h=(h|0)<0?0:h;i[859]=t;switch(d|0){case 5:{_=31;break t}case 2:{_=7;break r}case 1:{_=10;break n}case 4:{d=0;o:while(1){n=i[v+8+148+(d<<2)>>2]|0;i:do{if((n|0)!=0?(w=i[v+8+20+(i[n+4>>2]<<2)>>2]|0,(w|0)!=0):0){u=i[w+52>>2]|0;c=ee(i[w+56>>2]|0,u)|0;l=i[n+12>>2]|0;if(l>>>0<=1){r=0;break o}r=i[n+16>>2]|0;switch(r|0){case 0:{r=i[n+20>>2]|0;n=0;while(1){if((i[r+(n<<2)>>2]|0)>>>0>c>>>0){break i}n=n+1|0;if(n>>>0>=l>>>0){r=0;break o}}}case 2:{s=i[n+24>>2]|0;r=i[n+28>>2]|0;a=0;while(1){n=i[s+(a<<2)>>2]|0;o=i[r+(a<<2)>>2]|0;if(!(n>>>0<=o>>>0&o>>>0<c>>>0)){break i}a=a+1|0;if(((n>>>0)%(u>>>0)|0)>>>0>((o>>>0)%(u>>>0)|0)>>>0){break i}if(a>>>0>=(l+-1|0)>>>0){r=0;break o}}}default:{if((r+-3|0)>>>0<3){if((i[n+36>>2]|0)>>>0>c>>>0){break i}else{r=0;break o}}if((r|0)!=6){r=0;break o}if((i[n+40>>2]|0)>>>0<c>>>0){break i}else{r=0;break o}}}}}while(0);d=d+1|0;if(d>>>0>=256){r=1;break}}e=((r|0)==0|h|0)==0?-2:e;break}default:{}}if(!h){break}if((i[v>>2]|0)==2){e=p;_=5;break r}n=i[850]|0;r=h}if((_|0)==10){_=0;i[v+4>>2]=(i[v+4>>2]|0)+1;e=(h|0)==0?2:3}switch(e|0){case-2:case 1:break e;case 4:{_=34;break}case 3:{_=70;break}case 2:break;default:break t}}}while(0);if((_|0)==5){i[v>>2]=1;t=t+e|0;i[859]=t;_=7}do{if((_|0)==7){if((i[v+1288>>2]|0)!=0?(i[v+1244>>2]|0)!=(i[v+1248>>2]|0):0){i[v+1288>>2]=0;i[v>>2]=2;_=70;break}_=34}}while(0);if((_|0)==34){_=0;t=i[856]|0;if(!t){break}r=i[t+24>>2]|0;if(!r){break}if(!(i[t+20>>2]|0)){break}i[861]=i[r+52>>2]<<4;i[862]=i[r+56>>2]<<4;if(i[r+80>>2]|0){v=i[r+84>>2]|0;if(((v|0)!=0?(i[v+24>>2]|0)!=0:0)?(i[v+32>>2]|0)!=0:0){i[863]=1}else{i[863]=0}t=i[r+84>>2]|0;if(((t|0)!=0?(i[t+24>>2]|0)!=0:0)?(i[t+36>>2]|0)!=0:0){t=i[t+48>>2]|0}else{t=2}}else{i[863]=0;t=2}i[864]=t;if(!(i[r+60>>2]|0)){i[867]=0;i[868]=0;i[869]=0;i[870]=0;t=0}else{i[867]=1;i[868]=i[r+64>>2]<<1;i[869]=(i[r+52>>2]<<4)-((i[r+68>>2]|0)+(i[r+64>>2]|0)<<1);i[870]=i[r+72>>2]<<1;t=(i[r+56>>2]<<4)-((i[r+76>>2]|0)+(i[r+72>>2]|0)<<1)|0}i[871]=t;r:do{if(((i[r+80>>2]|0)!=0?(y=i[r+84>>2]|0,(y|0)!=0):0)?(i[y>>2]|0)!=0:0){t=i[y+4>>2]|0;do{switch(t|0){case 1:case 0:{e=t;break r}case 2:{e=11;t=12;break r}case 3:{e=11;t=10;break r}case 4:{e=11;t=16;break r}case 5:{e=33;t=40;break r}case 6:{e=11;t=24;break r}case 7:{e=11;t=20;break r}case 8:{e=11;t=32;break r}case 9:{e=33;t=80;break r}case 10:{e=11;t=18;break r}case 11:{e=11;t=15;break r}case 12:{e=33;t=64;break r}case 13:{e=99;t=160;break r}case 255:{t=i[y+8>>2]|0;v=i[y+12>>2]|0;e=(t|0)==0|(v|0)==0?0:v;t=(t|0)==0|(v|0)==0?0:t;break r}default:{e=0;t=0;break r}}}while(0)}else{e=1;t=1}}while(0);i[865]=t;i[866]=e;i[860]=i[r>>2];we();v=i[859]|0;i[849]=(i[848]|0)-v+(i[849]|0);i[848]=v;break}else if((_|0)==70){_=0;v=t;i[849]=(i[848]|0)-v+(i[849]|0);i[848]=v}i[849]=0;i[858]=(i[858]|0)+1;t=i[856]|0;if((((t|0)!=0?(g=i[t+1248>>2]|0,g>>>0<(i[t+1244>>2]|0)>>>0):0)?(m=i[t+1240>>2]|0,i[t+1248>>2]=g+1,(m+(g<<4)|0)!=0):0)?(b=i[m+(g<<4)>>2]|0,(b|0)!=0):0){n=m+(g<<4)+8|0;o=m+(g<<4)+12|0;e=m+(g<<4)+4|0;t=b;while(1){v=i[n>>2]|0;p=i[o>>2]|0;h=i[e>>2]|0;i[872]=t;i[873]=h;i[874]=p;i[875]=v;i[857]=(i[857]|0)+1;ce(t|0,i[861]|0,i[862]|0);t=i[856]|0;if(!t){break t}e=i[t+1248>>2]|0;if(e>>>0>=(i[t+1244>>2]|0)>>>0){break t}r=i[t+1240>>2]|0;i[t+1248>>2]=e+1;if(!(r+(e<<4)|0)){break t}t=i[r+(e<<4)>>2]|0;if(!t){break t}n=r+(e<<4)+8|0;o=r+(e<<4)+12|0;e=r+(e<<4)+4|0}}}else{_=31}}while(0);if((_|0)==31){_=0}e=i[849]|0;if(!e){_=84;break}t=i[848]|0;r=e}if((_|0)==84){f=k;return}i[849]=0;f=k}function st(){var e=0;var t=0;var r=0;var a=0;var s=0;var u=0;u=f;f=f+16|0;a=yt(3396)|0;if(a){bt(a+8|0,0,3388)|0;i[a+16>>2]=32;i[a+12>>2]=256;i[a+1340>>2]=1;r=yt(2112)|0;i[a+3384>>2]=r;if(r){i[a>>2]=1;i[a+4>>2]=0;i[856]=a;i[857]=1;i[858]=1;s=0;f=u;return s|0}r=0;do{t=a+8+20+(r<<2)|0;e=i[t>>2]|0;if(e){gt(i[e+40>>2]|0);i[(i[t>>2]|0)+40>>2]=0;gt(i[(i[t>>2]|0)+84>>2]|0);i[(i[t>>2]|0)+84>>2]=0;gt(i[t>>2]|0);i[t>>2]=0}r=r+1|0}while((r|0)!=32);r=0;do{e=a+8+148+(r<<2)|0;t=i[e>>2]|0;if(t){gt(i[t+20>>2]|0);i[(i[e>>2]|0)+20>>2]=0;gt(i[(i[e>>2]|0)+24>>2]|0);i[(i[e>>2]|0)+24>>2]=0;gt(i[(i[e>>2]|0)+28>>2]|0);i[(i[e>>2]|0)+28>>2]=0;gt(i[(i[e>>2]|0)+44>>2]|0);i[(i[e>>2]|0)+44>>2]=0;gt(i[e>>2]|0);i[e>>2]=0}r=r+1|0}while((r|0)!=256);gt(i[a+3384>>2]|0);i[a+3384>>2]=0;gt(i[a+1220>>2]|0);i[a+1220>>2]=0;gt(i[a+1180>>2]|0);i[a+1180>>2]=0;e=i[a+1228>>2]|0;if((e|0)!=0?(i[a+1256>>2]|0)!=-1:0){t=0;do{gt(i[e+(t*40|0)+4>>2]|0);e=i[a+1228>>2]|0;i[e+(t*40|0)+4>>2]=0;t=t+1|0}while(t>>>0<((i[a+1256>>2]|0)+1|0)>>>0)}gt(e);i[a+1228>>2]=0;gt(i[a+1232>>2]|0);i[a+1232>>2]=0;gt(i[a+1240>>2]|0);gt(a)}e=i[892]|0;do{if(!e){e=n[3626]|0;n[3626]=e+255|e;e=i[888]|0;if(!(e&8)){i[890]=0;i[889]=0;t=i[899]|0;i[895]=t;i[893]=t;e=t+(i[900]|0)|0;i[892]=e;break}i[888]=e|32;s=-1;f=u;return s|0}t=i[893]|0}while(0);if((e-t|0)>>>0<29){if((xt[i[3588>>2]&3](3552,7834,29)|0)>>>0<29){s=-1;f=u;return s|0}}else{e=7834;r=t+29|0;do{n[t>>0]=n[e>>0]|0;t=t+1|0;e=e+1|0}while((t|0)<(r|0));i[893]=(i[893]|0)+29}r=n[3627]|0;if(r<<24>>24!=10){e=i[893]|0;t=i[892]|0;if(e>>>0<t>>>0){i[893]=e+1;n[e>>0]=10;s=-1;f=u;return s|0}}else{t=i[892]|0}n[u>>0]=10;do{if(!t){r=o[1813]|0;n[3626]=((r&65535)<<24>>24)+255|(r&65535)<<24>>24;e=i[888]|0;if(!(e&8)){i[890]=0;i[889]=0;a=i[899]|0;i[895]=a;i[893]=a;t=a+(i[900]|0)|0;i[892]=t;e=(r&65535)>>>8&255;s=32;break}else{i[888]=e|32;break}}else{a=i[893]|0;e=r;s=32}}while(0);do{if((s|0)==32){if(a>>>0>=t>>>0|e<<24>>24==10){xt[i[3588>>2]&3](3552,u,1)|0;break}else{i[893]=a+1;n[a>>0]=10;break}}}while(0);s=-1;f=u;return s|0}function ut(){}function ct(){return 2}function lt(){return 3}function ft(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;var o=0;var a=0;var s=0;var u=0;var c=0;c=f;f=f+48|0;a=i[e+28>>2]|0;i[c+32>>2]=a;a=(i[e+20>>2]|0)-a|0;i[c+32+4>>2]=a;i[c+32+8>>2]=t;i[c+32+12>>2]=r;u=c+32|0;o=2;a=a+r|0;while(1){if(!(i[876]|0)){i[c+16>>2]=i[e+60>>2];i[c+16+4>>2]=u;i[c+16+8>>2]=o;t=ke(146,c+16|0)|0;if(t>>>0>4294963200){if(!(i[876]|0)){n=3548}else{n=i[(fe()|0)+60>>2]|0}i[n>>2]=0-t;t=-1}}else{ge(1,e|0);i[c>>2]=i[e+60>>2];i[c+4>>2]=u;i[c+8>>2]=o;t=ke(146,c|0)|0;if(t>>>0>4294963200){if(!(i[876]|0)){n=3548}else{n=i[(fe()|0)+60>>2]|0}i[n>>2]=0-t;t=-1}le(0)}if((a|0)==(t|0)){t=13;break}if((t|0)<0){t=15;break}a=a-t|0;n=i[u+4>>2]|0;if(t>>>0<=n>>>0){if((o|0)==2){i[e+28>>2]=(i[e+28>>2]|0)+t;s=n;n=u;o=2}else{s=n;n=u}}else{s=i[e+44>>2]|0;i[e+28>>2]=s;i[e+20>>2]=s;s=i[u+12>>2]|0;t=t-n|0;n=u+8|0;o=o+-1|0}i[n>>2]=(i[n>>2]|0)+t;i[n+4>>2]=s-t;u=n}if((t|0)==13){u=i[e+44>>2]|0;i[e+16>>2]=u+(i[e+48>>2]|0);i[e+28>>2]=u;i[e+20>>2]=u}else if((t|0)==15){i[e+16>>2]=0;i[e+28>>2]=0;i[e+20>>2]=0;i[e>>2]=i[e>>2]|32;if((o|0)==2){r=0}else{r=r-(i[u+4>>2]|0)|0}}f=c;return r|0}function dt(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;o=f;f=f+80|0;i[e+36>>2]=3;if((i[e>>2]&64|0)==0?(i[o>>2]=i[e+60>>2],i[o+4>>2]=21505,i[o+8>>2]=o+12,(be(54,o|0)|0)!=0):0){n[e+75>>0]=-1}r=ft(e,t,r)|0;f=o;return r|0}function ht(e){e=e|0;var t=0;var r=0;r=f;f=f+16|0;i[r>>2]=i[e+60>>2];e=de(6,r|0)|0;if(e>>>0>4294963200){if(!(i[876]|0)){t=3548}else{t=i[(fe()|0)+60>>2]|0}i[t>>2]=0-e;e=-1}f=r;return e|0}function pt(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;var o=0;o=f;f=f+32|0;i[o>>2]=i[e+60>>2];i[o+4>>2]=0;i[o+8>>2]=t;i[o+12>>2]=o+20;i[o+16>>2]=r;t=Te(140,o|0)|0;if(t>>>0<=4294963200){if((t|0)<0){n=7}else{e=i[o+20>>2]|0}}else{if(!(i[876]|0)){e=3548}else{e=i[(fe()|0)+60>>2]|0}i[e>>2]=0-t;n=7}if((n|0)==7){i[o+20>>2]=-1;e=-1}f=o;return e|0}function vt(e){e=e|0}function yt(e){e=e|0;var t=0;var r=0;var n=0;var o=0;var a=0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;var E=0;var C=0;var S=0;var A=0;var R=0;var O=0;var M=0;var I=0;do{if(e>>>0<245){h=e>>>0<11?16:e+11&-8;a=i[916]|0;if(a>>>(h>>>3)&3){e=(a>>>(h>>>3)&1^1)+(h>>>3)<<1;t=i[3704+(e+2<<2)>>2]|0;r=i[t+8>>2]|0;do{if((3704+(e<<2)|0)!=(r|0)){if(r>>>0<(i[920]|0)>>>0){pe()}if((i[r+12>>2]|0)==(t|0)){i[r+12>>2]=3704+(e<<2);i[3704+(e+2<<2)>>2]=r;break}else{pe()}}else{i[916]=a&~(1<<(a>>>(h>>>3)&1^1)+(h>>>3))}}while(0);I=(a>>>(h>>>3)&1^1)+(h>>>3)<<3;i[t+4>>2]=I|3;i[t+(I|4)>>2]=i[t+(I|4)>>2]|1;I=t+8|0;return I|0}t=i[918]|0;if(h>>>0>t>>>0){if(a>>>(h>>>3)){e=a>>>(h>>>3)<<(h>>>3)&(2<<(h>>>3)|0-(2<<(h>>>3)));o=((e&0-e)+-1|0)>>>(((e&0-e)+-1|0)>>>12&16);n=o>>>(o>>>5&8)>>>(o>>>(o>>>5&8)>>>2&4);n=(o>>>5&8|((e&0-e)+-1|0)>>>12&16|o>>>(o>>>5&8)>>>2&4|n>>>1&2|n>>>(n>>>1&2)>>>1&1)+(n>>>(n>>>1&2)>>>(n>>>(n>>>1&2)>>>1&1))|0;o=i[3704+((n<<1)+2<<2)>>2]|0;e=i[o+8>>2]|0;do{if((3704+(n<<1<<2)|0)!=(e|0)){if(e>>>0<(i[920]|0)>>>0){pe()}if((i[e+12>>2]|0)==(o|0)){i[e+12>>2]=3704+(n<<1<<2);i[3704+((n<<1)+2<<2)>>2]=e;s=i[918]|0;break}else{pe()}}else{i[916]=a&~(1<<n);s=t}}while(0);i[o+4>>2]=h|3;i[o+(h|4)>>2]=(n<<3)-h|1;i[o+(n<<3)>>2]=(n<<3)-h;if(s){r=i[921]|0;t=s>>>3;e=i[916]|0;if(e&1<<t){e=i[3704+((t<<1)+2<<2)>>2]|0;if(e>>>0<(i[920]|0)>>>0){pe()}else{u=3704+((t<<1)+2<<2)|0;c=e}}else{i[916]=e|1<<t;u=3704+((t<<1)+2<<2)|0;c=3704+(t<<1<<2)|0}i[u>>2]=r;i[c+12>>2]=r;i[r+8>>2]=c;i[r+12>>2]=3704+(t<<1<<2)}i[918]=(n<<3)-h;i[921]=o+h;I=o+8|0;return I|0}e=i[917]|0;if(e){u=((e&0-e)+-1|0)>>>(((e&0-e)+-1|0)>>>12&16);c=u>>>(u>>>5&8)>>>(u>>>(u>>>5&8)>>>2&4);c=i[3968+((u>>>5&8|((e&0-e)+-1|0)>>>12&16|u>>>(u>>>5&8)>>>2&4|c>>>1&2|c>>>(c>>>1&2)>>>1&1)+(c>>>(c>>>1&2)>>>(c>>>(c>>>1&2)>>>1&1))<<2)>>2]|0;u=(i[c+4>>2]&-8)-h|0;t=c;while(1){e=i[t+16>>2]|0;if(!e){e=i[t+20>>2]|0;if(!e){break}}t=(i[e+4>>2]&-8)-h|0;I=t>>>0<u>>>0;u=I?t:u;t=e;c=I?e:c}o=i[920]|0;if(c>>>0<o>>>0){pe()}s=c+h|0;if(c>>>0>=s>>>0){pe()}a=i[c+24>>2]|0;e=i[c+12>>2]|0;do{if((e|0)==(c|0)){t=c+20|0;e=i[t>>2]|0;if(!e){t=c+16|0;e=i[t>>2]|0;if(!e){l=0;break}}while(1){r=e+20|0;n=i[r>>2]|0;if(n){e=n;t=r;continue}r=e+16|0;n=i[r>>2]|0;if(!n){break}else{e=n;t=r}}if(t>>>0<o>>>0){pe()}else{i[t>>2]=0;l=e;break}}else{t=i[c+8>>2]|0;if(t>>>0<o>>>0){pe()}if((i[t+12>>2]|0)!=(c|0)){pe()}if((i[e+8>>2]|0)==(c|0)){i[t+12>>2]=e;i[e+8>>2]=t;l=e;break}else{pe()}}}while(0);do{if(a){e=i[c+28>>2]|0;if((c|0)==(i[3968+(e<<2)>>2]|0)){i[3968+(e<<2)>>2]=l;if(!l){i[917]=i[917]&~(1<<e);break}}else{if(a>>>0<(i[920]|0)>>>0){pe()}if((i[a+16>>2]|0)==(c|0)){i[a+16>>2]=l}else{i[a+20>>2]=l}if(!l){break}}t=i[920]|0;if(l>>>0<t>>>0){pe()}i[l+24>>2]=a;e=i[c+16>>2]|0;do{if(e){if(e>>>0<t>>>0){pe()}else{i[l+16>>2]=e;i[e+24>>2]=l;break}}}while(0);e=i[c+20>>2]|0;if(e){if(e>>>0<(i[920]|0)>>>0){pe()}else{i[l+20>>2]=e;i[e+24>>2]=l;break}}}}while(0);if(u>>>0<16){I=u+h|0;i[c+4>>2]=I|3;I=c+(I+4)|0;i[I>>2]=i[I>>2]|1}else{i[c+4>>2]=h|3;i[c+(h|4)>>2]=u|1;i[c+(u+h)>>2]=u;t=i[918]|0;if(t){r=i[921]|0;e=i[916]|0;if(e&1<<(t>>>3)){e=i[3704+((t>>>3<<1)+2<<2)>>2]|0;if(e>>>0<(i[920]|0)>>>0){pe()}else{f=3704+((t>>>3<<1)+2<<2)|0;d=e}}else{i[916]=e|1<<(t>>>3);f=3704+((t>>>3<<1)+2<<2)|0;d=3704+(t>>>3<<1<<2)|0}i[f>>2]=r;i[d+12>>2]=r;i[r+8>>2]=d;i[r+12>>2]=3704+(t>>>3<<1<<2)}i[918]=u;i[921]=s}I=c+8|0;return I|0}u=h}else{u=h}}else if(e>>>0<=4294967231){l=e+11&-8;u=i[917]|0;if(u){if((e+11|0)>>>8){if(l>>>0>16777215){s=31}else{s=(e+11|0)>>>8<<((((e+11|0)>>>8)+1048320|0)>>>16&8);s=14-((s+520192|0)>>>16&4|(((e+11|0)>>>8)+1048320|0)>>>16&8|((s<<((s+520192|0)>>>16&4))+245760|0)>>>16&2)+(s<<((s+520192|0)>>>16&4)<<(((s<<((s+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0;s=l>>>(s+7|0)&1|s<<1}}else{s=0}e=i[3968+(s<<2)>>2]|0;e:do{if(!e){t=0-l|0;r=0;e=0;_=86}else{t=0-l|0;r=0;o=l<<((s|0)==31?0:25-(s>>>1)|0);a=e;e=0;while(1){n=i[a+4>>2]&-8;if((n-l|0)>>>0<t>>>0){if((n|0)==(l|0)){t=n-l|0;n=a;e=a;_=90;break e}else{t=n-l|0;e=a}}_=i[a+20>>2]|0;a=i[a+16+(o>>>31<<2)>>2]|0;r=(_|0)==0|(_|0)==(a|0)?r:_;if(!a){_=86;break}else{o=o<<1}}}}while(0);if((_|0)==86){if((r|0)==0&(e|0)==0){e=2<<s;if(!((e|0-e)&u)){u=l;break}d=((e|0-e)&u&0-((e|0-e)&u))+-1|0;e=d>>>(d>>>12&16)>>>(d>>>(d>>>12&16)>>>5&8);r=e>>>(e>>>2&4)>>>(e>>>(e>>>2&4)>>>1&2);r=i[3968+((d>>>(d>>>12&16)>>>5&8|d>>>12&16|e>>>2&4|e>>>(e>>>2&4)>>>1&2|r>>>1&1)+(r>>>(r>>>1&1))<<2)>>2]|0;e=0}if(!r){u=t;c=e}else{n=r;_=90}}if((_|0)==90){while(1){_=0;d=(i[n+4>>2]&-8)-l|0;r=d>>>0<t>>>0;t=r?d:t;e=r?n:e;r=i[n+16>>2]|0;if(r){n=r;_=90;continue}n=i[n+20>>2]|0;if(!n){u=t;c=e;break}else{_=90}}}if((c|0)!=0?u>>>0<((i[918]|0)-l|0)>>>0:0){o=i[920]|0;if(c>>>0<o>>>0){pe()}s=c+l|0;if(c>>>0>=s>>>0){pe()}a=i[c+24>>2]|0;e=i[c+12>>2]|0;do{if((e|0)==(c|0)){t=c+20|0;e=i[t>>2]|0;if(!e){t=c+16|0;e=i[t>>2]|0;if(!e){h=0;break}}while(1){r=e+20|0;n=i[r>>2]|0;if(n){e=n;t=r;continue}r=e+16|0;n=i[r>>2]|0;if(!n){break}else{e=n;t=r}}if(t>>>0<o>>>0){pe()}else{i[t>>2]=0;h=e;break}}else{t=i[c+8>>2]|0;if(t>>>0<o>>>0){pe()}if((i[t+12>>2]|0)!=(c|0)){pe()}if((i[e+8>>2]|0)==(c|0)){i[t+12>>2]=e;i[e+8>>2]=t;h=e;break}else{pe()}}}while(0);do{if(a){e=i[c+28>>2]|0;if((c|0)==(i[3968+(e<<2)>>2]|0)){i[3968+(e<<2)>>2]=h;if(!h){i[917]=i[917]&~(1<<e);break}}else{if(a>>>0<(i[920]|0)>>>0){pe()}if((i[a+16>>2]|0)==(c|0)){i[a+16>>2]=h}else{i[a+20>>2]=h}if(!h){break}}t=i[920]|0;if(h>>>0<t>>>0){pe()}i[h+24>>2]=a;e=i[c+16>>2]|0;do{if(e){if(e>>>0<t>>>0){pe()}else{i[h+16>>2]=e;i[e+24>>2]=h;break}}}while(0);e=i[c+20>>2]|0;if(e){if(e>>>0<(i[920]|0)>>>0){pe()}else{i[h+20>>2]=e;i[e+24>>2]=h;break}}}}while(0);e:do{if(u>>>0>=16){i[c+4>>2]=l|3;i[c+(l|4)>>2]=u|1;i[c+(u+l)>>2]=u;t=u>>>3;if(u>>>0<256){e=i[916]|0;if(e&1<<t){e=i[3704+((t<<1)+2<<2)>>2]|0;if(e>>>0<(i[920]|0)>>>0){pe()}else{v=3704+((t<<1)+2<<2)|0;y=e}}else{i[916]=e|1<<t;v=3704+((t<<1)+2<<2)|0;y=3704+(t<<1<<2)|0}i[v>>2]=s;i[y+12>>2]=s;i[c+(l+8)>>2]=y;i[c+(l+12)>>2]=3704+(t<<1<<2);break}e=u>>>8;if(e){if(u>>>0>16777215){n=31}else{n=e<<((e+1048320|0)>>>16&8)<<(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4);n=14-(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4|(e+1048320|0)>>>16&8|(n+245760|0)>>>16&2)+(n<<((n+245760|0)>>>16&2)>>>15)|0;n=u>>>(n+7|0)&1|n<<1}}else{n=0}e=3968+(n<<2)|0;i[c+(l+28)>>2]=n;i[c+(l+20)>>2]=0;i[c+(l+16)>>2]=0;t=i[917]|0;r=1<<n;if(!(t&r)){i[917]=t|r;i[e>>2]=s;i[c+(l+24)>>2]=e;i[c+(l+12)>>2]=s;i[c+(l+8)>>2]=s;break}e=i[e>>2]|0;t:do{if((i[e+4>>2]&-8|0)!=(u|0)){n=u<<((n|0)==31?0:25-(n>>>1)|0);while(1){r=e+16+(n>>>31<<2)|0;t=i[r>>2]|0;if(!t){break}if((i[t+4>>2]&-8|0)==(u|0)){m=t;break t}else{n=n<<1;e=t}}if(r>>>0<(i[920]|0)>>>0){pe()}else{i[r>>2]=s;i[c+(l+24)>>2]=e;i[c+(l+12)>>2]=s;i[c+(l+8)>>2]=s;break e}}else{m=e}}while(0);e=m+8|0;t=i[e>>2]|0;I=i[920]|0;if(t>>>0>=I>>>0&m>>>0>=I>>>0){i[t+12>>2]=s;i[e>>2]=s;i[c+(l+8)>>2]=t;i[c+(l+12)>>2]=m;i[c+(l+24)>>2]=0;break}else{pe()}}else{I=u+l|0;i[c+4>>2]=I|3;I=c+(I+4)|0;i[I>>2]=i[I>>2]|1}}while(0);I=c+8|0;return I|0}u=l}else{u=l}}else{u=-1}}while(0);r=i[918]|0;if(r>>>0>=u>>>0){e=r-u|0;t=i[921]|0;if(e>>>0>15){i[921]=t+u;i[918]=e;i[t+(u+4)>>2]=e|1;i[t+r>>2]=e;i[t+4>>2]=u|3}else{i[918]=0;i[921]=0;i[t+4>>2]=r|3;i[t+(r+4)>>2]=i[t+(r+4)>>2]|1}I=t+8|0;return I|0}e=i[919]|0;if(e>>>0>u>>>0){M=e-u|0;i[919]=M;I=i[922]|0;i[922]=I+u;i[I+(u+4)>>2]=M|1;i[I+4>>2]=u|3;I=I+8|0;return I|0}do{if(!(i[1034]|0)){e=_e(30)|0;if(!(e+-1&e)){i[1036]=e;i[1035]=e;i[1037]=-1;i[1038]=-1;i[1039]=0;i[1027]=0;i[1034]=(ye(0)|0)&-16^1431655768;break}else{pe()}}}while(0);o=u+48|0;n=i[1036]|0;a=u+47|0;s=n+a&0-n;if(s>>>0<=u>>>0){I=0;return I|0}e=i[1026]|0;if((e|0)!=0?(m=i[1024]|0,(m+s|0)>>>0<=m>>>0|(m+s|0)>>>0>e>>>0):0){I=0;return I|0}e:do{if(!(i[1027]&4)){r=i[922]|0;t:do{if(r){e=4112;while(1){t=i[e>>2]|0;if(t>>>0<=r>>>0?(p=e+4|0,(t+(i[p>>2]|0)|0)>>>0>r>>>0):0){break}e=i[e+8>>2]|0;if(!e){_=174;break t}}t=n+a-(i[919]|0)&0-n;if(t>>>0<2147483647){r=ve(t|0)|0;m=(r|0)==((i[e>>2]|0)+(i[p>>2]|0)|0);e=m?t:0;if(m){if((r|0)!=(-1|0)){y=r;v=e;_=194;break e}}else{_=184}}else{e=0}}else{_=174}}while(0);do{if((_|0)==174){n=ve(0)|0;if((n|0)!=(-1|0)){e=i[1035]|0;if(!(e+-1&n)){t=s}else{t=s-n+(e+-1+n&0-e)|0}e=i[1024]|0;r=e+t|0;if(t>>>0>u>>>0&t>>>0<2147483647){m=i[1026]|0;if((m|0)!=0?r>>>0<=e>>>0|r>>>0>m>>>0:0){e=0;break}r=ve(t|0)|0;e=(r|0)==(n|0)?t:0;if((r|0)==(n|0)){y=n;v=e;_=194;break e}else{_=184}}else{e=0}}else{e=0}}}while(0);t:do{if((_|0)==184){n=0-t|0;do{if(o>>>0>t>>>0&(t>>>0<2147483647&(r|0)!=(-1|0))?(g=i[1036]|0,g=a-t+g&0-g,g>>>0<2147483647):0){if((ve(g|0)|0)==(-1|0)){ve(n|0)|0;break t}else{t=g+t|0;break}}}while(0);if((r|0)!=(-1|0)){y=r;v=t;_=194;break e}}}while(0);i[1027]=i[1027]|4;_=191}else{e=0;_=191}}while(0);if((((_|0)==191?s>>>0<2147483647:0)?(b=ve(s|0)|0,w=ve(0)|0,b>>>0<w>>>0&((b|0)!=(-1|0)&(w|0)!=(-1|0))):0)?(T=(w-b|0)>>>0>(u+40|0)>>>0,T):0){y=b;v=T?w-b|0:e;_=194}if((_|0)==194){e=(i[1024]|0)+v|0;i[1024]=e;if(e>>>0>(i[1025]|0)>>>0){i[1025]=e}a=i[922]|0;e:do{if(a){o=4112;while(1){e=i[o>>2]|0;t=o+4|0;r=i[t>>2]|0;if((y|0)==(e+r|0)){_=204;break}n=i[o+8>>2]|0;if(!n){break}else{o=n}}if(((_|0)==204?(i[o+12>>2]&8|0)==0:0)?a>>>0<y>>>0&a>>>0>=e>>>0:0){i[t>>2]=r+v;I=(i[919]|0)+v|0;M=(a+8&7|0)==0?0:0-(a+8)&7;i[922]=a+M;i[919]=I-M;i[a+(M+4)>>2]=I-M|1;i[a+(I+4)>>2]=40;i[923]=i[1038];break}e=i[920]|0;if(y>>>0<e>>>0){i[920]=y;f=y}else{f=e}t=y+v|0;e=4112;while(1){if((i[e>>2]|0)==(t|0)){_=212;break}e=i[e+8>>2]|0;if(!e){e=4112;break}}if((_|0)==212){if(!(i[e+12>>2]&8)){i[e>>2]=y;h=e+4|0;i[h>>2]=(i[h>>2]|0)+v;h=y+8|0;h=(h&7|0)==0?0:0-h&7;c=y+(v+8)|0;c=(c&7|0)==0?0:0-c&7;e=y+(c+v)|0;d=h+u|0;p=y+d|0;l=e-(y+h)-u|0;i[y+(h+4)>>2]=u|3;t:do{if((e|0)!=(a|0)){if((e|0)==(i[921]|0)){I=(i[918]|0)+l|0;i[918]=I;i[921]=p;i[y+(d+4)>>2]=I|1;i[y+(I+d)>>2]=I;break}s=v+4|0;u=i[y+(c+s)>>2]|0;if((u&3|0)==1){r:do{if(u>>>0>=256){a=i[y+((c|24)+v)>>2]|0;t=i[y+(v+12+c)>>2]|0;do{if((t|0)==(e|0)){r=y+((c|16)+s)|0;t=i[r>>2]|0;if(!t){r=y+((c|16)+v)|0;t=i[r>>2]|0;if(!t){R=0;break}}while(1){n=t+20|0;o=i[n>>2]|0;if(o){t=o;r=n;continue}n=t+16|0;o=i[n>>2]|0;if(!o){break}else{t=o;r=n}}if(r>>>0<f>>>0){pe()}else{i[r>>2]=0;R=t;break}}else{r=i[y+((c|8)+v)>>2]|0;if(r>>>0<f>>>0){pe()}if((i[r+12>>2]|0)!=(e|0)){pe()}if((i[t+8>>2]|0)==(e|0)){i[r+12>>2]=t;i[t+8>>2]=r;R=t;break}else{pe()}}}while(0);if(!a){break}t=i[y+(v+28+c)>>2]|0;do{if((e|0)!=(i[3968+(t<<2)>>2]|0)){if(a>>>0<(i[920]|0)>>>0){pe()}if((i[a+16>>2]|0)==(e|0)){i[a+16>>2]=R}else{i[a+20>>2]=R}if(!R){break r}}else{i[3968+(t<<2)>>2]=R;if(R){break}i[917]=i[917]&~(1<<t);break r}}while(0);t=i[920]|0;if(R>>>0<t>>>0){pe()}i[R+24>>2]=a;e=i[y+((c|16)+v)>>2]|0;do{if(e){if(e>>>0<t>>>0){pe()}else{i[R+16>>2]=e;i[e+24>>2]=R;break}}}while(0);e=i[y+((c|16)+s)>>2]|0;if(!e){break}if(e>>>0<(i[920]|0)>>>0){pe()}else{i[R+20>>2]=e;i[e+24>>2]=R;break}}else{t=i[y+((c|8)+v)>>2]|0;r=i[y+(v+12+c)>>2]|0;do{if((t|0)!=(3704+(u>>>3<<1<<2)|0)){if(t>>>0<f>>>0){pe()}if((i[t+12>>2]|0)==(e|0)){break}pe()}}while(0);if((r|0)==(t|0)){i[916]=i[916]&~(1<<(u>>>3));break}do{if((r|0)==(3704+(u>>>3<<1<<2)|0)){S=r+8|0}else{if(r>>>0<f>>>0){pe()}if((i[r+8>>2]|0)==(e|0)){S=r+8|0;break}pe()}}while(0);i[t+12>>2]=r;i[S>>2]=t}}while(0);e=y+((u&-8|c)+v)|0;o=(u&-8)+l|0}else{o=l}t=e+4|0;i[t>>2]=i[t>>2]&-2;i[y+(d+4)>>2]=o|1;i[y+(o+d)>>2]=o;t=o>>>3;if(o>>>0<256){e=i[916]|0;do{if(!(e&1<<t)){i[916]=e|1<<t;O=3704+((t<<1)+2<<2)|0;M=3704+(t<<1<<2)|0}else{e=i[3704+((t<<1)+2<<2)>>2]|0;if(e>>>0>=(i[920]|0)>>>0){O=3704+((t<<1)+2<<2)|0;M=e;break}pe()}}while(0);i[O>>2]=p;i[M+12>>2]=p;i[y+(d+8)>>2]=M;i[y+(d+12)>>2]=3704+(t<<1<<2);break}e=o>>>8;do{if(!e){n=0}else{if(o>>>0>16777215){n=31;break}n=e<<((e+1048320|0)>>>16&8)<<(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4);n=14-(((e<<((e+1048320|0)>>>16&8))+520192|0)>>>16&4|(e+1048320|0)>>>16&8|(n+245760|0)>>>16&2)+(n<<((n+245760|0)>>>16&2)>>>15)|0;n=o>>>(n+7|0)&1|n<<1}}while(0);e=3968+(n<<2)|0;i[y+(d+28)>>2]=n;i[y+(d+20)>>2]=0;i[y+(d+16)>>2]=0;t=i[917]|0;r=1<<n;if(!(t&r)){i[917]=t|r;i[e>>2]=p;i[y+(d+24)>>2]=e;i[y+(d+12)>>2]=p;i[y+(d+8)>>2]=p;break}e=i[e>>2]|0;r:do{if((i[e+4>>2]&-8|0)!=(o|0)){n=o<<((n|0)==31?0:25-(n>>>1)|0);while(1){r=e+16+(n>>>31<<2)|0;t=i[r>>2]|0;if(!t){break}if((i[t+4>>2]&-8|0)==(o|0)){I=t;break r}else{n=n<<1;e=t}}if(r>>>0<(i[920]|0)>>>0){pe()}else{i[r>>2]=p;i[y+(d+24)>>2]=e;i[y+(d+12)>>2]=p;i[y+(d+8)>>2]=p;break t}}else{I=e}}while(0);e=I+8|0;t=i[e>>2]|0;M=i[920]|0;if(t>>>0>=M>>>0&I>>>0>=M>>>0){i[t+12>>2]=p;i[e>>2]=p;i[y+(d+8)>>2]=t;i[y+(d+12)>>2]=I;i[y+(d+24)>>2]=0;break}else{pe()}}else{I=(i[919]|0)+l|0;i[919]=I;i[922]=p;i[y+(d+4)>>2]=I|1}}while(0);I=y+(h|8)|0;return I|0}e=4112}while(1){t=i[e>>2]|0;if(t>>>0<=a>>>0?(k=i[e+4>>2]|0,(t+k|0)>>>0>a>>>0):0){break}e=i[e+8>>2]|0}o=t+(k+-47+((t+(k+-39)&7|0)==0?0:0-(t+(k+-39))&7))|0;o=o>>>0<(a+16|0)>>>0?a:o;I=y+8|0;I=(I&7|0)==0?0:0-I&7;M=v+-40-I|0;i[922]=y+I;i[919]=M;i[y+(I+4)>>2]=M|1;i[y+(v+-36)>>2]=40;i[923]=i[1038];i[o+4>>2]=27;i[o+8>>2]=i[1028];i[o+8+4>>2]=i[1029];i[o+8+8>>2]=i[1030];i[o+8+12>>2]=i[1031];i[1028]=y;i[1029]=v;i[1031]=0;i[1030]=o+8;i[o+28>>2]=7;if((o+32|0)>>>0<(t+k|0)>>>0){e=o+28|0;do{I=e;e=e+4|0;i[e>>2]=7}while((I+8|0)>>>0<(t+k|0)>>>0)}if((o|0)!=(a|0)){i[o+4>>2]=i[o+4>>2]&-2;i[a+4>>2]=o-a|1;i[o>>2]=o-a;if((o-a|0)>>>0<256){e=i[916]|0;if(e&1<<((o-a|0)>>>3)){e=i[3704+(((o-a|0)>>>3<<1)+2<<2)>>2]|0;if(e>>>0<(i[920]|0)>>>0){pe()}else{E=3704+(((o-a|0)>>>3<<1)+2<<2)|0;C=e}}else{i[916]=e|1<<((o-a|0)>>>3);E=3704+(((o-a|0)>>>3<<1)+2<<2)|0;C=3704+((o-a|0)>>>3<<1<<2)|0}i[E>>2]=a;i[C+12>>2]=a;i[a+8>>2]=C;i[a+12>>2]=3704+((o-a|0)>>>3<<1<<2);break}if((o-a|0)>>>8){if((o-a|0)>>>0>16777215){n=31}else{n=(o-a|0)>>>8<<((((o-a|0)>>>8)+1048320|0)>>>16&8);n=14-((n+520192|0)>>>16&4|(((o-a|0)>>>8)+1048320|0)>>>16&8|((n<<((n+520192|0)>>>16&4))+245760|0)>>>16&2)+(n<<((n+520192|0)>>>16&4)<<(((n<<((n+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0;n=(o-a|0)>>>(n+7|0)&1|n<<1}}else{n=0}e=3968+(n<<2)|0;i[a+28>>2]=n;i[a+20>>2]=0;i[a+16>>2]=0;t=i[917]|0;r=1<<n;if(!(t&r)){i[917]=t|r;i[e>>2]=a;i[a+24>>2]=e;i[a+12>>2]=a;i[a+8>>2]=a;break}e=i[e>>2]|0;t:do{if((i[e+4>>2]&-8|0)!=(o-a|0)){n=o-a<<((n|0)==31?0:25-(n>>>1)|0);while(1){r=e+16+(n>>>31<<2)|0;t=i[r>>2]|0;if(!t){break}if((i[t+4>>2]&-8|0)==(o-a|0)){A=t;break t}else{n=n<<1;e=t}}if(r>>>0<(i[920]|0)>>>0){pe()}else{i[r>>2]=a;i[a+24>>2]=e;i[a+12>>2]=a;i[a+8>>2]=a;break e}}else{A=e}}while(0);e=A+8|0;t=i[e>>2]|0;I=i[920]|0;if(t>>>0>=I>>>0&A>>>0>=I>>>0){i[t+12>>2]=a;i[e>>2]=a;i[a+8>>2]=t;i[a+12>>2]=A;i[a+24>>2]=0;break}else{pe()}}}else{I=i[920]|0;if((I|0)==0|y>>>0<I>>>0){i[920]=y}i[1028]=y;i[1029]=v;i[1031]=0;i[925]=i[1034];i[924]=-1;e=0;do{I=e<<1;i[3704+(I+3<<2)>>2]=3704+(I<<2);i[3704+(I+2<<2)>>2]=3704+(I<<2);e=e+1|0}while((e|0)!=32);I=y+8|0;I=(I&7|0)==0?0:0-I&7;M=v+-40-I|0;i[922]=y+I;i[919]=M;i[y+(I+4)>>2]=M|1;i[y+(v+-36)>>2]=40;i[923]=i[1038]}}while(0);e=i[919]|0;if(e>>>0>u>>>0){M=e-u|0;i[919]=M;I=i[922]|0;i[922]=I+u;i[I+(u+4)>>2]=M|1;i[I+4>>2]=u|3;I=I+8|0;return I|0}}if(!(i[876]|0)){e=3548}else{e=i[(fe()|0)+60>>2]|0}i[e>>2]=12;I=0;return I|0}function gt(e){e=e|0;var t=0;var r=0;var n=0;var o=0;var a=0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;if(!e){return}u=i[920]|0;if((e+-8|0)>>>0<u>>>0){pe()}v=i[e+-4>>2]|0;if((v&3|0)==1){pe()}p=e+((v&-8)+-8)|0;do{if(!(v&1)){l=i[e+-8>>2]|0;if(!(v&3)){return}f=e+(-8-l)|0;d=l+(v&-8)|0;if(f>>>0<u>>>0){pe()}if((f|0)==(i[921]|0)){t=i[e+((v&-8)+-4)>>2]|0;if((t&3|0)!=3){b=f;a=d;break}i[918]=d;i[e+((v&-8)+-4)>>2]=t&-2;i[e+(-8-l+4)>>2]=d|1;i[p>>2]=d;return}if(l>>>0<256){t=i[e+(-8-l+8)>>2]|0;r=i[e+(-8-l+12)>>2]|0;if((t|0)!=(3704+(l>>>3<<1<<2)|0)){if(t>>>0<u>>>0){pe()}if((i[t+12>>2]|0)!=(f|0)){pe()}}if((r|0)==(t|0)){i[916]=i[916]&~(1<<(l>>>3));b=f;a=d;break}if((r|0)!=(3704+(l>>>3<<1<<2)|0)){if(r>>>0<u>>>0){pe()}if((i[r+8>>2]|0)!=(f|0)){pe()}else{n=r+8|0}}else{n=r+8|0}i[t+12>>2]=r;i[n>>2]=t;b=f;a=d;break}s=i[e+(-8-l+24)>>2]|0;t=i[e+(-8-l+12)>>2]|0;do{if((t|0)==(f|0)){t=i[e+(-8-l+20)>>2]|0;if(!t){t=i[e+(-8-l+16)>>2]|0;if(!t){c=0;break}else{o=e+(-8-l+16)|0}}else{o=e+(-8-l+20)|0}while(1){r=t+20|0;n=i[r>>2]|0;if(n){t=n;o=r;continue}r=t+16|0;n=i[r>>2]|0;if(!n){break}else{t=n;o=r}}if(o>>>0<u>>>0){pe()}else{i[o>>2]=0;c=t;break}}else{r=i[e+(-8-l+8)>>2]|0;if(r>>>0<u>>>0){pe()}if((i[r+12>>2]|0)!=(f|0)){pe()}if((i[t+8>>2]|0)==(f|0)){i[r+12>>2]=t;i[t+8>>2]=r;c=t;break}else{pe()}}}while(0);if(s){t=i[e+(-8-l+28)>>2]|0;if((f|0)==(i[3968+(t<<2)>>2]|0)){i[3968+(t<<2)>>2]=c;if(!c){i[917]=i[917]&~(1<<t);b=f;a=d;break}}else{if(s>>>0<(i[920]|0)>>>0){pe()}if((i[s+16>>2]|0)==(f|0)){i[s+16>>2]=c}else{i[s+20>>2]=c}if(!c){b=f;a=d;break}}r=i[920]|0;if(c>>>0<r>>>0){pe()}i[c+24>>2]=s;t=i[e+(-8-l+16)>>2]|0;do{if(t){if(t>>>0<r>>>0){pe()}else{i[c+16>>2]=t;i[t+24>>2]=c;break}}}while(0);t=i[e+(-8-l+20)>>2]|0;if(t){if(t>>>0<(i[920]|0)>>>0){pe()}else{i[c+20>>2]=t;i[t+24>>2]=c;b=f;a=d;break}}else{b=f;a=d}}else{b=f;a=d}}else{b=e+-8|0;a=v&-8}}while(0);if(b>>>0>=p>>>0){pe()}n=i[e+((v&-8)+-4)>>2]|0;if(!(n&1)){pe()}if(!(n&2)){if((p|0)==(i[922]|0)){w=(i[919]|0)+a|0;i[919]=w;i[922]=b;i[b+4>>2]=w|1;if((b|0)!=(i[921]|0)){return}i[921]=0;i[918]=0;return}if((p|0)==(i[921]|0)){w=(i[918]|0)+a|0;i[918]=w;i[921]=b;i[b+4>>2]=w|1;i[b+w>>2]=w;return}a=(n&-8)+a|0;do{if(n>>>0>=256){s=i[e+((v&-8)+16)>>2]|0;t=i[e+(v&-8|4)>>2]|0;do{if((t|0)==(p|0)){t=i[e+((v&-8)+12)>>2]|0;if(!t){t=i[e+((v&-8)+8)>>2]|0;if(!t){y=0;break}else{o=e+((v&-8)+8)|0}}else{o=e+((v&-8)+12)|0}while(1){r=t+20|0;n=i[r>>2]|0;if(n){t=n;o=r;continue}r=t+16|0;n=i[r>>2]|0;if(!n){break}else{t=n;o=r}}if(o>>>0<(i[920]|0)>>>0){pe()}else{i[o>>2]=0;y=t;break}}else{r=i[e+(v&-8)>>2]|0;if(r>>>0<(i[920]|0)>>>0){pe()}if((i[r+12>>2]|0)!=(p|0)){pe()}if((i[t+8>>2]|0)==(p|0)){i[r+12>>2]=t;i[t+8>>2]=r;y=t;break}else{pe()}}}while(0);if(s){t=i[e+((v&-8)+20)>>2]|0;if((p|0)==(i[3968+(t<<2)>>2]|0)){i[3968+(t<<2)>>2]=y;if(!y){i[917]=i[917]&~(1<<t);break}}else{if(s>>>0<(i[920]|0)>>>0){pe()}if((i[s+16>>2]|0)==(p|0)){i[s+16>>2]=y}else{i[s+20>>2]=y}if(!y){break}}r=i[920]|0;if(y>>>0<r>>>0){pe()}i[y+24>>2]=s;t=i[e+((v&-8)+8)>>2]|0;do{if(t){if(t>>>0<r>>>0){pe()}else{i[y+16>>2]=t;i[t+24>>2]=y;break}}}while(0);t=i[e+((v&-8)+12)>>2]|0;if(t){if(t>>>0<(i[920]|0)>>>0){pe()}else{i[y+20>>2]=t;i[t+24>>2]=y;break}}}}else{r=i[e+(v&-8)>>2]|0;t=i[e+(v&-8|4)>>2]|0;if((r|0)!=(3704+(n>>>3<<1<<2)|0)){if(r>>>0<(i[920]|0)>>>0){pe()}if((i[r+12>>2]|0)!=(p|0)){pe()}}if((t|0)==(r|0)){i[916]=i[916]&~(1<<(n>>>3));break}if((t|0)!=(3704+(n>>>3<<1<<2)|0)){if(t>>>0<(i[920]|0)>>>0){pe()}if((i[t+8>>2]|0)!=(p|0)){pe()}else{h=t+8|0}}else{h=t+8|0}i[r+12>>2]=t;i[h>>2]=r}}while(0);i[b+4>>2]=a|1;i[b+a>>2]=a;if((b|0)==(i[921]|0)){i[918]=a;return}}else{i[e+((v&-8)+-4)>>2]=n&-2;i[b+4>>2]=a|1;i[b+a>>2]=a}r=a>>>3;if(a>>>0<256){t=i[916]|0;if(t&1<<r){t=i[3704+((r<<1)+2<<2)>>2]|0;if(t>>>0<(i[920]|0)>>>0){pe()}else{g=3704+((r<<1)+2<<2)|0;m=t}}else{i[916]=t|1<<r;g=3704+((r<<1)+2<<2)|0;m=3704+(r<<1<<2)|0}i[g>>2]=b;i[m+12>>2]=b;i[b+8>>2]=m;i[b+12>>2]=3704+(r<<1<<2);return}t=a>>>8;if(t){if(a>>>0>16777215){o=31}else{o=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4);o=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(o+245760|0)>>>16&2)+(o<<((o+245760|0)>>>16&2)>>>15)|0;o=a>>>(o+7|0)&1|o<<1}}else{o=0}t=3968+(o<<2)|0;i[b+28>>2]=o;i[b+20>>2]=0;i[b+16>>2]=0;r=i[917]|0;n=1<<o;e:do{if(r&n){t=i[t>>2]|0;t:do{if((i[t+4>>2]&-8|0)!=(a|0)){o=a<<((o|0)==31?0:25-(o>>>1)|0);while(1){n=t+16+(o>>>31<<2)|0;r=i[n>>2]|0;if(!r){break}if((i[r+4>>2]&-8|0)==(a|0)){w=r;break t}else{o=o<<1;t=r}}if(n>>>0<(i[920]|0)>>>0){pe()}else{i[n>>2]=b;i[b+24>>2]=t;i[b+12>>2]=b;i[b+8>>2]=b;break e}}else{w=t}}while(0);t=w+8|0;r=i[t>>2]|0;m=i[920]|0;if(r>>>0>=m>>>0&w>>>0>=m>>>0){i[r+12>>2]=b;i[t>>2]=b;i[b+8>>2]=r;i[b+12>>2]=w;i[b+24>>2]=0;break}else{pe()}}else{i[917]=r|n;i[t>>2]=b;i[b+24>>2]=t;i[b+12>>2]=b;i[b+8>>2]=b}}while(0);w=(i[924]|0)+-1|0;i[924]=w;if(!w){t=4120}else{return}while(1){t=i[t>>2]|0;if(!t){break}else{t=t+8|0}}i[924]=-1}function mt(){}function bt(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;var a=0;var s=0;o=e+r|0;if((r|0)>=20){t=t&255;a=e&3;s=t|t<<8|t<<16|t<<24;if(a){a=e+4-a|0;while((e|0)<(a|0)){n[e>>0]=t;e=e+1|0}}while((e|0)<(o&~3|0)){i[e>>2]=s;e=e+4|0}}while((e|0)<(o|0)){n[e>>0]=t;e=e+1|0}return e-r|0}function wt(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;if((r|0)>=4096){return me(e|0,t|0,r|0)|0}o=e|0;if((e&3)==(t&3)){while(e&3){if(!r){return o|0}n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0;r=r-1|0}while((r|0)>=4){i[e>>2]=i[t>>2];e=e+4|0;t=t+4|0;r=r-4|0}}while((r|0)>0){n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0;r=r-1|0}return o|0}function Tt(e,t){e=e|0;t=t|0;return Pt[e&1](t|0)|0}function _t(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;return xt[e&3](t|0,r|0,n|0)|0}function kt(e,t,r,n,o,i){e=e|0;t=t|0;r=r|0;n=n|0;o=o|0;i=i|0;Lt[e&3](t|0,r|0,n|0,o|0,i|0)}function Et(e,t){e=e|0;t=t|0;Dt[e&1](t|0)}function Ct(e){e=e|0;ne(0);return 0}function St(e,t,r){e=e|0;t=t|0;r=r|0;ne(1);return 0}function At(e,t,r,n,o){e=e|0;t=t|0;r=r|0;n=n|0;o=o|0;ne(2)}function Rt(e){e=e|0;ne(3)}function Ot(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;var o=0;var a=0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;f=i[t+4>>2]|0;d=i[t+8>>2]|0;switch(r|0){case 0:case 5:{n=3;break}default:if(!(i[e+3384>>2]|0)){l=0}else{n=3}}if((n|0)==3){o=i[e+1224>>2]|0;a=0;do{n=i[o+(a<<2)>>2]|0;if((n|0)!=0?(i[n+20>>2]|0)>>>0>1:0){n=i[n>>2]|0}else{n=0}a=a+1|0}while(a>>>0<16&(n|0)==0);l=n}u=i[e+1176>>2]|0;e:do{if(!u){o=0;a=0;n=0}else{s=i[e+1212>>2]|0;o=0;a=0;n=0;do{if(i[s+(a*216|0)+196>>2]|0){break e}a=a+1|0;o=o+1|0;n=((o|0)==(f|0)&1)+n|0;o=(o|0)==(f|0)?0:o}while(a>>>0<u>>>0)}}while(0);if((a|0)==(u|0)){switch(r|0){case 2:case 7:{if((l|0)==0|(i[e+3384>>2]|0)==0){n=16}else{n=17}break}default:if(!l){n=16}else{n=17}}if((n|0)==16){bt(i[t>>2]|0,-128,ee(f*384|0,d)|0)|0}else if((n|0)==17){wt(i[t>>2]|0,l|0,ee(f*384|0,d)|0)|0}a=i[e+1176>>2]|0;i[e+1204>>2]=a;if(!a){return}n=i[e+1212>>2]|0;o=0;do{i[n+(o*216|0)+8>>2]=1;o=o+1|0}while((o|0)!=(a|0));return}s=i[e+1212>>2]|0;u=ee(n,f)|0;if(o){a=o;do{a=a+-1|0;c=a+u|0;Mt(s+(c*216|0)|0,t,n,a,r,l);i[s+(c*216|0)+196>>2]=1;i[e+1204>>2]=(i[e+1204>>2]|0)+1}while((a|0)!=0)}o=o+1|0;if(o>>>0<f>>>0){do{a=o+u|0;if(!(i[s+(a*216|0)+196>>2]|0)){Mt(s+(a*216|0)|0,t,n,o,r,l);i[s+(a*216|0)+196>>2]=1;i[e+1204>>2]=(i[e+1204>>2]|0)+1}o=o+1|0}while((o|0)!=(f|0))}if(n){if(f){o=n+-1|0;a=ee(o,f)|0;u=0;do{s=o;c=(i[e+1212>>2]|0)+((u+a|0)*216|0)|0;while(1){Mt(c,t,s,u,r,l);i[c+196>>2]=1;i[e+1204>>2]=(i[e+1204>>2]|0)+1;if(!s){break}else{s=s+-1|0;c=c+((0-f|0)*216|0)|0}}u=u+1|0}while((u|0)!=(f|0))}}else{n=0}n=n+1|0;if(n>>>0>=d>>>0){return}if(!f){return}do{s=i[e+1212>>2]|0;a=ee(n,f)|0;u=0;do{o=u+a|0;if(!(i[s+(o*216|0)+196>>2]|0)){Mt(s+(o*216|0)|0,t,n,u,r,l);i[s+(o*216|0)+196>>2]=1;i[e+1204>>2]=(i[e+1204>>2]|0)+1}u=u+1|0}while((u|0)!=(f|0));n=n+1|0}while((n|0)!=(d|0))}function Mt(e,t,r,o,s,u){e=e|0;t=t|0;r=r|0;o=o|0;s=s|0;u=u|0;var c=0;var l=0;var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;var _=0;var k=0;var E=0;var C=0;var S=0;var A=0;var R=0;var O=0;var M=0;var I=0;var P=0;var x=0;var L=0;var D=0;var N=0;var G=0;var F=0;var B=0;var j=0;var U=0;var V=0;var H=0;H=f;f=f+480|0;U=i[t+4>>2]|0;c=i[t+8>>2]|0;h=(ee(U,r)|0)+o|0;V=ee(c,U)|0;g=i[t>>2]|0;i[t+12>>2]=g+((h-((h>>>0)%(U>>>0)|0)<<8)+(((h>>>0)%(U>>>0)|0)<<4));h=(((h>>>0)%(U>>>0)|0)<<3)+(V<<8)+(h-((h>>>0)%(U>>>0)|0)<<6)|0;i[t+16>>2]=g+h;i[t+20>>2]=g+(h+(V<<6));h=(ee(r<<8,U)|0)+(o<<4)|0;i[e+20>>2]=40;i[e+8>>2]=0;i[e>>2]=6;i[e+12>>2]=0;i[e+16>>2]=0;i[e+24>>2]=0;e:do{switch(s|0){case 2:case 7:{bt(H+96|0,0,384)|0;break}default:{i[H+24>>2]=0;i[H+4>>2]=U;i[H+8>>2]=c;i[H>>2]=u;if(!u){bt(H+96|0,0,384)|0;break e}qe(H+96|0,H+24|0,H,o<<4,r<<4,0,0,16,16);Ze(t,H+96|0);f=H;return}}}while(0);u=H+32|0;s=u+64|0;do{i[u>>2]=0;u=u+4|0}while((u|0)<(s|0));if((r|0)!=0?(i[e+((0-U|0)*216|0)+196>>2]|0)!=0:0){C=h-(U<<4)|3;_=(a[g+(h-(U<<4)|1)>>0]|0)+(a[g+(h-(U<<4))>>0]|0)+(a[g+((h-(U<<4)|1)+1)>>0]|0)+(a[g+C>>0]|0)|0;R=h-(U<<4)|7;C=(a[g+(C+2)>>0]|0)+(a[g+(C+1)>>0]|0)+(a[g+(C+3)>>0]|0)+(a[g+R>>0]|0)|0;S=(a[g+(R+2)>>0]|0)+(a[g+(R+1)>>0]|0)+(a[g+(R+3)>>0]|0)+(a[g+(R+4)>>0]|0)|0;R=(a[g+(R+6)>>0]|0)+(a[g+(R+5)>>0]|0)+(a[g+(R+7)>>0]|0)+(a[g+(h-(U<<4)|15)>>0]|0)|0;i[H+32>>2]=S+(C+_)+R;i[H+32+4>>2]=C+_-S-R;u=S+(C+_)+R|0;s=C+_-S-R|0;E=1}else{u=0;s=0;_=0;C=0;S=0;R=0;E=0}if((c+-1|0)!=(r|0)?(i[e+(U*216|0)+196>>2]|0)!=0:0){A=h+(U<<8)|3;w=(a[g+(h+(U<<8)|1)>>0]|0)+(a[g+(h+(U<<8))>>0]|0)+(a[g+((h+(U<<8)|1)+1)>>0]|0)+(a[g+A>>0]|0)|0;M=h+(U<<8)|7;A=(a[g+(A+2)>>0]|0)+(a[g+(A+1)>>0]|0)+(a[g+(A+3)>>0]|0)+(a[g+M>>0]|0)|0;O=(a[g+(M+2)>>0]|0)+(a[g+(M+1)>>0]|0)+(a[g+(M+3)>>0]|0)+(a[g+(M+4)>>0]|0)|0;M=(a[g+(M+6)>>0]|0)+(a[g+(M+5)>>0]|0)+(a[g+(M+7)>>0]|0)+(a[g+(h+(U<<8)|15)>>0]|0)|0;u=O+(A+w)+u+M|0;i[H+32>>2]=u;s=A+w-O-M+s|0;i[H+32+4>>2]=s;k=1;m=E+1|0}else{k=0;w=0;A=0;O=0;M=0;m=E}if((o|0)!=0?(i[e+-20>>2]|0)!=0:0){T=(a[g+(h+-1+(U<<4))>>0]|0)+(a[g+(h+-1)>>0]|0)+(a[g+(h+-1+(U<<5))>>0]|0)+(a[g+(h+-1+(U*48|0))>>0]|0)|0;L=h+-1+(U<<6)|0;I=(a[g+(L+(U<<4))>>0]|0)+(a[g+L>>0]|0)+(a[g+(L+(U<<5))>>0]|0)+(a[g+(L+(U*48|0))>>0]|0)|0;P=(a[g+(L+(U<<6)+(U<<4))>>0]|0)+(a[g+(L+(U<<6))>>0]|0)+(a[g+(L+(U<<6)+(U<<5))>>0]|0)+(a[g+(L+(U<<6)+(U*48|0))>>0]|0)|0;L=L+(U<<6)+(U<<6)|0;L=(a[g+(L+(U<<4))>>0]|0)+(a[g+L>>0]|0)+(a[g+(L+(U<<5))>>0]|0)+(a[g+(L+(U*48|0))>>0]|0)|0;u=P+(I+T)+u+L|0;i[H+32>>2]=u;i[H+32+16>>2]=I+T-P-L;l=I+T-P-L|0;d=m+1|0;b=1}else{l=0;d=m;T=0;I=0;P=0;L=0;b=0}do{if((U+-1|0)!=(o|0)?(i[e+412>>2]|0)!=0:0){y=(a[g+(h+16+(U<<4))>>0]|0)+(a[g+(h+16)>>0]|0)+(a[g+(h+16+(U<<5))>>0]|0)+(a[g+(h+16+(U*48|0))>>0]|0)|0;h=h+16+(U<<6)|0;p=(a[g+(h+(U<<4))>>0]|0)+(a[g+h>>0]|0)+(a[g+(h+(U<<5))>>0]|0)+(a[g+(h+(U*48|0))>>0]|0)|0;v=(a[g+(h+(U<<6)+(U<<4))>>0]|0)+(a[g+(h+(U<<6))>>0]|0)+(a[g+(h+(U<<6)+(U<<5))>>0]|0)+(a[g+(h+(U<<6)+(U*48|0))>>0]|0)|0;h=h+(U<<6)+(U<<6)|0;h=(a[g+(h+(U<<4))>>0]|0)+(a[g+h>>0]|0)+(a[g+(h+(U<<5))>>0]|0)+(a[g+(h+(U*48|0))>>0]|0)|0;g=d+1|0;c=b+1|0;u=v+(p+y)+u+h|0;i[H+32>>2]=u;l=p+y-v-h+l|0;i[H+32+16>>2]=l;e=(m|0)==0;d=(b|0)!=0;if(!(e&d)){if(!e){e=d;h=1;d=g;g=21;break}}else{i[H+32+4>>2]=P+L+I+T-y-p-v-h>>5}v=H+32+16|0;p=d;d=(E|0)!=0;h=(k|0)!=0;e=1;s=g;g=27}else{g=17}}while(0);if((g|0)==17){c=(b|0)!=0;if(!m){p=c;y=0;s=d;c=b;g=23}else{e=c;h=0;c=b;g=21}}if((g|0)==21){i[H+32+4>>2]=s>>m+3;p=e;y=h;s=d;g=23}do{if((g|0)==23){e=(c|0)==0;d=(E|0)!=0;h=(k|0)!=0;if(h&(d&e)){i[H+32+16>>2]=S+R+C+_-M-O-A-w>>5;j=p;d=1;h=1;B=y;break}if(e){j=p;B=y}else{v=H+32+16|0;e=y;g=27}}}while(0);if((g|0)==27){i[v>>2]=l>>c+3;j=p;B=e}switch(s|0){case 1:{c=u>>4;i[H+32>>2]=c;break}case 2:{c=u>>5;i[H+32>>2]=c;break}case 3:{c=u*21>>10;i[H+32>>2]=c;break}default:{c=u>>6;i[H+32>>2]=c}}G=H+32+4|0;u=i[G>>2]|0;F=H+32+16|0;s=i[F>>2]|0;if(!(s|u)){i[H+32+60>>2]=c;i[H+32+56>>2]=c;i[H+32+52>>2]=c;i[H+32+48>>2]=c;i[H+32+44>>2]=c;i[H+32+40>>2]=c;i[H+32+36>>2]=c;i[H+32+32>>2]=c;i[H+32+28>>2]=c;i[H+32+24>>2]=c;i[H+32+20>>2]=c;i[F>>2]=c;i[H+32+12>>2]=c;i[H+32+8>>2]=c;i[G>>2]=c;s=0;c=H+96|0;e=H+32|0}else{D=u+c|0;N=(u>>1)+c|0;e=c-(u>>1)|0;c=c-u|0;i[H+32>>2]=D+s;i[F>>2]=(s>>1)+D;i[H+32+32>>2]=D-(s>>1);i[H+32+48>>2]=D-s;i[G>>2]=N+s;i[H+32+20>>2]=N+(s>>1);i[H+32+36>>2]=N-(s>>1);i[H+32+52>>2]=N-s;i[H+32+8>>2]=e+s;i[H+32+24>>2]=e+(s>>1);i[H+32+40>>2]=e-(s>>1);i[H+32+56>>2]=e-s;i[H+32+12>>2]=c+s;i[H+32+28>>2]=(s>>1)+c;i[H+32+44>>2]=c-(s>>1);i[H+32+60>>2]=c-s;s=0;c=H+96|0;e=H+32|0}while(1){u=i[e+((s>>>2&3)<<2)>>2]|0;n[c>>0]=(u|0)<0?0:(u|0)>255?-1:u&255;u=s+1|0;if((u|0)==256){break}else{s=u;c=c+1|0;e=(u&63|0)==0?e+16|0:e}}N=0-(U<<3)|3;D=(U<<4)+-1+(U<<4)|0;b=C;e=S;c=R;g=A;p=O;l=M;x=0;m=I;y=P;v=L;P=(i[t>>2]|0)+((ee(r<<6,U)|0)+(o<<3)+(V<<8))|0;while(1){u=H+32|0;s=u+64|0;do{i[u>>2]=0;u=u+4|0}while((u|0)<(s|0));if(d){_=(a[P+(0-(U<<3)|1)>>0]|0)+(a[P+(0-(U<<3))>>0]|0)|0;O=(a[P+N>>0]|0)+(a[P+((0-(U<<3)|1)+1)>>0]|0)|0;M=(a[P+(N+2)>>0]|0)+(a[P+(N+1)>>0]|0)|0;I=(a[P+(0-(U<<3)|7)>>0]|0)+(a[P+(N+3)>>0]|0)|0;i[H+32>>2]=M+(O+_)+I;i[G>>2]=O+_-M-I;u=M+(O+_)+I|0;s=O+_-M-I|0;e=1}else{u=0;s=0;O=b;M=e;I=c;e=0}if(h){w=(a[P+(U<<6|1)>>0]|0)+(a[P+(U<<6)>>0]|0)|0;S=(a[P+(U<<6|3)>>0]|0)+(a[P+((U<<6|1)+1)>>0]|0)|0;A=(a[P+((U<<6|3)+2)>>0]|0)+(a[P+((U<<6|3)+1)>>0]|0)|0;R=(a[P+(U<<6|7)>>0]|0)+(a[P+((U<<6|3)+3)>>0]|0)|0;u=A+(S+w)+u+R|0;i[H+32>>2]=u;c=S+w-A-R+s|0;i[G>>2]=c;e=e+1|0}else{c=s;S=g;A=p;R=l}if(j){T=(a[P+((U<<3)+-1)>>0]|0)+(a[P+-1>>0]|0)|0;k=(a[P+((U<<4)+-1+(U<<3))>>0]|0)+(a[P+((U<<4)+-1)>>0]|0)|0;E=(a[P+(D+(U<<3))>>0]|0)+(a[P+D>>0]|0)|0;C=(a[P+(D+(U<<4)+(U<<3))>>0]|0)+(a[P+(D+(U<<4))>>0]|0)|0;p=E+(k+T)+u+C|0;i[H+32>>2]=p;i[F>>2]=k+T-E-C;l=k+T-E-C|0;u=e+1|0;s=1}else{p=u;l=0;u=e;k=m;E=y;C=v;s=0}do{if(B){v=(a[P+((U<<3)+8)>>0]|0)+(a[P+8>>0]|0)|0;y=(a[P+((U<<4|8)+(U<<3))>>0]|0)+(a[P+(U<<4|8)>>0]|0)|0;g=(a[P+((U<<4|8)+(U<<4)+(U<<3))>>0]|0)+(a[P+((U<<4|8)+(U<<4))>>0]|0)|0;m=(a[P+((U<<4|8)+(U<<4)+(U<<4)+(U<<3))>>0]|0)+(a[P+((U<<4|8)+(U<<4)+(U<<4))>>0]|0)|0;u=u+1|0;s=s+1|0;b=g+(y+v)+p+m|0;i[H+32>>2]=b;l=y+v-g-m+l|0;i[F>>2]=l;p=(e|0)==0;if(!(j&p)){if(p){e=b;g=53;break}else{p=b;g=49;break}}else{c=E+C+k+T-v-y-g-m>>4;i[G>>2]=c;e=b;g=53;break}}else if(!e){v=c;e=p;g=50}else{g=49}}while(0);if((g|0)==49){v=c>>e+2;i[G>>2]=v;e=p;g=50}do{if((g|0)==50){g=0;c=(s|0)==0;if(!(h&(d&c))){if(c){c=v;s=l;break}else{c=v;g=53;break}}else{s=M+I+O+_-R-A-S-w>>4;i[F>>2]=s;c=v;break}}}while(0);if((g|0)==53){s=l>>s+2;i[F>>2]=s}switch(u|0){case 1:{u=e>>3;i[H+32>>2]=u;break}case 2:{u=e>>4;i[H+32>>2]=u;break}case 3:{u=e*21>>9;i[H+32>>2]=u;break}default:{u=e>>5;i[H+32>>2]=u}}if(!(s|c)){i[H+32+60>>2]=u;i[H+32+56>>2]=u;i[H+32+52>>2]=u;i[H+32+48>>2]=u;i[H+32+44>>2]=u;i[H+32+40>>2]=u;i[H+32+36>>2]=u;i[H+32+32>>2]=u;i[H+32+28>>2]=u;i[H+32+24>>2]=u;i[H+32+20>>2]=u;i[F>>2]=u;i[H+32+12>>2]=u;i[H+32+8>>2]=u;i[G>>2]=u}else{m=c+u|0;L=c>>1;b=L+u|0;L=u-L|0;r=u-c|0;i[H+32>>2]=m+s;o=s>>1;i[F>>2]=o+m;i[H+32+32>>2]=m-o;i[H+32+48>>2]=m-s;i[G>>2]=b+s;i[H+32+20>>2]=b+o;i[H+32+36>>2]=b-o;i[H+32+52>>2]=b-s;i[H+32+8>>2]=L+s;i[H+32+24>>2]=L+o;i[H+32+40>>2]=L-o;i[H+32+56>>2]=L-s;i[H+32+12>>2]=r+s;i[H+32+28>>2]=o+r;i[H+32+44>>2]=r-o;i[H+32+60>>2]=r-s}s=0;c=H+96+((x<<6)+256)|0;e=H+32|0;while(1){u=i[e+((s>>>1&3)<<2)>>2]|0;n[c>>0]=(u|0)<0?0:(u|0)>255?-1:u&255;u=s+1|0;if((u|0)==64){break}else{s=u;c=c+1|0;e=(u&15|0)==0?e+16|0:e}}x=x+1|0;if((x|0)==2){break}else{b=O;e=M;c=I;g=S;p=A;l=R;m=k;y=E;v=C;P=P+(V<<6)|0}}Ze(t,H+96|0);f=H}function It(e,t){e=e|0;t=t|0;var r=0;var n=0;var o=0;r=Fe(e,t)|0;if(r){t=r;return t|0}o=(i[t>>2]|0)+1|0;i[t>>2]=o;if(o>>>0>32){t=1;return t|0}r=Ge(e,4)|0;if((r|0)==-1){t=1;return t|0}i[t+4>>2]=r;r=Ge(e,4)|0;if((r|0)==-1){t=1;return t|0}i[t+8>>2]=r;e:do{if(i[t>>2]|0){o=0;while(1){n=t+12+(o<<2)|0;r=Fe(e,n)|0;if(r){n=17;break}r=i[n>>2]|0;if((r|0)==-1){r=1;n=17;break}i[n>>2]=r+1;i[n>>2]=r+1<<(i[t+4>>2]|0)+6;n=t+140+(o<<2)|0;r=Fe(e,n)|0;if(r){n=17;break}r=i[n>>2]|0;if((r|0)==-1){r=1;n=17;break}i[n>>2]=r+1;i[n>>2]=r+1<<(i[t+8>>2]|0)+4;r=Ge(e,1)|0;if((r|0)==-1){r=1;n=17;break}i[t+268+(o<<2)>>2]=(r|0)==1&1;o=o+1|0;if(o>>>0>=(i[t>>2]|0)>>>0){break e}}if((n|0)==17){return r|0}}}while(0);r=Ge(e,5)|0;if((r|0)==-1){t=1;return t|0}i[t+396>>2]=r+1;r=Ge(e,5)|0;if((r|0)==-1){t=1;return t|0}i[t+400>>2]=r+1;r=Ge(e,5)|0;if((r|0)==-1){t=1;return t|0}i[t+404>>2]=r+1;r=Ge(e,5)|0;if((r|0)==-1){t=1;return t|0}i[t+408>>2]=r;t=0;return t|0}var Pt=[Ct,ht];var xt=[St,dt,pt,ft];var Lt=[At,Je,ze,At];var Dt=[Rt,vt];return{_free:gt,_broadwayGetMajorVersion:ct,_broadwayExit:ut,_memset:bt,_broadwayCreateStream:it,_malloc:yt,_memcpy:wt,_broadwayGetMinorVersion:lt,_broadwayPlayStream:at,_broadwayInit:st,runPostSets:mt,stackAlloc:Ce,stackSave:Se,stackRestore:Ae,establishStackSpace:Re,setThrew:Oe,setTempRet0:Pe,getTempRet0:xe,dynCall_ii:Tt,dynCall_iiii:_t,dynCall_viiiii:kt,dynCall_vi:Et}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,_broadwayGetMajorVersion=Module._broadwayGetMajorVersion=asm._broadwayGetMajorVersion,_broadwayExit=Module._broadwayExit=asm._broadwayExit,_broadwayGetMinorVersion=Module._broadwayGetMinorVersion=asm._broadwayGetMinorVersion,_memset=Module._memset=asm._memset,_broadwayCreateStream=Module._broadwayCreateStream=asm._broadwayCreateStream,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,_broadwayPlayStream=Module._broadwayPlayStream=asm._broadwayPlayStream,_broadwayInit=Module._broadwayInit=asm._broadwayInit,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,initialStackTop;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit(".concat(e,")"),this.status=e}Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),t()}),1)):t()))}function exit(e,t){if(!t||!Module.noExitRuntime)throw Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",(function(){process.exit(e)})),console.log(" "),setTimeout((function(){process.exit(e)}),500)):ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e)}dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var t=e.length+1;function r(){for(var e=0;e<3;e++)n.push(0)}var n=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];r();for(var o=0;o<t-1;o+=1)n.push(allocate(intArrayFromString(e[o]),"i8",ALLOC_NORMAL)),r();n.push(0),n=allocate(n,"i32",ALLOC_NORMAL);try{exit(Module._main(t,n,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"===(0,_typeof2.default)(e)&&e.stack&&Module.printErr("exception thrown: ".concat([e,e.stack])),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="abort(".concat(e,") at ").concat(stackTrace()).concat("\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.");throw abortDecorators&&abortDecorators.forEach((function(r){t=r(t,e)})),t}if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!1;return Module.noInitialRun&&(shouldRunNow=!1),Module.noExitRuntime=!0,run(),Module}(),resultModule=global.Module||Module;return resultModule._broadwayOnHeadersDecoded=par_broadwayOnHeadersDecoded,resultModule._broadwayOnPictureDecoded=par_broadwayOnPictureDecoded,function(e){e(resultModule)}};var nowValue=function(){return(new Date).getTime()};function Decoder(e){var t;this.options=e||{},this.now=nowValue;var r,n,o=function(e,n,o){var i,a=this.pictureBuffers[e];a||(a=this.pictureBuffers[e]=r(e,n*o*3/2));var s=!1;if(this.infoAr.length&&(s=!0,i=this.infoAr),this.infoAr=[],this.options.rgb){t||(t=getAsm(n,o)),t.inp.set(a),t.doit();var u=new Uint8Array(t.outSize);return u.set(t.out),s&&(i[0].finishDecoding=nowValue()),void this.onPictureDecoded(u,n,o,i)}s&&(i[0].finishDecoding=nowValue()),this.onPictureDecoded(a,n,o,i)}.bind(this);this.options.sliceMode&&(o=function(e,t,o,i){var a=this.pictureBuffers[e];a||(a=this.pictureBuffers[e]=r(e,t*o*3/2));var s,u=this.pictureBuffers[i];u||(u=this.pictureBuffers[i]=n(i,18)),this.infoAr.length&&(s=this.infoAr),this.infoAr=[],s[0].finishDecoding=nowValue();for(var c=[],l=0;l<20;++l)c.push(u[l]);s[0].sliceInfoAr=c,this.onPictureDecoded(a,t,o,s)}.bind(this));var i=getModule.apply({},[function(){},o,this.options.wasmFile]),a=1048576,s=this;this.onPictureDecoded=function(e,t,r,n){},this.onDecoderReady=function(){};var u=[];this.decode=function(e,t,r){u.push([e,t,r])},i((function(e){e.HEAP8;var t=e.HEAPU8;e.HEAP16,e.HEAP32,e._broadwayInit(),r=function(e,r){return t.subarray(e,e+r)},n=function(e,r){return new Uint32Array(t.buffer,e,r)},s.streamBuffer=r(e._broadwayCreateStream(a),a),s.pictureBuffers={},s.infoAr=[];var o=0;if(s.options.sliceMode?(o=s.options.sliceNum,s.decode=function(t,r,n){s.infoAr.push(r),r.startDecoding=nowValue();var i,a=r.nals;if(!a){a=[],r.nals=a;var u=t.length,c=!1,l=0,f=0;for(i=0;i<u;++i)if(1===t[i]&&0===t[i-1]&&0===t[i-2]){var d=i-2;0===t[i-3]&&(d=i-3),c&&a.push({offset:l,end:d,type:31&t[f]}),l=d,f=d+3,0===t[i-3]&&(f=d+4),c=!0}c&&a.push({offset:l,end:i,type:31&t[f]})}var h,p=0,v=0;for(i=0;i<a.length;++i)1===a[i].type||5===a[i].type?(p===o&&(h=t.subarray(a[i].offset,a[i].end),s.streamBuffer[v]=0,v+=1,s.streamBuffer.set(h,v),v+=h.length),p+=1):(h=t.subarray(a[i].offset,a[i].end),s.streamBuffer[v]=0,v+=1,s.streamBuffer.set(h,v),v+=h.length,e._broadwayPlayStream(v),v=0);n(),e._broadwayPlayStream(v)}):s.decode=function(t,r){r&&(s.infoAr.push(r),r.startDecoding=nowValue()),s.streamBuffer.set(t),e._broadwayPlayStream(t.length)},u.length){var i=0;for(i=0;i<u.length;++i)s.decode(u[i][0],u[i][1],u[i][2]);u=[]}s.onDecoderReady(s)}))}"undefined"!=typeof performance&&performance.now&&(nowValue=function(){return performance.now()}),Decoder.prototype={};var asmInstances={},getAsm=function(e,t){var r="".concat(String(e),"x").concat(t);if(asmInstances[r])return asmInstances[r];for(var n=e*t,o=(0|n)>>2,i=n+o+o,a=e*t*4,s=i+a+4*Math.pow(2,24),u=Math.pow(2,24),c=u;c<s;)c+=u;var l=new ArrayBuffer(c),f=asmFactory(global,{},l);return f.init(e,t),asmInstances[r]=f,f.heap=l,f.out=new Uint8Array(l,0,a),f.inp=new Uint8Array(l,a,i),f.outSize=a,f};function asmFactory(e,t,r){"use asm";var n=e.Math.imul;var o=e.Math.min;var i=e.Math.max;var a=e.Math.pow;var s=new e.Uint8Array(r);var u=new e.Uint32Array(r);var c=new e.Uint8Array(r);var l=new e.Uint8Array(r);var f=new e.Uint32Array(r);var d=0;var h=0;var p=0;var v=0;var y=0;var g=0;var m=0;var b=0;var w=0;var T=0;function _(e,t){e=e|0;t=t|0;var r=0;var o=0;d=e;w=n(e,4)|0;h=t;p=n(d|0,h|0)|0;v=(p|0)>>2;g=n(n(d,h)|0,4)|0;y=p+v|0+v|0;b=0;m=b+g|0;T=m+y|0;o=~~Number(a(+2,+24));o=n(o,4)|0;for(r=0|0;(r|0)<(o|0)|0;r=r+4|0){f[(T+r|0)>>2]=0}}function k(){var e=0;var t=0;var r=0;var n=0;var o=0;var i=0;var a=0;var s=0;var u=0;var l=0;var y=0;var g=0;var _=0;var k=0;_=b|0;e=m|0;t=e+p|0|0;r=t+v|0;for(u=0;(u|0)<(h|0);u=u+2|0){y=t;g=r;for(l=0;(l|0)<(d|0);l=l+2|0){n=c[e>>0]|0;o=c[(e+d|0)>>0]|0;i=c[t>>0]|0;a=c[r>>0]|0;k=((n<<16|0)+(i<<8|0)|0)+a|0;s=f[(T+k|0)>>2]|0;if(s){}else{s=E(n,i,a)|0;f[(T+k|0)>>2]=s|0}f[_>>2]=s;k=((o<<16|0)+(i<<8|0)|0)+a|0;s=f[(T+k|0)>>2]|0;if(s){}else{s=E(o,i,a)|0;f[(T+k|0)>>2]=s|0}f[(_+w|0)>>2]=s;_=_+4|0;e=e+1|0;n=c[e>>0]|0;o=c[(e+d|0)>>0]|0;k=((n<<16|0)+(i<<8|0)|0)+a|0;s=f[(T+k|0)>>2]|0;if(s){}else{s=E(n,i,a)|0;f[(T+k|0)>>2]=s|0}f[_>>2]=s;k=((o<<16|0)+(i<<8|0)|0)+a|0;s=f[(T+k|0)>>2]|0;if(s){}else{s=E(o,i,a)|0;f[(T+k|0)>>2]=s|0}f[(_+w|0)>>2]=s;_=_+4|0;e=e+1|0;t=t+1|0;r=r+1|0}_=_+w|0;e=e+d|0}}function E(e,t,r){e=e|0;t=t|0;r=r|0;var a=0;var s=0;var u=0;var c=0;var l=0;var f=0;var d=0;var h=0;var p=0;l=n(1192,e-16|0)|0;f=n(1634,r-128|0)|0;d=n(832,r-128|0)|0;h=n(400,t-128|0)|0;p=n(2066,t-128|0)|0;a=(l+f|0)>>10|0;s=((l-d|0)-h|0)>>10|0;u=(l+p|0)>>10|0;if((a&255|0)!=(a|0)|0){a=o(255,i(0,a|0)|0)|0}if((s&255|0)!=(s|0)|0){s=o(255,i(0,s|0)|0)|0}if((u&255|0)!=(u|0)|0){u=o(255,i(0,u|0)|0)|0}c=255;c=c<<8|0;c=c+u|0;c=c<<8|0;c=c+s|0;c=c<<8|0;c=c+a|0;return c|0}return{init:_,doit:k}}if("undefined"!=typeof self){var isWorker=!1,decoder,reuseMemory=!1,sliceMode=!1,sliceNum=0,sliceCnt=0,lastSliceNum=0,sliceInfoAr,lastBuf,awaiting=0,pile=[],startDecoding,finishDecoding,timeDecoding,memAr=[],getMem=function(e){if(memAr.length){for(var t=memAr.shift();t&&t.byteLength!==e;)t=memAr.shift();if(t)return t}return new ArrayBuffer(e)},copySlice=function(e,t,r,n,o){var i=function(r,o){var i=0;for(i=0;i<16;++i){var a=r+n*i,s=o+n*i;t.set(e.subarray(a,s),a)}},a=function(r,o){var i=0;for(i=0;i<8;++i){var a=r+n/2*i,s=o+n/2*i;t.set(e.subarray(a,s),a)}},s=function(r,n){t.set(e.subarray(r,n),r)},u=r[0],c=r[1];c>0&&(i(u,c),a(r[2],r[3]),a(r[4],r[5])),u=r[6],(c=r[7])>0&&(i(u,c),a(r[8],r[9]),a(r[10],r[11])),u=r[12],(c=r[15])>0&&(s(u,c),s(r[13],r[16]),s(r[14],r[17]))},sliceMsgFun=function(){},setSliceCnt=function(e){lastSliceNum=(sliceCnt=e)-1};self.addEventListener("message",(function(e){if(isWorker){if(reuseMemory&&e.data.reuse&&memAr.push(e.data.reuse),e.data.buf)return void(sliceMode&&0!==awaiting?pile.push(e.data):decoder.decode(new Uint8Array(e.data.buf,e.data.offset||0,e.data.length),e.data.info,(function(){sliceMode&&sliceNum!==lastSliceNum&&postMessage(e.data,[e.data.buf])})));if(e.data.slice){var t=nowValue();if(copySlice(new Uint8Array(e.data.slice),lastBuf,e.data.infos[0].sliceInfoAr,e.data.width,e.data.height),e.data.theOne&&(copySlice(lastBuf,new Uint8Array(e.data.slice),sliceInfoAr,e.data.width,e.data.height),timeDecoding>e.data.infos[0].timeDecoding&&(e.data.infos[0].timeDecoding=timeDecoding),e.data.infos[0].timeCopy+=nowValue()-t),postMessage(e.data,[e.data.slice]),0==(awaiting-=1)&&pile.length){var r=pile.shift();decoder.decode(new Uint8Array(r.buf,r.offset||0,r.length),r.info,(function(){sliceMode&&sliceNum!==lastSliceNum&&postMessage(r,[r.buf])}))}return}e.data.setSliceCnt&&setSliceCnt(e.data.sliceCnt)}else e.data&&"Broadway.js - Worker init"===e.data.type&&(isWorker=!0,decoder=new Decoder(e.data.options),e.data.options.sliceMode?(reuseMemory=!0,sliceMode=!0,sliceNum=e.data.options.sliceNum,setSliceCnt(e.data.options.sliceCnt),decoder.onPictureDecoded=function(e,t,r,n){var o=new Uint8Array(getMem(e.length));copySlice(e,o,n[0].sliceInfoAr,t,r),startDecoding=n[0].startDecoding,finishDecoding=n[0].finishDecoding,timeDecoding=finishDecoding-startDecoding,n[0].timeDecoding=timeDecoding,n[0].timeCopy=0,postMessage({slice:o.buffer,sliceNum:sliceNum,width:t,height:r,infos:n},[o.buffer]),awaiting=sliceCnt-1,lastBuf=e,sliceInfoAr=n[0].sliceInfoAr}):e.data.options.reuseMemory?(reuseMemory=!0,decoder.onPictureDecoded=function(e,t,r,n){var o=new Uint8Array(getMem(e.length));o.set(e,0,e.length),postMessage({buf:o.buffer,length:e.length,width:t,height:r,infos:n},[o.buffer])}):decoder.onPictureDecoded=function(e,t,r,n){e&&(e=new Uint8Array(e));var o=new Uint8Array(e.length);o.set(e,0,e.length),postMessage({buf:o.buffer,length:e.length,width:t,height:r,infos:n},[o.buffer])},postMessage({consoleLog:"broadway worker initialized"}))}),!1)}Decoder.nowValue=nowValue},__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(58921)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},38474:function(e,t,r){var n,o,i;r(15735),r(72994),r(95094),r(58188),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(91781),r(87786)],void 0===(i="function"==typeof(n=function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Player=o;var n=t.Decoder.nowValue;function o(e){var r=this;this._config=e||{},this.render=!0,!1===this._config.render&&(this.render=!1),this.nowValue=n,this._config.workerFile=this._config.workerFile||"Decoder.js",this._config.preserveDrawingBuffer&&(this._config.contextOptions=this._config.contextOptions||{},this._config.contextOptions.preserveDrawingBuffer=!0);var o="auto";if(!0===this._config.webgl?o=!0:!1===this._config.webgl&&(o=!1),"auto"==o){o=!0;try{window.WebGLRenderingContext&&document.createElement("canvas").getContext("webgl")||(o=!1)}catch(e){o=!1}}this.webgl=o,this.webgl?(this.createCanvasObj=this.createCanvasWebGL,this.renderFrame=this.renderFrameWebGL):(this.createCanvasObj=this.createCanvasRGB,this.renderFrame=this.renderFrameRGB);var i=function(e,t,o,i){r.onPictureDecoded(e,t,o,i),n(),e&&r.render&&(r.renderFrame({canvasObj:r.canvasObj,data:e,width:t,height:o}),r.onRenderFrameComplete&&r.onRenderFrameComplete({data:e,width:t,height:o,infos:i,canvasObj:r.canvasObj}))};if(this._config.size||(this._config.size={}),this._config.size.width=this._config.size.width||864,this._config.size.height=this._config.size.height||480,this._config.useWorker){var a=new Worker(this._config.workerFile);this.worker=a,a.addEventListener("message",(function(e){var t=e.data;t.consoleLog?console.log(t.consoleLog):i.call(r,new Uint8Array(t.buf,0,t.length),t.width,t.height,t.infos)}),!1),a.postMessage({type:"Broadway.js - Worker init",options:{rgb:!o,memsize:this.memsize,reuseMemory:!!this._config.reuseMemory,wasmFile:this._config.wasmFile}}),this._config.transferMemory?this.decode=function(e,t){a.postMessage({buf:e.buffer,offset:e.byteOffset,length:e.length,info:t},[e.buffer])}:this.decode=function(e,t){var r=new Uint8Array(e.length);r.set(e,0,e.length),a.postMessage({buf:r.buffer,offset:0,length:e.length,info:t},[r.buffer])},this._config.reuseMemory&&(this.recycleMemory=function(e){a.postMessage({reuse:e.buffer},[e.buffer])})}else this.decoder=new t.Decoder({rgb:!o,wasmFile:this._config.wasmFile}),this.decoder.onPictureDecoded=i,this.decode=function(e,t){r.decoder.decode(e,t)};this.render&&(this.canvasObj=this.createCanvasObj({contextOptions:this._config.contextOptions}),this.canvas=this.canvasObj.canvas),this.domNode=this.canvas,this._config.size.width,this._config.size.height}o.prototype={onPictureDecoded:function(e,t,r,n){},recycleMemory:function(e){},createCanvasWebGL:function(e){var t=this._createBasicCanvasObj(e);return t.contextOptions=e.contextOptions,t},createCanvasRGB:function(e){return this._createBasicCanvasObj(e)},_createBasicCanvasObj:function(e){var t={},r=(e=e||{}).width;r||(r=this._config.size.width);var n=e.height;return n||(n=this._config.size.height),t.canvas=document.createElement("canvas"),t.canvas.width=r,t.canvas.height=n,t.canvas.style.backgroundColor="#000000",t},renderFrameWebGL:function(e){var t=e.canvasObj,n=e.width||t.canvas.width,o=e.height||t.canvas.height;t.canvas.width===n&&t.canvas.height===o&&t.webGLCanvas||(t.canvas.width=n,t.canvas.height=o,t.webGLCanvas=new r.YUVCanvas({canvas:t.canvas,contextOptions:t.contextOptions,width:n,height:o}));var i=n*o,a=n/2*(o/2);t.webGLCanvas.drawNextOutputPicture({yData:e.data.subarray(0,i),uData:e.data.subarray(i,i+a),vData:e.data.subarray(i+a,i+a+a)}),this.recycleMemory(e.data)},renderFrameRGB:function(e){var t=e.canvasObj,r=e.width||t.canvas.width,n=e.height||t.canvas.height;t.canvas.width===r&&t.canvas.height===n||(t.canvas.width=r,t.canvas.height=n);var o=t.ctx,i=t.imgData;o||(t.ctx=t.canvas.getContext("2d"),o=t.ctx,t.imgData=o.createImageData(r,n),i=t.imgData),i.data.set(e.data),o.putImageData(i,0,0),this.recycleMemory(e.data)}}})?n.apply(t,o):n)||(e.exports=i)},87786:function(e,t,r){var n,o,i;r(15735),r(16781),r(72994),r(71245),r(95094),r(58188),r(81382),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e){e=e||{},this.canvasElement=e.canvas||document.createElement("canvas"),this.contextOptions=e.contextOptions,this.type=e.type||"yuv420",this.customYUV444=e.customYUV444,this.conversionType=e.conversionType||"rec601",this.width=e.width||640,this.height=e.height||320,this.animationTime=e.animationTime||0,this.canvasElement.width=this.width,this.canvasElement.height=this.height,this.initContextGL(),this.contextGL&&(this.initProgram(),this.initBuffers(),this.initTextures()),"yuv420"===this.type?this.drawNextOuptutPictureGL=function(e){var t=this.contextGL,r=this.texturePosBuffer,n=this.uTexturePosBuffer,o=this.vTexturePosBuffer,i=this.yTextureRef,a=this.uTextureRef,s=this.vTextureRef,u=e.yData,c=e.uData,l=e.vData,f=this.width,d=this.height,h=e.yDataPerRow||f,p=e.yRowCnt||d,v=e.uDataPerRow||f/2,y=e.uRowCnt||d/2,g=e.vDataPerRow||v,m=e.vRowCnt||y;t.viewport(0,0,f,d);var b=0,w=0,T=d/p,_=f/h,k=new Float32Array([_,b,w,b,_,T,w,T]);t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,k,t.DYNAMIC_DRAW),this.customYUV444?(T=d/y,_=f/v):(T=d/2/y,_=f/2/v);var E=new Float32Array([_,b,w,b,_,T,w,T]);t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,E,t.DYNAMIC_DRAW),this.customYUV444?(T=d/m,_=f/g):(T=d/2/m,_=f/2/g);var C=new Float32Array([_,b,w,b,_,T,w,T]);t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,C,t.DYNAMIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,h,p,0,t.LUMINANCE,t.UNSIGNED_BYTE,u),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,v,y,0,t.LUMINANCE,t.UNSIGNED_BYTE,c),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,g,m,0,t.LUMINANCE,t.UNSIGNED_BYTE,l),t.drawArrays(t.TRIANGLE_STRIP,0,4)}:"yuv422"===this.type&&(this.drawNextOuptutPictureGL=function(e){var t=this.contextGL,r=this.texturePosBuffer,n=this.textureRef,o=e.data,i=this.width,a=this.height,s=e.dataPerRow||2*i,u=e.rowCnt||a;t.viewport(0,0,i,a);var c=0,l=0,f=a/u,d=i/(s/2),h=new Float32Array([d,c,l,c,d,f,l,f]);t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,h,t.DYNAMIC_DRAW),t.uniform2f(t.getUniformLocation(this.shaderProgram,"resolution"),s,a),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,s,u,0,t.LUMINANCE,t.UNSIGNED_BYTE,o),t.drawArrays(t.TRIANGLE_STRIP,0,4)})}Object.defineProperty(e,"__esModule",{value:!0}),e.YUVCanvas=t,t.prototype.isWebGL=function(){return this.contextGL},t.prototype.initContextGL=function(){for(var e=this.canvasElement,t=null,r=["webgl","experimental-webgl","moz-webgl","webkit-3d"],n=0;!t&&n<r.length;){var o=r[n];try{t=this.contextOptions?e.getContext(o,this.contextOptions):e.getContext(o)}catch(e){t=null}t&&"function"==typeof t.getParameter||(t=null),++n}this.contextGL=t},t.prototype.initProgram=function(){var e,t,r=this.contextGL;"yuv420"===this.type?(e=["attribute vec4 vertexPos;","attribute vec4 texturePos;","attribute vec4 uTexturePos;","attribute vec4 vTexturePos;","varying vec2 textureCoord;","varying vec2 uTextureCoord;","varying vec2 vTextureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","  uTextureCoord = uTexturePos.xy;","  vTextureCoord = vTexturePos.xy;","}"].join("\n"),t=["precision highp float;","varying highp vec2 textureCoord;","varying highp vec2 uTextureCoord;","varying highp vec2 vTextureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","uniform mat4 YUV2RGB;","void main(void) {","  highp float y = texture2D(ySampler,  textureCoord).r;","  highp float u = texture2D(uSampler,  uTextureCoord).r;","  highp float v = texture2D(vSampler,  vTextureCoord).r;","  gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join("\n")):"yuv422"===this.type&&(e=["attribute vec4 vertexPos;","attribute vec4 texturePos;","varying vec2 textureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","}"].join("\n"),t=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D sampler;","uniform highp vec2 resolution;","uniform mat4 YUV2RGB;","void main(void) {","  highp float texPixX = 1.0 / resolution.x;","  highp float logPixX = 2.0 / resolution.x;","  highp float logHalfPixX = 4.0 / resolution.x;","  highp float steps = floor(textureCoord.x / logPixX);","  highp float uvSteps = floor(textureCoord.x / logHalfPixX);","  highp float y = texture2D(sampler, vec2((logPixX * steps) + texPixX, textureCoord.y)).r;","  highp float u = texture2D(sampler, vec2((logHalfPixX * uvSteps), textureCoord.y)).r;","  highp float v = texture2D(sampler, vec2((logHalfPixX * uvSteps) + texPixX + texPixX, textureCoord.y)).r;","  gl_FragColor = vec4(y, u, v, 1.0) * YUV2RGB;","}"].join("\n"));var n=[];n="rec709"==this.conversionType?[1.16438,0,1.79274,-.97295,1.16438,-.21325,-.53291,.30148,1.16438,2.1124,0,-1.1334,0,0,0,1]:[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1];var o=r.createShader(r.VERTEX_SHADER);r.shaderSource(o,e),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS)||console.log("Vertex shader failed to compile: ".concat(r.getShaderInfoLog(o)));var i=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(i,t),r.compileShader(i),r.getShaderParameter(i,r.COMPILE_STATUS)||console.log("Fragment shader failed to compile: ".concat(r.getShaderInfoLog(i)));var a=r.createProgram();r.attachShader(a,o),r.attachShader(a,i),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)||console.log("Program failed to compile: ".concat(r.getProgramInfoLog(a))),r.useProgram(a);var s=r.getUniformLocation(a,"YUV2RGB");r.uniformMatrix4fv(s,!1,n),this.shaderProgram=a},t.prototype.initBuffers=function(){var e=this.contextGL,t=this.shaderProgram,r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW);var n=e.getAttribLocation(t,"vertexPos");if(e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),this.animationTime){var o=this.animationTime,i=0,a=15,s=function r(){i+=a;var n=Number(i)/o;i>=o?n=1:setTimeout(r,a);var s=-1*n,u=Number(n),c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,new Float32Array([u,u,s,u,u,s,s,s]),e.STATIC_DRAW);var l=e.getAttribLocation(t,"vertexPos");e.enableVertexAttribArray(l),e.vertexAttribPointer(l,2,e.FLOAT,!1,0,0);try{e.drawArrays(e.TRIANGLE_STRIP,0,4)}catch(e){}};s()}var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var c=e.getAttribLocation(t,"texturePos");if(e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,0,0),this.texturePosBuffer=u,"yuv420"===this.type){var l=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var f=e.getAttribLocation(t,"uTexturePos");e.enableVertexAttribArray(f),e.vertexAttribPointer(f,2,e.FLOAT,!1,0,0),this.uTexturePosBuffer=l;var d=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,d),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.STATIC_DRAW);var h=e.getAttribLocation(t,"vTexturePos");e.enableVertexAttribArray(h),e.vertexAttribPointer(h,2,e.FLOAT,!1,0,0),this.vTexturePosBuffer=d}},t.prototype.initTextures=function(){var e=this.contextGL,t=this.shaderProgram;if("yuv420"===this.type){var r=this.initTexture(),n=e.getUniformLocation(t,"ySampler");e.uniform1i(n,0),this.yTextureRef=r;var o=this.initTexture(),i=e.getUniformLocation(t,"uSampler");e.uniform1i(i,1),this.uTextureRef=o;var a=this.initTexture(),s=e.getUniformLocation(t,"vSampler");e.uniform1i(s,2),this.vTextureRef=a}else if("yuv422"===this.type){var u=this.initTexture(),c=e.getUniformLocation(t,"sampler");e.uniform1i(c,0),this.textureRef=u}},t.prototype.initTexture=function(){var e=this.contextGL,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null),t},t.prototype.drawNextOutputPicture=function(e,t,r,n){this.contextGL?this.drawNextOuptutPictureGL(e,t,r,n):this.drawNextOuptutPictureRGBA(e,t,r,n)},t.prototype.drawNextOuptutPictureRGBA=function(e,t,r,n){r=null;var o=n,i=this.canvasElement.getContext("2d"),a=i.getImageData(0,0,e,t);a.data.set(o),null===r?i.putImageData(a,0,0):i.putImageData(a,-r.left,-r.top,0,0,r.width,r.height)}})?n.apply(t,o):n)||(e.exports=i)},70021:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(74083),r(15735),r(32501),r(26936),r(17525),r(79321),r(18275),r(71245),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(68995),r(73439),r(77950),r(88233),r(28673),r(48319),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(51068),r(50085),r(15198),r(81260),r(37959),r(73396)],n=function(e,t,n,o,i,s,u,c,l){"use strict";var f=r(14859);function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n=f(n),o=f(o),i=f(i),s=f(s),u=f(u);var v=function(){function e(t){(0,i.default)(this,e),(0,u.default)(this,"options",void 0),(0,u.default)(this,"TAG","WaterReportMgr"),(0,u.default)(this,"lsVersion",0),(0,u.default)(this,"maxRetryTimes",3),(0,u.default)(this,"retryDelay",2e3),(0,u.default)(this,"eventTcMs",new Map([[l.ReportCode.ReleaseAreaSuccess,{startTime:0,endTime:0}],[l.ReportCode.RequireAreaSuccess,{startTime:0,endTime:0}],[l.ReportCode.FirstLinkBESuccess,{startTime:0,endTime:0}],[l.ReportCode.ReLinkBESuccess,{startTime:0,endTime:0}],[l.ReportCode.NotFirstLinkBESuccess,{startTime:0,endTime:0}],[l.ReportCode.AllocLoginSuccess,{startTime:0,endTime:0}],[l.ReportCode.LaunchSuccess,{startTime:0,endTime:0}],[l.ReportCode.LaunchSuccessRetry,{startTime:0,endTime:0}],[l.ReportCode.ConnectAVCSuccess,{startTime:0,endTime:0}],[l.ReportCode.ConnectAVCSuccessReAlloc,{startTime:0,endTime:0}]])),(0,u.default)(this,"hasWindowReady",!1),(0,u.default)(this,"hasFirstRenderSuccess",!1),this.options=p({eventCallback:function(){},changeLogCommonData:function(){},logger:{info:function(){},warn:function(){},error:function(){},debug:function(){}}},t),this.options.logger.info(this.TAG,"setURL:".concat(this.options.reportURL))}return(0,s.default)(e,[{key:"report",value:function(e,t,r,n,o){var i=l.DF_REPORT_CODE.get(e);return void 0!==i?(void 0===r&&(r=i.msg),this.eventTrigger(e,i.errcode,r,t,n,o),this.shouldExitSDK(i.errcode)):e>0?(this.eventTrigger(e,l.ErrorCode.ERROR_SERVER_BUSY,r,t,n,o),!0):(this.options.logger.error(this.TAG,"invalid event_id:".concat(e)),!1)}},{key:"customReport",value:function(e,t,r,n){return e<9900||e>9999?(this.options.logger.warn(this.TAG,"event code must between 9900 and 9999"),!1):t<99e5||t>9900099?(this.options.logger.warn(this.TAG,"event id must between 9900000 and 9900099"),!1):(this.doWaterReport(t,e,"",r,n),!0)}},{key:"setEventTcStartMs",value:function(e,t){var r=this.eventTcMs.get(e);r&&(r.startTime=t)}},{key:"setServerHost",value:function(e){this.options.serverHost=e}},{key:"setAreaType",value:function(e){this.options.areaType=e}},{key:"setFlowId",value:function(e){this.options.flowId=e}},{key:"setSdkFlowId",value:function(e){this.options.sdkFlowId=e}},{key:"setUuId",value:function(e){this.options.uuid=e}},{key:"setUserId",value:function(e){this.options.userId=e}},{key:"setLsVersion",value:function(e){this.lsVersion=e}},{key:"setUUId",value:function(e){this.options.uuid=e}},{key:"setGameId",value:function(e){this.options.gId=e}},{key:"setVmId",value:function(e){this.options.vmId=e}},{key:"setClientIP",value:function(e){this.options.clientIP=e}},{key:"setDevId",value:function(e){this.options.devId=e}},{key:"getOptions",value:function(){return this.options}},{key:"_dealEventId",value:function(e){switch(e){case l.ReportCode.GameWindowReady:this.hasWindowReady=!0,this.hasFirstRenderSuccess&&this.report(l.ReportCode.LinkLSAndStartGameSuccess);break;case l.ReportCode.ConnectAVCSuccess:case l.ReportCode.ConnectAVCSuccessReAlloc:this.hasFirstRenderSuccess=!0,(this.hasWindowReady||this.options.gameType===c.DF_DEVICE_TYPE.MOBILE_MOBILE)&&this.report(l.ReportCode.LinkLSAndStartGameSuccess)}}},{key:"doLog",value:function(e,t,r,n){var o="".concat(e,"-").concat(t,"-").concat(r);n&&n.length>0&&(o+="-".concat(n));var i="";this.options.reportURL||(i="(no report url)"),this.options.changeLogCommonData({EVENT:e,APPCODE:t}),this.isError(t)?this.options.logger.error(this.TAG,"water report".concat(i,": ").concat(o," "),t):this.isStatus(t)?this.options.logger.warn(this.TAG,"water report".concat(i,": ").concat(o," "),t):this.options.logger.info(this.TAG,"water report".concat(i,": ").concat(o," "),t)}},{key:"doCallbackExit",value:function(t,r,n,o){var i=this.shouldExitSDK(r);if(i){var a=this.shouldExitServer(r);this.options.eventCallback(e.EventType.ErrorToExit,{isByUser:t===l.ReportCode.ReleaseGame,shouldExit:i,shouldExitServer:a})}}},{key:"doCallback",value:function(t,r,n,o,i,a){this.isError(r)?this.options.eventCallback(e.EventType.ErrorCode,{msg:n,code:r,eventId:t,value1:i,value2:a}):this.isStatus(r)?this.options.eventCallback(e.EventType.GameStatusCode,{msg:n,code:r,eventId:t,value1:i,value2:a}):0===r&&this.options.eventCallback(e.EventType.NormalCode,{msg:n,code:r,eventId:t,value1:i,value2:a})}},{key:"eventTrigger",value:function(e,t,r,n,o,i){t=t||0,r=r||"系统异常",n=n||"",this.doLog(e,t,r,n),e>0&&this.doWaterReport(e,t,r,n),this.doCallbackExit(e,t,r,n),this.doCallback(e,t,r,n,o,i),this._dealEventId(e)}},{key:"shouldExitServer",value:function(e){return this.shouldExitSDK(e)&&e!==l.ErrorCode.STATUS_SERVER_GAME_KICKOFF}},{key:"shouldExitSDK",value:function(e){return e===l.ErrorCode.STATUS_SERVER_GAME_KICKOFF||e===l.ErrorCode.STATUS_GAME_KILLED||e===l.ErrorCode.STATUS_BALANCE_LOW_GAME_KILLED||e===l.ErrorCode.STATUS_IDLE_TIMEOUT_GAME_KILLED||e===l.ErrorCode.STATUS_HOLD_TIMEOUT_GAME_KILLED||e===l.ErrorCode.INNER_STATUS_SDK_RELEASE||!!this.isError(e)}},{key:"isError",value:function(e){return e>=1e3&&e<=1999}},{key:"isStatus",value:function(e){return e>=2e3&&e<=4999}},{key:"getEventTcMs",value:function(e){var t=this.eventTcMs.get(e);if(void 0===t)return 0;if(0===t.startTime)return 0;t.startTime>0&&0===t.endTime&&(t.endTime=(new Date).getTime());var r=t.endTime-t.startTime,n=this.eventTcMs.get(e);return n&&(n.startTime=0,n.endTime=0),r}},{key:"getEventTcMsMap",value:function(){return this.eventTcMs}},{key:"doWaterReport",value:function(e,t,r,n,i){if(0!==e&&(this.options.reportURL||i)){r="".concat(r," ").concat(n);var a=new Date,s="",u="0";if(this.options.serverHost&&this.options.serverHost.indexOf(":")>-1){var l=this.options.serverHost.split(":"),f=(0,o.default)(l,2);s=f[0],u=f[1]}var d={area_type:this.options.areaType,bizid:"".concat(this.options.bizId),device_id:this.options.devId,date:(0,c.dateFormat)("YYYY-mm-dd HH:MM:SS",a),event:e,appcode:t,flow_id:this.options.flowId,sdk_flow_id:this.options.sdkFlowId,uuid:this.options.uuid?parseInt("".concat(this.options.uuid),10):null,user_id:"".concat(this.options.userId),game_id:parseInt("".concat(this.options.gId),10),ugid:parseInt("".concat(this.options.ugid),10),vmid:parseInt("".concat(this.options.vmId),10),desc:r,sdk_type:(0,c.getClientType)(this.options.bizId),sdk_version:this.options.sdkVersion.toString(),appid:this.options.appId,timestamp:a.getTime(),event_tc_ms:this.getEventTcMs(e),roomid:this.options.roomid,model:window.navigator.userAgent,session_id:this.options.appSessionId,client_self_address:this.options.clientIP,area_access_address:s,area_access_port:Number(u),join_method:this.options.joinMethod,target_uuid:this.options.targetUUid,net_type:(0,c.getNetworkStatus)().typeText||null,resolution:this.options.resolution,ls_version:this.lsVersion,in_beta:this.options.inBeta?1:0,connectionType:this.options.connectionType};this.doRequest(0,d,e,t,r,i)}}},{key:"doRequest",value:function(){var e=(0,n.default)(d().mark((function e(t,r,n,o,i,a){var s,u=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="".concat(a||this.options.reportURL),!(t<this.maxRetryTimes)){e.next=13;break}return e.prev=2,e.next=5,(0,c.Require)(-1!==s.indexOf("client/report")?s:"".concat(s,"/v1/client/report"),{data:r});case 5:e.sent||this.options.logger.warn(this.TAG,"water report fail,event=".concat(n,",msg=").concat(i),o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),this.options.logger.error(this.TAG,"water report error(".concat(e.t0.toString(),"),event=").concat(n,",msg=").concat(i),o),setTimeout((function(){u.doRequest(t+1,r,n,o,i)}),this.retryDelay);case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(t,r,n,o,i,a){return e.apply(this,arguments)}return t}()}]),e}();e.default=v,(0,u.default)(v,"EventType",{ErrorToExit:-1,GameStatusCode:1,ErrorCode:2,NormalCode:3}),(0,u.default)(v,"ConnectionType",{Webrtc:1,Websocket:3})},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},73396:function(e,t,r){var n,o,i;r(15735),r(79321),r(95094),r(58188),r(28673),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReportCode=e.ErrorCode=e.DF_REPORT_CODE=void 0;var t={WithoutUser:-1e5,ShowKeyboard:-2e6,HideKeyboard:-2000001,ShowKeyboard2025:-2000025,InterceptFirstControl:-100001,ClosedByTerminal:-3e5,FirstLinkBESuccess:1e5,GetTokenFailed:100001,LinkBEFailed:100002,ErrorAuth:100003,BeLinkClosed:100006,LinkBeTimeoutAndNetworkOffline:100007,LinkBeTimeoutAndNetworkOnline:100008,ReLinkBESuccess:100010,NotFirstLinkBESuccess:100021,InitStartSDK:100023,AllocLoginSuccess:2e5,AllocLoginFiled:200002,AllocLoginTimeout:200003,AnotherGameLive:200009,AllocWithoutDomain:200041,RankUpdate:3e5,CheckoutToBack:32e5,CheckoutToFront:3200001,AuthSuccess:3200030,AllocTimout:700004,AllocFailed:700005,AllocSuccess:700006,ServerRank:700007,GameStatusStartFailure:700008,PrepareStatus:700009,ReAllocTimeout:700010,BeWssLinkFaildWhileAlloc:700020,BeLaunchGameSendFailed:700021,AllocTimeoutBecauseNetwork:700100,HardIsLow:1000001,IsWebsoketLink:1000005,ConnectAVCSuccess:11e5,ConnectAVCSuccessReAlloc:1100027,ControlLinkFailed:1100008,AudioLinkFailed:1100010,LaunchSuccess:1100030,LaunchSuccessRetry:1100026,LaunchError:1100016,LaunchFailed:1100106,QuitLSSuccess:1100112,QuitLSFailed:1100113,ReAllocSuccess:12e5,ReAllocFailed:1200001,NeedReAlloc:1200009,BeReadyRenderTimeout:1400003,GameStatusHoldClosed:1400006,GameWindowReady:1400008,GetBeReadyRender:1400010,ControlGetReadyRender:1400014,ControlGetReadyRender2:1400015,ReadyRender2AfterWaitTime:1400017,VideoLinkSuccess:1500003,AudioLinkSuccess:1500004,RenderFirstFrames:16e5,GameStartRender:17e5,GameViewShow:1700002,RESET_RESOLUTION_DISCONNECTED:1700010,RESET_RESOLUTION_CONNECTED:1700011,ConnectAVCFail:1800002,GameStatusCloseSuccess:19e5,GameStatusCloseByNoMoney:1900002,GameStatusCloseByUnActive:1900003,GameStatusCloseByNetwork:1900004,GameStatusUserUnActive:1900006,NotifyForNoMoney:1900010,RequestQuitGameFailed:2000002,AreaTypeError:2000014,CroosGameTypeInvalide:2000018,LegendCrossParamsInvalide:2000016,GameCrossParamsInvalide:2000017,SystemEventTerminated:2100003,TokenTimeout:26e5,AcountLoginAtOtherHistory:2600001,ReleaseGame:31e5,ChangeToWifi:3200002,ChangeTo4G:3200003,ChangeToOffline:3200004,RelaunchGame:3200005,ShowGamepad:3200031,FirstRenderSuccess:33e5,FirstRenderError:3300001,StopStartGame:3300002,LinkLSAndStartGameSuccess:3300010,RequireAreaSuccess:34e5,RequireAreaShouldPass:3400001,TargetFlowNotSetup:3400014,NeedchangeDevIdAndReapply:3400049,ApplyReturnDevIdNull:3400050,RetrtRequireAreaFailed:3400022,ReleaseAreaSuccess:35e5,ReleaseAreaError:3500007,GameHasExit:36e5,TokenError:3600001,ServerError:3600003,AcountLoginAtOther:3600004,LinkUnuseTimeout:3600005,UserLogout:3600006,NetworkBad:3700036,ApplyGamepadSuccess:38e5,CheckGameCacheFailed:3800001,ApplyGamepadFailed:3800002,GamepadNeedAllocGame:3800003,ApplyGamepadFiledForZK:3800004,IllegalGamepadToken:3800005,GamepadHadApplied:3800006,DpadHadApplied:3800007,AuthRemoteGamepadFailed:3800008,AuthRemoteGamepadSuccess:3800009,ApplyRemoteGamepadSuccess:3800010,IllegalGamepadId:3800011,QRMax:3800012,HelperStartHelp:4e6,HelperHasStop:4000001,NotifyHelpExit:4000002,StopHelp:4000003,EnterFightSuccess:4000004,LeaveFightGame:4000005,StopFight:4000006,FightGameExit:4000007,BeChangeScreenSuccess:4000008,BeChangeScreenFail:4000009,EnterFightFail:4000010,HelpFail:4000011,HelpTagIsNoMaster:4100004,TagHasBeHelp:4100005,FightNumMax:4200004,EnterViewGameSuccess:45e5,EnterViewGameFail:4500001,LeaveViewGameSuccess:4500002,EnterMeetingSuccess:4500004,LeaveMeetingSuccess:4500005,StopMeeting:4500006,EnterMeetingFail:4500007,InstanceGamepadEnter:4600005,InstanceGamepadOut:4600006,InstanceGamepadDisabled:4600007,QualityPlatform:48e5,QualityDeatail:4800001,RecommendVideoLevel:5000004,LowerBrowserFPS:5300100,LowerReceiveFPS:5300101,LowerRenderFPS:5300102,NoAudioTruck:5300103,AudioPlayFailed:5300104,NoWebrtcSupport:5300110,NoMouseLock:460100,StreamDisconneted:1800005,SignWebsocketConnected:5200010,SignWebsocketFailed:5200011,SignWebsocketClosed:5200012,PeerConnectionCreateSuccess:5200013,PeerConnectionCreateFailed:5200014,CreateLocalOfferSuccess:5200015,CreateLocalOfferFailed:5200016,SetLocalDescriptionSuccess:5200017,SetLocalDescriptionFailed:5200018,SendLocalOffer:5200019,ReceiveRemoteAnswer:5200020,SetRemoteDescriptionSuccess:5200021,SetRemoteDescriptionFailed:5200022,CreateLocalAnswerSuccess:5200023,CreateLocalAnswerFailed:5200024,SendLocalAnswer:5200025,ReceiveRemoteOffer:5200026,SendLocalIceCandidate:5200027,ReceiveRemoteIceCandidate:5200028,AddRemoteIceCandidate:5200029,IceStatusChangeConnected:5200030,IceStatusChangeFailed:5200031,IceStatusChangeDisconnected:5200032,ReceiveTrackStream:5200033,DataChannelOpen:5200034,IceCandidateTimeout:5300111,IsBlackScreenInspect:5300112,RequestIdr:5300113,RequestIdrResumePlaySuccess:5300114};e.ReportCode=t;var r={ERROR_BASE:1e3,ERROR_SERVER_BUSY:1001,ERROR_GAME_LAUNCH_GAME_FAILED:1002,ERROR_HARD_WARE:1004,ERROR_TIMEOUT:1005,ERROR_TOKEN_EXPIRED:1006,ERROR_GAME_ID:1007,ERROR_BALANCE_LOW:1010,ERROR_GAME_LAUNCH_GAME_CDKEY_FAILED:1014,ERROR_BE_LAUNCH_TIMEOUT_FOR_NETWORK:1015,ERROR_GAME_LAUNCH_APP_TOKEN_FAILED:1016,ERROR_GAME_LAUNCH_PARAMS_INVALIDE:1017,ERROR_AUTH:1019,ERROR_REVIEW_FAILED:1200,ERROR_CANDIDATE_TIMEOUT:1201,ERROR_AUTH_PARAMS:1020,ERROR_AUTH_SERVER:1021,STATUS_BASE:2e3,STATUS_GAME_START_RENDER:2001,STATUS_SERVER_INQUEUE:2002,STATUS_SERVER_PREALLOCATE:2003,STATUS_SERVER_ALLOCATE_SUCCESS:2004,STATUS_SERVER_GAME_INACTIVE:2006,STATUS_GAME_KILLED:2007,STATUS_SERVER_UPEATE_QUEUE_RANK:2008,STATUS_SERVER_GAME_KICKOFF:2009,STATUS_BALANCE_LOW:2010,STATUS_BALANCE_LOW_GAME_KILLED:2011,STATUS_IDLE_TIMEOUT_GAME_KILLED:2012,STATUS_HOLD_TIMEOUT_GAME_KILLED:2013,STATUS_AUTH_SUCCESS:2014,STATUS_GAME_UPDATING:2016,RESUME_STREAM_SUCCESS:2017,RESUME_STREAM_FAILED:2018,NETWORK_NONE:2020,STATUS_STREAM_ERROR_ONBACK:2022,STATUS_SHOW_KEYBORD:2025,STATUS_HELPER_START:2026,STATUS_HELPER_EXIT:2027,NOTIFY_HELP_TO_EXIT:2028,STATUS_HELP_STOP:2029,SUCCESS_ENTER_FIGHT:2030,STATUS_LEAVE_FIGHT_GAME:2031,STATUS_FIGHT_STOP:2032,STATUS_FIGHT_GAME_END:2033,STATUS_BE_CHAGNE_SCREEN:2034,ERROR_BECHANGE_SCREEN:2035,ERROR_ENTER_FIGHT:2036,ERROR_HELP:2037,ERROR_HELP_BY_TAG_CHAR:2038,ERROR_HELP_FOR_HAS_BE_HELP:2039,STATUS_GAME_RENDER_FIRST_CANVAS:2040,ERROR_SAME_INSTANCE_PARAM:2042,STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER:2043,STATUS_GAME_RELEASE_BY_AMDIN:2044,STATUS_LINK_BE_ERROR_ONLINE:2060,GAME_SAVE_ERROR:2061,USER_ARCHIVES_MIGRATING:2202,STATUS_AUTO_PLAY_NOT_SUPPORT:2070,SUCCESS_ENTER_VIEW:2080,SUCCESS_LEAVE_VIEW:2081,ERROR_ENTER_VIEW:2082,STATUS_INSTANCE_GAMEPAD_ENTER:2083,STATUS_INSTANCE_GAMEPAD_OUT:2084,STATUS_INSTANCE_GAMEPAD_DISABLED:2085,STATUS_RECOMMEND_VIDEO_LEVEL:2092,STATUS_NETWORK_BAD:2093,STATUS_NETWORK_BAD_NEW:4e3,FIRST_CONTROL_INTERCEPT:2096,STATUS_SOFTWARE_DECODER:2101,STATUS_CONTROL_STREAM_SHOW_KEYBOARD:2102,STATUS_CONTROL_PAD_CONFIG:2103,RESET_RESOLUTION_DISCONNECTED:2300,RESET_RESOLUTION_CONNECTED:2301,SUCCESS_ENTER_MEETING:2501,SUCCESS_LEAVE_MEETING:2502,SUCCESS_STOP_MEETING:2503,ERROR_ENTER_MEETING:2504,SUCCESS_CHANGE_VQ_LEVEL:2610,STATUS_HIDE_KEYBORD:2800,INNER_BASE:3e3,INNER_STATUS_SDK_RELEASE:3001,STATUS_LOWER_BROWSER_FPS:2601,STATUS_LOWER_RECEIVE_FPS:2602,STATUS_LOWER_RENDER_FPS:2603,STATUS_NO_AUDIO_TRUCK:2604,STATUS_AUDIO_PLAY_FAILED:2605,STATUS_NO_MOUSELOCK:2065,STATUS_NO_WEBRTC_SUPPORT:2611,STATUS_RELAUNCH:2053,STATUS_STREAM_DISCONNECTED:2052};e.ErrorCode=r;var n=new Map([[t.InterceptFirstControl,{errcode:r.FIRST_CONTROL_INTERCEPT,msg:"用户按下任意键"}],[t.SignWebsocketConnected,{errcode:0,msg:"信令服务器连接成功"}],[t.SignWebsocketFailed,{errcode:0,msg:"信令服务器连接失败"}],[t.SignWebsocketClosed,{errcode:0,msg:"信令服务器连接断开"}],[t.PeerConnectionCreateSuccess,{errcode:0,msg:"PeerConnection对象创建成功"}],[t.PeerConnectionCreateFailed,{errcode:0,msg:"PeerConnection对象创建失败"}],[t.CreateLocalOfferSuccess,{errcode:0,msg:"创建本地offer成功"}],[t.CreateLocalOfferFailed,{errcode:0,msg:"创建本地offer失败"}],[t.SetLocalDescriptionSuccess,{errcode:0,msg:"设置本地描述成功"}],[t.SetLocalDescriptionFailed,{errcode:r.ERROR_GAME_LAUNCH_GAME_FAILED,msg:"设置本地描述失败"}],[t.SendLocalOffer,{errcode:0,msg:"发送本地offer"}],[t.ReceiveRemoteAnswer,{errcode:0,msg:"收到远程answer"}],[t.SetRemoteDescriptionSuccess,{errcode:0,msg:"设置远端描述成功"}],[t.SetRemoteDescriptionFailed,{errcode:r.ERROR_GAME_LAUNCH_GAME_FAILED,msg:"设置远端描述失败"}],[t.CreateLocalAnswerSuccess,{errcode:0,msg:"创建本地answer成功"}],[t.CreateLocalAnswerFailed,{errcode:0,msg:"创建本地answer失败"}],[t.SendLocalAnswer,{errcode:0,msg:"发送本地answer"}],[t.ReceiveRemoteOffer,{errcode:0,msg:"收到远端offer"}],[t.SendLocalIceCandidate,{errcode:0,msg:"发送本地ice信息"}],[t.ReceiveRemoteIceCandidate,{errcode:0,msg:"收到远程iceCandidate"}],[t.AddRemoteIceCandidate,{errcode:0,msg:"添加远程iceCandidate"}],[t.IceStatusChangeConnected,{errcode:0,msg:"ice连上"}],[t.IceStatusChangeFailed,{errcode:0,msg:"ice连接失败"}],[t.IceStatusChangeDisconnected,{errcode:0,msg:"ice断开"}],[t.ReceiveTrackStream,{errcode:0,msg:"收到串流数据"}],[t.DataChannelOpen,{errcode:0,msg:"控制通道打开"}],[t.IceCandidateTimeout,{errcode:r.ERROR_CANDIDATE_TIMEOUT,msg:"浏览器探测candidate超时"}],[t.IsBlackScreenInspect,{errcode:0,msg:"检测到游戏黑屏"}],[t.RequestIdr,{errcode:0,msg:"请求idr"}],[t.RequestIdrResumePlaySuccess,{errcode:0,msg:"请求idr后成功恢复播放"}],[t.InitStartSDK,{errcode:0,msg:"SDK开始初始化"}],[t.FirstLinkBESuccess,{errcode:0,msg:"首次连接服务器成功"}],[t.GetTokenFailed,{errcode:r.ERROR_TOKEN_EXPIRED,msg:"获取token失败"}],[t.LinkBEFailed,{errcode:0,msg:"连接服务器失败"}],[t.ErrorAuth,{errcode:r.ERROR_AUTH,msg:"SDK未执行初始化"}],[100004,{errcode:0,msg:"用户长时间未操作"}],[t.BeLinkClosed,{errcode:0,msg:"服务器断开"}],[100009,{errcode:0,msg:"心跳超时"}],[t.ReLinkBESuccess,{errcode:0,msg:"重新连接服务器成功"}],[t.WithoutUser,{errcode:r.ERROR_AUTH,msg:"该用户不存在"}],[t.NotFirstLinkBESuccess,{errcode:0,msg:"非首次连接服务器成功"}],[t.LinkBeTimeoutAndNetworkOffline,{errcode:r.NETWORK_NONE,msg:"连接服务器超时(断网)"}],[t.LinkBeTimeoutAndNetworkOnline,{errcode:r.STATUS_LINK_BE_ERROR_ONLINE,msg:"连接服务器超时(有网)"}],[t.AuthSuccess,{errcode:r.STATUS_AUTH_SUCCESS,msg:"SDK初始化成功"}],[t.IsWebsoketLink,{errcode:r.STATUS_SOFTWARE_DECODER,msg:"该浏览器仅支持软解"}],[t.AllocLoginSuccess,{errcode:0,msg:"登录游戏成功"}],[t.AllocLoginFiled,{errcode:0,msg:"登录游戏发送失败，无网络"}],[t.AllocLoginTimeout,{errcode:0,msg:"登录游戏发送超时"}],[200004,{errcode:r.ERROR_TOKEN_EXPIRED,msg:"登录游戏token失效"}],[200005,{errcode:r.ERROR_BALANCE_LOW,msg:"登录游戏剩余时长不足"}],[200006,{errcode:r.ERROR_GAME_LAUNCH_GAME_CDKEY_FAILED,msg:"登录游戏CDKey错误"}],[200007,{errcode:r.ERROR_GAME_ID,msg:"登录游戏ID错误"}],[200008,{errcode:r.ERROR_SERVER_BUSY,msg:"登录游戏状态错误"}],[t.AnotherGameLive,{errcode:0,msg:"另一个游戏正在运行"}],[200010,{errcode:r.ERROR_SERVER_BUSY,msg:"虚拟机分配失败"}],[200011,{errcode:r.ERROR_GAME_ID,msg:"登录游戏ID必须大于0"}],[200015,{errcode:r.ERROR_SERVER_BUSY,msg:"查询游戏信息失败"}],[200016,{errcode:r.ERROR_SERVER_BUSY,msg:"查询游戏授权失败"}],[200017,{errcode:r.ERROR_SERVER_BUSY,msg:"更新游戏缓存失败"}],[200018,{errcode:r.ERROR_SERVER_BUSY,msg:"查询游戏缓存失败"}],[200019,{errcode:r.ERROR_GAME_LAUNCH_APP_TOKEN_FAILED,msg:"游戏token失效"}],[200020,{errcode:r.STATUS_GAME_UPDATING,msg:"游戏正在更新中"}],[t.AllocWithoutDomain,{errcode:r.ERROR_SERVER_BUSY,msg:"服务器未返回资源域名"}],[t.RankUpdate,{errcode:r.STATUS_SERVER_UPEATE_QUEUE_RANK,msg:"正在排队中"}],[300001,{errcode:0,msg:"请求排队信息失败（无连接）"}],[300002,{errcode:0,msg:"请求排队信息超时"}],[300004,{errcode:0,msg:"用户未启动游戏"}],[300005,{errcode:0,msg:"游戏ID不匹配"}],[300006,{errcode:0,msg:"游戏未在排队状态"}],[300007,{errcode:0,msg:"携带的token非法"}],[300008,{errcode:0,msg:"服务器查询排队信息失败"}],[300009,{errcode:0,msg:"服务器查询游戏缓存失败"}],[t.AllocTimout,{errcode:r.ERROR_TIMEOUT,msg:"加载游戏超时"}],[t.AllocFailed,{errcode:r.ERROR_TIMEOUT,msg:"资源分配失败"}],[t.AllocSuccess,{errcode:r.STATUS_SERVER_ALLOCATE_SUCCESS,msg:"资源分配成功"}],[t.ServerRank,{errcode:r.STATUS_SERVER_INQUEUE,msg:"服务器已满，正在排队"}],[t.GameStatusStartFailure,{errcode:r.ERROR_SERVER_BUSY,msg:"服务器繁忙，请稍候再试!"}],[t.PrepareStatus,{errcode:r.STATUS_SERVER_PREALLOCATE,msg:"预分配阶段"}],[t.ReAllocTimeout,{errcode:r.ERROR_TIMEOUT,msg:"重新置换资源加载游戏超时"}],[t.BeWssLinkFaildWhileAlloc,{errcode:r.ERROR_TIMEOUT,msg:"加载游戏超时，原因：websocket没连接上"}],[t.BeLaunchGameSendFailed,{errcode:r.ERROR_TIMEOUT,msg:"加载游戏超时，原因：launch协议失败"}],[t.AllocTimeoutBecauseNetwork,{errcode:r.ERROR_BE_LAUNCH_TIMEOUT_FOR_NETWORK,msg:"网络或用户操作异常无法启动游戏"}],[1e6,{errcode:0,msg:"创建播放器成功"}],[t.HardIsLow,{errcode:r.ERROR_HARD_WARE,msg:"硬件性能不够"}],[t.NoMouseLock,{errcode:r.STATUS_NO_MOUSELOCK,msg:"鼠标锁定失败"}],[t.LaunchSuccess,{errcode:0,msg:"LS首次launch成功"}],[t.LaunchSuccessRetry,{errcode:0,msg:"LSLaunch异常后重试成功"}],[t.ConnectAVCSuccess,{errcode:0,msg:"串流AVC连接成功"}],[t.ConnectAVCSuccessReAlloc,{errcode:0,msg:"重新分配资源后，串流AVC连接成功"}],[t.ControlLinkFailed,{errcode:0,msg:"控制流建立失败"}],[1100009,{errcode:0,msg:"视频流建立失败"}],[1100050,{errcode:1001,msg:"实例已占用，请稍后再试"}],[t.AudioLinkFailed,{errcode:0,msg:"音频流建立失败"}],[t.LaunchError,{errcode:r.ERROR_GAME_LAUNCH_GAME_FAILED,msg:"虚拟机连接失败"}],[1100021,{errcode:0,msg:"SSL握手超时"}],[t.LaunchFailed,{errcode:0,msg:"虚拟机游戏启动失败"}],[t.QuitLSSuccess,{errcode:0,msg:"虚拟机游戏停止成功"}],[t.QuitLSFailed,{errcode:0,msg:"虚拟机游戏停止失败"}],[t.ReAllocSuccess,{errcode:0,msg:"重申资源请求返回成功"}],[t.ReAllocFailed,{errcode:0,msg:"重申资源请求返回失败"}],[1200002,{errcode:0,msg:"重申资源发送失败"}],[1200003,{errcode:0,msg:"重申资源发送超时"}],[1200004,{errcode:r.ERROR_TOKEN_EXPIRED,msg:"游戏token失效"}],[1200005,{errcode:r.ERROR_GAME_ID,msg:"游戏ID无效"}],[1200007,{errcode:r.ERROR_GAME_ID,msg:"游戏状态非法"}],[t.NeedReAlloc,{errcode:0,msg:"需要重新置换资源"}],[1200012,{errcode:r.ERROR_SERVER_BUSY,msg:"置换次数达到上限"}],[t.BeReadyRenderTimeout,{errcode:r.ERROR_SERVER_BUSY,msg:"等待渲染通知超时"}],[1400004,{errcode:r.ERROR_SERVER_BUSY,msg:"没有收到渲染通知，结束串流"}],[t.GameStatusHoldClosed,{errcode:r.STATUS_HOLD_TIMEOUT_GAME_KILLED,msg:"开始游戏超时断开"}],[t.GameWindowReady,{errcode:0,msg:"游戏窗口准备完毕"}],[t.GetBeReadyRender,{errcode:0,msg:"收到渲染通知"}],[t.ControlGetReadyRender,{errcode:0,msg:"control通道收到readyRender1"}],[t.ControlGetReadyRender2,{errcode:0,msg:"control通道收到readyRender2"}],[t.ReadyRender2AfterWaitTime,{errcode:0,msg:"通过launch返回时间触发readyRender2"}],[t.VideoLinkSuccess,{errcode:0,msg:"视频流连接成功"}],[t.AudioLinkSuccess,{errcode:0,msg:"音频流连接成功"}],[1500005,{errcode:0,msg:"控制流连接成功"}],[1500016,{errcode:0,msg:"webrtc信令通道连接成功"}],[1500017,{errcode:0,msg:"webrtc信令通道连接失败"}],[1500018,{errcode:0,msg:"webrtc信令通道断开连接"}],[t.RenderFirstFrames,{errcode:0,msg:"开始渲染第一个视频帧"}],[t.RESET_RESOLUTION_DISCONNECTED,{errcode:r.RESET_RESOLUTION_DISCONNECTED,msg:"重设分辨率断开"}],[t.RESET_RESOLUTION_CONNECTED,{errcode:r.RESET_RESOLUTION_CONNECTED,msg:"重设分辨率重连成功"}],[t.GameStartRender,{errcode:r.STATUS_GAME_START_RENDER,msg:"游戏开始渲染"}],[1700001,{errcode:r.RESUME_STREAM_SUCCESS,msg:"恢复串流成功"}],[t.GameViewShow,{errcode:r.STATUS_GAME_RENDER_FIRST_CANVAS,msg:"游戏画面出现成功"}],[t.ConnectAVCFail,{errcode:r.ERROR_GAME_LAUNCH_GAME_FAILED,msg:"串流avc连接失败"}],[t.GameStatusCloseSuccess,{errcode:r.STATUS_GAME_KILLED,msg:"收到渲染通知，结束串流"}],[t.GameStatusCloseByNoMoney,{errcode:r.STATUS_BALANCE_LOW_GAME_KILLED,msg:"余额不足断开游戏"}],[t.GameStatusCloseByUnActive,{errcode:r.STATUS_IDLE_TIMEOUT_GAME_KILLED,msg:"游戏空闲断开"}],[t.GameStatusCloseByNetwork,{errcode:r.NETWORK_NONE,msg:"网络异常，无法连接服务器"}],[t.GameStatusUserUnActive,{errcode:r.STATUS_SERVER_GAME_INACTIVE,msg:"长时间未操作即将关闭"}],[t.NotifyForNoMoney,{errcode:r.STATUS_BALANCE_LOW,msg:"余额不足提醒"}],[2000001,{errcode:0,msg:"请求后台退出游戏调用成功"}],[t.RequestQuitGameFailed,{errcode:0,msg:"请求后台退出游戏失败"}],[2000003,{errcode:0,msg:"请求后台退出游戏超时"}],[t.AreaTypeError,{errcode:r.ERROR_GAME_LAUNCH_PARAMS_INVALIDE,msg:"areaType不可小于0"}],[t.CroosGameTypeInvalide,{errcode:r.ERROR_GAME_LAUNCH_PARAMS_INVALIDE,msg:"游戏类型错误"}],[2000015,{errcode:r.ERROR_GAME_LAUNCH_PARAMS_INVALIDE,msg:"steam游戏参数错误"}],[t.LegendCrossParamsInvalide,{errcode:r.ERROR_GAME_LAUNCH_PARAMS_INVALIDE,msg:"传奇参数错误"}],[t.GameCrossParamsInvalide,{errcode:r.ERROR_GAME_LAUNCH_PARAMS_INVALIDE,msg:"JSON格式错误"}],[t.TokenTimeout,{errcode:r.ERROR_TOKEN_EXPIRED,msg:"token过期"}],[t.AcountLoginAtOtherHistory,{errcode:r.STATUS_SERVER_GAME_KICKOFF,msg:"您的账号在其它设备登录"}],[t.ReleaseGame,{errcode:r.INNER_STATUS_SDK_RELEASE,msg:"App调用release"}],[t.CheckoutToBack,{errcode:0,msg:"切换到后台"}],[t.CheckoutToFront,{errcode:0,msg:"切换到前台"}],[t.ChangeToWifi,{errcode:0,msg:"转换为wifi连接"}],[t.ChangeTo4G,{errcode:0,msg:"转换为移动连接"}],[t.ChangeToOffline,{errcode:0,msg:"转换为无网络"}],[t.RelaunchGame,{errcode:r.STATUS_RELAUNCH,msg:"重新恢复串流"}],[t.NoWebrtcSupport,{errcode:r.STATUS_NO_WEBRTC_SUPPORT,msg:"无法使用rtc串流"}],[t.StreamDisconneted,{errcode:r.STATUS_STREAM_DISCONNECTED,msg:"串流已经断开"}],[t.FirstRenderSuccess,{errcode:0,msg:"启动游戏后，第一次看到游戏画面成功"}],[t.FirstRenderError,{errcode:0,msg:"启动游戏，第一次看到游戏画面失败"}],[t.StopStartGame,{errcode:0,msg:"启动游戏后，App放弃开始游戏"}],[t.LinkLSAndStartGameSuccess,{errcode:0,msg:"串流并且游戏启动成功"}],[t.RequireAreaSuccess,{errcode:0,msg:"区域申请成功"}],[t.RequireAreaShouldPass,{errcode:0,msg:"无需union分配"}],[3400002,{errcode:r.ERROR_TOKEN_EXPIRED,msg:"token 失效"}],[3400003,{errcode:r.ERROR_GAME_ID,msg:"游戏ID不可用"}],[3400004,{errcode:0,msg:"另一个游戏运行中"}],[3400006,{errcode:r.ERROR_SERVER_BUSY,msg:"向区域注册用户失败"}],[3400007,{errcode:r.ERROR_SERVER_BUSY,msg:"预分配区域资源失败"}],[3400010,{errcode:0,msg:"申请计费ID失败"}],[3400011,{errcode:r.ERROR_SERVER_BUSY,msg:"开始计费失败"}],[3400013,{errcode:r.ERROR_SAME_INSTANCE_PARAM,msg:"房主信息不可用"}],[t.TargetFlowNotSetup,{errcode:r.STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER,msg:"目标flow未启动成功"}],[3400015,{errcode:r.STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER,msg:"用户正在切屏中"}],[3400016,{errcode:r.ERROR_SAME_INSTANCE_PARAM,msg:"不支持的启动模式"}],[3400017,{errcode:r.ERROR_SAME_INSTANCE_PARAM,msg:"不支持的加入模式"}],[3400018,{errcode:r.STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER,msg:"主设备禁止切屏"}],[3400019,{errcode:r.STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER,msg:"主用户禁止协助"}],[3400020,{errcode:0,msg:"区域申请连接失败"}],[t.RetrtRequireAreaFailed,{errcode:r.ERROR_SERVER_BUSY,msg:"区域申请持续连接失败，请检查网络"}],[3400027,{errcode:r.STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER,msg:"主用户禁止对战"}],[3400028,{errcode:r.ERROR_SAME_INSTANCE_PARAM,msg:"用户设备类型限制"}],[3400029,{errcode:r.ERROR_SAME_INSTANCE_PARAM,msg:"目标用户不是主用户"}],[3400030,{errcode:r.ERROR_SAME_INSTANCE_PARAM,msg:"解析区域接入信息失败"}],[3400031,{errcode:r.STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER,msg:"同实例模式下禁止老版本互踢"}],[3400065,{errcode:r.STATUS_SAME_INSTANCE_FAILE_BY_TAG_USER,msg:"在房主用户没有开启同实例时，其他用户申请加入同实例"}],[3400033,{errcode:r.STATUS_BALANCE_LOW_GAME_KILLED,msg:"余额不足"}],[3400037,{errcode:r.GAME_SAVE_ERROR,msg:"指定存档错误"}],[3400038,{errcode:r.GAME_SAVE_ERROR,msg:"指定存档错误"}],[3400102,{errcode:r.USER_ARCHIVES_MIGRATING,msg:"存档迁移中，稍后再进行操作"}],[t.NeedchangeDevIdAndReapply,{errcode:r.INNER_BASE,msg:"需替换devid后再调apply"}],[t.ApplyReturnDevIdNull,{errcode:0,msg:"返回的existing_dev_id为空"}],[t.ReleaseAreaSuccess,{errcode:0,msg:"区域释放成功"}],[t.ReleaseAreaError,{errcode:0,msg:"区域释放请求失败"}],[t.GameHasExit,{errcode:r.STATUS_GAME_KILLED,msg:"游戏已结束"}],[t.TokenError,{errcode:r.ERROR_SERVER_BUSY,msg:"token非法"}],[t.ServerError,{errcode:0,msg:"后台异常"}],[t.AcountLoginAtOther,{errcode:r.STATUS_SERVER_GAME_KICKOFF,msg:"您的账号在其它设备登录"}],[t.LinkUnuseTimeout,{errcode:0,msg:"连接空闲超时"}],[t.UserLogout,{errcode:0,msg:"用户注销登录"}],[t.SystemEventTerminated,{errcode:r.STATUS_GAME_RELEASE_BY_AMDIN,msg:"游戏被管理后台终止"}],[t.ClosedByTerminal,{errcode:0,msg:"游戏被管理后台终止"}],[t.ShowKeyboard,{errcode:r.STATUS_CONTROL_STREAM_SHOW_KEYBOARD,msg:"展示软键盘"}],[t.ShowKeyboard2025,{errcode:r.STATUS_SHOW_KEYBORD,msg:"展示软键盘"}],[t.HideKeyboard,{errcode:r.STATUS_HIDE_KEYBORD,msg:"隐藏软键盘"}],[t.ShowGamepad,{errcode:r.STATUS_CONTROL_PAD_CONFIG,msg:"返回虚拟键盘配置文件"}],[t.RecommendVideoLevel,{errcode:r.STATUS_RECOMMEND_VIDEO_LEVEL,msg:"当前网络不佳，建议使用推荐挡位"}],[t.LowerBrowserFPS,{errcode:r.STATUS_LOWER_BROWSER_FPS,msg:"浏览器性能降低"}],[t.LowerReceiveFPS,{errcode:r.STATUS_LOWER_RECEIVE_FPS,msg:" 网络或云端异常，接收帧率不足"}],[t.LowerRenderFPS,{errcode:r.STATUS_LOWER_RENDER_FPS,msg:"解码性能不足"}],[t.NoAudioTruck,{errcode:r.STATUS_NO_AUDIO_TRUCK,msg:"没有收到音轨数据"}],[t.AudioPlayFailed,{errcode:0,msg:"音轨播放失败"}],[t.AudioLinkFailed,{errcode:r.STATUS_AUDIO_PLAY_FAILED,msg:"声音播放失败"}],[t.AudioPlayFailed,{errcode:0,msg:"音轨播放失败"}],[t.NetworkBad,{errcode:r.STATUS_NETWORK_BAD_NEW,msg:"当前网络不佳"}],[t.ApplyGamepadSuccess,{errcode:0,msg:"申请手柄成功"}],[t.CheckGameCacheFailed,{errcode:0,msg:"查询游戏缓存失败"}],[t.ApplyGamepadFailed,{errcode:0,msg:"申请手柄失败"}],[t.GamepadNeedAllocGame,{errcode:0,msg:"资源分配未完成"}],[t.ApplyGamepadFiledForZK,{errcode:0,msg:"申请手柄获取zk锁失败"}],[t.IllegalGamepadToken,{errcode:0,msg:"非法的手柄凭证"}],[t.GamepadHadApplied,{errcode:0,msg:"指定手柄已被申请过"}],[t.DpadHadApplied,{errcode:0,msg:"指定插槽已被使用"}],[t.AuthRemoteGamepadFailed,{errcode:0,msg:"授权远程手柄失败"}],[t.AuthRemoteGamepadSuccess,{errcode:0,msg:"授权远程手柄成功"}],[t.ApplyRemoteGamepadSuccess,{errcode:0,msg:"申请远程手柄成功"}],[t.IllegalGamepadId,{errcode:0,msg:"非法的虚拟手柄ID"}],[t.QRMax,{errcode:0,msg:"扫码设备数量达到上限"}],[t.HelperStartHelp,{errcode:r.STATUS_HELPER_START,msg:"协助者开始协助"}],[t.HelperHasStop,{errcode:r.STATUS_HELPER_EXIT,msg:"协助者停止协助"}],[t.NotifyHelpExit,{errcode:r.NOTIFY_HELP_TO_EXIT,msg:"通知协助者中断协助"}],[t.StopHelp,{errcode:r.STATUS_HELP_STOP,msg:"协助游戏终止，房主退出游戏"}],[t.EnterFightSuccess,{errcode:r.SUCCESS_ENTER_FIGHT,msg:"加入对战"}],[t.LeaveFightGame,{errcode:r.STATUS_LEAVE_FIGHT_GAME,msg:"离开对战"}],[t.StopFight,{errcode:r.STATUS_FIGHT_STOP,msg:"中断对战"}],[t.FightGameExit,{errcode:r.STATUS_FIGHT_GAME_END,msg:"对战游戏终止"}],[t.BeChangeScreenSuccess,{errcode:r.STATUS_BE_CHAGNE_SCREEN,msg:"切屏设备切屏成功"}],[t.BeChangeScreenFail,{errcode:r.ERROR_BECHANGE_SCREEN,msg:"切屏设备切屏失败"}],[t.EnterFightFail,{errcode:r.ERROR_ENTER_FIGHT,msg:"加入对战失败"}],[t.HelpFail,{errcode:r.ERROR_HELP,msg:"协助失败"}],[t.HelpTagIsNoMaster,{errcode:r.ERROR_HELP_BY_TAG_CHAR,msg:"协助目标不是房主"}],[t.TagHasBeHelp,{errcode:r.ERROR_HELP_FOR_HAS_BE_HELP,msg:"协助目标已经被其他人协助"}],[t.FightNumMax,{errcode:r.ERROR_SAME_INSTANCE_PARAM,msg:"对战人数已经到达最大数量"}],[t.EnterViewGameSuccess,{errcode:r.SUCCESS_ENTER_VIEW,msg:"加入观看成功"}],[t.EnterViewGameFail,{errcode:r.ERROR_ENTER_VIEW,msg:"加入观看失败"}],[t.LeaveViewGameSuccess,{errcode:r.SUCCESS_LEAVE_VIEW,msg:"离开观看成功"}],[t.EnterMeetingSuccess,{errcode:r.SUCCESS_ENTER_MEETING,msg:"加入会议成功"}],[t.EnterMeetingFail,{errcode:r.ERROR_ENTER_MEETING,msg:"加入会议失败"}],[t.LeaveMeetingSuccess,{errcode:r.SUCCESS_LEAVE_MEETING,msg:"离开会议成功"}],[t.StopMeeting,{errcode:r.SUCCESS_STOP_MEETING,msg:"终止会议成功"}],[t.InstanceGamepadEnter,{errcode:r.STATUS_INSTANCE_GAMEPAD_ENTER,msg:"远程手柄加入成功"}],[t.InstanceGamepadOut,{errcode:r.STATUS_INSTANCE_GAMEPAD_OUT,msg:"远程手柄退出"}],[t.InstanceGamepadDisabled,{errcode:r.STATUS_INSTANCE_GAMEPAD_DISABLED,msg:"远程手柄禁用"}]]);e.DF_REPORT_CODE=n})?n.apply(t,o):n)||(e.exports=i)},86e3:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(73396),r(70021)],void 0===(i="function"==typeof(n=function(e,t,n){"use strict";var o=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DF_REPORT_CODE",{enumerable:!0,get:function(){return t.DF_REPORT_CODE}}),Object.defineProperty(e,"ErrorCode",{enumerable:!0,get:function(){return t.ErrorCode}}),Object.defineProperty(e,"ReportCode",{enumerable:!0,get:function(){return t.ReportCode}}),Object.defineProperty(e,"WaterReportMgr",{enumerable:!0,get:function(){return n.default}}),n=o(n)})?n.apply(t,o):n)||(e.exports=i)},9892:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(38695),r(15735),r(32501),r(26936),r(17525),r(18275),r(95094),r(96928),r(52506),r(58188),r(73439),r(28673),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(18081)],n=function(e,t,n,o){"use strict";var i=r(14859);function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function v(){}var y={};c(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,c(b,"constructor",v),c(v,"constructor",p),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),c(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function u(){return c.apply(this,arguments)}function c(){return(c=(0,n.default)(s().mark((function e(){var t,r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,r=new t({optional:[{DtlsSrtpKeyAgreement:!1}]}),e.next=5,r.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:return n=e.sent,e.abrupt("return",/opus\/48000/.test(n.sdp||""));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"WebrtcConnection",{enumerable:!0,get:function(){return o.WebrtcConnection}}),e.isSupportOpusHard=u,n=i(n)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},18081:function(e,t,r){var n,o,i;r(34115),r(634),r(96882),r(20796),r(38859),r(18178),r(95342),r(38695),r(27233),r(74083),r(15735),r(16781),r(43450),r(32501),r(43430),r(72994),r(95206),r(26936),r(17525),r(18275),r(71245),r(43105),r(76555),r(95094),r(68625),r(62775),r(96928),r(34769),r(52506),r(58188),r(68995),r(73439),r(17368),r(77950),r(88233),r(28673),r(74069),r(85940),r(48319),r(13675),r(5825),r(67170),r(38857),r(58329),r(76279),r(427),r(11159),r(42516),r(64349),r(15273),r(16729),r(41801),r(50574),r(5787),r(39271),r(73160),r(65688),r(93157),r(33333),r(70315),r(28314),r(50556),r(29224),r(52356),r(1939),r(6886);var a=r(58921);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(25047),r(52954),r(50085),r(15198),r(81260),r(86e3),r(37959),r(96573),r(15836)],n=function(e,t,n,o,i,s,u,c,l,f){"use strict";var d=r(14859);function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==t&&r.call(m,o)&&(y=m);var b=v.prototype=d.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,s,u){var c=l(e[o],e,i);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(T.prototype),u(T.prototype,i,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){if(e.length<=0)return 0;for(var t=e.length,r=0,n=0;n<t;n++)r+=parseInt("".concat(e[n].value),10);return parseInt("".concat(r/t),10)}function w(e,t){if(e.length<=0)return 0;if(1===e.length)return e[0].value;e.sort((function(e,t){return t.value-e.value}));var r=Math.ceil((100-t)/100*e.length);return parseInt("".concat(e[r].value),10)}Object.defineProperty(e,"__esModule",{value:!0}),e.WebrtcConnection=void 0,n=d(n),o=d(o),i=d(i),s=d(s),f=d(f);var T=function(){function e(t){(0,o.default)(this,e),(0,s.default)(this,"audioCheckTimer",null),(0,s.default)(this,"options",void 0),(0,s.default)(this,"pc",null),(0,s.default)(this,"hasTryTime",0),(0,s.default)(this,"isReceiveFrameNormal",!1),(0,s.default)(this,"channels",[]),(0,s.default)(this,"TAG","webrtcConnection"),(0,s.default)(this,"userId",null),(0,s.default)(this,"peerName",null),(0,s.default)(this,"animationFrameKey",null),(0,s.default)(this,"_window",window),(0,s.default)(this,"_qosOffset",this._window._qosOffset||1e3),(0,s.default)(this,"linkTimeOutMS",1e4),(0,s.default)(this,"linkTimeOutTimer",null),(0,s.default)(this,"iceTimeOutTimer",null),(0,s.default)(this,"connectStream",null),(0,s.default)(this,"qosListener",new WeakMap),(0,s.default)(this,"controlFrameChannel",null),(0,s.default)(this,"audioStreamReceived",null),(0,s.default)(this,"videoStreamReceived",null),(0,s.default)(this,"lastAudioTrackFramesReceived",-1),(0,s.default)(this,"currentAudioTrackFramesReceived",0),(0,s.default)(this,"opDelayArrTemp",[]),(0,s.default)(this,"opDelayArrDetail",[]),(0,s.default)(this,"opDelayArr",[]),(0,s.default)(this,"opDelayArrGetterInterval",null),(0,s.default)(this,"joinData",{}),(0,s.default)(this,"remoteCandidateWait",[]),(0,s.default)(this,"lastConnectionState",null),(0,s.default)(this,"lastTrackFramesReceived",-1),(0,s.default)(this,"lastVideoFramesDecoded",-1),(0,s.default)(this,"lastDecodedFrameAddTime",-1),(0,s.default)(this,"lastDecodedFrameTimestamp",0),(0,s.default)(this,"lastInBoundFramesReceived",-1),(0,s.default)(this,"lastInBoundFramesDecoded",-1),(0,s.default)(this,"lastInBoundFramesDropped",-1),(0,s.default)(this,"currentInBoundFramesReceived",0),(0,s.default)(this,"currentInBoundFramesDecoded",0),(0,s.default)(this,"currentInBoundFramesDropped",0),(0,s.default)(this,"lastKeyframeNum",-1),(0,s.default)(this,"currentKeyframeNum",0),(0,s.default)(this,"retryIdrTimes",0),(0,s.default)(this,"isIdrRecoverSuccess",!0),(0,s.default)(this,"remotePortList",[]),(0,s.default)(this,"localPortList",[]),(0,s.default)(this,"isReportBlack",!1),this.options=m({socket:null,stunUri:"",turnUsername:"",turnCredential:"",turnUri:"",useTurn:!0,retryTime:0,charactor:e.CharactorType.Receiver,isCloseNoiseSuppression:!0,controlCannelName:"control",listenReceiverStats:function(){},idrEvent:function(){},formatToSend:this._formatToSend.bind(this),formatToReceive:this._formatToReceive.bind(this),beforeReConnect:null,forceAudioDataChannel:!1,handlerIceChange:function(){},handlerConnectChange:function(){},handlerReceiveStream:function(){},handlerReceiveDataChannel:function(){},handlerErrorCode:function(){},getControlDelay:!1},t),this.qosListener.set(this,this._getConnectionReport.bind(this))}return(0,i.default)(e,[{key:"getCandidatePort",value:function(){return{remote:this.remotePortList,local:this.localPortList}}},{key:"getVersion",value:function(){return f.default.version}},{key:"connect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.options.socket)throw new Error("请设置websocket通道");var r=m({userId:(0,c.getRandomIDString)(8),defaultChannelNameList:["control","control_rtx0","control_rtx3","control_s","control_s_rtx3"],stream:null,joinData:{}},t);this.connectStream=r.stream,this.userId=r.userId,this.joinData=r.joinData,this.remoteCandidateWait=[],this._clearLinkTimeOut(),this.linkTimeOutTimer=setTimeout((function(){e.options.handlerConnectChange("failedRetryOnce"),e.linkTimeOutTimer=null}),this.linkTimeOutMS),this.iceTimeOutTimer=setTimeout((function(){e.options.waterReport.report(u.ReportCode.IceCandidateTimeout)}),7e3),this._startConnection({stream:r.stream,defaultChannelNameList:r.defaultChannelNameList})}},{key:"disconnect",value:function(){"offer"!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)&&this._clearLinkTimeOut(),this._clearAnimationFrameKey(),this._clearOpDelayArrGetterInterval(),this.pc&&(this.pc.close(),this.pc=null,this.options.logger.info(this.TAG,"wetrtc disconnection"))}},{key:"addStream",value:function(e){var t,r=p(e.getTracks());try{for(r.s();!(t=r.n()).done;){var n,o=t.value;null===(n=this.pc)||void 0===n||n.addTrack(o,e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"setWebSocketConnect",value:function(e){this.options.socket=e}},{key:"createDataChannel",value:function(t){if(!this.pc)throw new Error("you need connect to create RTCPeerConnection first");var r={};t===e.ChannelType.Control_rtx0&&(r.ordered=!1),t===e.ChannelType.Control_rtx3&&(r.ordered=!1,r.maxRetransmits=3),t===e.ChannelType.Control_s_rtx3&&(r.ordered=!1,r.maxRetransmits=3);var n=this.pc.createDataChannel(t,r);return this.channels.push(n),this.options.logger.info(this.TAG,"create data channel label => ".concat(t)),this._ondatachannel({channel:n}),n}},{key:"getChannels",value:function(){return this.channels}},{key:"getSignalStatus",value:function(){return this.pc?this.pc.signalingState:"closed"}},{key:"getLocalStream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pickAudio,r=void 0===t||t,n=e.pickVideo,o=void 0===n||n;return navigator.mediaDevices.getUserMedia({audio:r,video:o}).then((function(e){return e}))}},{key:"releaseStream",value:function(e){e.getTracks().forEach((function(e){return e.stop()}))}},{key:"_createPeerConnection",value:function(){var e=this;try{this.options.logger.info(this.TAG,"create new peerconnction");var t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;this.channels=[],this.pc=new t(this._getPCOptions()),this.pc.onicecandidate=this._onIceCandidate.bind(this),this.pc.oniceconnectionstatechange=this._onIceStatusChange.bind(this),this.pc.onconnectionstatechange=this._onConnectionChange.bind(this),this.pc.ontrack=this._onTrack.bind(this),this.pc.ondatachannel=this._ondatachannel.bind(this),this.pc.addTransceiver&&(this.pc.addTransceiver("video",{direction:"recvonly"}),this.pc.addTransceiver("audio",{direction:"recvonly"})),this.connectStream&&this.connectStream.getTracks().forEach((function(t){var r;e.connectStream&&(null===(r=e.pc)||void 0===r||r.addTrack(t,e.connectStream))})),this.remotePortList=[],this.localPortList=[],this.options.waterReport.report(u.ReportCode.PeerConnectionCreateSuccess)}catch(e){this.options.waterReport.report(u.ReportCode.PeerConnectionCreateFailed)}}},{key:"getOpDelayArr",value:function(){var e=Object.assign([],this.opDelayArr),t=b(e),r=w(e,99);return this.opDelayArr=[],{opDelayArrAvg:t,opDelayArrPercentMax:r}}},{key:"getOpDelayArrDetail",value:function(){var e=Object.assign([],this.opDelayArrDetail);return this.opDelayArrDetail=[],e}},{key:"_videoSEIMsgGetter",value:function(e,t){var r=this;if(e.data.byteLength>=32){var n=e.data.slice(e.data.byteLength-32);if("0,0,0,1,6,5"===new Uint8Array(n).slice(0,6).join()){var o=new DataView(n),i=1e7*o.getInt32(23,!1)+o.getInt32(27,!1),a=Date.now()-i;this.opDelayArrTemp.push(a),this.opDelayArrGetterInterval||(this.opDelayArrGetterInterval=setInterval((function(){if(r.opDelayArrTemp.length>0){var e=(0,c.getAvg)(r.opDelayArrTemp),t=Date.now();r.opDelayArr.length<1e3&&r.opDelayArr.push({time:t,value:e}),r.opDelayArrDetail.length<1e3&&r.opDelayArrDetail.push({time:t,value:e}),r.opDelayArrTemp=[]}}),1e3))}}t.enqueue(e)}},{key:"_setupReceiverTransform",value:function(e){if(e&&e.createEncodedStreams&&TransformStream)try{var t=e.createEncodedStreams(),r=t.readable,n=t.writable,o=new TransformStream({transform:this._videoSEIMsgGetter.bind(this)});r.pipeThrough(o).pipeTo(n)}catch(e){this.options.logger.warn(this.TAG,"_setupReceiverTransform err => ".concat(e.toString()))}else this.options.logger.info(this.TAG,"_setupReceiverTransform  => 不支持TransformStream")}},{key:"_startTrans",value:function(){this.opDelayArrGetterInterval&&(clearInterval(this.opDelayArrGetterInterval),this.opDelayArrGetterInterval=null);try{if(this.pc&&this.pc.getReceivers){var e,t=p(this.pc.getReceivers());try{for(t.s();!(e=t.n()).done;){var r=e.value;this._setupReceiverTransform(r)}}catch(e){t.e(e)}finally{t.f()}}}catch(e){this.options.logger.warn(this.TAG,"_startTrans err => ".concat(e.toString()))}}},{key:"_formatToSend",value:function(t){var r;if(t.type===e.MessageType.Join){var n={uid:this.userId,join:t.content||{},disableEncryption:!1,disableSync:!0};return this.joinData&&(n=Object.assign(n,this.joinData)),JSON.stringify(n)}return JSON.stringify((r={},(0,s.default)(r,t.type,t.content),(0,s.default)(r,"peer",this.peerName),(0,s.default)(r,"uid",this.userId),r))}},{key:"_formatToReceive",value:function(t){try{var r=JSON.parse(t),n=Object.keys(r);return-1!==n.indexOf(e.MessageType.Answer)?{type:e.MessageType.Answer,content:r[e.MessageType.Answer],uid:r.uid,peer:r.peer}:-1!==n.indexOf(e.MessageType.Offer)?{type:e.MessageType.Offer,content:r[e.MessageType.Offer],uid:r.uid,peer:r.peer}:-1!==n.indexOf(e.MessageType.Candidate)?{type:e.MessageType.Candidate,content:r[e.MessageType.Candidate],uid:r.uid,peer:r.peer}:null}catch(e){return null}}},{key:"_getPCOptions",value:function(){var e={optional:[{DtlsSrtpKeyAgreement:!1}],encodedInsertableStreams:this.options.getControlDelay},t=[{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"stun:23.21.150.121"},{urls:"stun:stun01.sipphone.com"},{urls:"stun:stun.ekiga.net"},{urls:"stun:stun.fwdnet.net"},{urls:"stun:stun.ideasip.com"},{urls:"stun:stun.iptel.org"},{urls:"stun:stun.rixtelecom.se"},{urls:"stun:stun.schlund.de"},{urls:"stun:stunserver.org"},{urls:"stun:stun.softjoys.com"},{urls:"stun:stun.voiparound.com"},{urls:"stun:stun.voipbuster.com"},{urls:"stun:stun.voipstunt.com"},{urls:"stun:stun.voxgratia.org"},{urls:"stun:stun.xten.com"}];return this.options.stunUri&&t.push({urls:this.options.stunUri}),this.options.turnUri&&(t.push({urls:this.options.turnUri,username:this.options.turnUsername,credential:this.options.turnCredential}),e.iceTransportPolicy="relay"),e.iceServers=t,e.sdpSemantics="unified-plan",e}},{key:"_onIceCandidate",value:function(t){if(t.candidate&&this.options.socket){clearTimeout(Number(this.iceTimeOutTimer)),this.options.logger.info(this.TAG,"send ice candidate => ".concat(t.candidate.candidate)),this.options.waterReport.report(u.ReportCode.SendLocalIceCandidate),this.options.socket.send(this.options.formatToSend({type:e.MessageType.Candidate,content:t.candidate}));var r=t.candidate.candidate.match(/udp[\s]+[\d]+[\s]+[\d]+\.[\d]+\.[\d]+\.[\d]+[\s]+([\d]+)/);r&&r[1]&&-1===this.localPortList.indexOf(parseInt(r[1],10))&&this.localPortList.push(parseInt(r[1],10))}}},{key:"_onIceStatusChange",value:function(){if(this.options.handlerIceChange&&this.pc&&this.options.handlerIceChange(this.pc.iceConnectionState),this.pc&&"failed"===this.pc.iceConnectionState&&this.pc.restartIce)try{this.pc.restartIce()}catch(t){this.options.handlerErrorCode&&this.options.handlerErrorCode(e.ErrorCode.IceRestartError,"restart ice error => ".concat(t.toString()))}this._onConnectionChange()}},{key:"_retryConnect",value:function(){var t=this;this.hasTryTime++,this.hasTryTime<this.options.retryTime?setTimeout((function(){t.options.logger.info(t.TAG,"retry connection"),t.disconnect(),t.options.beforeReConnect?t.options.beforeReConnect(t.connect.bind(t)):t.connect({stream:t.connectStream})}),100):(this.hasTryTime=0,this.options.handlerErrorCode&&this.options.handlerErrorCode(e.ErrorCode.RetryConnectError,"retry connect failed"))}},{key:"_onConnectionChange",value:function(){var e=this;if(this.pc){var t=this.pc.connectionState||this.pc.iceConnectionState;if(this.lastConnectionState!==t){switch(this.options.handlerConnectChange&&this.options.handlerConnectChange(t),this.options.logger.info(this.TAG,"webrtc state chagne => ".concat(t)),t){case"failed":this._clearAnimationFrameKey(),this._clearOpDelayArrGetterInterval(),this._clearLinkTimeOut(),this._retryConnect(),this.options.waterReport.report(u.ReportCode.IceStatusChangeFailed);break;case"connected":this._clearLinkTimeOut(),this.hasTryTime=0,this._startQos(),this.options.getControlDelay&&this._startTrans(),this.options.waterReport.report(u.ReportCode.IceStatusChangeConnected),this.audioCheckTimer&&clearTimeout(this.audioCheckTimer),this.audioCheckTimer=setTimeout((function(){e.options.waterReport.report(u.ReportCode.NoAudioTruck)}),5e3);break;case"disconnected":case"closed":this._clearLinkTimeOut(),this._clearAnimationFrameKey(),this._clearOpDelayArrGetterInterval(),this.options.waterReport.report(u.ReportCode.IceStatusChangeDisconnected);break;default:this._clearAnimationFrameKey(),this._clearOpDelayArrGetterInterval()}this.lastConnectionState=t}}}},{key:"_afterReceiveStream",value:function(e){var t=this;if(this.options.isCloseNoiseSuppression)try{var r,n=p(e.getAudioTracks());try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.getConstraints();i.noiseSuppression=!1,i.echoCancellation=!1,i.autoGainControl=!1,o.applyConstraints(i).then((function(){t.options.logger.info(t.TAG,"close track noiseSuppression success")})).catch((function(e){t.options.logger.info(t.TAG,"close track noiseSuppression promise failed => ".concat(e.toString()))}))}}catch(e){n.e(e)}finally{n.f()}}catch(e){this.options.logger.info(this.TAG,"close track noiseSuppression failed => ".concat(e.toString()))}this.options.handlerReceiveStream(e)}},{key:"_onTrack",value:function(e){if(e.streams)if(this.options.logger.info(this.TAG,"receive stream"),this.options.waterReport.report(u.ReportCode.ReceiveTrackStream),this.options.forceAudioDataChannel||e.streams[0].getTracks().length>=2)this._afterReceiveStream(e.streams[0]);else{var t=e.streams[0].getTracks()[0];"audio"===t.kind?(this.options.logger.info(this.TAG,"receive audio track0"),this.audioStreamReceived=e.streams,this.videoStreamReceived&&(e.streams[0].addTrack(t),e.streams[0].addTrack(this.videoStreamReceived[0].getTracks()[0]),this._afterReceiveStream(e.streams[0]))):"video"===t.kind&&(this.options.logger.info(this.TAG,"receive video track0"),this.videoStreamReceived=e.streams,this.audioStreamReceived&&(e.streams[0].addTrack(this.audioStreamReceived[0].getTracks()[0]),e.streams[0].addTrack(t),this._afterReceiveStream(e.streams[0])))}}},{key:"_startQos",value:function(){this._clearAnimationFrameKey(),this.qosListener.get(this),this.animationFrameKey=setTimeout(this.qosListener.get(this),this._qosOffset)}},{key:"_ondatachannel",value:function(e){e.channel&&(this.options.logger.info(this.TAG,"receive data channel => ".concat(e.channel.label)),this.options.waterReport.report(u.ReportCode.DataChannelOpen),this.options.handlerReceiveDataChannel&&this.options.handlerReceiveDataChannel(e.channel),this.options.controlCannelName===e.channel.label&&(this.controlFrameChannel=e.channel))}},{key:"_startConnection",value:function(t){switch(this.options.charactor){case e.CharactorType.Receiver:this._readyBeReceiver({stream:t.stream});break;case e.CharactorType.Caller:this._readyBeCaller({stream:t.stream,defaultChannelNameList:t.defaultChannelNameList})}}},{key:"_resetSdpVideoCodec",value:function(e,t){var r=e.match(/m=video[\s]+[\d]+[\s]+[\w|/]+[\s]+/);if(r&&r[0]){for(var n=e.replace(r[0],"").split(" "),o=[],i=[],a=0,s=Object.keys(t);a<s.length;a++){var u=s[a];Object.prototype.hasOwnProperty.call(t,u)&&(t[u].isPacketizationMode?o.push(u):i.push(u))}var c="",l="";o.length>0&&(c=o.join(" ")),i.length>0&&(l=i.join(" "));var f=c;f&&l&&(f+=" "),f+=l;var d,h=p(n);try{for(h.s();!(d=h.n()).done;){var v=d.value;t[v]||(f&&(f+=" "),f+="".concat(v))}}catch(e){h.e(e)}finally{h.f()}return"".concat(r[0]).concat(f).replace(/(\s)+/g," ")}return e}},{key:"_rewriteSdp",value:function(e){for(var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.split("\r\n"),o="",i=0;i<n.length;i++){var a=n[i];if(a.indexOf("opus/48000")>=0){o=a.split(" ")[0].replace(/rtpmap/,"fmtp");break}}if(o.indexOf("fmtp")>=0)for(var s=0;s<n.length;s++)if(n[s].indexOf(o)>=0){n[s]="".concat(o," maxaveragebitrate=128000;minptime=10;stereo=1;useinbandfec=1");break}for(var u={},c=[],l=0;l<n.length;l++){var f=n[l];if(/^a=rtpmap:(\d+) H264\/(\d+)[\r]?$/.test(f)){var d=f.match(/a=rtpmap:(\S*) H264/);if(!d||!d[1])continue;var h=d[1];c.push({index:l,num:h}),u[h]={line:l,isPacketizationMode:!1}}}for(var p=0;p<n.length;p++)if(/^a=fmtp:/.test(n[p])&&/packetization-mode=1/.test(n[p])){var v=n[p].match(/^a=fmtp:(\S*) /);v&&u[v[1]]&&(u[v[1]].isPacketizationMode=!0)}for(var y=function(e){var t=c[e],r="a=rtcp-fb:".concat(t.num," rrtr");0===n.filter((function(e){return 0===e.indexOf(r)})).length&&(n[t.index]="".concat(n[t.index],"\r\n").concat(r))},g=0;g<c.length;g++)y(g);return(n=n.map((function(e){return r&&/m=video[\s]+[\d]+[\s]+[\w|/]+[\s|\d]+/.test(e)?t._resetSdpVideoCodec(e,u):/a=rtpmap:[\d]+[\s]+opus[/|\d]+/.test(e)?"".concat(e,"\r\na=ptime:10"):e}))).join("\r\n")}},{key:"_sendAnswer",value:function(t){var r;this.options.logger.info(this.TAG,"send sdp answer => ".concat(t.sdp)),null===(r=this.options.socket)||void 0===r||r.send(this.options.formatToSend({type:e.MessageType.Answer,content:t}))}},{key:"_sendOffer",value:function(t){this.options.logger.info(this.TAG,"send sdp offer => ".concat(t.sdp)),this._joinRoom(JSON.parse(this.options.formatToSend({type:e.MessageType.Offer,content:t})))}},{key:"_receiveOffer",value:function(){var e=(0,n.default)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pc){e.next=2;break}return e.abrupt("return");case 2:return this.options.logger.info(this.TAG,"receive sdp offer => ".concat(t.sdp)),this.options.waterReport.report(u.ReportCode.ReceiveRemoteOffer),e.prev=4,e.next=7,this.pc.setRemoteDescription(t);case 7:this.options.logger.info(this.TAG,"set remote offer"),this.options.waterReport.report(u.ReportCode.SetRemoteDescriptionSuccess),e.next=15;break;case 11:if(e.prev=11,e.t0=e.catch(4),this._afterSdpError(u.ReportCode.SetRemoteDescriptionFailed,"set offer error => ".concat(JSON.stringify(e.t0)))){e.next=15;break}return e.abrupt("return");case 15:return e.prev=15,e.next=18,this.pc.createAnswer();case 18:(r=e.sent).sdp=this._rewriteSdp(r.sdp||""),this.options.logger.info(this.TAG,"create answer"),this.options.waterReport.report(u.ReportCode.CreateLocalAnswerSuccess),e.next=29;break;case 24:return e.prev=24,e.t1=e.catch(15),this.options.logger.error(this.TAG,"create answer error => ".concat(JSON.stringify(e.t1))),this.options.waterReport.report(u.ReportCode.CreateLocalAnswerFailed),e.abrupt("return");case 29:return e.prev=29,e.next=32,this.pc.setLocalDescription(r);case 32:this.options.logger.info(this.TAG,"set local answer success"),this.options.waterReport.report(u.ReportCode.SetLocalDescriptionSuccess),e.next=40;break;case 36:if(e.prev=36,e.t2=e.catch(29),this._afterSdpError(u.ReportCode.SetLocalDescriptionFailed,"set local answer => ".concat(JSON.stringify(e.t2)))){e.next=40;break}return e.abrupt("return");case 40:this._sendAnswer(r),this.options.waterReport.report(u.ReportCode.SendLocalAnswer),this._setWaitCandidate();case 43:case"end":return e.stop()}}),e,this,[[4,11],[15,24],[29,36]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_receiveAnswer",value:function(){var e=(0,n.default)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pc){e.next=3;break}return this.options.logger.error(this.TAG,"receive sdp answer failed => peerconnect loss"),e.abrupt("return");case 3:return this.options.logger.info(this.TAG,"receive sdp answer => ".concat(t.sdp)),this.options.waterReport.report(u.ReportCode.ReceiveRemoteAnswer),e.prev=5,e.next=8,this.pc.setRemoteDescription(t);case 8:this.options.waterReport.report(u.ReportCode.SetRemoteDescriptionSuccess),e.next=15;break;case 11:if(e.prev=11,e.t0=e.catch(5),this._afterSdpError(u.ReportCode.SetRemoteDescriptionFailed,"set remote answer error => ".concat(JSON.stringify(e.t0)))){e.next=15;break}return e.abrupt("return");case 15:this._setWaitCandidate();case 16:case"end":return e.stop()}}),e,this,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isCandidateValid",value:function(e){return!(!e.candidate||void 0===e.sdpMLineIndex||void 0===e.sdpMid)}},{key:"_receiveCandidate",value:function(){var e=(0,n.default)(h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pc){e.next=3;break}return this.options.logger.error(this.TAG,"receive Candidate failed => peerconnect loss"),e.abrupt("return");case 3:if(this.options.logger.info(this.TAG,"receive candidate => ".concat(JSON.stringify(t))),r=null,this._isCandidateValid(t)){e.next=8;break}return this.options.logger.info(this.TAG,"empty info => ".concat(JSON.stringify(t))),e.abrupt("return");case 8:this.options.waterReport.report(u.ReportCode.ReceiveRemoteIceCandidate),e.prev=9,r=new RTCIceCandidate(t),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(9),this.options.logger.warn(this.TAG,"invalid cadidate info => ".concat(e.t0.toString())),e.abrupt("return");case 17:if(this.pc.currentRemoteDescription){e.next=21;break}this.remoteCandidateWait.push(r),e.next=25;break;case 21:return e.next=23,this.pc.addIceCandidate(r);case 23:this.options.waterReport.report(u.ReportCode.AddRemoteIceCandidate),this.options.logger.info(this.TAG,"set remote candidate imme => ".concat(r.candidate));case 25:(n=r.candidate.match(/udp[\s]+[\d]+[\s]+[\d]+\.[\d]+\.[\d]+\.[\d]+[\s]+([\d]+)/))&&n[1]&&-1===this.remotePortList.indexOf(parseInt(n[1],10))&&this.remotePortList.push(parseInt(n[1],10));case 27:case"end":return e.stop()}}),e,this,[[9,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setWaitCandidate",value:function(){for(this.options.logger.info(this.TAG,"set wait remote candidate => ".concat(this.remoteCandidateWait.length));this.remoteCandidateWait.length>0;){var e,t=this.remoteCandidateWait.pop();t&&(this.options.logger.info(this.TAG,"set wait remote candidate => ".concat(t.candidate)),null===(e=this.pc)||void 0===e||e.addIceCandidate(t),this.options.waterReport.report(u.ReportCode.AddRemoteIceCandidate))}}},{key:"_dealMessage",value:function(t){if(t)switch(t.type){case e.MessageType.Offer:this.disconnect("offer"),this._createPeerConnection(),this.peerName="".concat(t.peer),this._receiveOffer(t.content);break;case e.MessageType.Answer:this._receiveAnswer(t.content);break;case e.MessageType.Candidate:this._receiveCandidate(t.content)}}},{key:"_receiveSocketMessage",value:function(e){var t=this;if(e.data){var r=this.options.formatToReceive(e.data);r instanceof Promise?r.then((function(e){t._dealMessage(e)})):this._dealMessage(r)}}},{key:"_readyBeReceiver",value:function(e){var t;null===(t=this.options.socket)||void 0===t||t.listenMessage(this._receiveSocketMessage.bind(this)),this._joinRoom()}},{key:"_joinRoom",value:function(t){try{var r,n=this.options.formatToSend({type:e.MessageType.Join,content:t});null===(r=this.options.socket)||void 0===r||r.send(n)}catch(e){this.options.logger.error(this.TAG,"join room error => ".concat(e.toString()))}}},{key:"_readyBeCaller",value:function(){var e=(0,n.default)(h().mark((function e(){var t,r,n,o,i,a,s,c,l=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>0&&void 0!==l[0]?l[0]:{},r.stream,n=r.defaultChannelNameList,o=void 0===n?["default"]:n,null===(t=this.options.socket)||void 0===t||t.listenMessage(this._receiveSocketMessage.bind(this)),this._createPeerConnection(),this.pc){e.next=6;break}return this.options.logger.error(this.TAG,"_readyBeCaller error => peerconnection missiong"),e.abrupt("return");case 6:i=p(o);try{for(i.s();!(a=i.n()).done;)s=a.value,this.createDataChannel(s)}catch(e){i.e(e)}finally{i.f()}return e.prev=8,e.next=11,this.pc.createOffer();case 11:(c=e.sent).sdp=this._rewriteSdp(c.sdp||"",!0),this.options.waterReport.report(u.ReportCode.CreateLocalOfferSuccess),e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(8),this.options.logger.error(this.TAG,"create offer error => ".concat(JSON.stringify(e.t0))),this.options.waterReport.report(u.ReportCode.CreateLocalOfferFailed),e.abrupt("return");case 21:return e.prev=21,e.next=24,this.pc.setLocalDescription(c);case 24:this.options.waterReport.report(u.ReportCode.SetLocalDescriptionSuccess),this._sendOffer(c),this.options.waterReport.report(u.ReportCode.SendLocalOffer),e.next=33;break;case 29:if(e.prev=29,e.t1=e.catch(21),this._afterSdpError(u.ReportCode.SetLocalDescriptionFailed,"set local description error => ".concat(JSON.stringify(e.t1)))){e.next=33;break}return e.abrupt("return");case 33:case"end":return e.stop()}}),e,this,[[8,16],[21,29]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkReceiveFrames",value:function(){if(this.isReceiveFrameNormal=!1,this.currentInBoundFramesReceived-this.lastInBoundFramesReceived<=0?this.options.logger.info(this.TAG,"have not receive frame at => ".concat(this._qosOffset,"ms")):this.isReceiveFrameNormal=!0,this.currentKeyframeNum&&this.currentKeyframeNum>this.lastKeyframeNum&&this.currentInBoundFramesDecoded&&this.currentInBoundFramesDecoded>this.lastInBoundFramesDecoded&&(this.options.idrEvent({request:!1,num:this.currentKeyframeNum-this.lastKeyframeNum}),this.isIdrRecoverSuccess||(this.isIdrRecoverSuccess=!0,this.retryIdrTimes=0,this.options.waterReport.report(u.ReportCode.RequestIdrResumePlaySuccess))),this.currentInBoundFramesDecoded===this.lastInBoundFramesDecoded||-1!=this.lastInBoundFramesReceived&&-1!=this.lastInBoundFramesDropped&&this.lastInBoundFramesReceived===this.lastInBoundFramesDropped){if(Date.now()-this.lastDecodedFrameTimestamp>=2e3&&this.retryIdrTimes<10){var e,t=l.ControlMessage.encodeMessage({type:l.ControlMessage.TransportHeaderTypes.InvalidateRefFrames});t&&"open"===(null===(e=this.controlFrameChannel)||void 0===e?void 0:e.readyState)&&(this.controlFrameChannel.send(t),this.options.idrEvent({request:!0,num:1}),this.isIdrRecoverSuccess=!1,this.retryIdrTimes++,this.options.waterReport.report(u.ReportCode.RequestIdr),this.retryIdrTimes>=3&&!this.isReportBlack&&(this.options.waterReport.report(u.ReportCode.IsBlackScreenInspect),this.isReportBlack=!0),this.lastDecodedFrameTimestamp=Date.now())}}else this.isReportBlack=!1,this.lastDecodedFrameTimestamp=Date.now();var r;this.currentAudioTrackFramesReceived-this.lastAudioTrackFramesReceived<=0&&(null===(r=this.options.waterReport)||void 0===r||r.report(u.ReportCode.NoAudioTruck))}},{key:"_getReceiverPacketsLost",value:function(){var e=(0,n.default)(h().mark((function e(t){var r,n,o,i,a,s=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=this.pc)||void 0===r?void 0:r.getStats();case 2:return n=e.sent,o=[],i=0,a=0,null==n||n.forEach((function(e){"track"===e.type&&"audio"===e.kind&&(s.audioCheckTimer&&clearTimeout(s.audioCheckTimer),null!=e.framesReceived&&(s.currentAudioTrackFramesReceived=e.framesReceived)),"inbound-rtp"===e.type&&"audio"===e.mediaType&&(s.audioCheckTimer&&clearTimeout(s.audioCheckTimer),null!=e.framesReceived&&(s.currentAudioTrackFramesReceived=e.framesReceived)),"track"===e.type&&"video"===e.kind&&(null!=e.framesReceived&&(s.currentInBoundFramesReceived=e.framesReceived),null!=e.framesDecoded&&(s.currentInBoundFramesDecoded=e.framesDecoded),null!=e.framesDropped&&(s.currentInBoundFramesDropped=e.framesDropped),null!=e.keyFramesDecoded&&(s.currentKeyframeNum=e.keyFramesDecoded),null!=e.jitterBufferDelay&&null!=e.jitterBufferEmittedCount&&(a=e.jitterBufferDelay/e.jitterBufferEmittedCount)),"inbound-rtp"===e.type&&"video"===e.mediaType&&(o.push(e),null!=e.framesReceived&&(s.currentInBoundFramesReceived=e.framesReceived),null!=e.framesDecoded&&(s.currentInBoundFramesDecoded=e.framesDecoded),null!=e.framesDropped&&(s.currentInBoundFramesDropped=e.framesDropped),null!=e.keyFramesDecoded&&(s.currentKeyframeNum=e.keyFramesDecoded),s.checkReceiveFrames(),s.lastInBoundFramesDecoded=s.currentInBoundFramesDecoded,s.lastInBoundFramesDropped=s.currentInBoundFramesDropped,s.lastInBoundFramesReceived=s.currentInBoundFramesReceived,s.lastKeyframeNum=s.currentKeyframeNum),"candidate-pair"===e.type&&(i=e.currentRoundTripTime)})),o=o.map((function(e){return m(m({},e),{},{rtt:i,jitterBufferDelay:a})})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_getReceiverPacketsLostTotal",value:function(){var e=(0,n.default)(h().mark((function e(t){var r,n,o,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getReceiverPacketsLost(t[0]);case 2:for(e.t0=e.sent,r=[e.t0],n=[],o=0,i=r;o<i.length;o++)a=i[o],n=n.concat(a);return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_getConnectionReport",value:function(){var e=(0,n.default)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pc||!this.pc.getStats){e.next=15;break}return t=[],e.prev=2,t=this.pc.getReceivers(),e.next=6,this._getReceiverPacketsLostTotal(t);case 6:r=e.sent,this.options.listenReceiverStats("qos",r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.options.logger.debug(this.TAG,"get qos error => ".concat(e.t0.toString()));case 13:this._clearAnimationFrameKey(),this.animationFrameKey=setTimeout(this.qosListener.get(this),this._qosOffset);case 15:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_clearLinkTimeOut",value:function(){this.iceTimeOutTimer&&(clearTimeout(Number(this.iceTimeOutTimer)),this.iceTimeOutTimer=null),this.linkTimeOutTimer&&(clearTimeout(this.linkTimeOutTimer),this.linkTimeOutTimer=null)}},{key:"_clearOpDelayArrGetterInterval",value:function(){this.opDelayArrGetterInterval&&(clearInterval(this.opDelayArrGetterInterval),this.opDelayArrGetterInterval=null)}},{key:"_clearAnimationFrameKey",value:function(){this.animationFrameKey&&(clearTimeout(this.animationFrameKey),this.animationFrameKey=null)}},{key:"_afterSdpError",value:function(t,r){return this.options.logger.error(this.TAG,r),this.options.handlerErrorCode(e.ErrorCode.SdpError,r,t),!1}}],[{key:"checkSupportStatus",value:function(){var e=(0,n.default)(h().mark((function e(){var t,r,n,o,i,a,s,u,c,l,f;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new window.RTCPeerConnection,e.next=4,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 4:r=e.sent,n=r.sdp||"",o=/H264\/90000/.test(n),i=!1,a=n.split("\n"),s=null,u=p(a);try{for(u.s();!(c=u.n()).done;)l=c.value,/^a=rtpmap:(\d+) H264\/(\d+)[\r]?$/.test(l)&&(f=l.match(/a=rtpmap:(\S*) H264/),s=f?f[1]:null),s&&new RegExp("a=fmtp:".concat(s)).test(l)&&/profile-level-id=64/.test(l)&&(i=!0)}catch(e){u.e(e)}finally{u.f()}return e.abrupt("return",{isSupportHardH264:o,isSupportHighLevelProfile:i});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{isSupportHardH264:!1,isSupportHighLevelProfile:!1});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}();e.WebrtcConnection=T,(0,s.default)(T,"CharactorType",{Caller:"caller",Receiver:"receiver"}),(0,s.default)(T,"ChannelType",{Video:"video",Audio:"audio",Control:"control",Control_rtx0:"control_rtx0",Control_rtx3:"control_rtx3",Control_s:"control_s",Control_s_rtx3:"control_s_rtx3"}),(0,s.default)(T,"MessageType",{Offer:"offer",Answer:"answer",Candidate:"candidate",Join:"join"}),(0,s.default)(T,"ErrorCode",{PackageLost:4004,IceRestartError:5001,RetryConnectError:5002,FrameDecodeError:5003,SdpError:5004})},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},87338:function(e,t,r){var n,o,i;r(34115),r(18178),r(95342),r(38695),r(74083),r(15735),r(99805),r(79321),r(43105),r(76555),r(95094),r(68625),r(62775),r(34769),r(58188),r(73439),r(88233),r(28673),r(1939),r(6886),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(50085),r(15198),r(81260)],n=function(e,t,n,o){"use strict";var i=r(14859);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=i(t),n=i(n),o=i(o);var u=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logger:{info:function(){},error:function(){},debug:function(){},warn:function(){}}};(0,t.default)(this,e),(0,o.default)(this,"options",void 0),(0,o.default)(this,"TAG",void 0),(0,o.default)(this,"websocket",null),(0,o.default)(this,"url",""),(0,o.default)(this,"listenerCallback",new Map),(0,o.default)(this,"connectTimeoutMS",1e4),(0,o.default)(this,"state","CLOSED"),(0,o.default)(this,"bEnableReconnect",!1),(0,o.default)(this,"reconnectTimes",0),(0,o.default)(this,"reconnectTimeout",null),(0,o.default)(this,"reconnectTimer",null),(0,o.default)(this,"reconnectConfig",{timeoutMS:6e4,timeoutFunc:null,intervalList:[1e3,3e3,7e3,1e4,15e3]}),this.options=s({needReConnect:function(e){return 1e3!==e},onBeginReConnectCallback:function(){},TAG:"WebsocketConnection"},r),this.TAG=this.options.TAG}return(0,n.default)(e,[{key:"setUrl",value:function(e){return this.options.logger.debug(this.TAG,"set url:".concat(e)),this.url=e,this}},{key:"setConnectTimeout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return this.options.logger.debug(this.TAG,"setConnectTimeout:".concat(e)),this.connectTimeoutMS=e,this}},{key:"addEventListener",value:function(e,t){var r=this.listenerCallback.get(e);return void 0===r&&(r=[],this.listenerCallback.set(e,r)),-1===r.indexOf(t)?(r.push(t),this.options.logger.debug(this.TAG,"".concat(e," added!"))):this.options.logger.warn(this.TAG,"".concat(e," has always added!")),this}},{key:"removeEventListener",value:function(e,t){var r=this.listenerCallback.get(e);if(void 0===r)return this;var n=r.indexOf(t);return-1!==n&&(r.splice(n,1),this.options.logger.debug(this.TAG,"".concat(e," removed!"))),this}},{key:"connect",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).binaryType;this._doDisconnect({code:1e3,reason:"创建新的连接，断开上一个"}),this.options.logger.info(this.TAG,"connect:".concat(this.url));try{var r=setTimeout((function(){e._isConnecting()&&(e.options.logger.info(e.TAG,"connect timeout"),e._doDisconnect({code:1e3,reason:"连接超时断开"}))}),this.connectTimeoutMS);this.websocket=new WebSocket(this.url),t&&(this.websocket.binaryType=t),this._setState("CONNECTING"),this.websocket.onopen=function(t){e.options.logger.info(e.TAG,"onOpen,event:".concat(JSON.stringify(t))),e._setState("CONNECTED"),clearTimeout(r),e._stopReconnect(),e._eventHandler("open",t)},this.websocket.onclose=function(t){e.options.logger.info(e.TAG,"onclose,event:code:".concat(t.code,",reason:").concat(t.reason,",").concat(JSON.stringify(t))),e._setState("CLOSED"),clearTimeout(r),e.options.needReConnect(t.code)&&e._startReconnect(),e._eventHandler("close",t)},this.websocket.onerror=function(t){e.options.logger.error(e.TAG,"onerror,event:".concat(JSON.stringify(t))),clearTimeout(r),e._eventHandler("error",t)},this.websocket.onmessage=function(t){e._eventHandler("message",t.data)}}catch(e){this.options.logger.error(this.TAG,"websocket connect cause a error:".concat(e.toString(),"."))}return this}},{key:"disconnect",value:function(){return this.options.logger.info(this.TAG,"disconnect"),this._stopReconnect(),this._doDisconnect(),this}},{key:"send",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return this.options.logger.debug(this.TAG,"send data,timeout:".concat(r)),new Promise((function(n){if(t.websocket&&t._isConnected())t.websocket.send(e),n({ret:!0,msg:"发送成功",useTime:0});else{t.options.logger.info(t.TAG,"".concat(t.TAG,": 连接失败"));var o=(new Date).getTime(),i=setInterval((function(){var a=(new Date).getTime()-o;a>=r?(clearInterval(i),n({ret:!1,msg:"发送超时",useTime:a})):t.websocket&&t._isConnected()&&(clearInterval(i),t.websocket.send(e),n({ret:!0,msg:"发送成功",useTime:a}))}),1e3)}}))}},{key:"enableReconnect",value:function(e){return this.bEnableReconnect=e,this.options.logger.info(this.TAG,"enableReconnect,".concat(e)),this}},{key:"setReconnectConfig",value:function(e){var t=e.timeoutMS,r=e.timeoutFunc,n=e.intervalList;return n||(n=this.reconnectConfig.intervalList),this.reconnectConfig=Object.assign(this.reconnectConfig,{timeoutMS:t,timeoutFunc:r,intervalList:n}),this.options.logger.info(this.TAG,"setReconnectConfig,".concat(JSON.stringify(this.reconnectConfig))),this}},{key:"getState",value:function(){return this.state}},{key:"_doDisconnect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,r=void 0===t?1e3:t,n=e.reason,o=void 0===n?"主动断开":n;if(this.websocket){if(this._isConnecting()||this._isConnected())try{this.options.logger.info(this.TAG,"close websocket,code:".concat(r,",reason:").concat(o)),this.websocket.close(r,o),this._setState("CLOSED")}catch(e){this.options.logger.error(this.TAG,"websocket shutdown cause a error:".concat(e.toString(),"."))}this.websocket.onopen=function(){},this.websocket.onclose=function(){},this.websocket.onerror=function(){},this.websocket.onmessage=function(){},this.websocket=null}}},{key:"_eventHandler",value:function(e,t){var r=this.listenerCallback.get(e);void 0!==r&&r.forEach((function(e){e(t)}))}},{key:"_startReconnect",value:function(){var e=this;if(this.bEnableReconnect&&(this.options.logger.debug(this.TAG,"start reconnect,times:".concat(this.reconnectTimes)),this.reconnectTimeout||(this.options.logger.info(this.TAG,"start reconnect timeout:".concat(this.reconnectConfig.timeoutMS,"ms")),this.reconnectTimeout=setTimeout((function(){e.reconnectTimeout=null,e._stopReconnect(),e.options.logger.warn(e.TAG,"reconnect timeout"),e.reconnectConfig.timeoutFunc&&e.reconnectConfig.timeoutFunc()}),this.reconnectConfig.timeoutMS)),!this.reconnectTimer)){var t=this._getReconnectInterval(this.reconnectTimes);this.options.logger.info(this.TAG,"start reconnect interval:".concat(t,"ms")),this.reconnectTimer=setTimeout((function(){e.reconnectTimer=null,e.options.onBeginReConnectCallback(e.reconnectTimes),e.connect()}),t),++this.reconnectTimes}}},{key:"_getReconnectInterval",value:function(e){return e>this.reconnectConfig.intervalList.length-1&&(e=this.reconnectConfig.intervalList.length-1),this.reconnectConfig.intervalList[e]}},{key:"_stopReconnect",value:function(){this.reconnectTimes=0,this.reconnectTimeout&&(this.options.logger.debug(this.TAG,"stop reconnect"),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}},{key:"_setState",value:function(e){return this.state=e,this.options.logger.info(this.TAG,"set state:".concat(e)),this}},{key:"_isConnected",value:function(){return"CONNECTED"===this.getState()}},{key:"_isConnecting",value:function(){return"CONNECTING"===this.getState()}},{key:"_isClosed",value:function(){return"CLOSED"===this.getState()}},{key:"_isClosing",value:function(){return"CLOSING"===this.getState()}}],[{key:"instance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();e.default=u,(0,o.default)(u,"_instance",null)},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},88524:function(e,t,r){var n,o,i;r(95094),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[t,r(87338)],void 0===(i="function"==typeof(n=function(e,t){"use strict";var n=r(14859);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"WebsocketConnection",{enumerable:!0,get:function(){return t.default}}),e.default=void 0;var o=(t=n(t)).default;e.default=o})?n.apply(t,o):n)||(e.exports=i)},77111:function(e,t,r){var n=r(26733),o=r(59821),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a function")}},57988:function(e,t,r){var n=r(82359),o=r(59821),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a constructor")}},88505:function(e,t,r){var n=r(26733),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},9736:function(e,t,r){var n=r(70095),o=r(22391),i=r(31787).f,a=n("unscopables"),s=Array.prototype;null==s[a]&&i(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},36637:function(e,t,r){"use strict";var n=r(30966).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},57728:function(e,t,r){var n=r(91321),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw o("Incorrect invocation")}},21176:function(e,t,r){var n=r(85052),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not an object")}},9772:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},92460:function(e,t,r){var n=r(24229);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},9918:function(e,t,r){"use strict";var n,o,i,a=r(9772),s=r(7400),u=r(9859),c=r(26733),l=r(85052),f=r(98270),d=r(81589),h=r(59821),p=r(75762),v=r(14768),y=r(31787).f,g=r(91321),m=r(67567),b=r(56540),w=r(70095),T=r(81441),_=r(56407),k=_.enforce,E=_.get,C=u.Int8Array,S=C&&C.prototype,A=u.Uint8ClampedArray,R=A&&A.prototype,O=C&&m(C),M=S&&m(S),I=Object.prototype,P=u.TypeError,x=w("toStringTag"),L=T("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",N=a&&!!b&&"Opera"!==d(u.opera),G=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},j=function(e){var t=m(e);if(l(t)){var r=E(t);return r&&f(r,D)?r.TypedArrayConstructor:j(t)}},U=function(e){if(!l(e))return!1;var t=d(e);return f(F,t)||f(B,t)};for(n in F)(i=(o=u[n])&&o.prototype)?k(i).TypedArrayConstructor=o:N=!1;for(n in B)(i=(o=u[n])&&o.prototype)&&(k(i).TypedArrayConstructor=o);if((!N||!c(O)||O===Function.prototype)&&(O=function(){throw P("Incorrect invocation")},N))for(n in F)u[n]&&b(u[n],O);if((!N||!M||M===I)&&(M=O.prototype,N))for(n in F)u[n]&&b(u[n].prototype,M);if(N&&m(R)!==M&&b(R,M),s&&!f(M,x))for(n in G=!0,y(M,x,{get:function(){return l(this)?this[L]:void 0}}),F)u[n]&&p(u[n],L,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:G&&L,aTypedArray:function(e){if(U(e))return e;throw P("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||g(O,e)))return e;throw P(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var o in F){var i=u[o];if(i&&f(i.prototype,e))try{delete i.prototype[e]}catch(r){try{i.prototype[e]=t}catch(e){}}}M[e]&&!r||v(M,e,r?t:N&&S[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(s){if(b){if(r)for(n in F)if((o=u[n])&&f(o,e))try{delete o[e]}catch(e){}if(O[e]&&!r)return;try{return v(O,e,r?t:N&&O[e]||t)}catch(e){}}for(n in F)!(o=u[n])||o[e]&&!r||v(o,e,t)}},getTypedArrayConstructor:j,isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||f(F,t)||f(B,t)},isTypedArray:U,TypedArray:O,TypedArrayPrototype:M}},53816:function(e,t,r){"use strict";var n=r(9859),o=r(65968),i=r(7400),a=r(9772),s=r(51805),u=r(75762),c=r(8312),l=r(24229),f=r(57728),d=r(43329),h=r(34237),p=r(7331),v=r(56201),y=r(67567),g=r(56540),m=r(78151).f,b=r(31787).f,w=r(97065),T=r(69794),_=r(54555),k=r(56407),E=s.PROPER,C=s.CONFIGURABLE,S=k.get,A=k.set,R="ArrayBuffer",O="DataView",M="Wrong index",I=n.ArrayBuffer,P=I,x=P&&P.prototype,L=n.DataView,D=L&&L.prototype,N=Object.prototype,G=n.Array,F=n.RangeError,B=o(w),j=o([].reverse),U=v.pack,V=v.unpack,H=function(e){return[255&e]},K=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Y=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},q=function(e){return U(e,23,4)},z=function(e){return U(e,52,8)},J=function(e,t){b(e.prototype,t,{get:function(){return S(this)[t]}})},X=function(e,t,r,n){var o=p(r),i=S(e);if(o+t>i.byteLength)throw F(M);var a=S(i.buffer).bytes,s=o+i.byteOffset,u=T(a,s,s+t);return n?u:j(u)},Q=function(e,t,r,n,o,i){var a=p(r),s=S(e);if(a+t>s.byteLength)throw F(M);for(var u=S(s.buffer).bytes,c=a+s.byteOffset,l=n(+o),f=0;f<t;f++)u[c+f]=l[i?f:t-f-1]};if(a){var Z=E&&I.name!==R;if(l((function(){I(1)}))&&l((function(){new I(-1)}))&&!l((function(){return new I,new I(1.5),new I(NaN),1!=I.length||Z&&!C})))Z&&C&&u(I,"name",R);else{(P=function(e){return f(this,x),new I(p(e))}).prototype=x;for(var $,ee=m(I),te=0;ee.length>te;)($=ee[te++])in P||u(P,$,I[$]);x.constructor=P}g&&y(D)!==N&&g(D,N);var re=new L(new P(2)),ne=o(D.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||c(D,{setInt8:function(e,t){ne(this,e,t<<24>>24)},setUint8:function(e,t){ne(this,e,t<<24>>24)}},{unsafe:!0})}else x=(P=function(e){f(this,x);var t=p(e);A(this,{bytes:B(G(t),0),byteLength:t}),i||(this.byteLength=t)}).prototype,D=(L=function(e,t,r){f(this,D),f(e,x);var n=S(e).byteLength,o=d(t);if(o<0||o>n)throw F("Wrong offset");if(o+(r=void 0===r?n-o:h(r))>n)throw F("Wrong length");A(this,{buffer:e,byteLength:r,byteOffset:o}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=o)}).prototype,i&&(J(P,"byteLength"),J(L,"buffer"),J(L,"byteLength"),J(L,"byteOffset")),c(D,{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Y(X(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Y(X(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return V(X(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return V(X(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Q(this,1,e,H,t)},setUint8:function(e,t){Q(this,1,e,H,t)},setInt16:function(e,t){Q(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Q(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Q(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Q(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Q(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Q(this,8,e,z,t,arguments.length>2?arguments[2]:void 0)}});_(P,R),_(L,O),e.exports={ArrayBuffer:P,DataView:L}},77154:function(e,t,r){"use strict";var n=r(92991),o=r(43231),i=r(39646),a=r(79563),s=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),u=i(r),c=o(e,u),l=o(t,u),f=arguments.length>2?arguments[2]:void 0,d=s((void 0===f?u:o(f,u))-l,u-c),h=1;for(l<c&&c<l+d&&(h=-1,l+=d-1,c+=d-1);d-- >0;)l in r?r[c]=r[l]:a(r,c),c+=h,l+=h;return r}},97065:function(e,t,r){"use strict";var n=r(92991),o=r(43231),i=r(39646);e.exports=function(e){for(var t=n(this),r=i(t),a=arguments.length,s=o(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:o(u,r);c>s;)t[s++]=e;return t}},86570:function(e,t,r){"use strict";var n=r(89996).forEach,o=r(96038)("forEach");e.exports=o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},41253:function(e,t,r){var n=r(39646);e.exports=function(e,t){for(var r=0,o=n(t),i=new e(o);o>r;)i[r]=t[r++];return i}},10507:function(e,t,r){"use strict";var n=r(97636),o=r(20266),i=r(92991),a=r(64960),s=r(91943),u=r(82359),c=r(39646),l=r(62324),f=r(28403),d=r(78830),h=Array;e.exports=function(e){var t=i(e),r=u(this),p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v;y&&(v=n(v,p>2?arguments[2]:void 0));var g,m,b,w,T,_,k=d(t),E=0;if(!k||this===h&&s(k))for(g=c(t),m=r?new this(g):h(g);g>E;E++)_=y?v(t[E],E):t[E],l(m,E,_);else for(T=(w=f(t,k)).next,m=r?new this:[];!(b=o(T,w)).done;E++)_=y?a(w,v,[b.value,E],!0):b.value,l(m,E,_);return m.length=E,m}},19540:function(e,t,r){var n=r(10905),o=r(43231),i=r(39646),a=function(e){return function(t,r,a){var s,u=n(t),c=i(u),l=o(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},89996:function(e,t,r){var n=r(97636),o=r(65968),i=r(9337),a=r(92991),s=r(39646),u=r(87501),c=o([].push),l=function(e){var t=1==e,r=2==e,o=3==e,l=4==e,f=6==e,d=7==e,h=5==e||f;return function(p,v,y,g){for(var m,b,w=a(p),T=i(w),_=n(v,y),k=s(T),E=0,C=g||u,S=t?C(p,k):r||d?C(p,0):void 0;k>E;E++)if((h||E in T)&&(b=_(m=T[E],E,w),e))if(t)S[E]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:c(S,m)}else switch(e){case 4:return!1;case 7:c(S,m)}return f?-1:o||l?l:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},86462:function(e,t,r){"use strict";var n=r(53171),o=r(10905),i=r(43329),a=r(39646),s=r(96038),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),d=l||!f;e.exports=d?function(e){if(l)return n(c,this,arguments)||0;var t=o(this),r=a(t),s=r-1;for(arguments.length>1&&(s=u(s,i(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},31460:function(e,t,r){var n=r(24229),o=r(70095),i=r(6358),a=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},96038:function(e,t,r){"use strict";var n=r(24229);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},43143:function(e,t,r){var n=r(77111),o=r(92991),i=r(9337),a=r(39646),s=TypeError,u=function(e){return function(t,r,u,c){n(r);var l=o(t),f=i(l),d=a(l),h=e?d-1:0,p=e?-1:1;if(u<2)for(;;){if(h in f){c=f[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw s("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in f&&(c=r(c,f[h],h,l));return c}};e.exports={left:u(!1),right:u(!0)}},36554:function(e,t,r){"use strict";var n=r(7400),o=r(33718),i=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!a(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},69794:function(e,t,r){var n=r(43231),o=r(39646),i=r(62324),a=Array,s=Math.max;e.exports=function(e,t,r){for(var u=o(e),c=n(t,u),l=n(void 0===r?u:r,u),f=a(s(l-c,0)),d=0;c<l;c++,d++)i(f,d,e[c]);return f.length=d,f}},1909:function(e,t,r){var n=r(65968);e.exports=n([].slice)},33867:function(e,t,r){var n=r(69794),o=Math.floor,i=function(e,t){var r=e.length,u=o(r/2);return r<8?a(e,t):s(e,i(n(e,0,u),t),i(n(e,u),t),t)},a=function(e,t){for(var r,n,o=e.length,i=1;i<o;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var o=t.length,i=r.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?n(t[a],r[s])<=0?t[a++]:r[s++]:a<o?t[a++]:r[s++];return e};e.exports=i},18760:function(e,t,r){var n=r(33718),o=r(82359),i=r(85052),a=r(70095)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(o(t)&&(t===s||n(t.prototype))||i(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},87501:function(e,t,r){var n=r(18760);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},64960:function(e,t,r){var n=r(21176),o=r(57281);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){o(e,"throw",t)}}},74575:function(e,t,r){var n=r(70095)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},27079:function(e,t,r){var n=r(56529),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},81589:function(e,t,r){var n=r(71601),o=r(26733),i=r(27079),a=r(70095)("toStringTag"),s=Object,u="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?r:u?i(t):"Object"==(n=i(t))&&o(t.callee)?"Arguments":n}},98081:function(e,t,r){"use strict";var n=r(31787).f,o=r(22391),i=r(8312),a=r(97636),s=r(57728),u=r(9650),c=r(89003),l=r(12707),f=r(33684),d=r(71832),h=r(7400),p=r(95926).fastKey,v=r(56407),y=v.set,g=v.getterFor;e.exports={getConstructor:function(e,t,r,l){var f=e((function(e,n){s(e,d),y(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),h||(e.size=0),u(n)||c(n,e[l],{that:e,AS_ENTRIES:r})})),d=f.prototype,v=g(t),m=function(e,t,r){var n,o,i=v(e),a=b(e,t);return a?a.value=r:(i.last=a={index:o=p(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),h?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var r,n=v(e),o=p(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(d,{clear:function(){for(var e=v(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=this,r=v(t),n=b(t,e);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),h?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=v(this),n=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),i(d,r?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),h&&n(d,"size",{get:function(){return v(this).size}}),f},setStrong:function(e,t,r){var n=t+" Iterator",o=g(t),i=g(n);l(e,t,(function(e,t){y(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?f("keys"==t?r.key:"values"==t?r.value:[r.key,r.value],!1):(e.target=void 0,f(void 0,!0))}),r?"entries":"values",!r,!0),d(t)}}},63370:function(e,t,r){"use strict";var n=r(65968),o=r(8312),i=r(95926).getWeakData,a=r(57728),s=r(21176),u=r(9650),c=r(85052),l=r(89003),f=r(89996),d=r(98270),h=r(56407),p=h.set,v=h.getterFor,y=f.find,g=f.findIndex,m=n([].splice),b=0,w=function(e){return e.frozen||(e.frozen=new T)},T=function(){this.entries=[]},_=function(e,t){return y(e.entries,(function(e){return e[0]===t}))};T.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var r=_(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&m(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var f=e((function(e,o){a(e,h),p(e,{type:t,id:b++,frozen:void 0}),u(o)||l(o,e[n],{that:e,AS_ENTRIES:r})})),h=f.prototype,y=v(t),g=function(e,t,r){var n=y(e),o=i(s(t),!0);return!0===o?w(n).set(t,r):o[n.id]=r,e};return o(h,{delete:function(e){var t=y(this);if(!c(e))return!1;var r=i(e);return!0===r?w(t).delete(e):r&&d(r,t.id)&&delete r[t.id]},has:function(e){var t=y(this);if(!c(e))return!1;var r=i(e);return!0===r?w(t).has(e):r&&d(r,t.id)}}),o(h,r?{get:function(e){var t=y(this);if(c(e)){var r=i(e);return!0===r?w(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),f}}},69789:function(e,t,r){"use strict";var n=r(23103),o=r(9859),i=r(65968),a=r(46541),s=r(14768),u=r(95926),c=r(89003),l=r(57728),f=r(26733),d=r(9650),h=r(85052),p=r(24229),v=r(74575),y=r(54555),g=r(20835);e.exports=function(e,t,r){var m=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=m?"set":"add",T=o[e],_=T&&T.prototype,k=T,E={},C=function(e){var t=i(_[e]);s(_,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(a(e,!f(T)||!(b||_.forEach&&!p((function(){(new T).entries().next()})))))k=r.getConstructor(t,e,m,w),u.enable();else if(a(e,!0)){var S=new k,A=S[w](b?{}:-0,1)!=S,R=p((function(){S.has(1)})),O=v((function(e){new T(e)})),M=!b&&p((function(){for(var e=new T,t=5;t--;)e[w](t,t);return!e.has(-0)}));O||((k=t((function(e,t){l(e,_);var r=g(new T,e,k);return d(t)||c(t,r[w],{that:r,AS_ENTRIES:m}),r}))).prototype=_,_.constructor=k),(R||M)&&(C("delete"),C("has"),m&&C("get")),(M||A)&&C(w),b&&_.clear&&delete _.clear}return E[e]=k,n({global:!0,constructor:!0,forced:k!=T},E),y(k,e),b||r.setStrong(k,e,m),k}},77081:function(e,t,r){var n=r(98270),o=r(4826),i=r(97933),a=r(31787);e.exports=function(e,t,r){for(var s=o(t),u=a.f,c=i.f,l=0;l<s.length;l++){var f=s[l];n(e,f)||r&&n(r,f)||u(e,f,c(t,f))}}},48127:function(e,t,r){var n=r(70095)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},27528:function(e,t,r){var n=r(24229);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},33684:function(e){e.exports=function(e,t){return{value:e,done:t}}},75762:function(e,t,r){var n=r(7400),o=r(31787),i=r(65358);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},65358:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},62324:function(e,t,r){"use strict";var n=r(39310),o=r(31787),i=r(65358);e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,i(0,r)):e[a]=r}},26966:function(e,t,r){"use strict";var n=r(65968),o=r(24229),i=r(46650).start,a=RangeError,s=isFinite,u=Math.abs,c=Date.prototype,l=c.toISOString,f=n(c.getTime),d=n(c.getUTCDate),h=n(c.getUTCFullYear),p=n(c.getUTCHours),v=n(c.getUTCMilliseconds),y=n(c.getUTCMinutes),g=n(c.getUTCMonth),m=n(c.getUTCSeconds);e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!o((function(){l.call(new Date(NaN))}))?function(){if(!s(f(this)))throw a("Invalid time value");var e=this,t=h(e),r=v(e),n=t<0?"-":t>9999?"+":"";return n+i(u(t),n?6:4,0)+"-"+i(g(e)+1,2,0)+"-"+i(d(e),2,0)+"T"+i(p(e),2,0)+":"+i(y(e),2,0)+":"+i(m(e),2,0)+"."+i(r,3,0)+"Z"}:l},96616:function(e,t,r){var n=r(16039),o=r(31787);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},14768:function(e,t,r){var n=r(26733),o=r(31787),i=r(16039),a=r(18400);e.exports=function(e,t,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&i(r,c,s),s.global)u?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},8312:function(e,t,r){var n=r(14768);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},18400:function(e,t,r){var n=r(9859),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},79563:function(e,t,r){"use strict";var n=r(59821),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+n(t)+" of "+n(e))}},7400:function(e,t,r){var n=r(24229);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},63777:function(e){var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},22635:function(e,t,r){var n=r(9859),o=r(85052),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},13064:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},95694:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},18865:function(e,t,r){var n=r(22635)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},22671:function(e,t,r){var n=r(80598).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},48639:function(e,t,r){var n=r(95189),o=r(28801);e.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},95189:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},48506:function(e,t,r){var n=r(80598);e.exports=/MSIE|Trident/.test(n)},8983:function(e,t,r){var n=r(80598),o=r(9859);e.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==o.Pebble},32023:function(e,t,r){var n=r(80598);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},28801:function(e,t,r){var n=r(27079),o=r(9859);e.exports="process"==n(o.process)},10263:function(e,t,r){var n=r(80598);e.exports=/web0s(?!.*chrome)/i.test(n)},80598:function(e,t,r){var n=r(31333);e.exports=n("navigator","userAgent")||""},6358:function(e,t,r){var n,o,i=r(9859),a=r(80598),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},49811:function(e,t,r){var n=r(80598).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},13837:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},23103:function(e,t,r){var n=r(9859),o=r(97933).f,i=r(75762),a=r(14768),s=r(18400),u=r(77081),c=r(46541);e.exports=function(e,t){var r,l,f,d,h,p=e.target,v=e.global,y=e.stat;if(r=v?n:y?n[p]||s(p,{}):(n[p]||{}).prototype)for(l in t){if(d=t[l],f=e.dontCallGetSet?(h=o(r,l))&&h.value:r[l],!c(v?l:p+(y?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(r,l,d,e)}}},24229:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},94954:function(e,t,r){"use strict";r(77950);var n=r(65968),o=r(14768),i=r(63466),a=r(24229),s=r(70095),u=r(75762),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,r,f){var d=s(e),h=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=h&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!h||!p||r){var v=n(/./[d]),y=t(d,""[e],(function(e,t,r,o,a){var s=n(e),u=t.exec;return u===i||u===l.exec?h&&!a?{done:!0,value:v(t,r,o)}:{done:!0,value:s(r,t,o)}:{done:!1}}));o(String.prototype,e,y[0]),o(l,d,y[1])}f&&u(l[d],"sham",!0)}},68476:function(e,t,r){var n=r(24229);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},53171:function(e,t,r){var n=r(57188),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(i):function(){return a.apply(i,arguments)})},97636:function(e,t,r){var n=r(65968),o=r(77111),i=r(57188),a=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},57188:function(e,t,r){var n=r(24229);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},94128:function(e,t,r){"use strict";var n=r(65968),o=r(77111),i=r(85052),a=r(98270),s=r(1909),u=r(57188),c=Function,l=n([].concat),f=n([].join),d={},h=function(e,t,r){if(!a(d,t)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";d[t]=c("C,a","return new C("+f(n,",")+")")}return d[t](e,r)};e.exports=u?c.bind:function(e){var t=o(this),r=t.prototype,n=s(arguments,1),a=function(){var r=l(n,s(arguments));return this instanceof a?h(t,r.length,r):t.apply(e,r)};return i(r)&&(a.prototype=r),a}},20266:function(e,t,r){var n=r(57188),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},51805:function(e,t,r){var n=r(7400),o=r(98270),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},56529:function(e,t,r){var n=r(57188),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);e.exports=n?a:function(e){return function(){return i.apply(e,arguments)}}},65968:function(e,t,r){var n=r(27079),o=r(56529);e.exports=function(e){if("Function"===n(e))return o(e)}},31333:function(e,t,r){var n=r(9859),o=r(26733),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e]):n[e]&&n[e][t]}},78830:function(e,t,r){var n=r(81589),o=r(55300),i=r(9650),a=r(45495),s=r(70095)("iterator");e.exports=function(e){if(!i(e))return o(e,s)||o(e,"@@iterator")||a[n(e)]}},28403:function(e,t,r){var n=r(20266),o=r(77111),i=r(21176),a=r(59821),s=r(78830),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(o(r))return i(n(r,e));throw u(a(e)+" is not iterable")}},55300:function(e,t,r){var n=r(77111),o=r(9650);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},70017:function(e,t,r){var n=r(65968),o=r(92991),i=Math.floor,a=n("".charAt),s=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,f,d){var h=r+e.length,p=n.length,v=l;return void 0!==f&&(f=o(f),v=c),s(d,v,(function(o,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,h);case"<":c=f[u(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>p){var d=i(l/10);return 0===d?o:d<=p?void 0===n[d-1]?a(s,1):n[d-1]+a(s,1):o}c=n[l-1]}return void 0===c?"":c}))}},9859:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},98270:function(e,t,r){var n=r(65968),o=r(92991),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},95977:function(e){e.exports={}},14665:function(e,t,r){var n=r(9859);e.exports=function(e,t){var r=n.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}},53777:function(e,t,r){var n=r(31333);e.exports=n("document","documentElement")},64394:function(e,t,r){var n=r(7400),o=r(24229),i=r(22635);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},56201:function(e){var t=Array,r=Math.abs,n=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;e.exports={pack:function(e,s,u){var c,l,f,d=t(u),h=8*u-s-1,p=(1<<h)-1,v=p>>1,y=23===s?n(2,-24)-n(2,-77):0,g=e<0||0===e&&1/e<0?1:0,m=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,c=p):(c=o(i(e)/a),e*(f=n(2,-c))<1&&(c--,f*=2),(e+=c+v>=1?y/f:y*n(2,1-v))*f>=2&&(c++,f/=2),c+v>=p?(l=0,c=p):c+v>=1?(l=(e*f-1)*n(2,s),c+=v):(l=e*n(2,v-1)*n(2,s),c=0));s>=8;)d[m++]=255&l,l/=256,s-=8;for(c=c<<s|l,h+=s;h>0;)d[m++]=255&c,c/=256,h-=8;return d[--m]|=128*g,d},unpack:function(e,t){var r,o=e.length,i=8*o-t-1,a=(1<<i)-1,s=a>>1,u=i-7,c=o-1,l=e[c--],f=127&l;for(l>>=7;u>0;)f=256*f+e[c--],u-=8;for(r=f&(1<<-u)-1,f>>=-u,u+=t;u>0;)r=256*r+e[c--],u-=8;if(0===f)f=1-s;else{if(f===a)return r?NaN:l?-1/0:1/0;r+=n(2,t),f-=s}return(l?-1:1)*r*n(2,f-t)}}},9337:function(e,t,r){var n=r(65968),o=r(24229),i=r(27079),a=Object,s=n("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},20835:function(e,t,r){var n=r(26733),o=r(85052),i=r(56540);e.exports=function(e,t,r){var a,s;return i&&n(a=t.constructor)&&a!==r&&o(s=a.prototype)&&s!==r.prototype&&i(e,s),e}},8511:function(e,t,r){var n=r(65968),o=r(26733),i=r(85353),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},95926:function(e,t,r){var n=r(23103),o=r(65968),i=r(95977),a=r(85052),s=r(98270),u=r(31787).f,c=r(78151),l=r(10166),f=r(35343),d=r(81441),h=r(68476),p=!1,v=d("meta"),y=0,g=function(e){u(e,v,{value:{objectID:"O"+y++,weakData:{}}})},m=e.exports={enable:function(){m.enable=function(){},p=!0;var e=c.f,t=o([].splice),r={};r[v]=1,e(r).length&&(c.f=function(r){for(var n=e(r),o=0,i=n.length;o<i;o++)if(n[o]===v){t(n,o,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,v)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[v].objectID},getWeakData:function(e,t){if(!s(e,v)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[v].weakData},onFreeze:function(e){return h&&p&&f(e)&&!s(e,v)&&g(e),e}};i[v]=!0},56407:function(e,t,r){var n,o,i,a=r(51180),s=r(9859),u=r(85052),c=r(75762),l=r(98270),f=r(85353),d=r(44399),h=r(95977),p="Object already initialized",v=s.TypeError,y=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,n=function(e,t){if(g.has(e))throw v(p);return t.facade=e,g.set(e,t),t},o=function(e){return g.get(e)||{}},i=function(e){return g.has(e)}}else{var m=d("state");h[m]=!0,n=function(e,t){if(l(e,m))throw v(p);return t.facade=e,c(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},i=function(e){return l(e,m)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return r}}}},91943:function(e,t,r){var n=r(70095),o=r(45495),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},33718:function(e,t,r){var n=r(27079);e.exports=Array.isArray||function(e){return"Array"==n(e)}},79098:function(e,t,r){var n=r(81589),o=r(65968)("".slice);e.exports=function(e){return"Big"===o(n(e),0,3)}},26733:function(e,t,r){var n=r(63777),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},82359:function(e,t,r){var n=r(65968),o=r(24229),i=r(26733),a=r(81589),s=r(31333),u=r(8511),c=function(){},l=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=n(d.exec),p=!d.exec(c),v=function(e){if(!i(e))return!1;try{return f(c,l,e),!0}catch(e){return!1}},y=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,u(e))}catch(e){return!0}};y.sham=!0,e.exports=!f||o((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?y:v},46541:function(e,t,r){var n=r(24229),o=r(26733),i=/#|\.prototype\./,a=function(e,t){var r=u[s(e)];return r==l||r!=c&&(o(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},82292:function(e,t,r){var n=r(85052),o=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&o(e)===e}},9650:function(e){e.exports=function(e){return null==e}},85052:function(e,t,r){var n=r(26733),o=r(63777),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===i}:function(e){return"object"==typeof e?null!==e:n(e)}},24231:function(e){e.exports=!1},48311:function(e,t,r){var n=r(85052),o=r(27079),i=r(70095)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},49395:function(e,t,r){var n=r(31333),o=r(26733),i=r(91321),a=r(66969),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,s(e))}},89003:function(e,t,r){var n=r(97636),o=r(20266),i=r(21176),a=r(59821),s=r(91943),u=r(39646),c=r(91321),l=r(28403),f=r(78830),d=r(57281),h=TypeError,p=function(e,t){this.stopped=e,this.result=t},v=p.prototype;e.exports=function(e,t,r){var y,g,m,b,w,T,_,k=r&&r.that,E=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),R=n(t,k),O=function(e){return y&&d(y,"normal",e),new p(!0,e)},M=function(e){return E?(i(e),A?R(e[0],e[1],O):R(e[0],e[1])):A?R(e,O):R(e)};if(C)y=e.iterator;else if(S)y=e;else{if(!(g=f(e)))throw h(a(e)+" is not iterable");if(s(g)){for(m=0,b=u(e);b>m;m++)if((w=M(e[m]))&&c(v,w))return w;return new p(!1)}y=l(e,g)}for(T=C?e.next:y.next;!(_=o(T,y)).done;){try{w=M(_.value)}catch(e){d(y,"throw",e)}if("object"==typeof w&&w&&c(v,w))return w}return new p(!1)}},57281:function(e,t,r){var n=r(20266),o=r(21176),i=r(55300);e.exports=function(e,t,r){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw r;return r}a=n(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return o(a),r}},42247:function(e,t,r){"use strict";var n=r(60693).IteratorPrototype,o=r(22391),i=r(65358),a=r(54555),s=r(45495),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=o(n,{next:i(+!c,r)}),a(e,l,!1,!0),s[l]=u,e}},12707:function(e,t,r){"use strict";var n=r(23103),o=r(20266),i=r(24231),a=r(51805),s=r(26733),u=r(42247),c=r(67567),l=r(56540),f=r(54555),d=r(75762),h=r(14768),p=r(70095),v=r(45495),y=r(60693),g=a.PROPER,m=a.CONFIGURABLE,b=y.IteratorPrototype,w=y.BUGGY_SAFARI_ITERATORS,T=p("iterator"),_="keys",k="values",E="entries",C=function(){return this};e.exports=function(e,t,r,a,p,y,S){u(r,t,a);var A,R,O,M=function(e){if(e===p&&D)return D;if(!w&&e in x)return x[e];switch(e){case _:case k:case E:return function(){return new r(this,e)}}return function(){return new r(this)}},I=t+" Iterator",P=!1,x=e.prototype,L=x[T]||x["@@iterator"]||p&&x[p],D=!w&&L||M(p),N="Array"==t&&x.entries||L;if(N&&(A=c(N.call(new e)))!==Object.prototype&&A.next&&(i||c(A)===b||(l?l(A,b):s(A[T])||h(A,T,C)),f(A,I,!0,!0),i&&(v[I]=C)),g&&p==k&&L&&L.name!==k&&(!i&&m?d(x,"name",k):(P=!0,D=function(){return o(L,this)})),p)if(R={values:M(k),keys:y?D:M(_),entries:M(E)},S)for(O in R)(w||P||!(O in x))&&h(x,O,R[O]);else n({target:t,proto:!0,forced:w||P},R);return i&&!S||x[T]===D||h(x,T,D,{name:p}),v[t]=D,R}},60693:function(e,t,r){"use strict";var n,o,i,a=r(24229),s=r(26733),u=r(85052),c=r(22391),l=r(67567),f=r(14768),d=r(70095),h=r(24231),p=d("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):v=!0),!u(n)||a((function(){var e={};return n[p].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[p])||f(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},45495:function(e){e.exports={}},39646:function(e,t,r){var n=r(34237);e.exports=function(e){return n(e.length)}},16039:function(e,t,r){var n=r(24229),o=r(26733),i=r(98270),a=r(7400),s=r(51805).CONFIGURABLE,u=r(8511),c=r(56407),l=c.enforce,f=c.get,d=Object.defineProperty,h=a&&!n((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),v=e.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!i(e,"name")||s&&e.name!==t)&&(a?d(e,"name",{value:t,configurable:!0}):e.name=t),h&&r&&i(r,"arity")&&e.length!==r.arity&&d(e,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?a&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return i(n,"source")||(n.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=v((function(){return o(this)&&f(this).source||u(this)}),"toString")},80781:function(e,t,r){var n=r(57235),o=Math.abs,i=Math.pow,a=i(2,-52),s=i(2,-23),u=i(2,127)*(2-s),c=i(2,-126);e.exports=Math.fround||function(e){var t,r,i=+e,l=o(i),f=n(i);return l<c?f*function(e){return e+1/a-1/a}(l/c/s)*c*s:(r=(t=(1+s/a)*l)-(t-l))>u||r!=r?f*(1/0):f*r}},57235:function(e){e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},50917:function(e){var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},24794:function(e,t,r){var n,o,i,a,s,u,c,l,f=r(9859),d=r(97636),h=r(97933).f,p=r(55795).set,v=r(32023),y=r(8983),g=r(10263),m=r(28801),b=f.MutationObserver||f.WebKitMutationObserver,w=f.document,T=f.process,_=f.Promise,k=h(f,"queueMicrotask"),E=k&&k.value;E||(n=function(){var e,t;for(m&&(e=T.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},v||m||g||!b||!w?!y&&_&&_.resolve?((c=_.resolve(void 0)).constructor=_,l=d(c.then,c),a=function(){l(n)}):m?a=function(){T.nextTick(n)}:(p=d(p,f),a=function(){p(n)}):(s=!0,u=w.createTextNode(""),new b(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=E||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},16485:function(e,t,r){"use strict";var n=r(77111),o=TypeError,i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw o("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},47272:function(e,t,r){var n=r(48311),o=TypeError;e.exports=function(e){if(n(e))throw o("The method doesn't accept regular expressions");return e}},45496:function(e,t,r){var n=r(9859),o=r(24229),i=r(65968),a=r(83326),s=r(1017).trim,u=r(41647),c=i("".charAt),l=n.parseFloat,f=n.Symbol,d=f&&f.iterator,h=1/l(u+"-0")!=-1/0||d&&!o((function(){l(Object(d))}));e.exports=h?function(e){var t=s(a(e)),r=l(t);return 0===r&&"-"==c(t,0)?-0:r}:l},36596:function(e,t,r){var n=r(9859),o=r(24229),i=r(65968),a=r(83326),s=r(1017).trim,u=r(41647),c=n.parseInt,l=n.Symbol,f=l&&l.iterator,d=/^[+-]?0x/i,h=i(d.exec),p=8!==c(u+"08")||22!==c(u+"0x16")||f&&!o((function(){c(Object(f))}));e.exports=p?function(e,t){var r=s(a(e));return c(r,t>>>0||(h(d,r)?16:10))}:c},47:function(e,t,r){"use strict";var n=r(7400),o=r(65968),i=r(20266),a=r(24229),s=r(65632),u=r(10894),c=r(19195),l=r(92991),f=r(9337),d=Object.assign,h=Object.defineProperty,p=o([].concat);e.exports=!d||a((function(){if(n&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=d({},e)[r]||s(d({},t)).join("")!=o}))?function(e,t){for(var r=l(e),o=arguments.length,a=1,d=u.f,h=c.f;o>a;)for(var v,y=f(arguments[a++]),g=d?p(s(y),d(y)):s(y),m=g.length,b=0;m>b;)v=g[b++],n&&!i(h,y,v)||(r[v]=y[v]);return r}:d},22391:function(e,t,r){var n,o=r(21176),i=r(90219),a=r(13837),s=r(95977),u=r(53777),c=r(22635),l=r(44399),f=l("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;v="undefined"!=typeof document?document.domain&&n?p(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(n);for(var r=a.length;r--;)delete v.prototype[a[r]];return v()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=o(e),r=new d,d.prototype=null,r[f]=e):r=v(),void 0===t?r:i.f(r,t)}},90219:function(e,t,r){var n=r(7400),o=r(17137),i=r(31787),a=r(21176),s=r(10905),u=r(65632);t.f=n&&!o?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),o=u(t),c=o.length,l=0;c>l;)i.f(e,r=o[l++],n[r]);return e}},31787:function(e,t,r){var n=r(7400),o=r(64394),i=r(17137),a=r(21176),s=r(39310),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",h="writable";t.f=n?i?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:d in r?r.configurable:n.configurable,enumerable:f in r?r.enumerable:n.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},97933:function(e,t,r){var n=r(7400),o=r(20266),i=r(19195),a=r(65358),s=r(10905),u=r(39310),c=r(98270),l=r(64394),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(e){}if(c(e,t))return a(!o(i.f,e,t),e[t])}},10166:function(e,t,r){var n=r(27079),o=r(10905),i=r(78151).f,a=r(69794),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==n(e)?function(e){try{return i(e)}catch(e){return a(s)}}(e):i(o(e))}},78151:function(e,t,r){var n=r(90140),o=r(13837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},10894:function(e,t){t.f=Object.getOwnPropertySymbols},67567:function(e,t,r){var n=r(98270),o=r(26733),i=r(92991),a=r(44399),s=r(27528),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(n(t,u))return t[u];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},35343:function(e,t,r){var n=r(24229),o=r(85052),i=r(27079),a=r(92460),s=Object.isExtensible,u=n((function(){s(1)}));e.exports=u||a?function(e){return!!o(e)&&((!a||"ArrayBuffer"!=i(e))&&(!s||s(e)))}:s},91321:function(e,t,r){var n=r(65968);e.exports=n({}.isPrototypeOf)},90140:function(e,t,r){var n=r(65968),o=r(98270),i=r(10905),a=r(19540).indexOf,s=r(95977),u=n([].push);e.exports=function(e,t){var r,n=i(e),c=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&u(l,r);for(;t.length>c;)o(n,r=t[c++])&&(~a(l,r)||u(l,r));return l}},65632:function(e,t,r){var n=r(90140),o=r(13837);e.exports=Object.keys||function(e){return n(e,o)}},19195:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},56540:function(e,t,r){var n=r(65968),o=r(21176),i=r(88505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},87664:function(e,t,r){var n=r(7400),o=r(65968),i=r(65632),a=r(10905),s=o(r(19195).f),u=o([].push),c=function(e){return function(t){for(var r,o=a(t),c=i(o),l=c.length,f=0,d=[];l>f;)r=c[f++],n&&!s(o,r)||u(d,e?[r,o[r]]:o[r]);return d}};e.exports={entries:c(!0),values:c(!1)}},44059:function(e,t,r){"use strict";var n=r(71601),o=r(81589);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},32914:function(e,t,r){var n=r(20266),o=r(26733),i=r(85052),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!i(s=n(r,e)))return s;if(o(r=e.valueOf)&&!i(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!i(s=n(r,e)))return s;throw a("Can't convert object to primitive value")}},4826:function(e,t,r){var n=r(31333),o=r(65968),i=r(78151),a=r(10894),s=r(21176),u=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=a.f;return r?u(t,r(e)):t}},49276:function(e,t,r){var n=r(9859);e.exports=n},64624:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},38321:function(e,t,r){var n=r(9859),o=r(74473),i=r(26733),a=r(46541),s=r(8511),u=r(70095),c=r(48639),l=r(95189),f=r(24231),d=r(6358),h=o&&o.prototype,p=u("species"),v=!1,y=i(n.PromiseRejectionEvent),g=a("Promise",(function(){var e=s(o),t=e!==String(o);if(!t&&66===d)return!0;if(f&&(!h.catch||!h.finally))return!0;if(!d||d<51||!/native code/.test(e)){var r=new o((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[p]=n,!(v=r.then((function(){}))instanceof n))return!0}return!t&&(c||l)&&!y}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:y,SUBCLASSING:v}},74473:function(e,t,r){var n=r(9859);e.exports=n.Promise},62391:function(e,t,r){var n=r(21176),o=r(85052),i=r(16485);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},96866:function(e,t,r){var n=r(74473),o=r(74575),i=r(38321).CONSTRUCTOR;e.exports=i||!o((function(e){n.all(e).then(void 0,(function(){}))}))},26060:function(e,t,r){var n=r(31787).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},93358:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},98115:function(e,t,r){var n=r(20266),o=r(21176),i=r(26733),a=r(27079),s=r(63466),u=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var c=n(r,e,t);return null!==c&&o(c),c}if("RegExp"===a(e))return n(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},63466:function(e,t,r){"use strict";var n,o,i=r(20266),a=r(65968),s=r(83326),u=r(30895),c=r(25650),l=r(33036),f=r(22391),d=r(56407).get,h=r(42926),p=r(10461),v=l("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,m=a("".charAt),b=a("".indexOf),w=a("".replace),T=a("".slice),_=(o=/b*/g,i(y,n=/a/,"a"),i(y,o,"a"),0!==n.lastIndex||0!==o.lastIndex),k=c.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(_||E||k||h||p)&&(g=function(e){var t,r,n,o,a,c,l,h=this,p=d(h),C=s(e),S=p.raw;if(S)return S.lastIndex=h.lastIndex,t=i(g,S,C),h.lastIndex=S.lastIndex,t;var A=p.groups,R=k&&h.sticky,O=i(u,h),M=h.source,I=0,P=C;if(R&&(O=w(O,"y",""),-1===b(O,"g")&&(O+="g"),P=T(C,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==m(C,h.lastIndex-1))&&(M="(?: "+M+")",P=" "+P,I++),r=new RegExp("^(?:"+M+")",O)),E&&(r=new RegExp("^"+M+"$(?!\\s)",O)),_&&(n=h.lastIndex),o=i(y,R?r:h,P),R?o?(o.input=T(o.input,I),o[0]=T(o[0],I),o.index=h.lastIndex,h.lastIndex+=o[0].length):h.lastIndex=0:_&&o&&(h.lastIndex=h.global?o.index+o[0].length:n),E&&o&&o.length>1&&i(v,o[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&A)for(o.groups=c=f(null),a=0;a<A.length;a++)c[(l=A[a])[0]]=o[l[1]];return o}),e.exports=g},30895:function(e,t,r){"use strict";var n=r(21176);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},83349:function(e,t,r){var n=r(20266),o=r(98270),i=r(91321),a=r(30895),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||o(e,"flags")||!i(s,e)?t:n(a,e)}},25650:function(e,t,r){var n=r(24229),o=r(9859).RegExp,i=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||n((function(){return!o("a","y").sticky})),s=i||n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},42926:function(e,t,r){var n=r(24229),o=r(9859).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},10461:function(e,t,r){var n=r(24229),o=r(9859).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},58885:function(e,t,r){var n=r(9650),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},72101:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},71832:function(e,t,r){"use strict";var n=r(31333),o=r(31787),i=r(70095),a=r(7400),s=i("species");e.exports=function(e){var t=n(e),r=o.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},54555:function(e,t,r){var n=r(31787).f,o=r(98270),i=r(70095)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!o(e,i)&&n(e,i,{configurable:!0,value:t})}},44399:function(e,t,r){var n=r(33036),o=r(81441),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},85353:function(e,t,r){var n=r(9859),o=r(18400),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},33036:function(e,t,r){var n=r(24231),o=r(85353);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},37942:function(e,t,r){var n=r(21176),o=r(57988),i=r(9650),a=r(70095)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||i(r=n(s)[a])?t:o(r)}},30966:function(e,t,r){var n=r(65968),o=r(43329),i=r(83326),a=r(58885),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,f=i(a(t)),d=o(r),h=f.length;return d<0||d>=h?e?"":void 0:(n=u(f,d))<55296||n>56319||d+1===h||(l=u(f,d+1))<56320||l>57343?e?s(f,d):n:e?c(f,d,d+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},57456:function(e,t,r){var n=r(80598);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},46650:function(e,t,r){var n=r(65968),o=r(34237),i=r(83326),a=r(93124),s=r(58885),u=n(a),c=n("".slice),l=Math.ceil,f=function(e){return function(t,r,n){var a,f,d=i(s(t)),h=o(r),p=d.length,v=void 0===n?" ":i(n);return h<=p||""==v?d:((f=u(v,l((a=h-p)/v.length))).length>a&&(f=c(f,0,a)),e?d+f:f+d)}};e.exports={start:f(!1),end:f(!0)}},77321:function(e,t,r){"use strict";var n=r(65968),o=2147483647,i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=n(a.exec),l=Math.floor,f=String.fromCharCode,d=n("".charCodeAt),h=n([].join),p=n([].push),v=n("".replace),y=n("".split),g=n("".toLowerCase),m=function(e){return e+22+75*(e<26)},b=function(e,t,r){var n=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),n+=36;return l(n+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=d(e,r++);if(o>=55296&&o<=56319&&r<n){var i=d(e,r++);56320==(64512&i)?p(t,((1023&o)<<10)+(1023&i)+65536):(p(t,o),r--)}else p(t,o)}return t}(e);var r,n,i=e.length,a=128,c=0,v=72;for(r=0;r<e.length;r++)(n=e[r])<128&&p(t,f(n));var y=t.length,g=y;for(y&&p(t,"-");g<i;){var w=o;for(r=0;r<e.length;r++)(n=e[r])>=a&&n<w&&(w=n);var T=g+1;if(w-a>l((o-c)/T))throw u(s);for(c+=(w-a)*T,a=w,r=0;r<e.length;r++){if((n=e[r])<a&&++c>o)throw u(s);if(n==a){for(var _=c,k=36;;){var E=k<=v?1:k>=v+26?26:k-v;if(_<E)break;var C=_-E,S=36-E;p(t,f(m(E+C%S))),_=l(C/S),k+=36}p(t,f(m(_))),v=b(c,T,g==y),c=0,g++}}c++,a++}return h(t,"")};e.exports=function(e){var t,r,n=[],o=y(v(g(e),a,"."),".");for(t=0;t<o.length;t++)r=o[t],p(n,c(i,r)?"xn--"+w(r):r);return h(n,".")}},93124:function(e,t,r){"use strict";var n=r(43329),o=r(83326),i=r(58885),a=RangeError;e.exports=function(e){var t=o(i(this)),r="",s=n(e);if(s<0||s==1/0)throw a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},9445:function(e,t,r){var n=r(51805).PROPER,o=r(24229),i=r(41647);e.exports=function(e){return o((function(){return!!i[e]()||"​᠎"!=="​᠎"[e]()||n&&i[e].name!==e}))}},1017:function(e,t,r){var n=r(65968),o=r(58885),i=r(83326),a=r(41647),s=n("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),f=function(e){return function(t){var r=i(o(t));return 1&e&&(r=s(r,c,"")),2&e&&(r=s(r,l,"")),r}};e.exports={start:f(1),end:f(2),trim:f(3)}},44860:function(e,t,r){var n=r(6358),o=r(24229);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},66481:function(e,t,r){var n=r(20266),o=r(31333),i=r(70095),a=r(14768);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,s=i("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return n(r,this)}),{arity:1})}},55957:function(e,t,r){var n=r(44860);e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},55795:function(e,t,r){var n,o,i,a,s=r(9859),u=r(53171),c=r(97636),l=r(26733),f=r(98270),d=r(24229),h=r(53777),p=r(1909),v=r(22635),y=r(77579),g=r(32023),m=r(28801),b=s.setImmediate,w=s.clearImmediate,T=s.process,_=s.Dispatch,k=s.Function,E=s.MessageChannel,C=s.String,S=0,A={},R="onreadystatechange";try{n=s.location}catch(e){}var O=function(e){if(f(A,e)){var t=A[e];delete A[e],t()}},M=function(e){return function(){O(e)}},I=function(e){O(e.data)},P=function(e){s.postMessage(C(e),n.protocol+"//"+n.host)};b&&w||(b=function(e){y(arguments.length,1);var t=l(e)?e:k(e),r=p(arguments,1);return A[++S]=function(){u(t,void 0,r)},o(S),S},w=function(e){delete A[e]},m?o=function(e){T.nextTick(M(e))}:_&&_.now?o=function(e){_.now(M(e))}:E&&!g?(a=(i=new E).port2,i.port1.onmessage=I,o=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!d(P)?(o=P,s.addEventListener("message",I,!1)):o=R in v("script")?function(e){h.appendChild(v("script")).onreadystatechange=function(){h.removeChild(this),O(e)}}:function(e){setTimeout(M(e),0)}),e.exports={set:b,clear:w}},90143:function(e,t,r){var n=r(65968);e.exports=n(1..valueOf)},43231:function(e,t,r){var n=r(43329),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},19123:function(e,t,r){var n=r(92066),o=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw o("Can't convert number to bigint");return BigInt(t)}},7331:function(e,t,r){var n=r(43329),o=r(34237),i=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw i("Wrong length or index");return r}},10905:function(e,t,r){var n=r(9337),o=r(58885);e.exports=function(e){return n(o(e))}},43329:function(e,t,r){var n=r(50917);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},34237:function(e,t,r){var n=r(43329),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},92991:function(e,t,r){var n=r(58885),o=Object;e.exports=function(e){return o(n(e))}},84262:function(e,t,r){var n=r(72002),o=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw o("Wrong offset");return r}},72002:function(e,t,r){var n=r(43329),o=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw o("The argument can't be less than 0");return t}},92066:function(e,t,r){var n=r(20266),o=r(85052),i=r(49395),a=r(55300),s=r(32914),u=r(70095),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,u=a(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},39310:function(e,t,r){var n=r(92066),o=r(49395);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},71601:function(e,t,r){var n={};n[r(70095)("toStringTag")]="z",e.exports="[object z]"===String(n)},83326:function(e,t,r){var n=r(81589),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},59821:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},42574:function(e,t,r){"use strict";var n=r(23103),o=r(9859),i=r(20266),a=r(7400),s=r(48200),u=r(9918),c=r(53816),l=r(57728),f=r(65358),d=r(75762),h=r(82292),p=r(34237),v=r(7331),y=r(84262),g=r(39310),m=r(98270),b=r(81589),w=r(85052),T=r(49395),_=r(22391),k=r(91321),E=r(56540),C=r(78151).f,S=r(35215),A=r(89996).forEach,R=r(71832),O=r(31787),M=r(97933),I=r(56407),P=r(20835),x=I.get,L=I.set,D=I.enforce,N=O.f,G=M.f,F=Math.round,B=o.RangeError,j=c.ArrayBuffer,U=j.prototype,V=c.DataView,H=u.NATIVE_ARRAY_BUFFER_VIEWS,K=u.TYPED_ARRAY_TAG,W=u.TypedArray,Y=u.TypedArrayPrototype,q=u.aTypedArrayConstructor,z=u.isTypedArray,J="BYTES_PER_ELEMENT",X="Wrong length",Q=function(e,t){q(e);for(var r=0,n=t.length,o=new e(n);n>r;)o[r]=t[r++];return o},Z=function(e,t){N(e,t,{get:function(){return x(this)[t]}})},$=function(e){var t;return k(U,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return z(e)&&!T(t)&&t in e&&h(+t)&&t>=0},te=function(e,t){return t=g(t),ee(e,t)?f(2,e[t]):G(e,t)},re=function(e,t,r){return t=g(t),!(ee(e,t)&&w(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?N(e,t,r):(e[t]=r.value,e)};a?(H||(M.f=te,O.f=re,Z(Y,"buffer"),Z(Y,"byteOffset"),Z(Y,"byteLength"),Z(Y,"length")),n({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:te,defineProperty:re}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,u=e+(r?"Clamped":"")+"Array",c="get"+e,f="set"+e,h=o[u],g=h,m=g&&g.prototype,b={},T=function(e,t){N(e,t,{get:function(){return function(e,t){var r=x(e);return r.view[c](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=x(e);r&&(n=(n=F(n))<0?0:n>255?255:255&n),o.view[f](t*a+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};H?s&&(g=t((function(e,t,r,n){return l(e,m),P(w(t)?$(t)?void 0!==n?new h(t,y(r,a),n):void 0!==r?new h(t,y(r,a)):new h(t):z(t)?Q(g,t):i(S,g,t):new h(v(t)),e,g)})),E&&E(g,W),A(C(h),(function(e){e in g||d(g,e,h[e])})),g.prototype=m):(g=t((function(e,t,r,n){l(e,m);var o,s,u,c=0,f=0;if(w(t)){if(!$(t))return z(t)?Q(g,t):i(S,g,t);o=t,f=y(r,a);var d=t.byteLength;if(void 0===n){if(d%a)throw B(X);if((s=d-f)<0)throw B(X)}else if((s=p(n)*a)+f>d)throw B(X);u=s/a}else u=v(t),o=new j(s=u*a);for(L(e,{buffer:o,byteOffset:f,byteLength:s,length:u,view:new V(o)});c<u;)T(e,c++)})),E&&E(g,W),m=g.prototype=_(Y)),m.constructor!==g&&d(m,"constructor",g),D(m).TypedArrayConstructor=g,K&&d(m,K,u);var k=g!=h;b[u]=g,n({global:!0,constructor:!0,forced:k,sham:!H},b),J in g||d(g,J,a),J in m||d(m,J,a),R(u)}):e.exports=function(){}},48200:function(e,t,r){var n=r(9859),o=r(24229),i=r(74575),a=r(9918).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!a||!o((function(){u(1)}))||!o((function(){new u(-1)}))||!i((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||o((function(){return 1!==new u(new s(2),1,void 0).length}))},88874:function(e,t,r){var n=r(41253),o=r(54622);e.exports=function(e,t){return n(o(e),t)}},35215:function(e,t,r){var n=r(97636),o=r(20266),i=r(57988),a=r(92991),s=r(39646),u=r(28403),c=r(78830),l=r(91943),f=r(79098),d=r(9918).aTypedArrayConstructor,h=r(19123);e.exports=function(e){var t,r,p,v,y,g,m,b,w=i(this),T=a(e),_=arguments.length,k=_>1?arguments[1]:void 0,E=void 0!==k,C=c(T);if(C&&!l(C))for(b=(m=u(T,C)).next,T=[];!(g=o(b,m)).done;)T.push(g.value);for(E&&_>2&&(k=n(k,arguments[2])),r=s(T),p=new(d(w))(r),v=f(p),t=0;r>t;t++)y=E?k(T[t],t):T[t],p[t]=v?h(y):+y;return p}},54622:function(e,t,r){var n=r(9918),o=r(37942),i=n.aTypedArrayConstructor,a=n.getTypedArrayConstructor;e.exports=function(e){return i(o(e,a(e)))}},81441:function(e,t,r){var n=r(65968),o=0,i=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},34144:function(e,t,r){var n=r(24229),o=r(70095),i=r(24231),a=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},66969:function(e,t,r){var n=r(44860);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},17137:function(e,t,r){var n=r(7400),o=r(24229);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},77579:function(e){var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},51180:function(e,t,r){var n=r(9859),o=r(26733),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},63524:function(e,t,r){var n=r(49276),o=r(98270),i=r(55391),a=r(31787).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},55391:function(e,t,r){var n=r(70095);t.f=n},70095:function(e,t,r){var n=r(9859),o=r(33036),i=r(98270),a=r(81441),s=r(44860),u=r(66969),c=o("wks"),l=n.Symbol,f=l&&l.for,d=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&i(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):d(t)}return c[e]}},41647:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},65388:function(e,t,r){"use strict";var n=r(23103),o=r(9859),i=r(53816),a=r(71832),s="ArrayBuffer",u=i.ArrayBuffer;n({global:!0,constructor:!0,forced:o.ArrayBuffer!==u},{ArrayBuffer:u}),a(s)},48777:function(e,t,r){var n=r(23103),o=r(9918);n({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView})},72994:function(e,t,r){"use strict";var n=r(23103),o=r(65968),i=r(24229),a=r(53816),s=r(21176),u=r(43231),c=r(34237),l=r(37942),f=a.ArrayBuffer,d=a.DataView,h=d.prototype,p=o(f.prototype.slice),v=o(h.getUint8),y=o(h.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new f(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(s(this),e);for(var r=s(this).byteLength,n=u(e,r),o=u(void 0===t?r:t,r),i=new(l(this,f))(c(o-n)),a=new d(this),h=new d(i),g=0;n<o;)y(h,g++,v(a,n++));return i}})},18178:function(e,t,r){"use strict";var n=r(23103),o=r(24229),i=r(33718),a=r(85052),s=r(92991),u=r(39646),c=r(13064),l=r(62324),f=r(87501),d=r(31460),h=r(70095),p=r(6358),v=h("isConcatSpreadable"),y=p>=51||!o((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),g=d("concat"),m=function(e){if(!a(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,arity:1,forced:!y||!g},{concat:function(e){var t,r,n,o,i,a=s(this),d=f(a,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(m(i=-1===t?a:arguments[t]))for(o=u(i),c(h+o),r=0;r<o;r++,h++)r in i&&l(d,h,i[r]);else c(h+1),l(d,h++,i);return d.length=h,d}})},28986:function(e,t,r){"use strict";var n=r(23103),o=r(89996).every;n({target:"Array",proto:!0,forced:!r(96038)("every")},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},92656:function(e,t,r){var n=r(23103),o=r(97065),i=r(9736);n({target:"Array",proto:!0},{fill:o}),i("fill")},95342:function(e,t,r){"use strict";var n=r(23103),o=r(89996).filter;n({target:"Array",proto:!0,forced:!r(31460)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},9949:function(e,t,r){"use strict";var n=r(23103),o=r(89996).findIndex,i=r(9736),a="findIndex",s=!0;a in[]&&Array(1).findIndex((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},49228:function(e,t,r){"use strict";var n=r(23103),o=r(89996).find,i=r(9736),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},38695:function(e,t,r){"use strict";var n=r(23103),o=r(86570);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},27233:function(e,t,r){var n=r(23103),o=r(10507);n({target:"Array",stat:!0,forced:!r(74575)((function(e){Array.from(e)}))},{from:o})},39529:function(e,t,r){"use strict";var n=r(23103),o=r(19540).includes,i=r(24229),a=r(9736);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},74083:function(e,t,r){"use strict";var n=r(23103),o=r(65968),i=r(19540).indexOf,a=r(96038),s=o([].indexOf),u=!!s&&1/s([1],1,-0)<0,c=a("indexOf");n({target:"Array",proto:!0,forced:u||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:i(this,e,t)}})},15735:function(e,t,r){"use strict";var n=r(10905),o=r(9736),i=r(45495),a=r(56407),s=r(31787).f,u=r(12707),c=r(33684),l=r(24231),f=r(7400),d="Array Iterator",h=a.set,p=a.getterFor(d);e.exports=u(Array,"Array",(function(e,t){h(this,{type:d,target:n(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var v=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(e){}},16781:function(e,t,r){"use strict";var n=r(23103),o=r(65968),i=r(9337),a=r(10905),s=r(96038),u=o([].join),c=i!=Object,l=s("join",",");n({target:"Array",proto:!0,forced:c||!l},{join:function(e){return u(a(this),void 0===e?",":e)}})},43450:function(e,t,r){"use strict";var n=r(23103),o=r(89996).map;n({target:"Array",proto:!0,forced:!r(31460)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},43108:function(e,t,r){"use strict";var n=r(23103),o=r(43143).left,i=r(96038),a=r(6358),s=r(28801);n({target:"Array",proto:!0,forced:!i("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},32501:function(e,t,r){"use strict";var n=r(23103),o=r(33718),i=r(82359),a=r(85052),s=r(43231),u=r(39646),c=r(10905),l=r(62324),f=r(70095),d=r(31460),h=r(1909),p=d("slice"),v=f("species"),y=Array,g=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,n,f,d=c(this),p=u(d),m=s(e,p),b=s(void 0===t?p:t,p);if(o(d)&&(r=d.constructor,(i(r)&&(r===y||o(r.prototype))||a(r)&&null===(r=r[v]))&&(r=void 0),r===y||void 0===r))return h(d,m,b);for(n=new(void 0===r?y:r)(g(b-m,0)),f=0;m<b;m++,f++)m in d&&l(n,f,d[m]);return n.length=f,n}})},67321:function(e,t,r){"use strict";var n=r(23103),o=r(89996).some;n({target:"Array",proto:!0,forced:!r(96038)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},43430:function(e,t,r){"use strict";var n=r(23103),o=r(65968),i=r(77111),a=r(92991),s=r(39646),u=r(79563),c=r(83326),l=r(24229),f=r(33867),d=r(96038),h=r(22671),p=r(48506),v=r(6358),y=r(49811),g=[],m=o(g.sort),b=o(g.push),w=l((function(){g.sort(void 0)})),T=l((function(){g.sort(null)})),_=d("sort"),k=!l((function(){if(v)return v<70;if(!(h&&h>3)){if(p)return!0;if(y)return y<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)g.push({k:t+n,v:r})}for(g.sort((function(e,t){return t.v-e.v})),n=0;n<g.length;n++)t=g[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:w||!T||!_||!k},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(k)return void 0===e?m(t):m(t,e);var r,n,o=[],l=s(t);for(n=0;n<l;n++)n in t&&b(o,t[n]);for(f(o,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}}(e)),r=s(o),n=0;n<r;)t[n]=o[n++];for(;n<l;)u(t,n++);return t}})},99805:function(e,t,r){"use strict";var n=r(23103),o=r(92991),i=r(43231),a=r(43329),s=r(39646),u=r(36554),c=r(13064),l=r(87501),f=r(62324),d=r(79563),h=r(31460)("splice"),p=Math.max,v=Math.min;n({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var r,n,h,y,g,m,b=o(this),w=s(b),T=i(e,w),_=arguments.length;for(0===_?r=n=0:1===_?(r=0,n=w-T):(r=_-2,n=v(p(a(t),0),w-T)),c(w+r-n),h=l(b,n),y=0;y<n;y++)(g=T+y)in b&&f(h,y,b[g]);if(h.length=n,r<n){for(y=T;y<w-n;y++)m=y+r,(g=y+n)in b?b[m]=b[g]:d(b,m);for(y=w;y>w-n+r;y--)d(b,y-1)}else if(r>n)for(y=w-n;y>T;y--)m=y+r-1,(g=y+n-1)in b?b[m]=b[g]:d(b,m);for(y=0;y<r;y++)b[y+T]=arguments[y+2];return u(b,w-n+r),h}})},19610:function(e,t,r){var n=r(23103),o=r(53816);n({global:!0,constructor:!0,forced:!r(9772)},{DataView:o.DataView})},95206:function(e,t,r){r(19610)},85713:function(e,t,r){var n=r(23103),o=r(26966);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},94148:function(e,t,r){"use strict";var n=r(23103),o=r(24229),i=r(92991),a=r(92066);n({target:"Date",proto:!0,arity:1,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=i(this),r=a(t,"number");return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},26936:function(e,t,r){var n=r(7400),o=r(51805).EXISTS,i=r(65968),a=r(31787).f,s=Function.prototype,u=i(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(c.exec);n&&!o&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})},6710:function(e,t,r){var n=r(23103),o=r(31333),i=r(53171),a=r(20266),s=r(65968),u=r(24229),c=r(33718),l=r(26733),f=r(85052),d=r(49395),h=r(1909),p=r(44860),v=o("JSON","stringify"),y=s(/./.exec),g=s("".charAt),m=s("".charCodeAt),b=s("".replace),w=s(1..toString),T=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,E=!p||u((function(){var e=o("Symbol")();return"[null]"!=v([e])||"{}"!=v({a:e})||"{}"!=v(Object(e))})),C=u((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),S=function(e,t){var r=h(arguments),n=t;if((f(t)||void 0!==e)&&!d(e))return c(t)||(t=function(e,t){if(l(n)&&(t=a(n,this,e,t)),!d(t))return t}),r[1]=t,i(v,null,r)},A=function(e,t,r){var n=g(r,t-1),o=g(r,t+1);return y(_,e)&&!y(k,o)||y(k,e)&&!y(_,n)?"\\u"+w(m(e,0),16):e};v&&n({target:"JSON",stat:!0,arity:3,forced:E||C},{stringify:function(e,t,r){var n=h(arguments),o=i(E?S:v,null,n);return C&&"string"==typeof o?b(o,T,A):o}})},17525:function(e,t,r){var n=r(9859);r(54555)(n.JSON,"JSON",!0)},19294:function(e,t,r){"use strict";r(69789)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(98081))},79321:function(e,t,r){r(19294)},88276:function(e,t,r){var n=r(23103),o=Math.floor,i=Math.log,a=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-o(i(t+.5)*a):32}})},1100:function(e,t,r){r(23103)({target:"Math",stat:!0},{fround:r(80781)})},36348:function(e,t,r){var n=r(23103),o=r(24229),i=Math.imul;n({target:"Math",stat:!0,forced:o((function(){return-5!=i(4294967295,5)||2!=i.length}))},{imul:function(e,t){var r=65535,n=+e,o=+t,i=r&n,a=r&o;return 0|i*a+((r&n>>>16)*a+i*(r&o>>>16)<<16>>>0)}})},18275:function(e,t,r){r(54555)(Math,"Math",!0)},31969:function(e,t,r){r(23103)({target:"Math",stat:!0},{trunc:r(50917)})},71245:function(e,t,r){"use strict";var n=r(7400),o=r(9859),i=r(65968),a=r(46541),s=r(14768),u=r(98270),c=r(20835),l=r(91321),f=r(49395),d=r(92066),h=r(24229),p=r(78151).f,v=r(97933).f,y=r(31787).f,g=r(90143),m=r(1017).trim,b="Number",w=o.Number,T=w.prototype,_=o.TypeError,k=i("".slice),E=i("".charCodeAt),C=function(e){var t=d(e,"number");return"bigint"==typeof t?t:S(t)},S=function(e){var t,r,n,o,i,a,s,u,c=d(e,"number");if(f(c))throw _("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=m(c),43===(t=E(c,0))||45===t){if(88===(r=E(c,2))||120===r)return NaN}else if(48===t){switch(E(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=k(c,2)).length,s=0;s<a;s++)if((u=E(i,s))<48||u>o)return NaN;return parseInt(i,n)}return+c};if(a(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var A,R=function(e){var t=arguments.length<1?0:w(C(e)),r=this;return l(T,r)&&h((function(){g(r)}))?c(Object(t),r,R):t},O=n?p(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),M=0;O.length>M;M++)u(w,A=O[M])&&!u(R,A)&&y(R,A,v(w,A));R.prototype=T,T.constructor=R,s(o,b,R,{constructor:!0})}},61657:function(e,t,r){"use strict";var n=r(23103),o=r(65968),i=r(43329),a=r(90143),s=r(93124),u=r(24229),c=RangeError,l=String,f=Math.floor,d=o(s),h=o("".slice),p=o(1..toFixed),v=function(e,t,r){return 0===t?r:t%2==1?v(e,t-1,r*e):v(e*e,t/2,r)},y=function(e,t,r){for(var n=-1,o=r;++n<6;)o+=t*e[n],e[n]=o%1e7,o=f(o/1e7)},g=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=f(n/t),n=n%t*1e7},m=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var n=l(e[t]);r=""===r?n:r+d("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}))},{toFixed:function(e){var t,r,n,o,s=a(this),u=i(e),f=[0,0,0,0,0,0],p="",b="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return l(s);if(s<0&&(p="-",s=-s),s>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(s*v(2,69,1))-69)<0?s*v(2,-t,1):s/v(2,t,1),r*=4503599627370496,(t=52-t)>0){for(y(f,0,r),n=u;n>=7;)y(f,1e7,0),n-=7;for(y(f,v(10,n,1),0),n=t-1;n>=23;)g(f,1<<23),n-=23;g(f,1<<n),y(f,1,1),g(f,2),b=m(f)}else y(f,0,r),y(f,1<<-t,0),b=m(f)+d("0",u);return b=u>0?p+((o=b.length)<=u?"0."+d("0",u-o)+b:h(b,0,o-u)+"."+h(b,o-u)):p+b}})},43105:function(e,t,r){var n=r(23103),o=r(47);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},76555:function(e,t,r){var n=r(23103),o=r(7400),i=r(90219).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!o},{defineProperties:i})},95094:function(e,t,r){var n=r(23103),o=r(7400),i=r(31787).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},68625:function(e,t,r){var n=r(23103),o=r(24229),i=r(10905),a=r(97933).f,s=r(7400),u=o((function(){a(1)}));n({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},62775:function(e,t,r){var n=r(23103),o=r(7400),i=r(4826),a=r(10905),s=r(97933),u=r(62324);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,r,n=a(e),o=s.f,c=i(n),l={},f=0;c.length>f;)void 0!==(r=o(n,t=c[f++]))&&u(l,t,r);return l}})},82067:function(e,t,r){var n=r(23103),o=r(44860),i=r(24229),a=r(10894),s=r(92991);n({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},96928:function(e,t,r){var n=r(23103),o=r(24229),i=r(92991),a=r(67567),s=r(27528);n({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},34769:function(e,t,r){var n=r(23103),o=r(92991),i=r(65632);n({target:"Object",stat:!0,forced:r(24229)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},52506:function(e,t,r){r(23103)({target:"Object",stat:!0},{setPrototypeOf:r(56540)})},58188:function(e,t,r){var n=r(71601),o=r(14768),i=r(44059);n||o(Object.prototype,"toString",i,{unsafe:!0})},67890:function(e,t,r){var n=r(23103),o=r(87664).values;n({target:"Object",stat:!0},{values:function(e){return o(e)}})},13489:function(e,t,r){var n=r(23103),o=r(45496);n({global:!0,forced:parseFloat!=o},{parseFloat:o})},68995:function(e,t,r){var n=r(23103),o=r(36596);n({global:!0,forced:parseInt!=o},{parseInt:o})},56032:function(e,t,r){"use strict";var n=r(23103),o=r(20266),i=r(77111),a=r(16485),s=r(64624),u=r(89003);n({target:"Promise",stat:!0,forced:r(96866)},{all:function(e){var t=this,r=a.f(t),n=r.resolve,c=r.reject,l=s((function(){var r=i(t.resolve),a=[],s=0,l=1;u(e,(function(e){var i=s++,u=!1;l++,o(r,t,e).then((function(e){u||(u=!0,a[i]=e,--l||n(a))}),c)})),--l||n(a)}));return l.error&&c(l.value),r.promise}})},6135:function(e,t,r){"use strict";var n=r(23103),o=r(24231),i=r(38321).CONSTRUCTOR,a=r(74473),s=r(31333),u=r(26733),c=r(14768),l=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&u(a)){var f=s("Promise").prototype.catch;l.catch!==f&&c(l,"catch",f,{unsafe:!0})}},86087:function(e,t,r){"use strict";var n,o,i,a=r(23103),s=r(24231),u=r(28801),c=r(9859),l=r(20266),f=r(14768),d=r(56540),h=r(54555),p=r(71832),v=r(77111),y=r(26733),g=r(85052),m=r(57728),b=r(37942),w=r(55795).set,T=r(24794),_=r(14665),k=r(64624),E=r(93358),C=r(56407),S=r(74473),A=r(38321),R=r(16485),O="Promise",M=A.CONSTRUCTOR,I=A.REJECTION_EVENT,P=A.SUBCLASSING,x=C.getterFor(O),L=C.set,D=S&&S.prototype,N=S,G=D,F=c.TypeError,B=c.document,j=c.process,U=R.f,V=U,H=!!(B&&B.createEvent&&c.dispatchEvent),K="unhandledrejection",W=function(e){var t;return!(!g(e)||!y(t=e.then))&&t},Y=function(e,t){var r,n,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,u=e.resolve,c=e.reject,f=e.domain;try{s?(a||(2===t.rejection&&Q(t),t.rejection=1),!0===s?r=i:(f&&f.enter(),r=s(i),f&&(f.exit(),o=!0)),r===e.promise?c(F("Promise-chain cycle")):(n=W(r))?l(n,r,u,c):u(r)):c(i)}catch(e){f&&!o&&f.exit(),c(e)}},q=function(e,t){e.notified||(e.notified=!0,T((function(){for(var r,n=e.reactions;r=n.get();)Y(r,e);e.notified=!1,t&&!e.rejection&&J(e)})))},z=function(e,t,r){var n,o;H?((n=B.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!I&&(o=c["on"+e])?o(n):e===K&&_("Unhandled promise rejection",r)},J=function(e){l(w,c,(function(){var t,r=e.facade,n=e.value;if(X(e)&&(t=k((function(){u?j.emit("unhandledRejection",n,r):z(K,r,n)})),e.rejection=u||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(w,c,(function(){var t=e.facade;u?j.emit("rejectionHandled",t):z("rejectionhandled",t,e.value)}))},Z=function(e,t,r){return function(n){e(t,n,r)}},$=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,q(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw F("Promise can't be resolved itself");var n=W(t);n?T((function(){var r={done:!1};try{l(n,t,Z(ee,r,e),Z($,r,e))}catch(t){$(r,t,e)}})):(e.value=t,e.state=1,q(e,!1))}catch(t){$({done:!1},t,e)}}};if(M&&(G=(N=function(e){m(this,G),v(e),l(n,this);var t=x(this);try{e(Z(ee,t),Z($,t))}catch(e){$(t,e)}}).prototype,(n=function(e){L(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:void 0})}).prototype=f(G,"then",(function(e,t){var r=x(this),n=U(b(this,N));return r.parent=!0,n.ok=!y(e)||e,n.fail=y(t)&&t,n.domain=u?j.domain:void 0,0==r.state?r.reactions.add(n):T((function(){Y(n,r)})),n.promise})),o=function(){var e=new n,t=x(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z($,t)},R.f=U=function(e){return e===N||undefined===e?new o(e):V(e)},!s&&y(S)&&D!==Object.prototype)){i=D.then,P||f(D,"then",(function(e,t){var r=this;return new N((function(e,t){l(i,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete D.constructor}catch(e){}d&&d(D,G)}a({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:N}),h(N,O,!1,!0),p(O)},21515:function(e,t,r){"use strict";var n=r(23103),o=r(24231),i=r(74473),a=r(24229),s=r(31333),u=r(26733),c=r(37942),l=r(62391),f=r(14768),d=i&&i.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=u(e);return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!o&&u(i)){var h=s("Promise").prototype.finally;d.finally!==h&&f(d,"finally",h,{unsafe:!0})}},73439:function(e,t,r){r(86087),r(56032),r(6135),r(26767),r(39320),r(52047)},26767:function(e,t,r){"use strict";var n=r(23103),o=r(20266),i=r(77111),a=r(16485),s=r(64624),u=r(89003);n({target:"Promise",stat:!0,forced:r(96866)},{race:function(e){var t=this,r=a.f(t),n=r.reject,c=s((function(){var a=i(t.resolve);u(e,(function(e){o(a,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},39320:function(e,t,r){"use strict";var n=r(23103),o=r(20266),i=r(16485);n({target:"Promise",stat:!0,forced:r(38321).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},52047:function(e,t,r){"use strict";var n=r(23103),o=r(31333),i=r(24231),a=r(74473),s=r(38321).CONSTRUCTOR,u=r(62391),c=o("Promise"),l=i&&!s;n({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return u(l&&this===c?a:this,e)}})},61229:function(e,t,r){var n=r(23103),o=r(31333),i=r(53171),a=r(94128),s=r(57988),u=r(21176),c=r(85052),l=r(22391),f=r(24229),d=o("Reflect","construct"),h=Object.prototype,p=[].push,v=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),y=!f((function(){d((function(){}))})),g=v||y;n({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var r=arguments.length<3?e:s(arguments[2]);if(y&&!v)return d(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return i(p,n,t),new(i(a,e,n))}var o=r.prototype,f=l(c(o)?o:h),g=i(e,f,t);return c(g)?g:f}})},17368:function(e,t,r){var n=r(7400),o=r(9859),i=r(65968),a=r(46541),s=r(20835),u=r(75762),c=r(78151).f,l=r(91321),f=r(48311),d=r(83326),h=r(83349),p=r(25650),v=r(26060),y=r(14768),g=r(24229),m=r(98270),b=r(56407).enforce,w=r(71832),T=r(70095),_=r(42926),k=r(10461),E=T("match"),C=o.RegExp,S=C.prototype,A=o.SyntaxError,R=i(S.exec),O=i("".charAt),M=i("".replace),I=i("".indexOf),P=i("".slice),x=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,D=/a/g,N=new C(L)!==L,G=p.MISSED_STICKY,F=p.UNSUPPORTED_Y,B=n&&(!N||G||_||k||g((function(){return D[E]=!1,C(L)!=L||C(D)==D||"/a/i"!=C(L,"i")})));if(a("RegExp",B)){for(var j=function(e,t){var r,n,o,i,a,c,p=l(S,this),v=f(e),y=void 0===t,g=[],w=e;if(!p&&v&&y&&e.constructor===j)return e;if((v||l(S,e))&&(e=e.source,y&&(t=h(w))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),w=e,_&&"dotAll"in L&&(n=!!t&&I(t,"s")>-1)&&(t=M(t,/s/g,"")),r=t,G&&"sticky"in L&&(o=!!t&&I(t,"y")>-1)&&F&&(t=M(t,/y/g,"")),k&&(i=function(e){for(var t,r=e.length,n=0,o="",i=[],a={},s=!1,u=!1,c=0,l="";n<=r;n++){if("\\"===(t=O(e,n)))t+=O(e,++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:R(x,P(e,n+1))&&(n+=2,u=!0),o+=t,c++;continue;case">"===t&&u:if(""===l||m(a,l))throw new A("Invalid capture group name");a[l]=!0,i[i.length]=[l,c],u=!1,l="";continue}u?l+=t:o+=t}return[o,i]}(e),e=i[0],g=i[1]),a=s(C(e,t),p?this:S,j),(n||o||g.length)&&(c=b(a),n&&(c.dotAll=!0,c.raw=j(function(e){for(var t,r=e.length,n=0,o="",i=!1;n<=r;n++)"\\"!==(t=O(e,n))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+O(e,++n);return o}(e),r)),o&&(c.sticky=!0),g.length&&(c.groups=g)),e!==w)try{u(a,"source",""===w?"(?:)":w)}catch(e){}return a},U=c(C),V=0;U.length>V;)v(j,C,U[V++]);S.constructor=j,j.prototype=S,y(o,"RegExp",j,{constructor:!0})}w("RegExp")},77950:function(e,t,r){"use strict";var n=r(23103),o=r(63466);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},88233:function(e,t,r){"use strict";var n=r(51805).PROPER,o=r(14768),i=r(21176),a=r(83326),s=r(24229),u=r(83349),c="toString",l=RegExp.prototype.toString,f=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=n&&l.name!=c;(f||d)&&o(RegExp.prototype,c,(function(){var e=i(this);return"/"+a(e.source)+"/"+a(u(e))}),{unsafe:!0})},72560:function(e,t,r){"use strict";r(69789)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(98081))},93244:function(e,t,r){r(72560)},96708:function(e,t,r){"use strict";var n,o=r(23103),i=r(65968),a=r(97933).f,s=r(34237),u=r(83326),c=r(47272),l=r(58885),f=r(48127),d=r(24231),h=i("".endsWith),p=i("".slice),v=Math.min,y=f("endsWith");o({target:"String",proto:!0,forced:!!(d||y||(n=a(String.prototype,"endsWith"),!n||n.writable))&&!y},{endsWith:function(e){var t=u(l(this));c(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,o=void 0===r?n:v(s(r),n),i=u(e);return h?h(t,i,o):p(t,o-i.length,o)===i}})},31235:function(e,t,r){"use strict";var n=r(23103),o=r(65968),i=r(47272),a=r(58885),s=r(83326),u=r(48127),c=o("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(a(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},28673:function(e,t,r){"use strict";var n=r(30966).charAt,o=r(83326),i=r(56407),a=r(12707),s=r(33684),u="String Iterator",c=i.set,l=i.getterFor(u);a(String,"String",(function(e){c(this,{type:u,string:o(e),index:0})}),(function(){var e,t=l(this),r=t.string,o=t.index;return o>=r.length?s(void 0,!0):(e=n(r,o),t.index+=e.length,s(e,!1))}))},74069:function(e,t,r){"use strict";var n=r(20266),o=r(94954),i=r(21176),a=r(9650),s=r(34237),u=r(83326),c=r(58885),l=r(55300),f=r(36637),d=r(98115);o("match",(function(e,t,r){return[function(t){var r=c(this),o=a(t)?void 0:l(t,e);return o?n(o,t,r):new RegExp(t)[e](u(r))},function(e){var n=i(this),o=u(e),a=r(t,n,o);if(a.done)return a.value;if(!n.global)return d(n,o);var c=n.unicode;n.lastIndex=0;for(var l,h=[],p=0;null!==(l=d(n,o));){var v=u(l[0]);h[p]=v,""===v&&(n.lastIndex=f(o,s(n.lastIndex),c)),p++}return 0===p?null:h}]}))},35734:function(e,t,r){"use strict";var n=r(23103),o=r(46650).start;n({target:"String",proto:!0,forced:r(57456)},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},67789:function(e,t,r){r(23103)({target:"String",proto:!0},{repeat:r(93124)})},85940:function(e,t,r){"use strict";var n=r(53171),o=r(20266),i=r(65968),a=r(94954),s=r(24229),u=r(21176),c=r(26733),l=r(9650),f=r(43329),d=r(34237),h=r(83326),p=r(58885),v=r(36637),y=r(55300),g=r(70017),m=r(98115),b=r(70095)("replace"),w=Math.max,T=Math.min,_=i([].concat),k=i([].push),E=i("".indexOf),C=i("".slice),S="$0"==="a".replace(/./,"$0"),A=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,r){var i=A?"$":"$0";return[function(e,r){var n=p(this),i=l(e)?void 0:y(e,b);return i?o(i,e,n,r):o(t,h(n),e,r)},function(e,o){var a=u(this),s=h(e);if("string"==typeof o&&-1===E(o,i)&&-1===E(o,"$<")){var l=r(t,a,s,o);if(l.done)return l.value}var p=c(o);p||(o=h(o));var y=a.global;if(y){var b=a.unicode;a.lastIndex=0}for(var S=[];;){var A=m(a,s);if(null===A)break;if(k(S,A),!y)break;""===h(A[0])&&(a.lastIndex=v(s,d(a.lastIndex),b))}for(var R,O="",M=0,I=0;I<S.length;I++){for(var P=h((A=S[I])[0]),x=w(T(f(A.index),s.length),0),L=[],D=1;D<A.length;D++)k(L,void 0===(R=A[D])?R:String(R));var N=A.groups;if(p){var G=_([P],L,x,s);void 0!==N&&k(G,N);var F=h(n(o,void 0,G))}else F=g(P,s,x,L,N,o);x>=M&&(O+=C(s,M,x)+F,M=x+P.length)}return O+C(s,M)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!S||A)},94908:function(e,t,r){"use strict";var n=r(20266),o=r(94954),i=r(21176),a=r(9650),s=r(58885),u=r(72101),c=r(83326),l=r(55300),f=r(98115);o("search",(function(e,t,r){return[function(t){var r=s(this),o=a(t)?void 0:l(t,e);return o?n(o,t,r):new RegExp(t)[e](c(r))},function(e){var n=i(this),o=c(e),a=r(t,n,o);if(a.done)return a.value;var s=n.lastIndex;u(s,0)||(n.lastIndex=0);var l=f(n,o);return u(n.lastIndex,s)||(n.lastIndex=s),null===l?-1:l.index}]}))},48319:function(e,t,r){"use strict";var n=r(53171),o=r(20266),i=r(65968),a=r(94954),s=r(21176),u=r(9650),c=r(48311),l=r(58885),f=r(37942),d=r(36637),h=r(34237),p=r(83326),v=r(55300),y=r(69794),g=r(98115),m=r(63466),b=r(25650),w=r(24229),T=b.UNSUPPORTED_Y,_=4294967295,k=Math.min,E=[].push,C=i(/./.exec),S=i(E),A=i("".slice),R=!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));a("split",(function(e,t,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var i=p(l(this)),a=void 0===r?_:r>>>0;if(0===a)return[];if(void 0===e)return[i];if(!c(e))return o(t,i,e,a);for(var s,u,f,d=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=new RegExp(e.source,h+"g");(s=o(m,g,i))&&!((u=g.lastIndex)>v&&(S(d,A(i,v,s.index)),s.length>1&&s.index<i.length&&n(E,d,y(s,1)),f=s[0].length,v=u,d.length>=a));)g.lastIndex===s.index&&g.lastIndex++;return v===i.length?!f&&C(g,"")||S(d,""):S(d,A(i,v)),d.length>a?y(d,0,a):d}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:o(t,this,e,r)}:t,[function(t,r){var n=l(this),a=u(t)?void 0:v(t,e);return a?o(a,t,n,r):o(i,p(n),t,r)},function(e,n){var o=s(this),a=p(e),u=r(i,o,a,n,i!==t);if(u.done)return u.value;var c=f(o,RegExp),l=o.unicode,v=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(T?"g":"y"),y=new c(T?"^(?:"+o.source+")":o,v),m=void 0===n?_:n>>>0;if(0===m)return[];if(0===a.length)return null===g(y,a)?[a]:[];for(var b=0,w=0,E=[];w<a.length;){y.lastIndex=T?0:w;var C,R=g(y,T?A(a,w):a);if(null===R||(C=k(h(y.lastIndex+(T?w:0)),a.length))===b)w=d(a,w,l);else{if(S(E,A(a,b,w)),E.length===m)return E;for(var O=1;O<=R.length-1;O++)if(S(E,R[O]),E.length===m)return E;w=b=C}}return S(E,A(a,b)),E}]}),!R,T)},44112:function(e,t,r){"use strict";var n,o=r(23103),i=r(65968),a=r(97933).f,s=r(34237),u=r(83326),c=r(47272),l=r(58885),f=r(48127),d=r(24231),h=i("".startsWith),p=i("".slice),v=Math.min,y=f("startsWith");o({target:"String",proto:!0,forced:!!(d||y||(n=a(String.prototype,"startsWith"),!n||n.writable))&&!y},{startsWith:function(e){var t=u(l(this));c(e);var r=s(v(arguments.length>1?arguments[1]:void 0,t.length)),n=u(e);return h?h(t,n,r):p(t,r,r+n.length)===n}})},45794:function(e,t,r){"use strict";var n=r(23103),o=r(1017).trim;n({target:"String",proto:!0,forced:r(9445)("trim")},{trim:function(){return o(this)}})},96882:function(e,t,r){r(63524)("asyncIterator")},39956:function(e,t,r){"use strict";var n=r(23103),o=r(9859),i=r(20266),a=r(65968),s=r(24231),u=r(7400),c=r(44860),l=r(24229),f=r(98270),d=r(91321),h=r(21176),p=r(10905),v=r(39310),y=r(83326),g=r(65358),m=r(22391),b=r(65632),w=r(78151),T=r(10166),_=r(10894),k=r(97933),E=r(31787),C=r(90219),S=r(19195),A=r(14768),R=r(33036),O=r(44399),M=r(95977),I=r(81441),P=r(70095),x=r(55391),L=r(63524),D=r(66481),N=r(54555),G=r(56407),F=r(89996).forEach,B=O("hidden"),j="Symbol",U=G.set,V=G.getterFor(j),H=Object.prototype,K=o.Symbol,W=K&&K.prototype,Y=o.TypeError,q=o.QObject,z=k.f,J=E.f,X=T.f,Q=S.f,Z=a([].push),$=R("symbols"),ee=R("op-symbols"),te=R("wks"),re=!q||!q.prototype||!q.prototype.findChild,ne=u&&l((function(){return 7!=m(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=z(H,t);n&&delete H[t],J(e,t,r),n&&e!==H&&J(H,t,n)}:J,oe=function(e,t){var r=$[e]=m(W);return U(r,{type:j,tag:e,description:t}),u||(r.description=t),r},ie=function(e,t,r){e===H&&ie(ee,t,r),h(e);var n=v(t);return h(r),f($,n)?(r.enumerable?(f(e,B)&&e[B][n]&&(e[B][n]=!1),r=m(r,{enumerable:g(0,!1)})):(f(e,B)||J(e,B,g(1,{})),e[B][n]=!0),ne(e,n,r)):J(e,n,r)},ae=function(e,t){h(e);var r=p(t),n=b(r).concat(le(r));return F(n,(function(t){u&&!i(se,r,t)||ie(e,t,r[t])})),e},se=function(e){var t=v(e),r=i(Q,this,t);return!(this===H&&f($,t)&&!f(ee,t))&&(!(r||!f(this,t)||!f($,t)||f(this,B)&&this[B][t])||r)},ue=function(e,t){var r=p(e),n=v(t);if(r!==H||!f($,n)||f(ee,n)){var o=z(r,n);return!o||!f($,n)||f(r,B)&&r[B][n]||(o.enumerable=!0),o}},ce=function(e){var t=X(p(e)),r=[];return F(t,(function(e){f($,e)||f(M,e)||Z(r,e)})),r},le=function(e){var t=e===H,r=X(t?ee:p(e)),n=[];return F(r,(function(e){!f($,e)||t&&!f(H,e)||Z(n,$[e])})),n};c||(K=function(){if(d(W,this))throw Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=I(e),r=function(e){this===H&&i(r,ee,e),f(this,B)&&f(this[B],t)&&(this[B][t]=!1),ne(this,t,g(1,e))};return u&&re&&ne(H,t,{configurable:!0,set:r}),oe(t,e)},A(W=K.prototype,"toString",(function(){return V(this).tag})),A(K,"withoutSetter",(function(e){return oe(I(e),e)})),S.f=se,E.f=ie,C.f=ae,k.f=ue,w.f=T.f=ce,_.f=le,x.f=function(e){return oe(P(e),e)},u&&(J(W,"description",{configurable:!0,get:function(){return V(this).description}}),s||A(H,"propertyIsEnumerable",se,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:K}),F(b(te),(function(e){L(e)})),n({target:j,stat:!0,forced:!c},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?m(e):ae(m(e),t)},defineProperty:ie,defineProperties:ae,getOwnPropertyDescriptor:ue}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ce}),D(),N(K,j),M[B]=!0},634:function(e,t,r){"use strict";var n=r(23103),o=r(7400),i=r(9859),a=r(65968),s=r(98270),u=r(26733),c=r(91321),l=r(83326),f=r(31787).f,d=r(77081),h=i.Symbol,p=h&&h.prototype;if(o&&u(h)&&(!("description"in p)||void 0!==h().description)){var v={},y=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(p,this)?new h(e):void 0===e?h():h(e);return""===e&&(v[t]=!0),t};d(y,h),y.prototype=p,p.constructor=y;var g="Symbol(test)"==String(h("test")),m=a(p.valueOf),b=a(p.toString),w=/^Symbol\((.*)\)[^)]+$/,T=a("".replace),_=a("".slice);f(p,"description",{configurable:!0,get:function(){var e=m(this);if(s(v,e))return"";var t=b(e),r=g?_(t,7,-1):T(t,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:y})}},23352:function(e,t,r){var n=r(23103),o=r(31333),i=r(98270),a=r(83326),s=r(33036),u=r(55957),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=a(e);if(i(c,t))return c[t];var r=o("Symbol")(t);return c[t]=r,l[r]=t,r}})},20796:function(e,t,r){r(63524)("iterator")},34115:function(e,t,r){r(39956),r(23352),r(49717),r(6710),r(82067)},49717:function(e,t,r){var n=r(23103),o=r(98270),i=r(49395),a=r(59821),s=r(33036),u=r(55957),c=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!i(e))throw TypeError(a(e)+" is not a symbol");if(o(c,e))return c[e]}})},38859:function(e,t,r){var n=r(31333),o=r(63524),i=r(54555);o("toStringTag"),i(n("Symbol"),"Symbol")},5825:function(e,t,r){"use strict";var n=r(65968),o=r(9918),i=n(r(77154)),a=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function(e,t){return i(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},67170:function(e,t,r){"use strict";var n=r(9918),o=r(89996).every,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},38857:function(e,t,r){"use strict";var n=r(9918),o=r(97065),i=r(19123),a=r(81589),s=r(20266),u=r(65968),c=r(24229),l=n.aTypedArray,f=n.exportTypedArrayMethod,d=u("".slice);f("fill",(function(e){var t=arguments.length;l(this);var r="Big"===d(a(this),0,3)?i(e):+e;return s(o,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},58329:function(e,t,r){"use strict";var n=r(9918),o=r(89996).filter,i=r(88874),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(e){var t=o(a(this),e,arguments.length>1?arguments[1]:void 0);return i(this,t)}))},427:function(e,t,r){"use strict";var n=r(9918),o=r(89996).findIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},76279:function(e,t,r){"use strict";var n=r(9918),o=r(89996).find,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},81382:function(e,t,r){r(42574)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},91982:function(e,t,r){r(42574)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},11159:function(e,t,r){"use strict";var n=r(9918),o=r(89996).forEach,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},42516:function(e,t,r){"use strict";var n=r(9918),o=r(19540).includes,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},64349:function(e,t,r){"use strict";var n=r(9918),o=r(19540).indexOf,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},24074:function(e,t,r){r(42574)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},64696:function(e,t,r){r(42574)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},73229:function(e,t,r){r(42574)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},15273:function(e,t,r){"use strict";var n=r(9859),o=r(24229),i=r(65968),a=r(9918),s=r(15735),u=r(70095)("iterator"),c=n.Uint8Array,l=i(s.values),f=i(s.keys),d=i(s.entries),h=a.aTypedArray,p=a.exportTypedArrayMethod,v=c&&c.prototype,y=!o((function(){v[u].call([1])})),g=!!v&&v.values&&v[u]===v.values&&"values"===v.values.name,m=function(){return l(h(this))};p("entries",(function(){return d(h(this))}),y),p("keys",(function(){return f(h(this))}),y),p("values",m,y||!g,{name:"values"}),p(u,m,y||!g,{name:"values"})},16729:function(e,t,r){"use strict";var n=r(9918),o=r(65968),i=n.aTypedArray,a=n.exportTypedArrayMethod,s=o([].join);a("join",(function(e){return s(i(this),e)}))},41801:function(e,t,r){"use strict";var n=r(9918),o=r(53171),i=r(86462),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return o(i,a(this),t>1?[e,arguments[1]]:[e])}))},50574:function(e,t,r){"use strict";var n=r(9918),o=r(89996).map,i=r(54622),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(i(e))(t)}))}))},39271:function(e,t,r){"use strict";var n=r(9918),o=r(43143).right,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},5787:function(e,t,r){"use strict";var n=r(9918),o=r(43143).left,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},73160:function(e,t,r){"use strict";var n=r(9918),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var e,t=this,r=o(t).length,n=a(r/2),i=0;i<n;)e=t[i],t[i++]=t[--r],t[r]=e;return t}))},65688:function(e,t,r){"use strict";var n=r(9859),o=r(20266),i=r(9918),a=r(39646),s=r(84262),u=r(92991),c=r(24229),l=n.RangeError,f=n.Int8Array,d=f&&f.prototype,h=d&&d.set,p=i.aTypedArray,v=i.exportTypedArrayMethod,y=!c((function(){var e=new Uint8ClampedArray(2);return o(h,e,{length:1,0:3},1),3!==e[1]})),g=y&&i.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){p(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=u(e);if(y)return o(h,this,r,t);var n=this.length,i=a(r),c=0;if(i+t>n)throw l("Wrong length");for(;c<i;)this[t+c]=r[c++]}),!y||g)},93157:function(e,t,r){"use strict";var n=r(9918),o=r(54622),i=r(24229),a=r(1909),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",(function(e,t){for(var r=a(s(this),e,t),n=o(this),i=0,u=r.length,c=new n(u);u>i;)c[i]=r[i++];return c}),i((function(){new Int8Array(1).slice()})))},33333:function(e,t,r){"use strict";var n=r(9918),o=r(89996).some,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},70315:function(e,t,r){"use strict";var n=r(9859),o=r(65968),i=r(24229),a=r(77111),s=r(33867),u=r(9918),c=r(22671),l=r(48506),f=r(6358),d=r(49811),h=u.aTypedArray,p=u.exportTypedArrayMethod,v=n.Uint16Array,y=v&&o(v.prototype.sort),g=!(!y||i((function(){y(new v(2),null)}))&&i((function(){y(new v(2),{})}))),m=!!y&&!i((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(d)return d<602;var e,t,r=new v(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(y(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));p("sort",(function(e){return void 0!==e&&a(e),m?y(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!m||g)},28314:function(e,t,r){"use strict";var n=r(9918),o=r(34237),i=r(43231),a=r(54622),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),n=r.length,u=i(e,n);return new(a(r))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,o((void 0===t?n:i(t,n))-u))}))},50556:function(e,t,r){"use strict";var n=r(9859),o=r(53171),i=r(9918),a=r(24229),s=r(1909),u=n.Int8Array,c=i.aTypedArray,l=i.exportTypedArrayMethod,f=[].toLocaleString,d=!!u&&a((function(){f.call(new u(1))}));l("toLocaleString",(function(){return o(f,d?s(c(this)):c(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!a((function(){u.prototype.toLocaleString.call([1,2])})))},29224:function(e,t,r){"use strict";var n=r(9918).exportTypedArrayMethod,o=r(24229),i=r(9859),a=r(65968),s=i.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=a([].join);o((function(){c.call({})}))&&(c=function(){return l(this)});var f=u.toString!=c;n("toString",c,f)},13161:function(e,t,r){r(42574)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},90723:function(e,t,r){r(42574)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},13675:function(e,t,r){r(42574)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},6418:function(e,t,r){"use strict";var n,o=r(9859),i=r(65968),a=r(8312),s=r(95926),u=r(69789),c=r(63370),l=r(85052),f=r(35343),d=r(56407).enforce,h=r(51180),p=!o.ActiveXObject&&"ActiveXObject"in o,v=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},y=u("WeakMap",v,c);if(h&&p){n=c.getConstructor(v,"WeakMap",!0),s.enable();var g=y.prototype,m=i(g.delete),b=i(g.has),w=i(g.get),T=i(g.set);a(g,{delete:function(e){if(l(e)&&!f(e)){var t=d(this);return t.frozen||(t.frozen=new n),m(this,e)||t.frozen.delete(e)}return m(this,e)},has:function(e){if(l(e)&&!f(e)){var t=d(this);return t.frozen||(t.frozen=new n),b(this,e)||t.frozen.has(e)}return b(this,e)},get:function(e){if(l(e)&&!f(e)){var t=d(this);return t.frozen||(t.frozen=new n),b(this,e)?w(this,e):t.frozen.get(e)}return w(this,e)},set:function(e,t){if(l(e)&&!f(e)){var r=d(this);r.frozen||(r.frozen=new n),b(this,e)?T(this,e,t):r.frozen.set(e,t)}else T(this,e,t);return this}})}},52356:function(e,t,r){r(6418)},1939:function(e,t,r){var n=r(9859),o=r(95694),i=r(18865),a=r(86570),s=r(75762),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in o)o[c]&&u(n[c]&&n[c].prototype);u(i)},6886:function(e,t,r){var n=r(9859),o=r(95694),i=r(18865),a=r(15735),s=r(75762),u=r(70095),c=u("iterator"),l=u("toStringTag"),f=a.values,d=function(e,t){if(e){if(e[c]!==f)try{s(e,c,f)}catch(t){e[c]=f}if(e[l]||s(e,l,t),o[t])for(var r in a)if(e[r]!==a[r])try{s(e,r,a[r])}catch(t){e[r]=a[r]}}};for(var h in o)d(n[h]&&n[h].prototype,h);d(i,"DOMTokenList")},62653:function(e,t,r){"use strict";r(15735);var n=r(23103),o=r(9859),i=r(20266),a=r(65968),s=r(7400),u=r(34144),c=r(14768),l=r(8312),f=r(54555),d=r(42247),h=r(56407),p=r(57728),v=r(26733),y=r(98270),g=r(97636),m=r(81589),b=r(21176),w=r(85052),T=r(83326),_=r(22391),k=r(65358),E=r(28403),C=r(78830),S=r(77579),A=r(70095),R=r(33867),O=A("iterator"),M="URLSearchParams",I="URLSearchParamsIterator",P=h.set,x=h.getterFor(M),L=h.getterFor(I),D=Object.getOwnPropertyDescriptor,N=function(e){if(!s)return o[e];var t=D(o,e);return t&&t.value},G=N("fetch"),F=N("Request"),B=N("Headers"),j=F&&F.prototype,U=B&&B.prototype,V=o.RegExp,H=o.TypeError,K=o.decodeURIComponent,W=o.encodeURIComponent,Y=a("".charAt),q=a([].join),z=a([].push),J=a("".replace),X=a([].shift),Q=a([].splice),Z=a("".split),$=a("".slice),ee=/\+/g,te=Array(4),re=function(e){return te[e-1]||(te[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},ne=function(e){try{return K(e)}catch(t){return e}},oe=function(e){var t=J(e,ee," "),r=4;try{return K(t)}catch(e){for(;r;)t=J(t,re(r--),ne);return t}},ie=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ae[e]},ue=function(e){return J(W(e),ie,se)},ce=d((function(e,t){P(this,{type:I,iterator:E(x(e).entries),kind:t})}),"Iterator",(function(){var e=L(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Y(e,0)?$(e,1):e:T(e)))};le.prototype={type:M,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,o,a,s,u,c=C(e);if(c)for(r=(t=E(e,c)).next;!(n=i(r,t)).done;){if(a=(o=E(b(n.value))).next,(s=i(a,o)).done||(u=i(a,o)).done||!i(a,o).done)throw H("Expected sequence with length 2");z(this.entries,{key:T(s.value),value:T(u.value)})}else for(var l in e)y(e,l)&&z(this.entries,{key:l,value:T(e[l])})},parseQuery:function(e){if(e)for(var t,r,n=Z(e,"&"),o=0;o<n.length;)(t=n[o++]).length&&(r=Z(t,"="),z(this.entries,{key:oe(X(r)),value:oe(q(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],z(r,ue(e.key)+"="+ue(e.value));return q(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){p(this,de);var e=arguments.length>0?arguments[0]:void 0;P(this,new le(e))},de=fe.prototype;if(l(de,{append:function(e,t){S(arguments.length,2);var r=x(this);z(r.entries,{key:T(e),value:T(t)}),r.updateURL()},delete:function(e){S(arguments.length,1);for(var t=x(this),r=t.entries,n=T(e),o=0;o<r.length;)r[o].key===n?Q(r,o,1):o++;t.updateURL()},get:function(e){S(arguments.length,1);for(var t=x(this).entries,r=T(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){S(arguments.length,1);for(var t=x(this).entries,r=T(e),n=[],o=0;o<t.length;o++)t[o].key===r&&z(n,t[o].value);return n},has:function(e){S(arguments.length,1);for(var t=x(this).entries,r=T(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){S(arguments.length,1);for(var r,n=x(this),o=n.entries,i=!1,a=T(e),s=T(t),u=0;u<o.length;u++)(r=o[u]).key===a&&(i?Q(o,u--,1):(i=!0,r.value=s));i||z(o,{key:a,value:s}),n.updateURL()},sort:function(){var e=x(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=x(this).entries,n=g(e,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(de,O,de.entries,{name:"entries"}),c(de,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),f(fe,M),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:fe}),!u&&v(B)){var he=a(U.has),pe=a(U.set),ve=function(e){if(w(e)){var t,r=e.body;if(m(r)===M)return t=e.headers?new B(e.headers):new B,he(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:k(0,T(r)),headers:k(0,t)})}return e};if(v(G)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return G(e,arguments.length>1?ve(arguments[1]):{})}}),v(F)){var ye=function(e){return p(this,j),new F(e,arguments.length>1?ve(arguments[1]):{})};j.constructor=ye,ye.prototype=j,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ye})}}e.exports={URLSearchParams:fe,getState:x}},95340:function(e,t,r){"use strict";r(28673);var n,o=r(23103),i=r(7400),a=r(34144),s=r(9859),u=r(97636),c=r(65968),l=r(14768),f=r(96616),d=r(57728),h=r(98270),p=r(47),v=r(10507),y=r(69794),g=r(30966).codeAt,m=r(77321),b=r(83326),w=r(54555),T=r(77579),_=r(62653),k=r(56407),E=k.set,C=k.getterFor("URL"),S=_.URLSearchParams,A=_.getState,R=s.URL,O=s.TypeError,M=s.parseInt,I=Math.floor,P=Math.pow,x=c("".charAt),L=c(/./.exec),D=c([].join),N=c(1..toString),G=c([].pop),F=c([].push),B=c("".replace),j=c([].shift),U=c("".split),V=c("".slice),H=c("".toLowerCase),K=c([].unshift),W="Invalid scheme",Y="Invalid host",q="Invalid port",z=/[a-z]/i,J=/[\d+-.a-z]/i,X=/\d/,Q=/^0x/i,Z=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,ie=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)K(t,e%256),e=I(e/256);return D(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=N(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ae={},se=p({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=p({},se,{"#":1,"?":1,"{":1,"}":1}),ce=p({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var r=g(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var r;return 2==e.length&&L(z,x(e,0))&&(":"==(r=x(e,1))||!t&&"|"==r)},he=function(e){var t;return e.length>1&&de(V(e,0,2))&&(2==e.length||"/"===(t=x(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===H(e)},ve={},ye={},ge={},me={},be={},we={},Te={},_e={},ke={},Ee={},Ce={},Se={},Ae={},Re={},Oe={},Me={},Ie={},Pe={},xe={},Le={},De={},Ne=function(e,t,r){var n,o,i,a=b(e);if(t){if(o=this.parse(a))throw O(o);this.searchParams=null}else{if(void 0!==r&&(n=new Ne(r,!0)),o=this.parse(a,null,n))throw O(o);(i=A(new S)).bindURL(this),this.searchParams=i}};Ne.prototype={type:"URL",parse:function(e,t,r){var o,i,a,s,u,c=this,l=t||ve,f=0,d="",p=!1,g=!1,m=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=B(e,ne,"")),e=B(e,oe,""),o=v(e);f<=o.length;){switch(i=o[f],l){case ve:if(!i||!L(z,i)){if(t)return W;l=ge;continue}d+=H(i),l=ye;break;case ye:if(i&&(L(J,i)||"+"==i||"-"==i||"."==i))d+=H(i);else{if(":"!=i){if(t)return W;d="",l=ge,f=0;continue}if(t&&(c.isSpecial()!=h(fe,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&fe[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=Re:c.isSpecial()&&r&&r.scheme==c.scheme?l=me:c.isSpecial()?l=_e:"/"==o[f+1]?(l=be,f++):(c.cannotBeABaseURL=!0,F(c.path,""),l=xe)}break;case ge:if(!r||r.cannotBeABaseURL&&"#"!=i)return W;if(r.cannotBeABaseURL&&"#"==i){c.scheme=r.scheme,c.path=y(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=De;break}l="file"==r.scheme?Re:we;continue;case me:if("/"!=i||"/"!=o[f+1]){l=we;continue}l=ke,f++;break;case be:if("/"==i){l=Ee;break}l=Pe;continue;case we:if(c.scheme=r.scheme,i==n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=y(r.path),c.query=r.query;else if("/"==i||"\\"==i&&c.isSpecial())l=Te;else if("?"==i)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=y(r.path),c.query="",l=Le;else{if("#"!=i){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=y(r.path),c.path.length--,l=Pe;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=y(r.path),c.query=r.query,c.fragment="",l=De}break;case Te:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=Pe;continue}l=Ee}else l=ke;break;case _e:if(l=ke,"/"!=i||"/"!=x(d,f+1))continue;f++;break;case ke:if("/"!=i&&"\\"!=i){l=Ee;continue}break;case Ee:if("@"==i){p&&(d="%40"+d),p=!0,a=v(d);for(var w=0;w<a.length;w++){var T=a[w];if(":"!=T||m){var _=le(T,ce);m?c.password+=_:c.username+=_}else m=!0}d=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(p&&""==d)return"Invalid authority";f-=v(d).length+1,d="",l=Ce}else d+=i;break;case Ce:case Se:if(t&&"file"==c.scheme){l=Me;continue}if(":"!=i||g){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==d)return Y;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(d))return s;if(d="",l=Ie,t)return;continue}"["==i?g=!0:"]"==i&&(g=!1),d+=i}else{if(""==d)return Y;if(s=c.parseHost(d))return s;if(d="",l=Ae,t==Se)return}break;case Ae:if(!L(X,i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=d){var k=M(d,10);if(k>65535)return q;c.port=c.isSpecial()&&k===fe[c.scheme]?null:k,d=""}if(t)return;l=Ie;continue}return q}d+=i;break;case Re:if(c.scheme="file","/"==i||"\\"==i)l=Oe;else{if(!r||"file"!=r.scheme){l=Pe;continue}if(i==n)c.host=r.host,c.path=y(r.path),c.query=r.query;else if("?"==i)c.host=r.host,c.path=y(r.path),c.query="",l=Le;else{if("#"!=i){he(D(y(o,f),""))||(c.host=r.host,c.path=y(r.path),c.shortenPath()),l=Pe;continue}c.host=r.host,c.path=y(r.path),c.query=r.query,c.fragment="",l=De}}break;case Oe:if("/"==i||"\\"==i){l=Me;break}r&&"file"==r.scheme&&!he(D(y(o,f),""))&&(de(r.path[0],!0)?F(c.path,r.path[0]):c.host=r.host),l=Pe;continue;case Me:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&de(d))l=Pe;else if(""==d){if(c.host="",t)return;l=Ie}else{if(s=c.parseHost(d))return s;if("localhost"==c.host&&(c.host=""),t)return;d="",l=Ie}continue}d+=i;break;case Ie:if(c.isSpecial()){if(l=Pe,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=n&&(l=Pe,"/"!=i))continue}else c.fragment="",l=De;else c.query="",l=Le;break;case Pe:if(i==n||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(u=H(u=d))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||F(c.path,"")):pe(d)?"/"==i||"\\"==i&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&de(d)&&(c.host&&(c.host=""),d=x(d,0)+":"),F(c.path,d)),d="","file"==c.scheme&&(i==n||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)j(c.path);"?"==i?(c.query="",l=Le):"#"==i&&(c.fragment="",l=De)}else d+=le(i,ue);break;case xe:"?"==i?(c.query="",l=Le):"#"==i?(c.fragment="",l=De):i!=n&&(c.path[0]+=le(i,ae));break;case Le:t||"#"!=i?i!=n&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":le(i,ae)):(c.fragment="",l=De);break;case De:i!=n&&(c.fragment+=le(i,se))}f++}},parseHost:function(e){var t,r,n;if("["==x(e,0)){if("]"!=x(e,e.length-1))return Y;if(t=function(e){var t,r,n,o,i,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return x(e,f)};if(":"==d()){if(":"!=x(e,1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=r=0;r<4&&L(ee,d());)t=16*t+M(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,c>6)return;for(n=0;d();){if(o=null,n>0){if(!("."==d()&&n<4))return;f++}if(!L(X,d()))return;for(;L(X,d());){if(i=M(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u}(V(e,1,-1)),!t)return Y;this.host=t}else if(this.isSpecial()){if(e=m(e),L(te,e))return Y;if(t=function(e){var t,r,n,o,i,a,s,u=U(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=u[n]))return e;if(i=10,o.length>1&&"0"==x(o,0)&&(i=L(Q,o)?16:8,o=V(o,8==i?1:2)),""===o)a=0;else{if(!L(10==i?$:8==i?Z:ee,o))return e;a=M(o,i)}F(r,a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=P(256,5-t))return null}else if(a>255)return null;for(s=G(r),n=0;n<r.length;n++)s+=r[n]*P(256,3-n);return s}(e),null===t)return Y;this.host=t}else{if(L(re,e))return Y;for(t="",r=v(e),n=0;n<r.length;n++)t+=le(r[n],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=ie(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+D(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw O(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ge(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ie(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=le(t[r],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=le(t[r],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ie(e):ie(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ce)},getHostname:function(){var e=this.host;return null===e?"":ie(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ae))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+D(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ie))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==x(e,0)&&(e=V(e,1)),this.query="",this.parse(e,Le)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==x(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,De)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ge=function(e){var t=d(this,Fe),r=T(arguments.length,1)>1?arguments[1]:void 0,n=E(t,new Ne(e,!1,r));i||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Fe=Ge.prototype,Be=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&(f(Fe,"href",Be("serialize","setHref")),f(Fe,"origin",Be("getOrigin")),f(Fe,"protocol",Be("getProtocol","setProtocol")),f(Fe,"username",Be("getUsername","setUsername")),f(Fe,"password",Be("getPassword","setPassword")),f(Fe,"host",Be("getHost","setHost")),f(Fe,"hostname",Be("getHostname","setHostname")),f(Fe,"port",Be("getPort","setPort")),f(Fe,"pathname",Be("getPathname","setPathname")),f(Fe,"search",Be("getSearch","setSearch")),f(Fe,"searchParams",Be("getSearchParams")),f(Fe,"hash",Be("getHash","setHash"))),l(Fe,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),l(Fe,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),R){var je=R.createObjectURL,Ue=R.revokeObjectURL;je&&l(Ge,"createObjectURL",u(je,R)),Ue&&l(Ge,"revokeObjectURL",u(Ue,R))}w(Ge,"URL"),o({global:!0,constructor:!0,forced:!a,sham:!i},{URL:Ge})},14121:function(e,t,r){r(95340)},85371:function(e,t,r){"use strict";var n=r(23103),o=r(20266);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return o(URL.prototype.toString,this)}})},57359:function(e,t,r){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(50633)}catch(e){}var o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},s=a.lib={},u=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=u.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=a<<24-(n+i)%4*8}else for(var s=0;s<o;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(o());return new c.init(t,e)}}),l=a.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,o=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*u,i);if(u){for(var f=0;f<u;f+=a)this._doProcessBlock(o,f);r=o.splice(0,u),n.sigBytes-=l}return new c.init(r,l)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(s.Hasher=p.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new v.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math),n)},8139:function(e,t,r){var n;e.exports=(n=r(57359),function(){var e=n,t=e.lib.WordArray;function r(e,r,n){for(var o=[],i=0,a=0;a<r;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=s<<24-i%4*8,i++}return t.create(o,i)}e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)o.push(n.charAt(a>>>6*(3-s)&63));var u=n.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return r(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},47710:function(e,t,r){var n;e.exports=(n=r(57359),r(81637),r(66423),n.HmacSHA1)},66423:function(e,t,r){var n,o,i,a;e.exports=(n=r(57359),i=(o=n).lib.Base,a=o.enc.Utf8,void(o.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),s=o.words,u=i.words,c=0;c<r;c++)s[c]^=1549556828,u[c]^=909522486;o.sigBytes=i.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},79174:function(e,t,r){var n;e.exports=(n=r(57359),function(e){var t=n,r=t.lib,o=r.WordArray,i=r.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],u=e[t+1],h=e[t+2],p=e[t+3],v=e[t+4],y=e[t+5],g=e[t+6],m=e[t+7],b=e[t+8],w=e[t+9],T=e[t+10],_=e[t+11],k=e[t+12],E=e[t+13],C=e[t+14],S=e[t+15],A=i[0],R=i[1],O=i[2],M=i[3];A=c(A,R,O,M,a,7,s[0]),M=c(M,A,R,O,u,12,s[1]),O=c(O,M,A,R,h,17,s[2]),R=c(R,O,M,A,p,22,s[3]),A=c(A,R,O,M,v,7,s[4]),M=c(M,A,R,O,y,12,s[5]),O=c(O,M,A,R,g,17,s[6]),R=c(R,O,M,A,m,22,s[7]),A=c(A,R,O,M,b,7,s[8]),M=c(M,A,R,O,w,12,s[9]),O=c(O,M,A,R,T,17,s[10]),R=c(R,O,M,A,_,22,s[11]),A=c(A,R,O,M,k,7,s[12]),M=c(M,A,R,O,E,12,s[13]),O=c(O,M,A,R,C,17,s[14]),A=l(A,R=c(R,O,M,A,S,22,s[15]),O,M,u,5,s[16]),M=l(M,A,R,O,g,9,s[17]),O=l(O,M,A,R,_,14,s[18]),R=l(R,O,M,A,a,20,s[19]),A=l(A,R,O,M,y,5,s[20]),M=l(M,A,R,O,T,9,s[21]),O=l(O,M,A,R,S,14,s[22]),R=l(R,O,M,A,v,20,s[23]),A=l(A,R,O,M,w,5,s[24]),M=l(M,A,R,O,C,9,s[25]),O=l(O,M,A,R,p,14,s[26]),R=l(R,O,M,A,b,20,s[27]),A=l(A,R,O,M,E,5,s[28]),M=l(M,A,R,O,h,9,s[29]),O=l(O,M,A,R,m,14,s[30]),A=f(A,R=l(R,O,M,A,k,20,s[31]),O,M,y,4,s[32]),M=f(M,A,R,O,b,11,s[33]),O=f(O,M,A,R,_,16,s[34]),R=f(R,O,M,A,C,23,s[35]),A=f(A,R,O,M,u,4,s[36]),M=f(M,A,R,O,v,11,s[37]),O=f(O,M,A,R,m,16,s[38]),R=f(R,O,M,A,T,23,s[39]),A=f(A,R,O,M,E,4,s[40]),M=f(M,A,R,O,a,11,s[41]),O=f(O,M,A,R,p,16,s[42]),R=f(R,O,M,A,g,23,s[43]),A=f(A,R,O,M,w,4,s[44]),M=f(M,A,R,O,k,11,s[45]),O=f(O,M,A,R,S,16,s[46]),A=d(A,R=f(R,O,M,A,h,23,s[47]),O,M,a,6,s[48]),M=d(M,A,R,O,m,10,s[49]),O=d(O,M,A,R,C,15,s[50]),R=d(R,O,M,A,y,21,s[51]),A=d(A,R,O,M,k,6,s[52]),M=d(M,A,R,O,p,10,s[53]),O=d(O,M,A,R,T,15,s[54]),R=d(R,O,M,A,u,21,s[55]),A=d(A,R,O,M,b,6,s[56]),M=d(M,A,R,O,S,10,s[57]),O=d(O,M,A,R,g,15,s[58]),R=d(R,O,M,A,E,21,s[59]),A=d(A,R,O,M,v,6,s[60]),M=d(M,A,R,O,_,10,s[61]),O=d(O,M,A,R,h,15,s[62]),R=d(R,O,M,A,w,21,s[63]),i[0]=i[0]+A|0,i[1]=i[1]+R|0,i[2]=i[2]+O|0,i[3]=i[3]+M|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;r[o>>>5]|=128<<24-o%32;var i=e.floor(n/4294967296),a=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+o+a;return(s<<i|s>>>32-i)+t}function l(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+o+a;return(s<<i|s>>>32-i)+t}function f(e,t,r,n,o,i,a){var s=e+(t^r^n)+o+a;return(s<<i|s>>>32-i)+t}function d(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+o+a;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(u),t.HmacMD5=i._createHmacHelper(u)}(Math),n.MD5)},81637:function(e,t,r){var n,o,i,a,s,u,c,l;e.exports=(l=r(57359),o=(n=l).lib,i=o.WordArray,a=o.Hasher,s=n.algo,u=[],c=s.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],c=0;c<80;c++){if(c<16)u[c]=0|e[t+c];else{var l=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=l<<1|l>>>31}var f=(n<<5|n>>>27)+s+u[c];f+=c<20?1518500249+(o&i|~o&a):c<40?1859775393+(o^i^a):c<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,s=a,a=i,i=o<<30|o>>>2,o=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=a._createHelper(c),n.HmacSHA1=a._createHmacHelper(c),l.SHA1)},98770:function(){console.log("I'm `fs` modules")},42561:function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},68949:function(e){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},59990:function(e,t,r){var n=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var o=arguments,i=o.length,s=String(e).replace(n,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(e){return"[Circular]"}default:return e}})),u=o[r];r<i;u=o[++r])p(u)||!b(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(e,n){if(g(r.g.process))return function(){return t.deprecate(e,n).apply(this,arguments)};if(!0===process.noDeprecation)return e;var o=!1;return function(){if(!o){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),o=!0}return e.apply(this,arguments)}};var o,i={};function a(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),c(n,e,n.depth)}function s(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function u(e,t){return e}function c(e,r,n){if(e.customInspect&&r&&_(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return y(o)||(o=c(e,o,n)),o}var i=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(e,r);if(i)return i;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),T(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(r);if(0===a.length){if(_(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(m(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(T(r))return l(r)}var b,k="",E=!1,C=["{","}"];(d(r)&&(E=!0,C=["[","]"]),_(r))&&(k=" [Function"+(r.name?": "+r.name:"")+"]");return m(r)&&(k=" "+RegExp.prototype.toString.call(r)),w(r)&&(k=" "+Date.prototype.toUTCString.call(r)),T(r)&&(k=" "+l(r)),0!==a.length||E&&0!=r.length?n<0?m(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),b=E?function(e,t,r,n,o){for(var i=[],a=0,s=t.length;a<s;++a)A(t,String(a))?i.push(f(e,t,r,n,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(f(e,t,r,n,o,!0))})),i}(e,r,n,s,a):a.map((function(t){return f(e,r,n,s,t,E)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(b,k,C)):C[0]+k+C[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(n,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=p(r)?c(e,u.value,null):c(e,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),g(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function p(e){return null===e}function v(e){return"number"==typeof e}function y(e){return"string"==typeof e}function g(e){return void 0===e}function m(e){return b(e)&&"[object RegExp]"===k(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===k(e)}function T(e){return b(e)&&("[object Error]"===k(e)||e instanceof Error)}function _(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(g(o)&&(o=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!i[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=process.pid;i[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else i[e]=function(){};return i[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=p,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=m,t.isObject=b,t.isDate=w,t.isError=T,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(68949);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",S(),t.format.apply(t,arguments))},t.inherits=r(42561),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},84371:function(e,t,r){"use strict";var n="win32"===process.platform,o=r(59990);function i(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n];o&&"."!==o&&(".."===o?r.length&&".."!==r[r.length-1]?r.pop():t&&r.push(".."):r.push(o))}return r}function a(e){for(var t=e.length-1,r=0;r<=t&&!e[r];r++);for(var n=t;n>=0&&!e[n];n--);return 0===r&&n===t?e:r>n?[]:e.slice(r,n+1)}var s=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,u=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,c={};function l(e){var t=s.exec(e),r=(t[1]||"")+(t[2]||""),n=t[3]||"",o=u.exec(n);return[r,o[1],o[2],o[3]]}function f(e){var t=s.exec(e),r=t[1]||"",n=!!r&&":"!==r[1];return{device:r,isUnc:n,isAbsolute:n||!!t[2],tail:t[3]}}function d(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}c.resolve=function(){for(var e="",t="",r=!1,n=arguments.length-1;n>=-1;n--){var a;if(n>=0?a=arguments[n]:e?(a=process.env["="+e])&&a.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(a=e+"\\"):a=process.cwd(),!o.isString(a))throw new TypeError("Arguments to path.resolve must be strings");if(a){var s=f(a),u=s.device,c=s.isUnc,l=s.isAbsolute,h=s.tail;if((!u||!e||u.toLowerCase()===e.toLowerCase())&&(e||(e=u),r||(t=h+"\\"+t,r=l),e&&r))break}}return c&&(e=d(e)),e+(r?"\\":"")+(t=i(t.split(/[\\\/]+/),!r).join("\\"))||"."},c.normalize=function(e){var t=f(e),r=t.device,n=t.isUnc,o=t.isAbsolute,a=t.tail,s=/[\\\/]$/.test(a);return(a=i(a.split(/[\\\/]+/),!o).join("\\"))||o||(a="."),a&&s&&(a+="\\"),n&&(r=d(r)),r+(o?"\\":"")+a},c.isAbsolute=function(e){return f(e).isAbsolute},c.join=function(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(!o.isString(r))throw new TypeError("Arguments to path.join must be strings");r&&e.push(r)}var n=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(n=n.replace(/^[\\\/]{2,}/,"\\")),c.normalize(n)},c.relative=function(e,t){e=c.resolve(e),t=c.resolve(t);for(var r=e.toLowerCase(),n=t.toLowerCase(),o=a(t.split("\\")),i=a(r.split("\\")),s=a(n.split("\\")),u=Math.min(i.length,s.length),l=u,f=0;f<u;f++)if(i[f]!==s[f]){l=f;break}if(0==l)return t;var d=[];for(f=l;f<i.length;f++)d.push("..");return(d=d.concat(o.slice(l))).join("\\")},c._makeLong=function(e){if(!o.isString(e))return e;if(!e)return"";var t=c.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},c.dirname=function(e){var t=l(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},c.basename=function(e,t){var r=l(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},c.extname=function(e){return l(e)[3]},c.format=function(e){if(!o.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!o.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var r=e.dir,n=e.base||"";return r?r[r.length-1]===c.sep?r+n:r+c.sep+n:n},c.parse=function(e){if(!o.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=l(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},c.sep="\\",c.delimiter=";";var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,p={};function v(e){return h.exec(e).slice(1)}p.resolve=function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:process.cwd();if(!o.isString(n))throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n[0])}return(t?"/":"")+(e=i(e.split("/"),!t).join("/"))||"."},p.normalize=function(e){var t=p.isAbsolute(e),r=e&&"/"===e[e.length-1];return(e=i(e.split("/"),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},p.isAbsolute=function(e){return"/"===e.charAt(0)},p.join=function(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];if(!o.isString(r))throw new TypeError("Arguments to path.join must be strings");r&&(e+=e?"/"+r:r)}return p.normalize(e)},p.relative=function(e,t){e=p.resolve(e).substr(1),t=p.resolve(t).substr(1);for(var r=a(e.split("/")),n=a(t.split("/")),o=Math.min(r.length,n.length),i=o,s=0;s<o;s++)if(r[s]!==n[s]){i=s;break}var u=[];for(s=i;s<r.length;s++)u.push("..");return(u=u.concat(n.slice(i))).join("/")},p._makeLong=function(e){return e},p.dirname=function(e){var t=v(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},p.basename=function(e,t){var r=v(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},p.extname=function(e){return v(e)[3]},p.format=function(e){if(!o.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!o.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+p.sep:"")+(e.base||"")},p.parse=function(e){if(!o.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=v(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},p.sep="/",p.delimiter=":",e.exports=n?c:p,e.exports.posix=p,e.exports.win32=c},11168:function(e,t,r){"use strict";e.exports=r(56158)},35695:function(e){"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},63746:function(e,t,r){"use strict";var n=t,o=r(36901),i=r(88066);function a(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",n);for(var i=t.resolvedType.values,a=Object.keys(i),s=0;s<a.length;++s)t.repeated&&i[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",i[a[s]])("m%s=%j",n,i[a[s]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function s(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),u=i.safeProp(s.name);s.map?(r("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),a(r,s,n,u+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),a(r,s,n,u+"[i]")("}")("}")):(s.resolvedType instanceof o||r("if(d%s!=null){",u),a(r,s,n,u),s.resolvedType instanceof o||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var r=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],u=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?n:t[c].map?a:u).push(t[c]);if(n.length){for(r("if(o.arrays||o.defaults){"),c=0;c<n.length;++c)r("d%s=[]",i.safeProp(n[c].name));r("}")}if(a.length){for(r("if(o.objects||o.defaults){"),c=0;c<a.length;++c)r("d%s={}",i.safeProp(a[c].name));r("}")}if(u.length){for(r("if(o.defaults){"),c=0;c<u.length;++c){var l=u[c],f=i.safeProp(l.name);if(l.resolvedType instanceof o)r("d%s=o.enums===String?%j:%j",f,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",f)("}else")("d%s=o.longs===String?%j:%i",f,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var d="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",f,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",f,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",f,f)("}")}else r("d%s=%j",f,l.typeDefault)}r("}")}var h=!1;for(c=0;c<t.length;++c){l=t[c];var p=e._fieldsArray.indexOf(l);f=i.safeProp(l.name);l.map?(h||(h=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",f,f)("d%s={}",f)("for(var j=0;j<ks2.length;++j){"),s(r,l,p,f+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",f,f)("d%s=[]",f)("for(var j=0;j<m%s.length;++j){",f),s(r,l,p,f+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",f,l.name),s(r,l,p,f),l.partOf&&r("if(o.oneofs)")("d%s=%j",i.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}},87490:function(e,t,r){"use strict";e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var s=e._fieldsArray[r].resolve(),u=s.resolvedType instanceof n?"int32":s.type,c="m"+i.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[s.keyType]?t("k=%j",o.defaults[s.keyType]):t("k=null"),void 0!==o.defaults[u]?t("value=%j",o.defaults[u]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),void 0===o.basic[u]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",u),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[s.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',c):t("%s[k]=value",c)):s.repeated?(t("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==o.packed[u]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,u)("}else"),void 0===o.basic[u]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,r):t("%s.push(r.%s())",c,u)):void 0===o.basic[u]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,r):t("%s=r.%s()",c,u),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var l=e._fieldsArray[r];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",a(l))}return t("return m")};var n=r(36901),o=r(23970),i=r(88066);function a(e){return"missing required '"+e.name+"'"}},75191:function(e,t,r){"use strict";e.exports=function(e){for(var t,r=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(i.compareFieldsById),u=0;u<s.length;++u){var c=s[u].resolve(),l=e._fieldsArray.indexOf(c),f=c.resolvedType instanceof n?"int32":c.type,d=o.basic[f];t="m"+i.safeProp(c.name),c.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|o.mapKey[c.keyType],c.keyType),void 0===d?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,f,t),r("}")("}")):c.repeated?(r("if(%s!=null&&%s.length){",t,t),c.packed&&void 0!==o.packed[f]?r("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",f,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===d?a(r,c,l,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(c.id<<3|d)>>>0,f,t)),r("}")):(c.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,c.name),void 0===d?a(r,c,l,t):r("w.uint32(%i).%s(%s)",(c.id<<3|d)>>>0,f,t))}return r("return w")};var n=r(36901),o=r(23970),i=r(88066);function a(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},36901:function(e,t,r){"use strict";e.exports=a;var n=r(57641);((a.prototype=Object.create(n.prototype)).constructor=a).className="Enum";var o=r(69788),i=r(88066);function a(e,t,r,o,i){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=void 0,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var r=new a(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,r){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},a.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},20797:function(e,t,r){"use strict";e.exports=c;var n=r(57641);((c.prototype=Object.create(n.prototype)).constructor=c).className="Field";var o,i=r(36901),a=r(23970),s=r(88066),u=/^required|optional|repeated$/;function c(e,t,r,o,i,c,l){if(s.isObject(o)?(l=i,c=o,o=i=void 0):s.isObject(i)&&(l=c,c=i,i=void 0),n.call(this,e,c),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(r))throw TypeError("type must be a string");if(void 0!==o&&!u.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!s.isString(i))throw TypeError("extend must be a string");"proto3_optional"===o&&(o="optional"),this.rule=o&&"optional"!==o?o:void 0,this.type=r,this.id=t,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},c.d=function(e,t,r,n){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(o,i){s.decorateType(o.constructor).add(new c(i,e,t,r,{default:n}))}},c._configure=function(e){o=e}},9188:function(e,t,r){"use strict";var n=e.exports=r(50536);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(75191),n.decoder=r(87490),n.verifier=r(22332),n.converter=r(63746),n.ReflectionObject=r(57641),n.Namespace=r(69788),n.Root=r(80742),n.Enum=r(36901),n.Type=r(93138),n.Field=r(20797),n.OneOf=r(86898),n.MapField=r(91981),n.Service=r(49355),n.Method=r(78820),n.Message=r(83611),n.wrappers=r(16423),n.types=r(23970),n.util=r(88066),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},50536:function(e,t,r){"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(60123),n.BufferWriter=r(76673),n.Reader=r(39799),n.BufferReader=r(87038),n.util=r(34165),n.rpc=r(34963),n.roots=r(29009),n.configure=o,o()},56158:function(e,t,r){"use strict";var n=e.exports=r(9188);n.build="full",n.tokenize=r(79882),n.parse=r(82221),n.common=r(35695),n.Root._configure(n.Type,n.parse,n.common)},91981:function(e,t,r){"use strict";e.exports=a;var n=r(20797);((a.prototype=Object.create(n.prototype)).constructor=a).className="MapField";var o=r(23970),i=r(88066);function a(e,t,r,o,a,s){if(n.call(this,e,t,o,void 0,void 0,a,s),!i.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},a.d=function(e,t,r){return"function"==typeof r?r=i.decorateType(r).name:r&&"object"==typeof r&&(r=i.decorateEnum(r).name),function(n,o){i.decorateType(n.constructor).add(new a(o,e,t,r))}}},83611:function(e,t,r){"use strict";e.exports=o;var n=r(34165);function o(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},78820:function(e,t,r){"use strict";e.exports=i;var n=r(57641);((i.prototype=Object.create(n.prototype)).constructor=i).className="Method";var o=r(88066);function i(e,t,r,i,a,s,u,c,l){if(o.isObject(a)?(u=a,a=s=void 0):o.isObject(s)&&(u=s,s=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(r))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");n.call(this,e,u),this.type=t||"rpc",this.requestType=r,this.requestStream=!!a||void 0,this.responseType=i,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=l}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},69788:function(e,t,r){"use strict";e.exports=f;var n=r(57641);((f.prototype=Object.create(n.prototype)).constructor=f).className="Namespace";var o,i,a,s=r(20797),u=r(86898),c=r(88066);function l(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function f(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function d(e){return e._nestedArray=null,e}f.fromJSON=function(e,t){return new f(e,t.options).addJSON(t.nested)},f.arrayToJSON=l,f.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},f.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(f.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),f.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},f.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?o.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?s.fromJSON:f.fromJSON)(r[n],t));return this},f.prototype.get=function(e){return this.nested&&this.nested[e]||null},f.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},f.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof o||e instanceof a||e instanceof i||e instanceof f||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof f&&e instanceof f)||t instanceof o||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),d(this)},f.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),d(this)},f.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof f))throw Error("path conflicts with non-namespace objects")}else r.add(r=new f(n))}return t&&r.addJSON(t),r},f.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof f?e[t++].resolveAll():e[t++].resolve();return this.resolve()},f.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof f&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof f&&(n=this._nestedArray[o].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},f.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},f.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},f.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},f.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},f._configure=function(e,t,r){o=e,i=t,a=r}},57641:function(e,t,r){"use strict";e.exports=i,i.className="ReflectionObject";var n,o=r(88066);function i(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var a=i[e];o.setProperty(a,r,t)}else(i={})[e]=o.setProperty({},r,t),n.push(i)}else{var s={};s[e]=t,n.push(s)}return this},i.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){n=e}},86898:function(e,t,r){"use strict";e.exports=a;var n=r(57641);((a.prototype=Object.create(n.prototype)).constructor=a).className="OneOf";var o=r(20797),i=r(88066);function a(e,t,r,o){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}s(this)},a.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){i.decorateType(t.constructor).add(new a(r,e)),Object.defineProperty(t,r,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},82221:function(e,t,r){"use strict";e.exports=E,E.filename=null,E.defaults={keepCase:!1};var n=r(79882),o=r(80742),i=r(93138),a=r(20797),s=r(91981),u=r(86898),c=r(36901),l=r(49355),f=r(78820),d=r(23970),h=r(88066),p=/^[1-9][0-9]*$/,v=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,g=/^-?0[x][0-9a-fA-F]+$/,m=/^0[0-7]+$/,b=/^-?0[0-7]+$/,w=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,T=/^[a-zA-Z_][a-zA-Z_0-9]*$/,_=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,k=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function E(e,t,r){t instanceof o||(r=t,t=new o),r||(r=E.defaults);var C,S,A,R,O,M=r.preferTrailingComment||!1,I=n(e,r.alternateCommentMode||!1),P=I.next,x=I.push,L=I.peek,D=I.skip,N=I.cmnt,G=!0,F=!1,B=t,j=r.keepCase?function(e){return e}:h.camelCase;function U(e,t,r){var n=E.filename;return r||(E.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+I.line+")")}function V(){var e,t=[];do{if('"'!==(e=P())&&"'"!==e)throw U(e);t.push(P()),D(e),e=L()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=P();switch(t){case"'":case'"':return x(t),V();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(e))return r*parseInt(e,10);if(y.test(e))return r*parseInt(e,16);if(m.test(e))return r*parseInt(e,8);if(w.test(e))return r*parseFloat(e);throw U(e,"number",t)}(t,!0)}catch(r){if(e&&_.test(t))return t;throw U(t,"value")}}function K(e,t){var r,n;do{!t||'"'!==(r=L())&&"'"!==r?e.push([n=W(P()),D("to",!0)?W(P()):n]):e.push(V())}while(D(",",!0));D(";")}function W(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw U(e,"id");if(v.test(e))return parseInt(e,10);if(g.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw U(e,"id")}function Y(){if(void 0!==C)throw U("package");if(C=P(),!_.test(C))throw U(C,"name");B=B.define(C),D(";")}function q(){var e,t=L();switch(t){case"weak":e=A||(A=[]),P();break;case"public":P();default:e=S||(S=[])}t=V(),D(";"),e.push(t)}function z(){if(D("="),R=V(),!(F="proto3"===R)&&"proto2"!==R)throw U(R,"syntax");D(";")}function J(e,t){switch(t){case"option":return Z(e,t),D(";"),!0;case"message":return function(e,t){if(!T.test(t=P()))throw U(t,"type name");var r=new i(t);X(r,(function(e){if(!J(r,e))switch(e){case"map":!function(e){D("<");var t=P();if(void 0===d.mapKey[t])throw U(t,"type");D(",");var r=P();if(!_.test(r))throw U(r,"type");D(">");var n=P();if(!T.test(n))throw U(n,"name");D("=");var o=new s(j(n),W(P()),t,r);X(o,(function(e){if("option"!==e)throw U(e);Z(o,e),D(";")}),(function(){te(o)})),e.add(o)}(r);break;case"required":case"repeated":Q(r,e);break;case"optional":Q(r,F?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!T.test(t=P()))throw U(t,"name");var r=new u(j(t));X(r,(function(e){"option"===e?(Z(r,e),D(";")):(x(e),Q(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":K(r.extensions||(r.extensions=[]));break;case"reserved":K(r.reserved||(r.reserved=[]),!0);break;default:if(!F||!_.test(e))throw U(e);x(e),Q(r,"optional")}})),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!T.test(t=P()))throw U(t,"name");var r=new c(t);X(r,(function(e){switch(e){case"option":Z(r,e),D(";");break;case"reserved":K(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!T.test(t))throw U(t,"name");D("=");var r=W(P(),!0),n={};X(n,(function(e){if("option"!==e)throw U(e);Z(n,e),D(";")}),(function(){te(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!T.test(t=P()))throw U(t,"service name");var r=new l(t);X(r,(function(e){if(!J(r,e)){if("rpc"!==e)throw U(e);!function(e,t){var r=N(),n=t;if(!T.test(t=P()))throw U(t,"name");var o,i,a,s,u=t;D("("),D("stream",!0)&&(i=!0);if(!_.test(t=P()))throw U(t);o=t,D(")"),D("returns"),D("("),D("stream",!0)&&(s=!0);if(!_.test(t=P()))throw U(t);a=t,D(")");var c=new f(u,n,o,a,i,s);c.comment=r,X(c,(function(e){if("option"!==e)throw U(e);Z(c,e),D(";")})),e.add(c)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!_.test(t=P()))throw U(t,"reference");var r=t;X(null,(function(t){switch(t){case"required":case"repeated":Q(e,t,r);break;case"optional":Q(e,F?"proto3_optional":"optional",r);break;default:if(!F||!_.test(t))throw U(t);x(t),Q(e,"optional",r)}}))}(e,t),!0}return!1}function X(e,t,r){var n=I.line;if(e&&("string"!=typeof e.comment&&(e.comment=N()),e.filename=E.filename),D("{",!0)){for(var o;"}"!==(o=P());)t(o);D(";",!0)}else r&&r(),D(";"),e&&("string"!=typeof e.comment||M)&&(e.comment=N(n)||e.comment)}function Q(e,t,r){var n=P();if("group"!==n){if(!_.test(n))throw U(n,"type");var o=P();if(!T.test(o))throw U(o,"name");o=j(o),D("=");var s=new a(o,W(P()),n,t,r);if(X(s,(function(e){if("option"!==e)throw U(e);Z(s,e),D(";")}),(function(){te(s)})),"proto3_optional"===t){var c=new u("_"+o);s.setOption("proto3_optional",!0),c.add(s),e.add(c)}else e.add(s);F||!s.repeated||void 0===d.packed[n]&&void 0!==d.basic[n]||s.setOption("packed",!1,!0)}else!function(e,t){var r=P();if(!T.test(r))throw U(r,"name");var n=h.lcFirst(r);r===n&&(r=h.ucFirst(r));D("=");var o=W(P()),s=new i(r);s.group=!0;var u=new a(n,o,r,t);u.filename=E.filename,X(s,(function(e){switch(e){case"option":Z(s,e),D(";");break;case"required":case"repeated":Q(s,e);break;case"optional":Q(s,F?"proto3_optional":"optional");break;default:throw U(e)}})),e.add(s).add(u)}(e,t)}function Z(e,t){var r=D("(",!0);if(!_.test(t=P()))throw U(t,"name");var n,o=t,i=o;r&&(D(")"),i=o="("+o+")",t=L(),k.test(t)&&(n=t.substr(1),o+=t,P())),D("="),function(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}(e,i,$(e,o),n)}function $(e,t){if(D("{",!0)){for(var r={};!D("}",!0);){if(!T.test(O=P()))throw U(O,"name");var n,o=O;"{"===L()?n=$(e,t+"."+O):(D(":"),"{"===L()?n=$(e,t+"."+O):(n=H(!0),ee(e,t+"."+O,n)));var i=r[o];i&&(n=[].concat(i).concat(n)),r[o]=n,D(",",!0)}return r}var a=H(!0);return ee(e,t,a),a}function ee(e,t,r){e.setOption&&e.setOption(t,r)}function te(e){if(D("[",!0)){do{Z(e,"option")}while(D(",",!0));D("]")}return e}for(;null!==(O=P());)switch(O){case"package":if(!G)throw U(O);Y();break;case"import":if(!G)throw U(O);q();break;case"syntax":if(!G)throw U(O);z();break;case"option":Z(B,O),D(";");break;default:if(J(B,O)){G=!1;continue}throw U(O)}return E.filename=null,{package:C,imports:S,weakImports:A,syntax:R,root:t}}},39799:function(e,t,r){"use strict";e.exports=u;var n,o=r(34165),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},f=function(){return o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function d(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}u.create=f(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=f(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},87038:function(e,t,r){"use strict";e.exports=i;var n=r(39799);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(34165);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},80742:function(e,t,r){"use strict";e.exports=f;var n=r(69788);((f.prototype=Object.create(n.prototype)).constructor=f).className="Root";var o,i,a,s=r(20797),u=r(36901),c=r(86898),l=r(88066);function f(e){n.call(this,"",e),this.deferred=[],this.files=[]}function d(){}f.fromJSON=function(e,t){return t||(t=new f),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},f.prototype.resolvePath=l.path.resolve,f.prototype.fetch=l.fetch,f.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return l.asPromise(e,o,t,r);var s=n===d;function u(e,t){if(n){var r=n;if(n=null,s)throw e;r(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in a)return r}return null}function f(e,t){try{if(l.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){i.filename=e;var n,a=i(t,o,r),f=0;if(a.imports)for(;f<a.imports.length;++f)(n=c(a.imports[f])||o.resolvePath(e,a.imports[f]))&&h(n);if(a.weakImports)for(f=0;f<a.weakImports.length;++f)(n=c(a.weakImports[f])||o.resolvePath(e,a.weakImports[f]))&&h(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){u(e)}s||p||u(null,o)}function h(e,t){if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in a)s?f(e,a[e]):(++p,setTimeout((function(){--p,f(e,a[e])})));else if(s){var r;try{r=l.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||u(e))}f(e,r)}else++p,o.fetch(e,(function(r,i){--p,n&&(r?t?p||u(null,o):u(r):f(e,i))}))}var p=0;l.isString(t)&&(t=[t]);for(var v,y=0;y<t.length;++y)(v=o.resolvePath("",t[y]))&&h(v);if(s)return o;p||u(null,o)},f.prototype.loadSync=function(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,d)},f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function p(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}f.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||p(0,e)||this.deferred.push(e);else if(e instanceof u)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof o)for(var t=0;t<this.deferred.length;)p(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);h.test(e.name)&&(e.parent[e.name]=e)}},f.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);h.test(e.name)&&delete e.parent[e.name]}},f._configure=function(e,t,r){o=e,i=t,a=r}},29009:function(e){"use strict";e.exports={}},34963:function(e,t,r){"use strict";t.Service=r(29548)},29548:function(e,t,r){"use strict";e.exports=o;var n=r(34165);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},49355:function(e,t,r){"use strict";e.exports=s;var n=r(69788);((s.prototype=Object.create(n.prototype)).constructor=s).className="Service";var o=r(78820),i=r(88066),a=r(34963);function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var r=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),i=0;i<n.length;++i)r.add(o.fromJSON(n[i],t.methods[n[i]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof o?(this.methods[e.name]=e,e.parent=this,u(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof o){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,u(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,r){for(var n,o=new a.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var u=i.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");o[u]=i.codegen(["r","c"],i.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return o}},79882:function(e){"use strict";e.exports=f;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o=/^ *[*/]+ */,i=/^\s*\*?\/*/,a=/\n/g,s=/\s/,u=/\\(.?)/g,c={0:"\0",r:"\r",n:"\n",t:"\t"};function l(e){return e.replace(u,(function(e,t){switch(t){case"\\":case"":return t;default:return c[t]||""}}))}function f(e,u){e=e.toString();var c=0,f=e.length,d=1,h=null,p=null,v=0,y=!1,g=!1,m=[],b=null;function w(e){return Error("illegal "+e+" (line "+d+")")}function T(t){return e.charAt(t)}function _(t,r,n){h=e.charAt(t++),v=d,y=!1,g=n;var s,c=t-(u?2:3);do{if(--c<0||"\n"===(s=e.charAt(c))){y=!0;break}}while(" "===s||"\t"===s);for(var l=e.substring(t,r).split(a),f=0;f<l.length;++f)l[f]=l[f].replace(u?i:o,"").trim();p=l.join("\n").trim()}function k(t){var r=E(t),n=e.substring(t,r);return/^\s*\/{1,2}/.test(n)}function E(e){for(var t=e;t<f&&"\n"!==T(t);)t++;return t}function C(){if(m.length>0)return m.shift();if(b)return function(){var t="'"===b?n:r;t.lastIndex=c-1;var o=t.exec(e);if(!o)throw w("string");return c=t.lastIndex,S(b),b=null,l(o[1])}();var o,i,a,h,p,v=0===c;do{if(c===f)return null;for(o=!1;s.test(a=T(c));)if("\n"===a&&(v=!0,++d),++c===f)return null;if("/"===T(c)){if(++c===f)throw w("comment");if("/"===T(c))if(u){if(h=c,p=!1,k(c)){p=!0;do{if((c=E(c))===f)break;c++}while(k(c))}else c=Math.min(f,E(c)+1);p&&_(h,c,v),d++,o=!0}else{for(p="/"===T(h=c+1);"\n"!==T(++c);)if(c===f)return null;++c,p&&_(h,c-1,v),++d,o=!0}else{if("*"!==(a=T(c)))return"/";h=c+1,p=u||"*"===T(h);do{if("\n"===a&&++d,++c===f)throw w("comment");i=a,a=T(c)}while("*"!==i||"/"!==a);++c,p&&_(h,c-2,v),o=!0}}}while(o);var y=c;if(t.lastIndex=0,!t.test(T(y++)))for(;y<f&&!t.test(T(y));)++y;var g=e.substring(c,c=y);return'"'!==g&&"'"!==g||(b=g),g}function S(e){m.push(e)}function A(){if(!m.length){var e=C();if(null===e)return null;S(e)}return m[0]}return Object.defineProperty({next:C,peek:A,push:S,skip:function(e,t){var r=A();if(r===e)return C(),!0;if(!t)throw w("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?v===d-1&&(u||"*"===h||y)&&(t=g?p:null):(v<e&&A(),v!==e||y||!u&&"/"!==h||(t=g?null:p)),t}},"line",{get:function(){return d}})}f.unescape=l},93138:function(e,t,r){"use strict";e.exports=m;var n=r(69788);((m.prototype=Object.create(n.prototype)).constructor=m).className="Type";var o=r(36901),i=r(86898),a=r(20797),s=r(91981),u=r(49355),c=r(83611),l=r(39799),f=r(60123),d=r(88066),h=r(75191),p=r(87490),v=r(22332),y=r(63746),g=r(16423);function m(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(m.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=m.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,d.merge(e.prototype,t)),e.$type=e.prototype.$type=this,d.merge(e,c,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:d.oneOfGetter(this._oneofsArray[r].oneof),set:d.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),m.generateConstructor=function(e){for(var t,r=d.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",d.safeProp(t.name)):t.repeated&&r("this%s=[]",d.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},m.fromJSON=function(e,t){var r=new m(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var c=Object.keys(t.fields),l=0;l<c.length;++l)r.add((void 0!==t.fields[c[l]].keyType?s.fromJSON:a.fromJSON)(c[l],t.fields[c[l]]));if(t.oneofs)for(c=Object.keys(t.oneofs),l=0;l<c.length;++l)r.add(i.fromJSON(c[l],t.oneofs[c[l]]));if(t.nested)for(c=Object.keys(t.nested),l=0;l<c.length;++l){var f=t.nested[c[l]];r.add((void 0!==f.id?a.fromJSON:void 0!==f.fields?m.fromJSON:void 0!==f.values?o.fromJSON:void 0!==f.methods?u.fromJSON:n.fromJSON)(c[l],f))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},m.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return d.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},m.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},m.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},m.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},m.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},m.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},m.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},m.prototype.create=function(e){return new this.ctor(e)},m.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=h(this)({Writer:f,types:t,util:d}),this.decode=p(this)({Reader:l,types:t,util:d}),this.verify=v(this)({types:t,util:d}),this.fromObject=y.fromObject(this)({types:t,util:d}),this.toObject=y.toObject(this)({types:t,util:d});var n=g[e];if(n){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},m.prototype.encode=function(e,t){return this.setup().encode(e,t)},m.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},m.prototype.decode=function(e,t){return this.setup().decode(e,t)},m.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},m.prototype.verify=function(e){return this.setup().verify(e)},m.prototype.fromObject=function(e){return this.setup().fromObject(e)},m.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},m.d=function(e){return function(t){d.decorateType(t,e)}}},23970:function(e,t,r){"use strict";var n=t,o=r(88066),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var r=0,n={};for(t|=0;r<e.length;)n[i[r+t]]=e[r++];return n}n.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),n.long=a([0,0,0,1,1],7),n.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},88066:function(e,t,r){"use strict";var n,o,i=e.exports=r(34165),a=r(29009);i.codegen=r(1706),i.fetch=r(64641),i.path=r(82659),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},i.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t};var s=/\\/g,u=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(s,"\\\\").replace(u,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;n||(n=r(93138));var o=new n(t||e.name);return i.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var l=0;i.decorateEnum=function(e){if(e.$type)return e.$type;o||(o=r(36901));var t=new o("Enum"+l++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var o=r.shift();if("__proto__"===o)return t;if(r.length>0)t[o]=e(t[o]||{},r,n);else{var i=t[o];i&&(n=[].concat(i).concat(n)),t[o]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(i,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(r(80742)))}})},61697:function(e,t,r){"use strict";e.exports=o;var n=r(34165);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},34165:function(e,t,r){"use strict";var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(46781),n.base64=r(87026),n.EventEmitter=r(15570),n.float=r(5298),n.inquire=r(36116),n.utf8=r(57958),n.pool=r(90804),n.LongBits=r(61697),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},22332:function(e,t,r){"use strict";e.exports=function(e){var t=o.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var u=0;u<e.fieldsArray.length;++u){var c=e._fieldsArray[u].resolve(),l="m"+o.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",i(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),a(t,c,u,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",i(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,u,l+"[i]")("}");else{if(c.partOf){var f=o.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",f)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",f)}a(t,c,u,l)}c.optional&&t("}")}return t("return null")};var n=r(36901),o=r(88066);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,r,o){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",o)("default:")("return%j",i(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(t,"buffer"))}return e}function s(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",i(t,"boolean key"))}return e}},16423:function(e,t,r){"use strict";var n=t,o=r(83611);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var a=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=n,a}return this.toObject(e,t)}}},60123:function(e,t,r){"use strict";e.exports=f;var n,o=r(34165),i=o.LongBits,a=o.base64,s=o.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var d=function(){return o.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function h(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function v(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=d(),f.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},p.prototype=Object.create(u.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(v,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=i.from(e);return this._push(v,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(v,t.length(),t)},f.prototype.bool=function(e){return this._push(h,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=i.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var g=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(o.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(g,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=d(),n._configure()}},76673:function(e,t,r){"use strict";e.exports=i;var n=r(60123);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(34165);function i(){n.call(this)}function a(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},25047:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new O(n||[]);return o(a,"_invoke",{value:C(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",h="executing",p="completed",v={};function y(){}function g(){}function m(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,T=w&&w(w(M([])));T&&T!==r&&n.call(T,a)&&(b=T);var _=m.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function C(e,t,r){var n=d;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=f(e,t,r);if("normal"===u.type){if(n=r.done?p:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}function S(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function M(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return g.prototype=m,o(_,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=c(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),c(_,u,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=M,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},58714:function(e,t,r){e.exports=r(42893)},42893:function(e,t,r){!function(t){"use strict";function n(e,t,r){return t<=e&&e<=r}e.exports&&!t["encoding-indexes"]&&r(58658);var o=Math.floor;function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function a(e){return 0<=e&&e<=127}var s=a,u=-1;function c(e){this.tokens=[].slice.call(e),this.tokens.reverse()}c.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():u},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};var l=-1;function f(e,t){if(e)throw TypeError("Decoder error");return t||65533}function d(e){throw TypeError("The code point "+e+" could not be encoded.")}function h(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(v,e)?v[e]:null}var p=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],v={};p.forEach((function(e){e.encodings.forEach((function(e){e.labels.forEach((function(t){v[t]=e}))}))}));var y,g,m={},b={};function w(e,t){return t&&t[e]||null}function T(e,t){var r=t.indexOf(e);return-1===r?null:r}function _(e){if(!("encoding-indexes"in t))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return t["encoding-indexes"][e]}var k="utf-8";function E(e,t){if(!(this instanceof E))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):k,t=i(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var r=h(e);if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+e);if(!b[r.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var n=this;return n._encoding=r,Boolean(t.fatal)&&(n._error_mode="fatal"),Boolean(t.ignoreBOM)&&(n._ignoreBOM=!0),Object.defineProperty||(this.encoding=n._encoding.name.toLowerCase(),this.fatal="fatal"===n._error_mode,this.ignoreBOM=n._ignoreBOM),n}function C(e,r){if(!(this instanceof C))throw TypeError("Called as a function. Did you forget 'new'?");r=i(r),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(r.fatal)?"fatal":"replacement";var n=this;if(Boolean(r.NONSTANDARD_allowLegacyEncoding)){var o=h(e=void 0!==e?String(e):k);if(null===o||"replacement"===o.name)throw RangeError("Unknown encoding: "+e);if(!m[o.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");n._encoding=o}else n._encoding=h("utf-8"),void 0!==e&&"console"in t&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=n._encoding.name.toLowerCase()),n}function S(e){var t=e.fatal,r=0,o=0,i=0,a=128,s=191;this.handler=function(e,c){if(c===u&&0!==i)return i=0,f(t);if(c===u)return l;if(0===i){if(n(c,0,127))return c;if(n(c,194,223))i=1,r=31&c;else if(n(c,224,239))224===c&&(a=160),237===c&&(s=159),i=2,r=15&c;else{if(!n(c,240,244))return f(t);240===c&&(a=144),244===c&&(s=143),i=3,r=7&c}return null}if(!n(c,a,s))return r=i=o=0,a=128,s=191,e.prepend(c),f(t);if(a=128,s=191,r=r<<6|63&c,(o+=1)!==i)return null;var d=r;return r=i=o=0,d}}function A(e){e.fatal;this.handler=function(e,t){if(t===u)return l;if(s(t))return t;var r,o;n(t,128,2047)?(r=1,o=192):n(t,2048,65535)?(r=2,o=224):n(t,65536,1114111)&&(r=3,o=240);for(var i=[(t>>6*r)+o];r>0;){var a=t>>6*(r-1);i.push(128|63&a),r-=1}return i}}function R(e,t){var r=t.fatal;this.handler=function(t,n){if(n===u)return l;if(a(n))return n;var o=e[n-128];return null===o?f(r):o}}function O(e,t){t.fatal;this.handler=function(t,r){if(r===u)return l;if(s(r))return r;var n=T(r,e);return null===n&&d(r),n+128}}function M(e){var t=e.fatal,r=0,o=0,i=0;this.handler=function(e,s){if(s===u&&0===r&&0===o&&0===i)return l;var c;if(s!==u||0===r&&0===o&&0===i||(r=0,o=0,i=0,f(t)),0!==i){c=null,n(s,48,57)&&(c=function(e){if(e>39419&&e<189e3||e>1237575)return null;if(7457===e)return 59335;var t,r=0,n=0,o=_("gb18030-ranges");for(t=0;t<o.length;++t){var i=o[t];if(!(i[0]<=e))break;r=i[0],n=i[1]}return n+e-r}(10*(126*(10*(r-129)+o-48)+i-129)+s-48));var d=[o,i,s];return r=0,o=0,i=0,null===c?(e.prepend(d),f(t)):c}if(0!==o)return n(s,129,254)?(i=s,null):(e.prepend([o,s]),r=0,o=0,f(t));if(0!==r){if(n(s,48,57))return o=s,null;var h=r,p=null;r=0;var v=s<127?64:65;return(n(s,64,126)||n(s,128,254))&&(p=190*(h-129)+(s-v)),null===(c=null===p?null:w(p,_("gb18030")))&&a(s)&&e.prepend(s),null===c?f(t):c}return a(s)?s:128===s?8364:n(s,129,254)?(r=s,null):f(t)}}function I(e,t){e.fatal;this.handler=function(e,r){if(r===u)return l;if(s(r))return r;if(58853===r)return d(r);if(t&&8364===r)return 128;var n=T(r,_("gb18030"));if(null!==n){var i=n%190;return[o(n/190)+129,i+(i<63?64:65)]}if(t)return d(r);n=function(e){if(59335===e)return 7457;var t,r=0,n=0,o=_("gb18030-ranges");for(t=0;t<o.length;++t){var i=o[t];if(!(i[1]<=e))break;r=i[1],n=i[0]}return n+e-r}(r);var a=o(n/10/126/10),c=o((n-=10*a*126*10)/10/126),f=o((n-=10*c*126)/10);return[a+129,c+48,f+129,n-10*f+48]}}function P(e){var t=e.fatal,r=0;this.handler=function(e,o){if(o===u&&0!==r)return r=0,f(t);if(o===u&&0===r)return l;if(0!==r){var i=r,s=null;r=0;var c=o<127?64:98;switch((n(o,64,126)||n(o,161,254))&&(s=157*(i-129)+(o-c)),s){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var d=null===s?null:w(s,_("big5"));return null===d&&a(o)&&e.prepend(o),null===d?f(t):d}return a(o)?o:n(o,129,254)?(r=o,null):f(t)}}function x(e){e.fatal;this.handler=function(e,t){if(t===u)return l;if(s(t))return t;var r=function(e){g=g||_("big5").map((function(e,t){return t<5024?null:e}));var t=g;return 9552===e||9566===e||9569===e||9578===e||21313===e||21317===e?t.lastIndexOf(e):T(e,t)}(t);if(null===r)return d(t);var n=o(r/157)+129;if(n<161)return d(t);var i=r%157;return[n,i+(i<63?64:98)]}}function L(e){var t=e.fatal,r=!1,o=0;this.handler=function(e,i){if(i===u&&0!==o)return o=0,f(t);if(i===u&&0===o)return l;if(142===o&&n(i,161,223))return o=0,65216+i;if(143===o&&n(i,161,254))return r=!0,o=i,null;if(0!==o){var s=o;o=0;var c=null;return n(s,161,254)&&n(i,161,254)&&(c=w(94*(s-161)+(i-161),_(r?"jis0212":"jis0208"))),r=!1,n(i,161,254)||e.prepend(i),null===c?f(t):c}return a(i)?i:142===i||143===i||n(i,161,254)?(o=i,null):f(t)}}function D(e){e.fatal;this.handler=function(e,t){if(t===u)return l;if(s(t))return t;if(165===t)return 92;if(8254===t)return 126;if(n(t,65377,65439))return[142,t-65377+161];8722===t&&(t=65293);var r=T(t,_("jis0208"));return null===r?d(t):[o(r/94)+161,r%94+161]}}function N(e){var t=e.fatal,r=0,o=1,i=2,a=3,s=4,c=5,d=6,h=r,p=r,v=0,y=!1;this.handler=function(e,g){switch(h){default:case r:return 27===g?(h=c,null):n(g,0,127)&&14!==g&&15!==g&&27!==g?(y=!1,g):g===u?l:(y=!1,f(t));case o:return 27===g?(h=c,null):92===g?(y=!1,165):126===g?(y=!1,8254):n(g,0,127)&&14!==g&&15!==g&&27!==g&&92!==g&&126!==g?(y=!1,g):g===u?l:(y=!1,f(t));case i:return 27===g?(h=c,null):n(g,33,95)?(y=!1,65344+g):g===u?l:(y=!1,f(t));case a:return 27===g?(h=c,null):n(g,33,126)?(y=!1,v=g,h=s,null):g===u?l:(y=!1,f(t));case s:if(27===g)return h=c,f(t);if(n(g,33,126)){h=a;var m=w(94*(v-33)+g-33,_("jis0208"));return null===m?f(t):m}return g===u?(h=a,e.prepend(g),f(t)):(h=a,f(t));case c:return 36===g||40===g?(v=g,h=d,null):(e.prepend(g),y=!1,h=p,f(t));case d:var b=v;v=0;var T=null;if(40===b&&66===g&&(T=r),40===b&&74===g&&(T=o),40===b&&73===g&&(T=i),36!==b||64!==g&&66!==g||(T=a),null!==T){h=h=T;var k=y;return y=!0,k?f(t):null}return e.prepend([b,g]),y=!1,h=p,f(t)}}}function G(e){e.fatal;var t=0,r=1,n=2,i=t;this.handler=function(e,a){if(a===u&&i!==t)return e.prepend(a),i=t,[27,40,66];if(a===u&&i===t)return l;if(!(i!==t&&i!==r||14!==a&&15!==a&&27!==a))return d(65533);if(i===t&&s(a))return a;if(i===r&&(s(a)&&92!==a&&126!==a||165==a||8254==a)){if(s(a))return a;if(165===a)return 92;if(8254===a)return 126}if(s(a)&&i!==t)return e.prepend(a),i=t,[27,40,66];if((165===a||8254===a)&&i!==r)return e.prepend(a),i=r,[27,40,74];8722===a&&(a=65293);var c=T(a,_("jis0208"));return null===c?d(a):i!==n?(e.prepend(a),i=n,[27,36,66]):[o(c/94)+33,c%94+33]}}function F(e){var t=e.fatal,r=0;this.handler=function(e,o){if(o===u&&0!==r)return r=0,f(t);if(o===u&&0===r)return l;if(0!==r){var i=r,s=null;r=0;var c=o<127?64:65,d=i<160?129:193;if((n(o,64,126)||n(o,128,252))&&(s=188*(i-d)+o-c),n(s,8836,10715))return 48508+s;var h=null===s?null:w(s,_("jis0208"));return null===h&&a(o)&&e.prepend(o),null===h?f(t):h}return a(o)||128===o?o:n(o,161,223)?65216+o:n(o,129,159)||n(o,224,252)?(r=o,null):f(t)}}function B(e){e.fatal;this.handler=function(e,t){if(t===u)return l;if(s(t)||128===t)return t;if(165===t)return 92;if(8254===t)return 126;if(n(t,65377,65439))return t-65377+161;8722===t&&(t=65293);var r=function(e){return y=y||_("jis0208").map((function(e,t){return n(t,8272,8835)?null:e})),y.indexOf(e)}(t);if(null===r)return d(t);var i=o(r/188),a=r%188;return[i+(i<31?129:193),a+(a<63?64:65)]}}function j(e){var t=e.fatal,r=0;this.handler=function(e,o){if(o===u&&0!==r)return r=0,f(t);if(o===u&&0===r)return l;if(0!==r){var i=r,s=null;r=0,n(o,65,254)&&(s=190*(i-129)+(o-65));var c=null===s?null:w(s,_("euc-kr"));return null===s&&a(o)&&e.prepend(o),null===c?f(t):c}return a(o)?o:n(o,129,254)?(r=o,null):f(t)}}function U(e){e.fatal;this.handler=function(e,t){if(t===u)return l;if(s(t))return t;var r=T(t,_("euc-kr"));return null===r?d(t):[o(r/190)+129,r%190+65]}}function V(e,t){var r=e>>8,n=255&e;return t?[r,n]:[n,r]}function H(e,t){var r=t.fatal,o=null,i=null;this.handler=function(t,a){if(a===u&&(null!==o||null!==i))return f(r);if(a===u&&null===o&&null===i)return l;if(null===o)return o=a,null;var s;if(s=e?(o<<8)+a:(a<<8)+o,o=null,null!==i){var c=i;return i=null,n(s,56320,57343)?65536+1024*(c-55296)+(s-56320):(t.prepend(V(s,e)),f(r))}return n(s,55296,56319)?(i=s,null):n(s,56320,57343)?f(r):s}}function K(e,t){t.fatal;this.handler=function(t,r){if(r===u)return l;if(n(r,0,65535))return V(r,e);var o=V(55296+(r-65536>>10),e),i=V(56320+(r-65536&1023),e);return o.concat(i)}}function W(e){e.fatal;this.handler=function(e,t){return t===u?l:a(t)?t:63360+t-128}}function Y(e){e.fatal;this.handler=function(e,t){return t===u?l:s(t)?t:n(t,63360,63487)?t-63360+128:d(t)}}Object.defineProperty&&(Object.defineProperty(E.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(E.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(E.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),E.prototype.decode=function(e,t){var r;r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._do_not_flush||(this._decoder=b[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var n,o=new c(r),a=[];;){var s=o.read();if(s===u)break;if((n=this._decoder.handler(o,s))===l)break;null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n))}if(!this._do_not_flush){do{if((n=this._decoder.handler(o,o.read()))===l)break;null!==n&&(Array.isArray(n)?a.push.apply(a,n):a.push(n))}while(!o.endOfStream());this._decoder=null}return function(e){var t,r;return t=["UTF-8","UTF-16LE","UTF-16BE"],r=this._encoding.name,-1===t.indexOf(r)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(e)}.call(this,a)},Object.defineProperty&&Object.defineProperty(C.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),C.prototype.encode=function(e,t){e=void 0===e?"":String(e),t=i(t),this._do_not_flush||(this._encoder=m[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var r,n=new c(function(e){for(var t=String(e),r=t.length,n=0,o=[];n<r;){var i=t.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===r-1)o.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&i,u=1023&a;o.push(65536+(s<<10)+u),n+=1}else o.push(65533)}n+=1}return o}(e)),o=[];;){var a=n.read();if(a===u)break;if((r=this._encoder.handler(n,a))===l)break;Array.isArray(r)?o.push.apply(o,r):o.push(r)}if(!this._do_not_flush){for(;(r=this._encoder.handler(n,n.read()))!==l;)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)},m["UTF-8"]=function(e){return new A(e)},b["UTF-8"]=function(e){return new S(e)},"encoding-indexes"in t&&p.forEach((function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach((function(e){var t=e.name,r=_(t.toLowerCase());b[t]=function(e){return new R(r,e)},m[t]=function(e){return new O(r,e)}}))})),b.GBK=function(e){return new M(e)},m.GBK=function(e){return new I(e,!0)},m.gb18030=function(e){return new I(e)},b.gb18030=function(e){return new M(e)},m.Big5=function(e){return new x(e)},b.Big5=function(e){return new P(e)},m["EUC-JP"]=function(e){return new D(e)},b["EUC-JP"]=function(e){return new L(e)},m["ISO-2022-JP"]=function(e){return new G(e)},b["ISO-2022-JP"]=function(e){return new N(e)},m.Shift_JIS=function(e){return new B(e)},b.Shift_JIS=function(e){return new F(e)},m["EUC-KR"]=function(e){return new U(e)},b["EUC-KR"]=function(e){return new j(e)},m["UTF-16BE"]=function(e){return new K(!0,e)},b["UTF-16BE"]=function(e){return new H(!0,e)},m["UTF-16LE"]=function(e){return new K(!1,e)},b["UTF-16LE"]=function(e){return new H(!1,e)},m["x-user-defined"]=function(e){return new Y(e)},b["x-user-defined"]=function(e){return new W(e)},t.TextEncoder||(t.TextEncoder=C),t.TextDecoder||(t.TextDecoder=E),e.exports&&(e.exports={TextEncoder:t.TextEncoder,TextDecoder:t.TextDecoder,EncodingIndexes:t["encoding-indexes"]})}(this||{})},21858:function(e){e.exports="precision mediump float;\r\n\r\nuniform sampler2D uSampler;\r\nvarying vec2 positionData;\r\n\r\nuniform float oriWidth;\r\nuniform float oriHeight;\r\n\r\nuniform float tarWidth;\r\nuniform float tarHeight;\r\n\r\nfloat interpolationCalculate(float x) {\r\n    float A = -1.0;\r\n    float absX = x >= 0.0 ? x : -x;\r\n    float x2 = x * x;\r\n    float x3 = absX * x2;\r\n\r\n    if (absX <= 1.0) {\r\n        return 1.0 - (A + 3.0) * x2 + (A + 2.0) * x3;\r\n    } else if (absX <= 2.0) {\r\n        return -4.0 * A + 8.0 * A * absX - 5.0 * A * x2 + A * x3;\r\n    }\r\n\r\n    return 0.0;\r\n}\r\n\r\nvec4 bic(float dstCol, float dstRow) {\r\n    float scaleW = tarWidth / oriWidth;\r\n    float scaleH = tarHeight / oriHeight;\r\n\r\n    float srcCol = dstCol / scaleW;\r\n    if (oriWidth - 1.0 < srcCol) {\r\n        srcCol = oriWidth - 1.0;\r\n    } \r\n    float srcRow = dstRow / scaleH; \r\n    if (oriHeight - 1.0 < srcRow) {\r\n        srcRow = oriHeight - 1.0;\r\n    }\r\n    float intCol = floor(srcCol);\r\n    float intRow = floor(srcRow);\r\n\r\n    // 计算u和v\r\n    float u = srcCol - intCol;\r\n    float v = srcRow - intRow;\r\n\r\n    vec4 result = vec4(0.0,0.0,0.0,0.0);\r\n\r\n\r\n    for (float n = -1.0; n <= 2.0; n += 1.0) {\r\n        for (float m = -1.0; m <= 2.0; m += 1.0) {\r\n            vec4 pointColor = texture2D(uSampler, vec2((intCol + m) / oriWidth, (intRow + n) / oriHeight));\r\n            float f1 = interpolationCalculate(m - v);\r\n            float f2 = interpolationCalculate(n - u);\r\n            float weight = f1 * f2;\r\n\r\n            result[0] += pointColor[0] * weight;\r\n            result[1] += pointColor[1] * weight;\r\n            result[2] += pointColor[2] * weight;\r\n            result[3] += pointColor[3] * weight;\r\n        }\r\n    }\r\n\r\n    return result;\r\n    // return texture2D(uSampler, vec2(intCol / oriWidth, intRow / oriHeight));\r\n}\r\n\r\nvec4 laplus(float dstCol, float dstRow) {\r\n    vec4 result = vec4(0,0,0,0);\r\n\r\n    vec4 pointCenter = texture2D(uSampler, vec2(dstCol / tarWidth, dstRow / tarHeight));\r\n    vec4 pointTop = texture2D(uSampler, vec2(dstCol / tarWidth, (dstRow + 1.0) / tarHeight));\r\n    vec4 pointBottom = texture2D(uSampler, vec2(dstCol / tarWidth, (dstRow - 1.0) / tarHeight));\r\n    vec4 pointLeft = texture2D(uSampler, vec2((dstCol - 1.0) / tarWidth, dstRow / tarHeight));\r\n    vec4 pointRight = texture2D(uSampler, vec2((dstCol + 1.0) / tarWidth, dstRow / tarHeight));\r\n\r\n    // vec4 pointTopLeft = texture2D(uSampler, vec2((dstCol -  1.0) / tarWidth, (dstRow + 1.0) / tarHeight));\r\n    // vec4 pointTopRight = texture2D(uSampler, vec2((dstCol +  1.0) / tarWidth, (dstRow + 1.0) / tarHeight));\r\n    // vec4 pointBottomLeft = texture2D(uSampler, vec2((dstCol -  1.0) / tarWidth, (dstRow - 1.0) / tarHeight));\r\n    // vec4 pointBottomRight = texture2D(uSampler, vec2((dstCol +  1.0) / tarWidth, (dstRow - 1.0) / tarHeight));\r\n\r\n    result[0] += pointCenter[0] * 5.0;\r\n    result[1] += pointCenter[1] * 5.0;\r\n    result[2] += pointCenter[2] * 5.0;\r\n    result[3] += pointCenter[3] * 5.0;\r\n\r\n    result[0] -= pointTop[0];\r\n    result[1] -= pointTop[1];\r\n    result[2] -= pointTop[2];\r\n    result[3] -= pointTop[3];\r\n\r\n    result[0] -= pointBottom[0];\r\n    result[1] -= pointBottom[1];\r\n    result[2] -= pointBottom[2];\r\n    result[3] -= pointBottom[3];\r\n\r\n    result[0] -= pointLeft[0];\r\n    result[1] -= pointLeft[1];\r\n    result[2] -= pointLeft[2];\r\n    result[3] -= pointLeft[3];\r\n\r\n    result[0] -= pointRight[0];\r\n    result[1] -= pointRight[1];\r\n    result[2] -= pointRight[2];\r\n    result[3] -= pointRight[3];\r\n\r\n    // result[0] -= pointTopLeft[0];\r\n    // result[1] -= pointTopLeft[1];\r\n    // result[2] -= pointTopLeft[2];\r\n    // result[3] -= pointTopLeft[3];\r\n\r\n    // result[0] -= pointTopRight[0];\r\n    // result[1] -= pointTopRight[1];\r\n    // result[2] -= pointTopRight[2];\r\n    // result[3] -= pointTopRight[3];\r\n\r\n    // result[0] -= pointBottomLeft[0];\r\n    // result[1] -= pointBottomLeft[1];\r\n    // result[2] -= pointBottomLeft[2];\r\n    // result[3] -= pointBottomLeft[3];\r\n\r\n    // result[0] -= pointBottomRight[0];\r\n    // result[1] -= pointBottomRight[1];\r\n    // result[2] -= pointBottomRight[2];\r\n    // result[3] -= pointBottomRight[3];\r\n\r\n    return result;\r\n}\r\n\r\nvec4 doubleLaplus() {\r\n    vec4 result = vec4(0,0,0,0);\r\n\r\n    vec4 pointCenter = laplus(positionData[0], positionData[1]);\r\n    vec4 pointTop = laplus(positionData[0], positionData[1] + 1.0);\r\n    vec4 pointBottom = laplus(positionData[0], positionData[1] - 1.0);\r\n    vec4 pointLeft = laplus(positionData[0] - 1.0, positionData[1]);\r\n    vec4 pointRight = laplus(positionData[0] + 1.0, positionData[1]);\r\n\r\n    // vec4 pointCenter = bic(positionData[0], positionData[1]);\r\n    // vec4 pointTop = bic(positionData[0], positionData[1] + 1.0);\r\n    // vec4 pointBottom = bic(positionData[0], positionData[1] - 1.0);\r\n    // vec4 pointLeft = bic(positionData[0] - 1.0, positionData[1]);\r\n    // vec4 pointRight = bic(positionData[0] + 1.0, positionData[1]);\r\n\r\n    result[0] += pointCenter[0] * 5.0;\r\n    result[1] += pointCenter[1] * 5.0;\r\n    result[2] += pointCenter[2] * 5.0;\r\n    result[3] += pointCenter[3] * 5.0;\r\n\r\n    result[0] -= pointTop[0];\r\n    result[1] -= pointTop[1];\r\n    result[2] -= pointTop[2];\r\n    result[3] -= pointTop[3];\r\n\r\n    result[0] -= pointBottom[0];\r\n    result[1] -= pointBottom[1];\r\n    result[2] -= pointBottom[2];\r\n    result[3] -= pointBottom[3];\r\n\r\n    result[0] -= pointLeft[0];\r\n    result[1] -= pointLeft[1];\r\n    result[2] -= pointLeft[2];\r\n    result[3] -= pointLeft[3];\r\n\r\n    result[0] -= pointRight[0];\r\n    result[1] -= pointRight[1];\r\n    result[2] -= pointRight[2];\r\n    result[3] -= pointRight[3];\r\n\r\n    return result;\r\n}\r\n\r\nvoid main(){\r\n    // float dstCol = positionData[0];\r\n    // float dstRow = positionData[1];\r\n    // gl_FragColor = texture2D(uSampler, vec2(dstCol / tarWidth, dstRow / tarHeight));\r\n    gl_FragColor = laplus(positionData[0], positionData[1]);\r\n    // gl_FragColor = doubleLaplus();\r\n    // gl_FragColor = bic(positionData[0], positionData[1]);\r\n}"},81586:function(e){e.exports="precision mediump float;\r\n\r\nattribute vec4 a_position;\r\nvarying vec2 positionData;\r\n\r\nuniform float oriWidth;\r\nuniform float oriHeight;\r\n\r\nuniform float tarWidth;\r\nuniform float tarHeight;\r\n\r\nvoid main(){\r\n    float x = mod(a_position[0], tarWidth);\r\n    float y = floor(a_position[0]/tarWidth);\r\n\r\n    gl_PointSize = 1.0;\r\n\r\n    positionData = vec2(x, y);\r\n    gl_Position = vec4((x * 2.0) / tarWidth - 1.0, (y * 2.0) / tarHeight - 1.0, 0, 1);\r\n}\r\n"},6859:function(e){"use strict";e.exports=JSON.parse('{"name":"@vrviu/avc-connection","version":"2.0.3","main":"lib/index.js","module":"module/src/index.js","types":"typing/src/index.d.ts","scripts":{"watch":"tsc -w","tsc":"tsc --build","build-lib":"yarn tsc && yarn make-lib","make-lib":"cross-env BUILD_ENV=production LIB=avc-connection OUT_NAME=AVCConnection webpack --config ../../build/webpack.lib.js","test-lib":"karma start","make-avc":"cross-env BUILD_ENV=production LIB=avc-connection OUT_NAME=AVCConnection webpack --config ../../build/webpack.lib.js","test-avc":"karma start"},"dependencies":{"@vrviu/message":"*","@vrviu/tools":"*","@vrviu/video-player":"*","@vrviu/quality-report":"*","@vrviu/water-reporter":"*","@vrviu/webrtc-connection":"*"}}')},60306:function(e){"use strict";e.exports=JSON.parse('{"name":"@vrviu/lightplay","version":"3.45.1","main":"lib/index.js","module":"module/index.js","types":"typing/index.d.ts","scripts":{"watch":"tsc -w","tsc":"tsc --build","build-lib":"yarn tsc && yarn make-lib","make-lib":"cross-env BUILD_ENV=production LIB=lightplay OUT_NAME=LightPlay EXPORT_TOP=true webpack --config ../../build/webpack.lib.js","test-lib":"karma start","release-lightplay":"node ./build/release-lightplay-lib.js","build-lightplay":"yarn build-lib && yarn release-lightplay"},"dependencies":{"@vrviu/alloc-resource":"*","@vrviu/audio-play":"*","@vrviu/audio-record":"*","@vrviu/avc-connection":"*","@vrviu/control":"*","@vrviu/file-transfer":"*","@vrviu/gamepad-driver":"*","@vrviu/logger":"*","@vrviu/lp-message-sdk":"*","@vrviu/message":"*","@vrviu/network-detection":"*","@vrviu/pb-connection":"*","@vrviu/quality-report":"*","@vrviu/sdk-ui":"*","@vrviu/tools":"*","@vrviu/video-player":"*","@vrviu/water-reporter":"*","@vrviu/webrtc-connection":"*","@vrviu/websocket-connection":"*","@vrviu/speed-test":"*","text-encoding-polyfill":"^0.6.7"}}')},72242:function(e){"use strict";e.exports=JSON.parse('{"nested":{"vrviuControl":{"nested":{"MsgType":{"values":{"MSG_UNKNOW":0,"MSG_ACK":16842752,"MSG_INVALIDATE_REF_FRAMES":50397184,"MSG_KEYBOARD_STATUS":50593809,"MSG_KEYBOARD_IME_TYPE":50593831,"MSG_LOSS_STATS":33619968,"MSG_START_A":50659328,"MSG_START_B":50790400,"MSG_FRAME_STATS":33816576,"MSG_PING_DATA":100728832,"MSG_LOGIN":117440512,"MSG_KEYBOARD":33947658,"MSG_SCROLL":33947659,"MSG_MOUSE_MOVE":33947656,"MSG_MOUSE_BUTTON":33947653,"MSG_MULTI_CONTROLLER":33947678,"MSG_TOUCH":33947683,"MSG_VIBRATION":33947679,"MSG_ANDROID_KEY":33947684,"MSG_CLIPBOARD_DATA":33947698,"MSG_ANDROID_SENSOR":33947685,"MSG_INPUT_STRING":33947688,"MSG_ADJUST_BITRATE_LEVEL":67174464,"MSG_ADJUST_FPS":67174465,"MSG_ADJUST_RESOLUTION":67174466,"MSG_ADJUST_CODEC":67174467,"MSG_ADJUST_CURSOR":67174468,"MSG_ADJUST_ENCODER_PARAMETERS":67174469,"MSG_ADJUST_AUDIO_VOLUME":67174470,"MSG_ADJUST_VIDEO_BRIGHT":67174471,"MSG_STREAM_STATUS_PAUSE":83951696,"MSG_STREAM_STATUS_RESUME":83951697,"MSG_QUERY_MOUSE_POSITION":100794376,"MSG_REPLY_MOUSE_POSITION":101842952,"MSG_SET_MOUSE_SPEED":100794377,"MSG_QUERY_IM_STATUS":100794378,"MSG_REPLY_IM_STATUS":101842954,"MSG_QUERY_KEYBOARD_STATUS":100794379,"MSG_REPLY_KEYBOARD_STATUS":101842955,"MSG_QUERY_VM_STATUS":100794380,"MSG_REPLY_VM_STATUS":101842956,"MSG_READY_RENDER":134283297,"MSG_END_STREAM":134283298,"MSG_READY_RENDER2":134283299,"MSG_IM_POPUP":134283296,"MSG_IM_HIDE":134283300,"MSG_ICON_CHANGE":134283301,"MSG_ACTIVITY_ROTATION":134283302,"MSG_GAME_WINDOW_READY":134283303,"MSG_REPLY_SETTING_STATUS":134283304,"MSG_SCENE_MODE":134283306,"MSG_BANDWIDTH_VIDEO_LEVEL":134283307,"MSG_NETWORK_CHANGE":134283308,"MSG_VIDEO_BITRATE_CHANGE":134283309,"MSG_XRTC_CODEC_TYPE":134283310,"MSG_CLIPBOARD_DATA_NOTIFY":134283314,"MSG_INPUT_AUDIO_DATA":34078721,"MSG_SET_ULTRA_LOW_DELAY":67240000,"MSG_DATA_TRANSMISSION":34144305}},"ControlMessage":{"fields":{"version":{"type":"uint32","id":1},"sequence":{"type":"uint32","id":3},"msgType":{"type":"MsgType","id":2},"payload":{"type":"bytes","id":4},"eventInx":{"type":"uint32","id":5},"eventTS":{"type":"uint64","id":6}}},"PacketAck":{"fields":{"sequence":{"type":"uint32","id":1},"eventTS":{"type":"uint64","id":2}}},"PacketLogin":{"fields":{"sessionId":{"type":"string","id":1}}},"KeyActionType":{"values":{"KEY_UNKNOW":0,"DOWN":3,"UP":4}},"PacketKeyboard":{"fields":{"keyAction":{"type":"KeyActionType","id":1},"keyCode":{"type":"int32","id":2},"modifiers":{"type":"int32","id":3}}},"PacketScroll":{"fields":{"scrollAmt":{"type":"int32","id":1}}},"MouseMoveType":{"values":{"UNKNOW_MOVE":0,"RELATIVE_MOVE":6,"ABSOLUTION_MOVE":9}},"PacketMouseMove":{"fields":{"magic":{"type":"MouseMoveType","id":1},"x":{"type":"int32","id":2},"y":{"type":"int32","id":3}}},"MouseActionType":{"values":{"MOUSE_ACTION_UNKNOW":0,"MOUSE_PRESS":8,"MOUSE_RELEASE":9}},"MouseButtonType":{"values":{"MOUSE_TYPE_UNKNOW":0,"LEFT":1,"MIDDLE":2,"RIGHT":3,"X1":4,"X2":5}},"PacketMouseButton":{"fields":{"action":{"type":"MouseActionType","id":1},"button":{"type":"MouseButtonType","id":2}}},"PacketMultiController":{"fields":{"controllerNumber":{"type":"int32","id":1},"activeGamePadMask":{"type":"int32","id":2},"buttonFlag":{"type":"int32","id":3},"leftTrigger":{"type":"int32","id":4},"rightTrigger":{"type":"int32","id":5},"leftStickX":{"type":"int32","id":6},"leftStickY":{"type":"int32","id":7},"rightStickX":{"type":"int32","id":8},"rightStickY":{"type":"int32","id":9}}},"TouchActionType":{"values":{"TOUCH_ACTION_UNKNOW":0,"TOUCH_PRESS":8,"TOUCH_RELEASE":9,"TOUCH_MOVE":10}},"PacketTouch":{"fields":{"buttonIndex":{"type":"int32","id":1},"Action":{"type":"TouchActionType","id":2},"Absolute":{"type":"bool","id":3},"x":{"type":"int32","id":4},"y":{"type":"int32","id":5}}},"PacketVibration":{"fields":{"activeGamepadMask":{"type":"int32","id":1},"leftMotorSpeed":{"type":"int32","id":2},"rightMotorSpeed":{"type":"int32","id":3}}},"PacketAndroidKey":{"fields":{"sendKey":{"type":"int32","id":1}}},"SensorType":{"values":{"SENSOR_TYPE_UNKNOW":0,"SENSOR_TYPE_ACCELEROMETER":1,"SENSOR_TYPE_MAGNETIC_FIELD":2,"SENSOR_TYPE_GYROSCOPE":3,"SENSOR_TYPE_GPS":4,"SENSOR_TYPE_BDS":5}},"PacketAndroidSensor":{"fields":{"type":{"type":"SensorType","id":1},"x":{"type":"int32","id":2},"y":{"type":"int32","id":3},"z":{"type":"int32","id":4},"samplePeriod":{"type":"int32","id":5}}},"PacketAdjustBitrateLevel":{"fields":{"videoLevel":{"type":"int32","id":1}}},"PacketAdjustFps":{"fields":{"fps":{"type":"int32","id":1}}},"PacketAdjustResolution":{"fields":{"width":{"type":"int32","id":1},"height":{"type":"int32","id":2}}},"ProfileType":{"values":{"UNCHANGE":0,"HEVC_Main10":130,"HEVC_Main":129,"AVC_H444":16,"AVC_HP":128,"AVC_CHP":4,"AVC_MP":2,"AVC_BP":1}},"PacketAdjustCodec":{"fields":{"profile":{"type":"ProfileType","id":1}}},"PacketAdjustCursor":{"fields":{"cursor":{"type":"int32","id":1}}},"PacketAdjustEncoderParameters":{"fields":{"videoLevel":{"type":"int32","id":1},"fps":{"type":"int32","id":2},"width":{"type":"int32","id":3},"height":{"type":"int32","id":4},"profile":{"type":"ProfileType","id":5},"cursor":{"type":"int32","id":6}}},"PacketAdjustAudioVolume":{"fields":{"volume":{"type":"int32","id":1}}},"PacketAdjustVideoBright":{"fields":{"brightness":{"type":"int32","id":1}}},"PacketPingData":{"fields":{"timestamp":{"type":"uint64","id":1}}},"PacketReplyMousePosition":{"fields":{"x":{"type":"int32","id":1},"y":{"type":"int32","id":2}}},"PacketSetMouseSpeed":{"fields":{"mouseSpeed":{"type":"int32","id":1}}},"ImStatusType":{"values":{"INVALID_IM":0,"ENG":1,"ZHN":2}},"PacketReplyImStatus":{"fields":{"status":{"type":"ImStatusType","id":1}}},"CursorType":{"values":{"CURSOR_APPSTARTING":0,"CURSOR_ARROW":1,"CURSOR_CROSS":2,"CURSOR_HAND":3,"CURSOR_HELP":4,"CURSOR_IBEAM":5,"CURSOR_ICON":6,"CURSOR_NO":7,"CURSOR_SIZE":8,"CURSOR_SIZEALL":9,"CURSOR_SIZENESW":10,"CURSOR_SIZENS":11,"CURSOR_SIZENWSE":12,"CURSOR_SIZEWE":13,"CURSOR_UPARROW":14,"CURSOR_WAIT":15,"CURSOR_CUSTOM":16,"CURSOR_DEFAULT":17}},"PacketIconChange":{"fields":{"hideIcon":{"type":"bool","id":1},"iconType":{"type":"CursorType","id":2},"iconDataHash":{"type":"uint64","id":3},"hotX":{"type":"int32","id":4},"hotY":{"type":"int32","id":5},"iconDataPayload":{"type":"bytes","id":6}}},"PacketActivityRotation":{"fields":{"rotation":{"type":"int32","id":1}}},"SettingType":{"values":{"SETTING_VIDEO_LEVEL":0,"SETTING_FRAMERATE":1,"SETTING_RESOLUTION":2,"SETTING_CODEC":3,"SETTING_CAPTURE_CURSOR":4,"SETTING_ENCODER_PARAMETERS":5,"SETTING_CLIPBOARD":6,"SETTING_MOUSE_SPEED":7}},"PacketReplySettingStatus":{"fields":{"settingType":{"type":"SettingType","id":1},"settingStatus":{"type":"int32","id":2}}},"PacketSceneMode":{"fields":{"SceneMode":{"type":"int32","id":1}}},"PacketBandwidthVideoLevel":{"fields":{"videoLevel":{"type":"int32","id":1},"bandwidthKps":{"type":"int32","id":2}}},"PacketNetworkChange":{"fields":{"change":{"type":"int32","id":1},"packetLost":{"type":"int32","id":2},"rtt":{"type":"int32","id":3},"qp":{"type":"int32","id":4},"bweKbps":{"type":"int32","id":5}}},"PacketInputString":{"fields":{"mode":{"type":"int32","id":1},"msg":{"type":"string","id":2}}},"PacketVideoBitrateChange":{"fields":{"targetKbps":{"type":"int32","id":1},"previousKbps":{"type":"int32","id":2},"currentKbps":{"type":"int32","id":3}}},"PacketKeyboardStatus":{"fields":{"capsLock":{"type":"int32","id":1},"numLock":{"type":"int32","id":2}}},"PacketKeyboardImeType":{"fields":{"keyBoardType":{"type":"int32","id":1},"imeType":{"type":"int32","id":2}}},"PacketInputAudioData":{"fields":{"timeStamp":{"type":"uint64","id":1},"soundFormat":{"type":"int32","id":2},"soundRate":{"type":"int32","id":3},"soundSize":{"type":"int32","id":4},"soundType":{"type":"int32","id":5},"audioData":{"type":"bytes","id":6}}},"PacketSetUltraLowDelay":{"fields":{"ultraLowDelay":{"type":"bool","id":1}}},"VCodecType":{"values":{"INVALID_VCODEC":0,"H264":1,"H265":2}},"ACodecType":{"values":{"INVALID_ACODEC":0,"Opus":1,"AAC":2}},"PacketXRtcCodecType":{"fields":{"codec":{"type":"VCodecType","id":1}}},"PacketQueryVmStatus":{"fields":{"mask":{"type":"uint32","id":1}}},"PacketRelyVmStatus":{"fields":{"imStatus":{"type":"ImStatusType","id":1},"capsLock":{"type":"int32","id":2},"numLock":{"type":"int32","id":3},"acodec":{"type":"ACodecType","id":4},"volume":{"type":"int32","id":5},"sceneMode":{"type":"int32","id":6},"vcodec":{"type":"VCodecType","id":7},"vqLevel":{"type":"int32","id":8},"kbitrate":{"type":"int32","id":9},"fps":{"type":"int32","id":10},"width":{"type":"int32","id":11},"height":{"type":"int32","id":12},"cursor":{"type":"int32","id":13},"orientation":{"type":"int32","id":14},"mouseSpeed":{"type":"int32","id":15}}}}}}}')},99459:function(e){"use strict";e.exports=JSON.parse('{"nested":{"com":{"nested":{"pb":{"nested":{"ProtocolVersion":{"values":{"Initial":0,"Current":29}},"CmdType":{"values":{"UNDEFINE":0,"ReqLogin":1,"RspLogin":2,"ReqLogout":3,"RspLogout":4,"ReqHeartbeat":5,"RspHeartbeat":6,"ReqLaunchGame":7,"RspLaunchGame":8,"ReqExitGame":9,"RspExitGame":10,"ReqGameList":11,"RspGameList":12,"ReqGameDetail":13,"RspGameDetail":14,"NtfSystem":15,"CfmSystem":16,"NtfGameStatus":17,"CfmGameStatus":18,"ReqMyGameList":19,"RspMyGameList":20,"ReqLaunchRank":21,"RspLaunchRank":22,"ReqRegister":23,"RspRegister":24,"ReqPlayingInfo":25,"RspPlayingInfo":26,"ReqUserToken":27,"RspUserToken":28,"NtfGameCharge":29,"CfmGameCharge":30,"ReqRelaunchGame":31,"RspRelaunchGame":32,"ReqAllocVPad":33,"RspAllocVPad":34,"ReqFreeVPad":35,"RspFreeVPad":36,"CNtfStreamStatus":37,"CCfmStreamStatus":38,"NtfGameEvent":39,"CfmGameEvent":40,"NtfPadEvent":41,"CfmPadEvent":42,"ReqRecycleVPad":43,"RspRecycleVPad":44,"ReqIDevSummary":45,"RspIDevSummary":46,"CReqStreamState":47,"CRspStreamState":48,"ReqChargeInfo":49,"RspChargeInfo":50,"ReqSessionOption":51,"RspSessionOption":52,"ReqSetSessionOption":53,"RspSetSessionOption":54,"ReqSetHostMethod":55,"RspSetHostMethod":56,"ReqSetDecodeInfo":57,"RspSetDecodeInfo":58,"NtfCodecEvent":59,"CfmCodecEvent":60}},"GameStatus":{"values":{"GameStatusAllocInitial":0,"GameStatusAllocSuccess":1,"GameStatusAllocQueuing":2,"GameStatusAllocFailure":3,"GameStatusStartSuccess":4,"GameStatusStartProcing":5,"GameStatusStartFailure":6,"GameStatusCloseSuccess":7,"GameStatusUserUnActive":9,"GameStatusAllocPrepare":11,"GameStatusIdleClosed":12,"GameStatusHoldClosed":13,"GameStatusReadyRender":17}},"SystemEvent":{"values":{"SystemEventUndefine":0,"SystemEventKickOff":1,"SystemEventSnatched":2,"SystemInvalidToken":3,"SystemForwardOpaque":4,"SystemEventTerminated":5,"SystemEventJumpKick":6,"SystemEventReenter":7}},"GameEvent":{"values":{"GameEventUndefine":0,"GameEventStartAssist":1,"GameEventStopAssist":2,"GameEventKickAssist":3,"GameEventTermAssist":4,"GameEventAssistFailure":5,"GameEventJoinPvP":6,"GameEventLeavePvP":7,"GameEventKickPvP":8,"GameEventTermPvP":9,"GameEventJoinPvPFailure":10,"GameEventSwitchScreenSuccess":11,"GameEventSwitchScreenFailure":12,"GameEventJoinWatch":13,"GameEventLeaveWatch":14,"GameEventKickWatch":15,"GameEventTermWatch":16,"GameEventJoinWatchFailure":17,"GameEventJoinMeeting":18,"GameEventLeaveMeeting":19,"GameEventKickMeeting":20,"GameEventTermMeeting":21,"GameEventJoinMeetingFailure":22}},"PadEvent":{"values":{"PadEventUndefine":0,"PadEventRemotePadJoin":1,"PadEventRemotePadExit":2,"PadEventRemotePadDisabled":3,"PadEventSharePadJoin":4,"PadEventSharePadExit":5,"PadEventSharePadDisabled":6}},"CodecEvent":{"values":{"CodecEventUndefine":0,"CodecEventUpdateSucc":1,"CodecEventUpdateFailed":2}},"GameController":{"values":{"Undefine":0,"Mouse":1,"Keyboard":2,"Gamepad":3}},"ResourceType":{"values":{"GFE":0,"LSR":1,"ANY":2}},"DecodeType":{"values":{"H264":0,"H265":1}},"PCDecoderType":{"values":{"H264_Soft":0,"H264_Hard":1,"H265_Hard":2}},"RTCRenderType":{"values":{"Render_RTC":0,"Render_VRVIU":1}},"StreamType":{"values":{"Default":0,"Webrtc":1,"Commonc":2,"WebSocket":3}},"MouseMode":{"values":{"AutoMode":0,"RelativeMode":1,"AbsoluteMode":2}},"StreamStatus":{"values":{"StreamStatusFailure":0,"StreamStatusSuccess":1}},"VPadUsage":{"values":{"UseLocal":0,"UseRemote":1,"AuthRemote":2}},"CGMessage":{"fields":{"version":{"type":"fixed32","id":2},"cmdtype":{"type":"fixed32","id":1},"payload":{"type":"bytes","id":3}}},"CommonHeader":{"fields":{"timestamp":{"type":"uint64","id":1},"token":{"type":"string","id":2},"requestId":{"type":"string","id":3}}},"CommonResult":{"fields":{"errcode":{"type":"int32","id":1},"message":{"type":"string","id":2},"gerrcode":{"type":"int32","id":3}}},"CGReqLogin":{"fields":{"header":{"type":"CommonHeader","id":1},"username":{"type":"string","id":2}}},"CGRspLogin":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"userId":{"type":"uint64","id":3}}},"CGReqLogout":{"fields":{"header":{"type":"CommonHeader","id":1}}},"CGRspLogout":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGReqHeartbeat":{"fields":{"header":{"type":"CommonHeader","id":1}}},"CGRspHeartbeat":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"period":{"type":"int32","id":3}}},"ExtraParam":{"fields":{"bizId":{"type":"uint32","id":1},"bizVersion":{"type":"uint32","id":2},"bizParam":{"type":"string","id":3}}},"SessionOption":{"fields":{"heartbeatTimeout":{"type":"uint32","id":1},"inactiveAlert":{"type":"uint32","id":2},"inactiveTimeout":{"type":"uint32","id":3}}},"CGReqLaunchGame":{"fields":{"header":{"type":"CommonHeader","id":1},"gameId":{"type":"uint64","id":2},"resourceType":{"type":"ResourceType","id":3},"vmid":{"type":"uint64","id":4},"opaque":{"type":"string","id":5},"appToken":{"type":"string","id":6},"deviceInfo":{"type":"string","id":7},"streamInfo":{"type":"string","id":8},"extraInfo":{"rule":"repeated","type":"ExtraParam","id":9},"vpadId":{"type":"uint64","id":10},"dpadId":{"type":"uint64","id":11},"sessionOption":{"type":"SessionOption","id":12},"debugMode":{"type":"bool","id":13}}},"CGRspLaunchGame":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"runningGameId":{"type":"uint64","id":3},"gameStatus":{"type":"GameStatus","id":4},"gameResource":{"type":"GameResource","id":5},"flowId":{"type":"string","id":6}}},"CGReqExitGame":{"fields":{"header":{"type":"CommonHeader","id":1},"gameId":{"type":"uint64","id":2}}},"CGRspExitGame":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"PadInfo":{"fields":{"vpadId":{"type":"uint64","id":1},"dpadId":{"type":"uint64","id":2},"vpadCert":{"type":"string","id":3}}},"ResourceAddress":{"fields":{"resourceIpv4Address":{"type":"string","id":1},"resourceIpv4Portseg":{"type":"uint32","id":2},"resourceIpv6Address":{"type":"string","id":3},"resourceDomain":{"type":"string","id":4}}},"GameResource":{"fields":{"resourceIpv4Address":{"type":"string","id":1},"resourceIpv4Portseg":{"type":"uint32","id":2},"resourceType":{"type":"ResourceType","id":3},"vmid":{"type":"uint64","id":4},"controlInfoUrl":{"type":"string","id":5},"chargeId":{"type":"string","id":6},"resourceIpv6Address":{"type":"string","id":7},"resourceIpv6Portseg":{"type":"uint32","id":8},"resourceDomain":{"type":"string","id":9},"aSessionId":{"type":"string","id":10},"vSessionId":{"type":"string","id":11},"cSessionId":{"type":"string","id":12},"vpadInfo":{"rule":"repeated","type":"PadInfo","id":13},"vpadTotal":{"type":"uint64","id":14},"mouseMode":{"type":"MouseMode","id":15},"flowSessionId":{"type":"string","id":16},"controlStreamProxy":{"type":"string","id":17},"spareResourceAddress":{"rule":"repeated","type":"ResourceAddress","id":18}}},"GameInfo":{"fields":{"gameId":{"type":"uint64","id":1},"gameName":{"type":"string","id":2},"cover":{"type":"string","id":3},"tags":{"rule":"repeated","type":"string","id":4},"gameStatus":{"type":"uint32","id":5},"rawInfo":{"type":"string","id":6}}},"CGReqGameList":{"fields":{"header":{"type":"CommonHeader","id":1},"offset":{"type":"uint32","id":2},"limit":{"type":"uint32","id":3}}},"CGRspGameList":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"total":{"type":"int32","id":3},"count":{"type":"int32","id":4},"gameList":{"rule":"repeated","type":"GameInfo","id":5}}},"CGReqMyGameList":{"fields":{"header":{"type":"CommonHeader","id":1},"offset":{"type":"uint32","id":2},"limit":{"type":"uint32","id":3}}},"CGRspMyGameList":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"total":{"type":"int32","id":3},"count":{"type":"int32","id":4},"gameList":{"rule":"repeated","type":"GameInfo","id":5}}},"CGReqGameDetail":{"fields":{"header":{"type":"CommonHeader","id":1},"gameId":{"type":"uint64","id":2}}},"CGRspGameDetail":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"gameDetail":{"type":"GameDetail","id":3},"gameStatus":{"type":"uint32","id":4}},"nested":{"GameDetail":{"fields":{"gameId":{"type":"uint64","id":1},"gameName":{"type":"string","id":2},"developer":{"type":"string","id":3},"publisher":{"type":"string","id":4},"releaseDate":{"type":"string","id":5},"issueDate":{"type":"string","id":6},"description":{"type":"string","id":7},"cover":{"type":"string","id":8},"categories":{"rule":"repeated","type":"string","id":9},"tags":{"rule":"repeated","type":"string","id":10},"controllers":{"rule":"repeated","type":"GameController","id":11}}}}},"CGNtfSystem":{"fields":{"header":{"type":"CommonHeader","id":1},"type":{"type":"SystemEvent","id":2},"message":{"type":"string","id":3}}},"CGCfmSystem":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"DecodeInfo":{"fields":{"decodeType":{"type":"DecodeType","id":1},"decodeFps":{"type":"uint32","id":2},"streamType":{"type":"StreamType","id":3},"pcDecoderType":{"type":"PCDecoderType","id":4},"rtcRenderType":{"type":"RTCRenderType","id":5}}},"InputDevInfo":{"fields":{"gamepadState":{"type":"uint32","id":1},"mouseState":{"type":"uint32","id":2},"keyboardState":{"type":"uint32","id":3}}},"QueueInfo":{"fields":{"queueRank":{"type":"uint32","id":1},"queueTotal":{"type":"uint32","id":2},"queueEwtime":{"type":"uint32","id":3},"queueFetchHost":{"type":"string","id":4},"queueFetchPort":{"type":"uint32","id":5}}},"CGNtfGameStatus":{"fields":{"header":{"type":"CommonHeader","id":1},"gameId":{"type":"uint64","id":2},"gameStatus":{"type":"GameStatus","id":3},"queueRank":{"type":"uint32","id":4,"options":{"deprecated":true}},"queueTotal":{"type":"uint32","id":5,"options":{"deprecated":true}},"gameResource":{"type":"GameResource","id":6},"remainIdleDuration":{"type":"uint32","id":7},"remainHoldDuration":{"type":"uint32","id":8},"decodeInfo":{"type":"DecodeInfo","id":9},"inputDevInfo":{"type":"InputDevInfo","id":10},"queueEwtime":{"type":"uint32","id":11,"options":{"deprecated":true}},"queueInfo":{"type":"QueueInfo","id":12},"failureReason":{"type":"CommonResult","id":13},"gameInfo":{"type":"GameInfo","id":14}}},"CGCfmGameStatus":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGReqLaunchRank":{"fields":{"header":{"type":"CommonHeader","id":1},"gameId":{"type":"uint64","id":2}}},"CGRspLaunchRank":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"period":{"type":"int32","id":3},"rank":{"type":"int32","id":4},"total":{"type":"int32","id":5},"ewtime":{"type":"int32","id":6}}},"CGReqRegister":{"fields":{"header":{"type":"CommonHeader","id":1},"woid":{"type":"string","id":2},"sign":{"type":"string","id":3},"phone":{"type":"string","id":4},"requestTime":{"type":"string","id":5}}},"CGRspRegister":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"userinfo":{"type":"Userinfo","id":3}},"nested":{"Userinfo":{"fields":{"woid":{"type":"string","id":1},"vrid":{"type":"string","id":2}}}}},"CGReqPlayingInfo":{"fields":{"header":{"type":"CommonHeader","id":1}}},"CGRspPlayingInfo":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"playInfoList":{"rule":"repeated","type":"PlayInfo","id":3}},"nested":{"PlayInfo":{"fields":{"gameId":{"type":"uint64","id":1},"gameStatus":{"type":"int32","id":2}}}}},"CGReqUserToken":{"fields":{"header":{"type":"CommonHeader","id":1},"userId":{"type":"uint64","id":2},"expired":{"type":"uint64","id":3}}},"CGRspUserToken":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"userId":{"type":"uint64","id":3},"tokenInfo":{"type":"TokenInfo","id":4}},"nested":{"TokenInfo":{"fields":{"token":{"type":"string","id":2},"expireTime":{"type":"string","id":3}}}}},"ChargeEvent":{"values":{"LeftNotEnough":0,"UsedTooMuch":1}},"CGNtfGameCharge":{"fields":{"header":{"type":"CommonHeader","id":1},"uid":{"type":"uint64","id":2},"gid":{"type":"uint64","id":3},"leftDuration":{"type":"int64","id":4},"effectTimestamp":{"type":"int64","id":5},"chargeEvent":{"type":"ChargeEvent","id":6},"usedDuration":{"type":"int64","id":7}}},"CGCfmGameCharge":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGReqRelaunchGame":{"fields":{"header":{"type":"CommonHeader","id":1},"gameId":{"type":"uint64","id":2},"gameResource":{"type":"GameResource","id":3}}},"CGRspRelaunchGame":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGReqAllocVPad":{"fields":{"header":{"type":"CommonHeader","id":1},"vpadId":{"type":"uint64","id":2},"vpadCert":{"type":"string","id":3},"dpadId":{"type":"uint64","id":4},"vpadUsage":{"type":"VPadUsage","id":5}}},"CGRspAllocVPad":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"vpadId":{"type":"uint64","id":3},"dpadId":{"type":"uint64","id":4},"gameResource":{"type":"GameResource","id":5}}},"CGReqFreeVPad":{"fields":{"header":{"type":"CommonHeader","id":1},"vpadId":{"type":"uint64","id":2},"dpadId":{"type":"uint64","id":3}}},"CGRspFreeVPad":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"vpadId":{"type":"uint64","id":3},"dpadId":{"type":"uint64","id":4}}},"CGReqRecycleVPad":{"fields":{"header":{"type":"CommonHeader","id":1},"vpadId":{"type":"uint64","id":2},"player":{"type":"uint64","id":3}}},"CGRspRecycleVPad":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGCNtfStreamStatus":{"fields":{"header":{"type":"CommonHeader","id":1},"status":{"type":"StreamStatus","id":2}}},"CGCCfmStreamStatus":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGNtfGameEvent":{"fields":{"header":{"type":"CommonHeader","id":1},"event":{"type":"GameEvent","id":2},"assistant":{"type":"uint64","id":3},"player":{"rule":"repeated","type":"uint64","id":4}}},"CGCfmGameEvent":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGNtfPadEvent":{"fields":{"header":{"type":"CommonHeader","id":1},"event":{"type":"PadEvent","id":2},"vpadId":{"type":"uint64","id":3},"player":{"type":"uint64","id":4}}},"CGCfmPadEvent":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGNtfCodecEvent":{"fields":{"header":{"type":"CommonHeader","id":1},"event":{"type":"CodecEvent","id":2},"decodeInfo":{"type":"DecodeInfo","id":3}}},"CGCfmCodecEvent":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2}}},"CGReqIDevSummary":{"fields":{"header":{"type":"CommonHeader","id":1}}},"UserInputDevInfo":{"fields":{"player":{"type":"uint64","id":1},"idevInfo":{"type":"InputDevInfo","id":2},"vpadId":{"rule":"repeated","type":"uint64","id":3}}},"CGRspIDevSummary":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"userIdevInfo":{"rule":"repeated","type":"UserInputDevInfo","id":3}}},"CGCReqStreamState":{"fields":{"header":{"type":"CommonHeader","id":1}}},"CGCRspStreamState":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"streamstate":{"type":"string","id":3}}},"CGReqChargeInfo":{"fields":{"header":{"type":"CommonHeader","id":1}}},"CGRspChargeInfo":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"chargeId":{"type":"string","id":3},"leftDuration":{"type":"int64","id":4},"effectTimestamp":{"type":"uint64","id":5}}},"CGReqSessionOption":{"fields":{"header":{"type":"CommonHeader","id":1},"flowId":{"type":"string","id":2}}},"CGRspSessionOption":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"sessionOption":{"type":"SessionOption","id":3}}},"CGReqSetSessionOption":{"fields":{"header":{"type":"CommonHeader","id":1},"sessionOption":{"type":"SessionOption","id":2}}},"CGRspSetSessionOption":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"sessionOption":{"type":"SessionOption","id":3}}},"CGReqSetHostMethod":{"fields":{"header":{"type":"CommonHeader","id":1},"hostMethod":{"type":"int32","id":2}}},"CGRspSetHostMethod":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"hostMethod":{"type":"int32","id":3},"decodeExchange":{"type":"int32","id":4},"decodeInfo":{"type":"DecodeInfo","id":5}}},"CGReqSetDecodeInfo":{"fields":{"header":{"type":"CommonHeader","id":1},"decodeInfo":{"type":"DecodeInfo","id":2}}},"CGRspSetDecodeInfo":{"fields":{"header":{"type":"CommonHeader","id":1},"result":{"type":"CommonResult","id":2},"decodeExchange":{"type":"int32","id":3},"decodeInfo":{"type":"DecodeInfo","id":4}}}}}}}}}')},15836:function(e){"use strict";e.exports=JSON.parse('{"name":"@vrviu/webrtc-connection","version":"2.0.3","main":"lib/index.js","module":"module/src/index.js","types":"typing/src/index.d.ts","scripts":{"watch":"tsc -w","tsc":"tsc --build","build-lib":"yarn tsc && yarn make-lib","make-lib":"cross-env BUILD_ENV=production LIB=webrtc-connection OUT_NAME=WebrtcConnection webpack --config ../../build/webpack.lib.js","test-lib":"karma start","make-rtc":"cross-env BUILD_ENV=production LIB=webrtc-connection OUT_NAME=WebrtcConnection webpack --config ../../build/webpack.lib.js","test-rtc":"karma start"},"dependencies":{"@vrviu/message":"*","@vrviu/tools":"*","@vrviu/water-reporter":"*"}}')},50633:function(){},58658:function(){}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.u=function(e){return{209:"alloc-resource.worker",397:"default-logger.worker"}[e]+".js"},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e}(),__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__=__webpack_require__(18125);return __webpack_exports__=__webpack_exports__.LightPlay,__webpack_exports__}()}));